function makeCustomTooltip(e,t){hideCustomTooltip(e);var e=e?e:window.event,i=document.getElementById("customTooltipTemplate").cloneNode(!0);return t?i.style.display="block":i.style.display="none",i.setAttribute("id",customTooltip.TOOLTIP_ID),i.innerHTML=t,i.onmouseover=function(e){hideCustomTooltip(e)},i}function addCustomTooltip(e){document.body.appendChild(e),fitObjectIntoScreen(e,e.style.left,e.style.top,e.clientWidth,e.clientWidth)}function showCustomTooltip(e,t,i,n,a,r){var s=makeCustomTooltip(e,t);return i&&(s.style.maxWidth=i),a&&(s.style.backgroundColor=a),n&&(s.style.color=n),s.style.left=e.clientX+getScrollLeft(),s.style.top=e.clientY+getScrollTop()+5+(r?r:0),addCustomTooltip(s),s}function showCustomTooltipBelowObject(e,t,i,n,a){if(a.parentNode){var r=makeCustomTooltip(e,t);i&&(r.style.maxWidth=i),n&&(r.className=n);var s=getBoxOffsets(a),o=s[1]+a.clientHeight+5;return r.style.left=s[0],r.style.top=o,addCustomTooltip(r),r}}function updateCustomTooltip(e){var t=document.getElementById(customTooltip.TOOLTIP_ID);if(t){var i=t.getElementsByTagName("TD")[0];i.innerHTML=e,t.style.display="block",fitObjectIntoScreen(t,t.style.left,t.style.top,i.offsetWidth,i.offsetHeight)}}function hideCustomTooltip(e){var e=e?e:window.event,t=e.explicitOriginalTarget?getParentDiv(e.explicitOriginalTarget):null;if(!t||t.getAttribute("id")!=customTooltip.TOOLTIP_ID){var i=document.getElementById(customTooltip.TOOLTIP_ID);i&&(i.parentNode&&i.parentNode.removeChild(i),i=null)}}function DragListener(){this.agents=[],this.currentAgentName=null,this.dragger}function Dragger(e,t,i,n,a,r,s){e=e?e:event,this.originalX=[],this.originalY=[],this.draggingObjs=t,this.dragsX=i,this.dragsY=n,this.sigMove=a,this.dragListener=r,this.cleanUpUtil=s,this.dragListener&&(this.dragListener.dragger=this);for(var o=0;o<t.length;o++)this.originalX[o]=parseInt(t[o].style.left),this.originalY[o]=parseInt(t[o].style.top);this.mouseX=e.clientX,this.mouseY=e.clientY,this.isDragging=!1,this.initDragger(e)}function SelectedFormula(){this.reset()}function SelectionCategory(){this.area="",this.reset=function(){this.area=""}}function showMessageDialog(e,t){alert(e+"\n"+t)}function getSessionExpireTime(){return function(){var e,t=new Date,i=t.getHours()%12;0===i&&(i=12);var n=t.getMinutes()+(MILL_PER_MIN>delayBeforeSessionTimeoutWarning?1:MIN_WARN_BEFORE_TIMEOUT);return e=10>n||n>59?"0"+n%60:n," "+i+":"+e}()}function rom_init(){rom_orgMode=null!==organizationId&&""!==organizationId,rom_showRoot=!rom_orgMode}JRS.Log=function(e){window.console||(window.console={log:function(){},debug:function(){},error:function(){}})}(),define("controls.logging",["namespace"],function(e){return function(){var t;return t||e.JRS}}(this)),JRS.Controls=function(e,t,i,n){var a=navigator.userAgent.toLowerCase().indexOf("msie")>-1;return{Base:t.extend(function(){},{extend:function(e,i){var n,a=this;n=e&&t.has(e,"constructor")?e.constructor:function(){return a.apply(this,arguments)},t.extend(n,a,i);var r=function(){this.constructor=n};return r.prototype=a.prototype,n.prototype=new r,e&&t.extend(n.prototype,e),n.__super__=a.prototype,n}}),TemplateEngine:{render:function(e,n,a){if(!a)return i.to_html(e,n);if(a==this.STD_PLACEHOLDERS){var r=String(e);return t.each(n,function(e,t){var i=new RegExp("\\{"+t+"\\}");r=r.replace(i,e)}),r}},renderUrl:function(e,t,n){var r=i.to_html(e,t);return a&&!n&&(r=encodeURI(r)),r},getTemplateText:function(t){var i=e("#"+t);return i.html()},createTemplate:function(t){var n=e("#"+t),a=n.html();return a&&a.length>0?function(e){return i.to_html(a,e)}:void 0},createTemplateSection:function(e,t){var n="\\{\\{#val\\}\\}(\\s|\\S)*\\{\\{/val\\}\\}",a=n.replace(/val/g,e),r=new RegExp(a,"g"),s=this.getTemplateText(t),o=s.match(r)[0];return function(e){return i.to_html(o,e)}},STD_PLACEHOLDERS:"std_placeholder"},Utils:{LOADING_DIALOG_DELAY:800,INPUT_CONTROLS_COMPONENT_ID:"input-controls",isElementInDom:function(e){var t=e.nextSibling,i=e.parentNode&&11!==e.parentNode.nodeType;return t||i},setInnerHtml:function(e,i,n){var r,s,o;if(this.isElementInDom(e)&&(r=e.nextSibling,s=e.parentNode,o=e.style.display,e.style.display="none",s.removeChild(e)),e.innerHTML="",a&&"SELECT"==e.tagName){var l=document.createDocumentFragment();t.each(n.data,function(e){var i=document.createElement("OPTION");i.value=t.isUndefined(e.value)?e.id:e.value,i.innerHTML=e.label,e.selected&&i.setAttribute("selected","selected"),l.appendChild(i)}),e.appendChild(l)}else e.innerHTML=i(n);if(r?s.insertBefore(e,r):s.appendChild(e),e.style.display=o,a&&"SELECT"==e.tagName){var d=e.getAttribute("style");e.removeAttribute("style"),e.setAttribute("style",d)}},wait:function(t){return e.Deferred(function(e){setTimeout(e.resolve,t)})},showLoadingDialogOn:function(i,a,r){this.wait(a?a:this.LOADING_DIALOG_DELAY).then(t.bind(function(){"pending"==i.state()&&(n.popup.showShared($(ajax.LOADING_ID),r,{focus:!1,owner:this.INPUT_CONTROLS_COMPONENT_ID}),e.when(i).always(t.bind(function(){var e=this.INPUT_CONTROLS_COMPONENT_ID;this.wait(500).then(function(){window.viewer&&window.viewer.loading?window.viewer.loaded&&n.popup.hideShared($(ajax.LOADING_ID),e):n.popup.hideShared($(ajax.LOADING_ID),e)})},this)))},this))},createTimer:function(t){var i=new e.Deferred;return i.done(function(e){var i=(new Date).getTime(),n=i-e;console.log(t+" took time: "+n+" msec.")}),{start:function(){return this.startTime=(new Date).getTime(),this},stop:function(){return i.resolve(this.startTime),this}}}},listen:function(i,n){t.each(i,function(i,n){e(document).bind(n,t.bind(i,this))},n?n:this)},ignore:function(t,i){e(document).unbind(t,i)}}}(jQuery,_,Mustache,dialogs),define("controls.core",["jquery","underscore","mustache","components.dialogs","namespace","controls.logging"],function(e){return function(){var t;return t||e.JRS.Controls}}(this)),JRS.Controls=function(e,t,i){function n(e){if(t.isArray(e)){var i=t.filter(e,function(e){return e.selected});return t.map(i,function(e){return e.id||""===e.id?e:e.value})}return e}return t.extend(i,{BaseControl:i.Base.extend({id:null,elem:null,error:null,templateChunks:{},constructor:function(e){this.initialize.apply(this,arguments)},getElem:function(){return this.elem},setElem:function(e){this.elem=e},bindCustomEventListeners:function(){},isSingleSelect:function(){return!t.isArray(this.get("selection"))},isSingleValue:function(){return!t.isArray(this.get("values"))},getTemplateSection:function(e){return this.templateChunks[this.type+"_"+e]||(this.templateChunks[this.type+"_"+e]=i.TemplateEngine.createTemplateSection(e,this.type)),this.templateChunks[this.type+"_"+e]},initialize:function(e){this.baseRender(e),this.isVisible(e)&&this.bindCustomEventListeners()},fireControlSelectionChangeEvent:function(t){e(document).trigger(i.CHANGE_CONTROL,this,t)},baseRender:function(n){n&&t.extend(this,n);var a=i.TemplateEngine.createTemplate(this.type);if(a){var r=e(a(this));this.setElem(r)}},update:function(e){},get:function(e){return this[e]},isValid:function(){return null===this.error||this.error&&this.error instanceof String&&0===this.error.length},isVisible:function(e){return!e||void 0===e.visible||e.visible===!0},updateWarningMessage:function(){var e=null!=this.error?this.error:"";this.getElem()&&this.getElem().find(".warning").text(e)},refresh:function(){var e=this.get("values"),t=this.get("selection");e=this.isSingleValue()?t:i.BaseControl.merge(e,t),this.values=e,this.initialize(this),this.isVisible(this)&&this.update(e)},set:function(e,i){if(t.extend(this,e),void 0!==e.values&&(this.isVisible(this)&&this.update(e.values),this.isSingleValue()?this.selection=e.values:this.isSingleSelect()?this.selection=n(e.values)[0]:this.selection=n(e.values)),void 0!==e.selection&&(this.isSingleValue()&&(this.values=e.selection),!i&&this.fireControlSelectionChangeEvent()),void 0!==e.disabled&&!this.get("readOnly")){var a=e.disabled;i||(a?this.disable():this.enable())}void 0!==e.error&&this.updateWarningMessage()},find:function(e){if(void 0!==e&&e&&"object"==typeof e){var i=t.keys(e)[0],n=t.values(e)[0];return t.find(this.get("values"),function(e){return e[i]===n})}},enable:function(){this.getElem().find("input").prop("disabled",!1),this.getElem().find("select").prop("disabled",!1)},disable:function(){this.getElem().find("input").prop("disabled",!0),this.getElem().find("select").prop("disabled",!0)}},{merge:function(e,i){return t.isNull(e)||t.isUndefined(e)?i:t.isNull(i)||t.isUndefined(i)?e:t.isArray(i)?t.map(e,function(e){var n=t.find(i,function(t){return t===e.value});return void 0!==n?e.selected=!0:delete e.selected,e}):this.merge(e,[i])}}),CHANGE_CONTROL:"changed:control"})}(jQuery,_,JRS.Controls),define("controls.basecontrol",["jquery","underscore","controls.core"],function(e){return function(){var t;return t||e.JRS.Controls}}(this));var ControlsBase={INPUT_CONTROLS_FORM:"inputControlsForm",INPUT_CONTROLS_CONTAINER:"inputControlsContainer",INPUT_CONTROLS_DIALOG:"inputControls",SAVE_REPORT_OPTIONS_DIALOG:"saveValues",REPORT_OPTIONS_SELECTOR:"savedValues",TOOLBAR_CONTROLS_BUTTON:"ICDialog",DEFAULT_OPTION_TEXT:"Options",NULL_SUBSTITUTION_VALUE:null,NULL_SUBSTITUTION_LABEL:null,NOTHING_SUBSTITUTION_VALUE:null,_BUTTON_OK:"ok",_BUTTON_SAVE:"save",_BUTTON_REMOVE:"remove",_BUTTON_APPLY:"apply",_BUTTON_CANCEL:"cancel",TEMP_REPORT_CONTAINER:"tempReportContainer",WRAPPER_ERROR_FLAG_PREFIX_SELECTOR:"div[id^=error_]",WRAPPERS_ERRORS_DIV:"wrappersErrors",EVAL_SCRIPT_ELEMENT_NAME:"_evalScript",CALENDAR_ICON_SPAN:'<span class="button picker calTriggerWrapper" />',_messages:{},getMessage:function(e,t){var i=this._messages[e];return i?new Template(i).evaluate(t?t:{}):""},setControlError:function(e,t){e&&(e=$(e),t?(e.up().addClassName(layoutModule.ERROR_CLASS),e.nextSiblings()[0].update(t)):(e.up().removeClassName(layoutModule.ERROR_CLASS),e.nextSiblings()[0].update("")))},setControlsErrors:function(e){var t=$$(ControlsBase.WRAPPER_ERROR_FLAG_PREFIX_SELECTOR),i=0,n=-1;t.each(function(t){var a=!1;e&&e.each(function(e){if(t.id.indexOf(e[0])>-1)throw ControlsBase.setControlError(t,e[1]),0>n&&(jQuery("#inputControlsForm .leaf").each(function(e,t){i>e&&(n+=t.clientHeight)}),jQuery(".groupBox .content .body")[0].scrollTop=n),a=!0,$break;i++}),a||ControlsBase.setControlError(t,"")})},buildParams:function(e){var t="";if(_.isObject(e)&&!_.isEmpty(e)){var i=function(e){return e.length>0&&"&"!=e[e.length-1]&&(e+="&"),e};_.each(e,function(e,n){t=i(t),_.isArray(e)?_.each(e,function(e){t=i(t),t+=n+"="+encodeURIComponent(e)}):t+=n+"="+encodeURIComponent(e)})}return t},buildSelectedDataUri:function(e,t){var i=ControlsBase.buildParams(e);if(_.isObject(t)&&!_.isEmpty(t)){var n=ControlsBase.buildParams(t);return i+"&"+n}return i}},ControlDialog=function(e){var t=this;this._dom=$(ControlsBase.INPUT_CONTROLS_DIALOG),this.buttonActions=e,jQuery("#"+ControlsBase.INPUT_CONTROLS_DIALOG).on("mouseup touchend","button",function(e){if(this.id&&!this.id.empty()&&!this.disabled){var i=t.buttonActions["button#"+this.id];i&&i()}})};ControlDialog.addMethod("_dialogClickHandler",function(e){var t=e.element();for(var i in this.buttonActions)if(matchAny(t,[i],!0))return this.buttonActions[i](),void e.stop()}),ControlDialog.addMethod("show",function(){dialogs.popup.show(this._dom)}),ControlDialog.addMethod("hide",function(){dialogs.popup.hide(this._dom)});var OptionsDialog=function(e){this._dom=$(ControlsBase.SAVE_REPORT_OPTIONS_DIALOG),this.input=this._dom.select("input#savedValuesName")[0],this.overwrite=!1,this.buttonActions=e,this._dialogClickHandler=this._dialogClickHandler.bindAsEventListener(this),this._dom.observe("click",this._dialogClickHandler)};OptionsDialog.addMethod("remove",function(){this._dom.stopObserving("click",this._dialogClickHandler)}),OptionsDialog.addMethod("_dialogClickHandler",function(e){var t=e.element();for(var i in this.buttonActions)if(matchAny(t,[i],!0))return this.buttonActions[i](),void e.stop()}),OptionsDialog.addMethod("show",function(){this.input.setValue(ControlsBase.DEFAULT_OPTION_TEXT),dialogs.popup.show(this._dom)}),OptionsDialog.addMethod("hide",function(){dialogs.popup.hide(this._dom),this.hideWarning()}),OptionsDialog.addMethod("showWarning",function(e){var t=jQuery("#"+ControlsBase.SAVE_REPORT_OPTIONS_DIALOG).find(".warning");e&&t.text(e),t.show()}),OptionsDialog.addMethod("hideWarning",function(){var e=jQuery("#"+ControlsBase.SAVE_REPORT_OPTIONS_DIALOG).find(".warning");e.text(""),e.hide()}),define("controls.base",["jquery","underscore","utils.common"],function(e){return function(){var t;return t||e.ControlsBase}}(this)),function(e){e.Report={_messages:{},_scroll:null,pageActions:{},viewReportForm:null,pageIndex:0,lastPageIndex:0,pageTimestamp:null,checkPageUpdatedTimeoutId:null,emptyReport:!0,reportForceControls:!1,hasInputControls:!1,reportControlsLayout:null,refreshReportCanceled:!1,reportParameterValues:null,allRequestParameters:null,requestedInputParameters:{},parametersWithoutDefaultValues:null,isLoaded:!1,EXPORT_ACTION_FORM:"exportActionForm",TOOLBAR_SUBMENU:"toolbarText",PAGINATION_CONTAINER:"pagination",PAGINATION_PAGE_FIRST:"page_first",PAGINATION_PAGE_PREV:"page_prev",PAGINATION_PAGE_CURRENT:"page_current",PAGINATION_PAGE_NEXT:"page_next",PAGINATION_PAGE_LAST:"page_last",PAGINATION_PAGE_TOTAL:"page_total",DATA_TIMESTAMP_SPAN:"dataTimestampMessage",DATA_REFRESH_BUTTON:"dataRefreshButton",ASYNC_CANCEL_BUTTON:"asyncCancel",REPORT_COMPONENT_ID:"report",getMessage:function(e,t){var i=this._messages[e];return i?new Template(i).evaluate(t?t:{}):""},commonInit:function(e){var t=jQuery("#"+ajax.LOADING_ID);t.length>0&&(t.addClass(layoutModule.CANCELLABLE_CLASS),t.find("#cancel").click(function(){Report.cancelReportExecution()})),document.location.href.indexOf("frame=0")>0&&(jQuery("#reportViewFrame > .content > .header").hide(),jQuery("#reportViewFrame").css("margin",0),jQuery("#innerPagination").css("margin","none"),jQuery("#reportViewFrame > .content > .body").css({top:0,"margin-top":0}))},navigateToReportPage:function(e,t,i){viewer.jive&&viewer.jive.hide(),viewer.reportInstance.gotoPage(e)},goToPage:function(e){parseInt(e,10)&&parseInt(e,10)>0&&(null==Report.lastPageIndex||parseInt(e,10)<=Report.lastPageIndex+1)?Report.navigateToReportPage(parseInt(e,10)-1):doNothing()},reportExecutionKey:function(){return Report.flowExecutionKeyOutput?Report.flowExecutionKeyOutput:window.dashboardViewFrame?dashboardViewFrame.flowExecutionKey:Report.flowExecutionKey},refreshReport:function(e,t,i){var n=/(\?|&)output=([^&]*)/.exec(location.href),a=n&&3===n.length?n[2]:"";dialogs.popup.showShared($(ajax.LOADING_ID),!0,{owner:this.REPORT_COMPONENT_ID}),e=e||{},e._flowExecutionKey=e._flowExecutionKey?e._flowExecutionKey:Report.reportExecutionKey(),e._eventId=e._eventId?e._eventId:"refreshReport",e.decorate="no",e.confirm="true",e.decorator="empty",e.ajax||(e.ajax="true");var r="flow.html?"+Object.toQueryString(e);return Report.requestedInputParameters=i?i:this.getParametersFromRequest(),e.freshData&&(Report.requestedInputParameters+="&freshData=true"),""===a||"html"===a?Report.isLoaded?(viewer.reportInstance.eventManager.triggerEvent("beforeAction",{name:"beforeAction",type:"reportRefresh"}),viewer.reportInstance.refreshPage(0)):viewer.loadReport().always(function(){Report.isLoaded=!0}):"pdf"===a||"swf"===a?Report.exportReport(a,r):void(window.location.href=r+"&"+Report.requestedInputParameters)},cancelReportExecution:function(){document.body.style.cursor="default",dialogs.popup.hideShared($(ajax.LOADING_ID),this.REPORT_COMPONENT_ID),viewer.reportInstance?viewer.reportInstance.cancelExecution().then(function(){Report.isLoaded||Report.goBack()},function(){}):Report.goBack()},getParametersFromRequest:function(){return ControlsBase.buildParams(Report.getAllRequestParameters())},getAllRequestParameters:function(){return _.isObject(Report.allRequestParameters)?Report.allRequestParameters:{}},canSaveReport:function(){return!Report.isReportReadOnly},confirmExit:function(){return!0},confirmAndLeave:function(){return Report.confirmExit()?Report.closeViewerOnExit:!1},closeViewerOnExit:function(e){viewer.exit().then(function(){e()})},showAjaxDialog:function(){dialogs.popup.showShared($(ajax.LOADING_ID),!0,{owner:this.REPORT_COMPONENT_ID})},hideAjaxDialog:function(){dialogs.popup.hideShared($(ajax.LOADING_ID),this.REPORT_COMPONENT_ID)}}}(window),define("report.view.base",["jquery","underscore","controls.basecontrol","controls.base","core.ajax"],function(e){return function(){var t;return t||e.Report}}(this));var domain={PROPAGATE_EVENT:"propagateEvent",_messages:{},disabledFolderTooltip:"disabledFolderTooltip",attributesPattern:new RegExp("\\s*attribute\\s*\\(\\s*'[^\\/'\\s][^\\/']*'(?:\\s*,\\s*'[^\\/'\\s][^\\/']*')*\\s*\\)\\s*"),getMessage:function(e,t){var i=this._messages[e];return i?new Template(i).evaluate(t?t:{}):""},setMessage:function(e,t){this._messages[e]=t},treeErrorHandler:function(){throw"exception while loading tree"},submitForm:function(e,t,i){if(t){var n=buildActionUrl(t);i&&i(),$(e).writeAttribute("method","post").writeAttribute("action",n),$(e).submit()}},sendAjaxRequest:function(e,t,i,n){var a=buildActionUrl(e),r={postData:Object.toQueryString(t),callback:i,errorHandler:this._serverErrorHandler,mode:AjaxRequester.prototype.EVAL_JSON};n&&Object.extend(r,n),ajaxTargettedUpdate(a,r)},_serverErrorHandler:function(e,t){return baseErrorHandler(e)},elementClicked:function(e,t){return e&&t?matchAny(e,[t],!0):!1},basicClickHandler:function(e,t,i){var n=null;return t.any(function(t){return n=domain.elementClicked(e,t.key),n?(Object.isFunction(t.value)?t.value(n):Object.isFunction(i)&&i(t.value),!0):void 0})},registerClickHandlers:function(e,t,i){if(domain._bodyClickEventHandlers)return void(i?Array.prototype.unshift:Array.prototype.push).apply(domain._bodyClickEventHandlers,e);domain._bodyClickEventHandlers=e;var n=t?t:"body";$$(n)[0].observe(isSupportsTouch()?"touchstart":"click",function(e){var t=e.element();domain._bodyClickEventHandlers&&domain._bodyClickEventHandlers.each(function(i){var n=i(t);if(n)throw n!==domain.PROPAGATE_EVENT&&Event.stop(e),$break})})},enableButton:function(e,t){"string"==typeof e&&(e=$(e)),e.disabled=t,t?buttonManager.enable(e):buttonManager.disable(e)},setOptionsToSelect:function(e,t){return e&&(e.update(""),t)?(t.each(function(t){var i={value:t.value,title:t.label};t.selected&&(i.selected="selected");var n=new Element("option",i);n.appendChild(document.createTextNode(t.label)),e.appendChild(n)}),e):void 0},getDataIslandId:function(e,t){var i=dynamicTree.trees[e.getTreeId()].getRootNode(),n=function a(e,t){return null===e.parent||e.parent===i?e.param.extra[t]:a(e.parent,t)};return n(e,t)},areNodesFromSameIsland:function(e,t){var i=e.any(function(e){return e.param.extra.isConstant});if(i)return!0;var n=1===e.pluck("parent").uniq().length;return n?!0:1===e.map(function(e){return domain.getDataIslandId(e,t||"itemId")}).uniq().length},NumberFormat:function(e,t){var i="."===e,n=new RegExp("["+e.gsub(/\s/,"\\s")+"]+"),a=new RegExp("["+t.gsub(/\s/,"\\s")+"]+"),r=new RegExp("^-|\\"+t+"?\\d+|\\"+t+"$|\\"+e+"+","g");return{toNumber:function(e){return!e||!i&&/[.]/.test(e)?NaN:Number(e.gsub(a,"").gsub(n,"."))||domain.attributesPattern.test(e)},normalizeNumberEntry:function(i){var n=i.strip(),a=n.match(domain.attributesPattern)||n.match(r);if(!a)return"";for(var s=!1,o=0;o<a.length;o++)a[o].startsWith(e)?s?delete a[o]:(a[o]=e,s=!0):a[o].startsWith(t)&&s&&(a[o]=a[o].substring(1));var l=a.join("");return l},isInteger:function(e){return n.test(e)}}},baseValidator:function(e,t){var i=!0,n="";return e()&&(n=t,i=!1),{isValid:i,errorMessage:n}},maxLengthValidator:function(e,t,i){return domain.baseValidator(function(e,t){return e.length>t}.curry(e,t),i)},minLengthValidator:function(e,t,i){return domain.baseValidator(function(e,t){return e.length<t}.curry(e,t),i)},valueNotEmptyValidator:function(e,t){return domain.baseValidator(function(e){return Object.isArray(e)&&0===e.length||!e||!String(e).strip()}.curry(e),t)},stringIdValidator:function(e,t){return domain.baseValidator(function(e){return!/^[^0-9() .,'"=!+-\/><\/\/:][^() .,'"=!+-\/><\/\/:]*$/.test(e)}.curry(e),t)},numberValidator:function(e,t,i){return domain.baseValidator(isNaN.curry(t.toNumber(e)),i)},numberBoundsValidator:function(e,t,i){return domain.baseValidator(function(e,t){return e===1/0||e===-(1/0)?!0:!(e<=t.max&&e>=t.min)}.curry(e,t),i)},rangeValidator:function(e,t,i){return domain.baseValidator(function(e,t){return!(t>e)}.curry(e,t),i)},dateValidator:function(e,t,i){return domain.baseValidator(function(e,t){return 0===getDateFromFormat(t,e)&&!domain.attributesPattern.test(t)}.curry(t,e),i)},unescapeTree:function e(t){t.hasChilds()&&_.each(t.childs,function(t){e(t)}),t.name=xssUtil.unescape(t.name)}};domain.NodeCopyMoveController=function(){},domain.NodeCopyMoveController.addMethod("copy",function(e,t,i){if(e&&e.length>0&&t){var n=dynamicTree.trees[t.getTreeId()],a=e.collect(function(e){var a=e.param.id,r=this._copyParentStructure(e,n);return r?this._mergeToDestTree(r,t,a,i):null}.bind(this));return t.isloaded=!0,a.without(null)}}),domain.NodeCopyMoveController.addMethod("copySelected",function(e,t){return sourceTree&&t?this.copy(sourceTree.selectedNodes,t):void 0}),domain.NodeCopyMoveController.addMethod("move",function(e,t){if(e&&t){var i=this.copy(e,t);return this.hide(e),i}}),domain.NodeCopyMoveController.addMethod("moveSelected",function(e,t){return e&&t?this.move(e.selectedNodes,t):void 0}),domain.NodeCopyMoveController.addMethod("hide",function(e,t,i){if(e&&e.length>0){t||(t=this._getVisibleChildrenCount),i||(i=function(e,t){e.hide(t)});var n=dynamicTree.trees[e[0].getTreeId()];e.collect(function(e){return e.id}).each(function(e){var a=dynamicTree.nodes[e];i(a,!0);for(var r=a.parent;r&&r!=n.getRootNode()&&!(t(r)>0);)i(r,!1),r.refreshStyle(),r=r.parent}.bind(this))}}),domain.NodeCopyMoveController.addMethod("_handleDuplicatedNode",function(e,t){return e.param.id}),domain.NodeCopyMoveController.addMethod("_markAsLoaded",function(e){e.isloaded=!0,e.isParent()&&e.childs.each(function(e){this._markAsLoaded(e)}.bind(this))}),domain.NodeCopyMoveController.addMethod("_mergeToDestTree",function(e,t,i,n){if(t){var a=dynamicTree.trees[t.getTreeId()];if(n)return i=this._handleDuplicatedNode(e,t),a.findNodeById(i,e);var r=a.findNodeChildByMetaName(t,e.param.id);return null!=r?(r.isHidden()&&r.show(),e.hasChilds()&&(r.disabled&&r.enable(e.tooltip),e.childs.each(function(e){this._mergeToDestTree(e,r)}.bind(this))),a.findNodeById(i,r)):(t.addChild(e),this._markAsLoaded(e),a.findNodeById(i,e))}}),domain.NodeCopyMoveController.addMethod("_copyParentStructure",function(e,t){if(e&&t){var i=dynamicTree.trees[e.getTreeId()];if(e.disabled)return null;for(var n=this._copyNode(e,t,!0),a=e.parent,r=null;a&&a!=i.getRootNode();)r=this._copyNode(a,t,!1),r.addChild(n),n=r,a=a.parent;return n}}),domain.NodeCopyMoveController.addMethod("_buildMetanode",function(e){return deepClone(e.param)}),domain.NodeCopyMoveController.addMethod("_copyNode",function(e,t,i){if(e&&t){var n=t.processNode(this._buildMetanode(e));i&&(e.hasChilds()?e.childs.each(function(e){if(!e.disabled){var e=this._copyNode(e,t,i);e&&n.addChild(e)}}.bind(this)):n.setHasChilds(!1));var a=e.childs.findAll(function(e){return e.disabled});return e.childs.length>0&&a.length==e.childs.length?null:n}}),domain.NodeCopyMoveController.addMethod("_delete",function(e){e&&e.collect(function(e){return e.id}).each(function(e){var t=dynamicTree.nodes[e];t&&t.parent.removeChild(t)})}),domain.NodeCopyMoveController.addMethod("_getVisibleChildrenCount",function(e){var t=e.childs.findAll(function(e){return e.isHidden()});return e.childs.length-t.length}),domain.resetTreeSelectionHandler={_COMMON_ELEMENTS_TO_SAVE_SELECTION:["#pageDimmer","#detail","#standardConfirm"],_getTrees:null,_elementIds:null,_callback:null,_validator:null,init:function(e,t,i,n){domain.resetTreeSelectionHandler._init.bind(domain.resetTreeSelectionHandler,e,t,i,n)()},_init:function(e,t,i,n){this._getTrees=t,this._callback=i,this._validator=n,this._elementIds=this._COMMON_ELEMENTS_TO_SAVE_SELECTION.concat(e),domain.registerClickHandlers([this._removeTreeSelectionClickEventHandler.bind(this)],null,!0)},_removeTreeSelectionClickEventHandler:function(e){if(!matchAny(e,this._elementIds,!0)){var t=!1;return this._getTrees().each(function(e){if(e.selectedNodes&&e.selectedNodes.first())throw t=!0,$break}),t?this._validator&&!this._validator()?!0:(this._getTrees().each(function(e){e._deselectAllNodes()}),this._callback&&this._callback(),!1):!1}}},domain.NodeChangeOrderController=function(){},domain.NodeChangeOrderController.addMethod("findNodeWithSpecificOrder",function(e,t,i){for(var n=e.length-1;n>=0;n--)if(e[n].isSelected()==i&&e[n].orderNumber===t)return e[n];return null}),domain.NodeChangeOrderController.addMethod("findMaxSiblingNode",function(e,t,i){var n=null,a=null;return e.each(function(e){e.isSelected()==t&&(null===n||i==e.orderNumber<n)&&(n=e.orderNumber,a=e)}),a}),domain.NodeChangeOrderController.addMethod("moveNode",function(e,t,i,n){var a=e.orderNumber,r=e.parent.childs,s=null,o=null;i?(s=this.findMaxSiblingNode(r,!1,t,e.param.type),o=s?s.orderNumber:-1,r.each(function(i){i.param.id!==e.param.id&&(t==i.orderNumber>o&&t==i.orderNumber<a||i.orderNumber==o)&&(i.orderNumber=t?i.orderNumber+1:i.orderNumber-1,n&&n(i,i.orderNumber))}),n&&n(e,o),e.orderNumber=o):(o=t?e.orderNumber-1:e.orderNumber+1,s=this.findNodeWithSpecificOrder(r,o,!1),s&&(n&&n(e,o),n&&n(s,a),e.orderNumber=o,s.orderNumber=a))}),domain.NodeChangeOrderController.addMethod("nodeAscSorter",function(e,t){return e.orderNumber-t.orderNumber}),domain.NodeChangeOrderController.addMethod("nodeDescSorter",function(e,t){return t.orderNumber-e.orderNumber}),domain.DisplayNodeChangeOrderController=function(){domain.NodeChangeOrderController.call()},domain.DisplayNodeChangeOrderController.prototype=deepClone(domain.NodeChangeOrderController.prototype),domain.DisplayNodeChangeOrderController.addMethod("findMaxSiblingNode",function(e,t,i,n){var a=null,r=null;return e.each(function(e){e.isSelected()==t&&(null!==a&&i!=e.orderNumber<a||(n?e.param.type!==n:0)||(a=e.orderNumber,r=e))}),r}),define("domain.base",["jquery","underscore","backbone","utils.common"],function(e){return function(){var t;return t||e.domain}}(this));var REPORT_TYPE_PARAM="reportType",REPORT_TYPE_URL_PARAM_PATTERN=new RegExp("[\\?&]"+REPORT_TYPE_PARAM+"=([^&#]*)");domain.chooser={FLOW_ID:"adhocFlow",FIELDS:"dataChooserFields",DISPLAY:"dataChooserDisplay",SAVE_AS_TOPIC:"dataChooserSaveAsTopic",PRE_FILTERS:"dataChooserPreFilters",submitFormId:"stepDisplayForm",currentPage:null,flowExecutionKey:null,unsavedChangesPresent:!1,initialize:function(e){var t=REPORT_TYPE_URL_PARAM_PATTERN.exec(location.search);if(this.reportType=null==t?"":decodeURIComponent(t[1].replace(/\+/g," ")),localContext.rsInitOptions){var i=localContext.rsInitOptions;this.currentPage=$(document.body).identify(),this.flowExecutionKey=i.flowExecutionKey,this.unsavedChangesPresent=i.unsavedChangesPresent;var n=this.pageInitFactory[this.currentPage]();i=_.extend({},i,e),this.initModule(n,i),domain.registerClickHandlers([this.getFlowControlsClickEventHandler()])}},initModule:function(e,t){e&&(e.fillForm&&(dc.fillForm=e.fillForm.bind(e)),e.getFlowControlsClickEventHandler&&(dc.getFlowControlsClickEventHandler=e.getFlowControlsClickEventHandler.bind(e)),e.init.bind(e)(t))},fillForm:function(){},getFlowControlsClickEventHandler:function(){return dc.flowControlsClickEventHandler.bind(dc)},flowControlsClickEventHandler:function(e){var t=!1;return this.flowControlsEventMap.each(function(i){if(domain.elementClicked(e,i.key)){if(t=!0,i.value.returnOnPage&&this.currentPage===i.value.returnOnPage)throw $break;if(i.value.confirmLeave&&!this.confirmAndLeave())throw $break;throw delete i.value.returnOnPage,i.value.flowId=this.FLOW_ID,i.value.flowExecutionKey=this.flowExecutionKey,i.value.reportType=this.reportType,__jrsConfigs__.initAdditionalUIComponents||(i.value.decorate="no"),"cancelRedirect"===i.value.eventId&&jQuery(document).trigger("adhocDesigner:cancel"),domain.submitForm(this.submitFormId,i.value,this.fillForm),$break}}.bind(this)),t}};var dc=domain.chooser;dc.confirmAndLeave=function(){return dc.unsavedChangesPresent?confirm(domain.getMessage("exitMessage")):!0},dc.setUnsavedChangesPresent=function(e){dc.unsavedChangesPresent=!!e},dc.isUnsavedChangesPresent=function(){return dc.unsavedChangesPresent},dc.pageInitFactory={dataChooserFields:function(){return dc_fields},dataChooserPreFilters:function(){return dc_filters},dataChooserDisplay:function(){return dc_display},dataChooserSaveAsTopic:function(){return dc_saveAs}},dc.flowControlsEventMap=$H({"#fieldsTab":{returnOnPage:domain.chooser.FIELDS,eventId:"fields"},"#filtersTab":{returnOnPage:domain.chooser.PRE_FILTERS,eventId:"preFilters"},"#displayTab":{returnOnPage:domain.chooser.DISPLAY,eventId:"display"},"#saveTopicTab":{returnOnPage:domain.chooser.SAVE_AS_TOPIC,eventId:"saveAsTopic"},"#goToDesigner":{eventId:"done",reportType:dc.reportType},"#cancel":{eventId:"cancelRedirect",confirmLeave:!0}}),define("domain.chooser",["domain.base"],function(e){return function(){var t;return t||e.domain}}(this)),domain.ItemNode=function(e){dynamicTree.TreeNode.call(this,e),this.Types={Folder:new dynamicTree.TreeNode.Type("ItemGroupType"),Leaf:new dynamicTree.TreeNode.Type("ItemType")},this.nodeHeaderTemplateDomId="list_responsive_collapsible_fields:fields",this._hidden=!1,this.disabled=!1},domain.ItemNode.prototype=deepClone(dynamicTree.TreeNode.prototype),domain.ItemNode.addMethod("hide",function(e){if(e&&this.hasChilds())for(var t=0;t<this.getChildCount();t++)this.childs[t].hide(!0);var i=(this.childs.findAll(function(e){return e.disabled}).length,this.childs.findAll(function(e){return e.isHidden()}).length),n=this.childs.length-i;this.disabled||0!==n?this.getType()===this.Types.Leaf&&(this.deselect(),this.disable(domain.getMessage(domain.disabledFolderTooltip))):(this._hidden=!0,this.deselect(),this.refreshStyle())}),domain.ItemNode.addMethod("show",function(){this._hidden=!1,this._getElement()&&this.refreshStyle(this._getElement())}),domain.ItemNode.addMethod("disable",function(e){e&&(this.tooltip=e),this.disabled=!0,this._getElement()&&this.refreshStyle(this._getElement())}),domain.ItemNode.addMethod("enable",function(e){e&&(this.tooltip=e),this.disabled=!1,this._getElement()&&this.refreshStyle(this._getElement())}),domain.ItemNode.addMethod("refreshStyle",function(e){if(e||(e=this._getElement())){dynamicTree.TreeNode.prototype.refreshStyle.call(this,e),this.isHidden()?e.addClassName(layoutModule.HIDDEN_CLASS):e.removeClassName(layoutModule.HIDDEN_CLASS);var t=e.select("p").first();t&&(this.tooltip?t.title=this.tooltip:t.title="",this.disabled?(buttonManager.disable(t),buttonManager.disable(e)):(buttonManager.enable(t),buttonManager.enable(e)))}}),domain.ItemNode.addMethod("isHidden",function(){return this._hidden}),domain.ItemNode.addMethod("toJSON",function(){var e=this.param.extra,t={id:this.param.id,label:this.name,type:this.param.type};return e&&(t.labelId=e.labelId||"",t.descr=e.descr,t.descrId=e.descrId||"",t.dataType=e.dataType||"",t.resourceId=e.resourceId),this.isParent()&&(t.children=_.chain(this.childs).filter(function(e){return!e.isHidden()}).invoke("toJSON").value()),t}),domain.ItemNode.addMethod("hasVisibleChilds",function(){return this.hasChilds()&&!!this.childs.find(function(e){return!e.isHidden()})}),domain.ItemNode.addMethod("hasEnabledChilds",function(){return this.hasChilds()&&!!this.childs.find(function(e){return!e.disabled})}),domain.ItemNode.addMethod("removeChilds",function(){this.hasChilds()&&this.childs.each(function(e){this.removeChild(e)}.bind(this))}),domain.FieldsCopyMoveController=function(){domain.NodeCopyMoveController(this)},domain.FieldsCopyMoveController.prototype=deepClone(domain.NodeCopyMoveController.prototype),domain.FieldsCopyMoveController.addMethod("_buildMetanode",function(e){var t=deepClone(e.param);
return t.label=e.name,t.order=e.orderNumber,t.tooltip=e.tooltip,t}),domain.TwoColumnNode=function(e){dynamicTree.TreeNode.call(this,e),this.Types={Folder:new dynamicTree.TreeNode.Type("ItemGroupType",{}),Leaf:new dynamicTree.TreeNode.Type("ItemType",{})},this.nodeHeaderTemplateDomId="list_responsive:twoColumn"},domain.TwoColumnNode.prototype=deepClone(dynamicTree.TreeNode.prototype),domain.TwoColumnNode.addMethod("_createNode",function(){var e=this.id,t=(dynamicTree.trees[this.getTreeId()],this._getHeaderTemplateElement());t.id=this.NODE_ID_PREFIX+e,this.refreshStyle(t),t.treeNode=this;var i=t.childElements()[0];this.tooltip&&(i.title=this.tooltip);var n=i.childElements()[0];n.id=this.HANDLER_ID_PREFIX+e;var a=i.childElements()[1],r=this.param.extra&&this.param.extra.label?this.param.extra.label:this.name;a.insert(xssUtil.escape(r));var s=i.childElements()[2];s.insert(xssUtil.escape(this.name)),this._element=t}),domain.TwoColumnNode.addMethod("_getTitle",function(){var e=this._getElement().childElements()[0].childElements()[2];return e.cleanWhitespace(),0===e.childNodes.length&&e.appendChild(document.createTextNode("")),e.childNodes[0]}),domain.TwoColumnNode.addMethod("toJSON",function(){var e=this.param.extra,t={id:this.param.id,label:this.name,type:this.param.type,order:this.orderNumber.toString()};return e&&(t.labelId=e.labelId||"",t.dataType=e.dataType||"",t.resourceId=e.resourceId),this.isParent()&&(t.children=_.invoke(this.childs,"toJSON")),t}),domain.TwoColumnNode.addMethod("expandAllChilds",function(){var e=dynamicTree.trees[this.getTreeId()];this.isParent()&&!this.isOpen()&&(e.writeStates(this.id,dynamicTree.TreeNode.State.OPEN),this.refreshNode()),this.hasChilds()&&this.childs.each(function(e){e.expandAllChilds()})}),domain.TablesNode=function(e){dynamicTree.TreeNode.call(this,e),this.Types={Folder:new dynamicTree.TreeNode.Type("level"),Leaf:new dynamicTree.TreeNode.Type("item")},this.nodeHeaderTemplateDomId="list_responsive_collapsible_type_tables:tables"},domain.TablesNode.prototype=deepClone(domain.ItemNode.prototype),domain.TablesNode.addMethod("toJSON",function(){var e=this.param.extra,t={id:this.param.id,label:this.name,type:this.param.type};return e&&(t.originalId=e.originalId,t.datasourceId=e.datasourceId,t.repoId=e.repoId,t.itemId=e.itemId,t.dataSource=e.dataSource,t.table=e.table,this.isParent()?(t.query=e.query,t.dataSetType=e.dataSetType):(t.expression=e.expression,t.islandId=e.islandId,t.isConstant=e.isConstant,t.JavaType=e.JavaType,t.JdbcType=e.JdbcType),e.fieldDbName&&(t.fieldDbName=e.fieldDbName)),this.isParent()&&(t.children=_.chain(this.childs).filter(function(e){return!e.isHidden()}).invoke("toJSON").value()),t}),domain.TablesNode.addVar("CONSTANT_TABLE_ID","constant_fields_level"),domain.TablesNode.addVar("CROSSTABLES_FIELDS_TABLE_ID","crossTablesFieldsLevel"),domain.TablesNode.addVar("INVALID_NODE_CLASS","invalid"),domain.TablesNode.addVar("DATA_ISLAND_CLASS","dataIsland"),domain.TablesNode.addVar("DERIVED_TABLE_CLASS","table derived"),domain.TablesNode.addVar("CONSTANT_TABLE_CLASS","table constant"),domain.TablesNode.addVar("CALCULATED_FIELD_CLASS","field calculated"),domain.TablesNode.addMethod("refreshStyle",function(e){(e||(e=this._getElement()))&&(domain.ItemNode.prototype.refreshStyle.call(this,e),this.param.extra&&"true"===this.param.extra.isInvalid?e.addClassName(this.INVALID_NODE_CLASS):e.removeClassName(this.INVALID_NODE_CLASS),this.param.extra&&this.param.extra.expression&&e.addClassName(this.CALCULATED_FIELD_CLASS),this.param.extra&&this.param.extra.query&&e.addClassName(this.DERIVED_TABLE_CLASS),this.param.id===this.CONSTANT_TABLE_ID&&e.addClassName(this.CONSTANT_TABLE_CLASS),this.param.extra&&this.param.extra.isIsland&&e.addClassName(this.DATA_ISLAND_CLASS))}),domain.TablesNode.addMethod("edit",function(e){e&&"dblclick"!==e.type||domain.ItemNode.prototype.edit.call(this,e)}),domain.TablesCustomNode=function(e){domain.TablesNode.call(this,e),this.nodeHeaderTemplateDomId=e.param.type===this.Types.Folder.name?"list_responsive_collapsible_type_tables:tables":"list_responsive_collapsible_type_tables:fields"},domain.TablesCustomNode.prototype=deepClone(domain.TablesNode.prototype),domain.TablesCopyMoveController=function(){domain.NodeCopyMoveController(this)},domain.TablesCopyMoveController.prototype=deepClone(domain.NodeCopyMoveController.prototype),domain.TablesCopyMoveController.addMethod("_buildMetanode",function(e){var t={id:e.param.id,label:e.name,type:e.param.type,uri:e.param.uri};return e.param.extra&&(t.extra={originalId:e.param.extra.originalId,table:e.param.extra.table,itemId:e.param.extra.itemId,datasourceId:e.param.extra.datasourceId,repoId:e.param.extra.repoId,dataSource:e.param.extra.dataSource,dataSetType:e.param.extra.dataSetType,query:e.param.extra.query},e.param.extra.expression&&(t.extra.expression=e.param.extra.expression),e.param.extra.fieldDbName&&(t.extra.fieldDbName=e.param.extra.fieldDbName),e.isParent()||(t.extra.JavaType=e.param.extra.JavaType,t.extra.JdbcType=e.param.extra.JdbcType,t.extra.sourceItem=e.parent.param.extra.originalId)),t}),domain.TablesCopyMoveController.addMethod("_handleDuplicatedNode",function(e,t){if(e.isParent()){for(var i=1,n=e.param.extra.datasourceId+"."+e.param.extra.itemId+i,a=dynamicTree.trees[t.getTreeId()];a.findNodeChildByMetaName(t,n);)i++,n=e.param.extra.datasourceId+"."+e.param.extra.itemId+i;return e.param.id=n,e.param.extra.itemId+=i,e.name=e.param.extra.itemId,e.param.extra.originalId=e.param.extra.itemId,t.addChild(e),e.isloaded=!0,e.hasChilds()&&e.childs.each(function(t){this._handleDuplicatedNode(t,e)}.bind(this)),n}e.param.id=e.parent.param.id+"."+e.param.extra.itemId,e.param.extra.originalId=e.parent.param.extra.originalId+"."+e.param.extra.itemId}),domain.DerivedTablesNode=function(e){domain.TablesNode.call(this,e),e.param.type===this.Types.Folder.name&&e.param.extra&&e.param.extra.query&&(this.isSelectable=!0)},domain.DerivedTablesNode.prototype=deepClone(domain.TablesNode.prototype),domain.JoinsList=function(e,t){dynamicList.List.call(this,e,t)},domain.JoinsList.prototype=deepClone(dynamicList.List.prototype),domain.JoinsList.addMethod("_changeHandler",function(e){var t=this.getItemByEvent(e);t&&(t._respondOnItemEvents&&!e.isInvoked&&this.fire("item:change",{targetEvent:e,item:t}),e.isInvoked=!0)}),domain.JoinsList.addMethod("_initEvents",function(){dynamicList.List.prototype._initEvents.call(this);var e=this._getElement();jQuery(e).off("change").on("change","select",_.bind(this._changeHandler,this))}),domain.JoinsListItem=function(e){dynamicList.ListItem.call(this,e),this._hidden=!1},domain.JoinsListItem.prototype=deepClone(dynamicList.ListItem.prototype),domain.JoinsListItem.addMethod("hide",function(e){this._hidden=!!e,this.refreshStyle()}),domain.JoinsListItem.addMethod("refreshStyle",function(){dynamicList.ListItem.prototype.refreshStyle.call(this),this._getElement()&&(this._hidden?this._getElement().addClassName(layoutModule.HIDDEN_CLASS):this._getElement().removeClassName(layoutModule.HIDDEN_CLASS))}),domain.JoinsListItem.addMethod("processTemplate",function(e){var t=e.childElements()[0];t.cleanWhitespace();var i=t.childElements()[1],n=t.childElements()[2],a=t.childElements()[3],r=a.childElements()[0],s=r.childElements();return i.update(xssUtil.escape(this._value.left.table.label)+":"+xssUtil.escape(this._value.left.label)),n.update(xssUtil.escape(this._value.right.table.label)+":"+xssUtil.escape(this._value.right.label)),s.each(function(e){e.selected=e.value===this._value.type}.bind(this)),e}),domain.JoinsListItem.addMethod("setJoinType",function(e){this.getValue().type=e;var t=this._getElement();if(t){var i=t.childElements()[0].childElements()[3].childElements()[0];$(i).value=e}}),domain.JoinsListItem.addMethod("toJSON",function(){return{left:this._value.left.id,right:this._value.right.id,type:this._value.type}}),domain.DisplayNode=function(e){domain.ItemNode.call(this,e),this.Types={Folder:new dynamicTree.TreeNode.Type("ItemGroupType"),Leaf:new dynamicTree.TreeNode.Type("ItemType")},this.nodeHeaderTemplateDomId="list_responsive_collapsible_type_sets:sets"},domain.DisplayNode.prototype=deepClone(domain.ItemNode.prototype),domain.DisplayNode.addMethod("toJSON",function(){var e=this.param.extra,t={id:this.param.id,type:this.param.type};return e&&(t.itemId=e.itemId,t.descr=e.descr,t.labelId=e.labelId||"",t.descrId=e.descrId||"",t.resourceId=e.resourceId||""),e&&e.label&&(t.label=e.label),this.isParent()?t.children=_.chain(this.childs).filter(function(e){return!e.isHidden()&&!e._markAsDeleted}).invoke("toJSON").value():(t.dataType=e.dataType,t.dimensionOrMeasure=e.dimensionOrMeasure,t.defaultMask=e.defaultMask,t.defaultAgg=e.defaultAgg),t}),domain.DisplayNode.addVar("INVALID_NODE_CLASS","invalid"),domain.DisplayNode.addMethod("refreshStyle",function(e){(e||(e=this._getElement()))&&(domain.ItemNode.prototype.refreshStyle.call(this,e),this.param.extra&&"true"===this.param.extra.isInvalid?e.addClassName(this.INVALID_NODE_CLASS):e.removeClassName(this.INVALID_NODE_CLASS))}),domain.genericTreeParams={rootUri:"/",showRoot:!1,nodeClass:domain.ItemNode,treeClassName:"",multiSelectEnabled:!0},domain.createItemsTree=function(e){return e=Object.extend(deepClone(domain.genericTreeParams),e),new dynamicTree.TreeSupport(e.treeId,e)},domain.confirmDialog={MODE_OK_CANCEL:"okCancel",MODE_YES_NO:"yesNo",_CONFIRM_DIALOG_DOM_ID:"standardConfirm",_CONFIRM_DIALOG_BODY_DOM_PATTERN:"#standardConfirm > .content > .body",_CONFIRM_DIALOG_OK_BUTTON_ID:"#confirmYes",_CONFIRM_DIALOG_CANCEL_BUTTON_ID:"#confirmNo",_CONFIRM_DIALOG_OK_PATTERN:"#confirmYes > span",_CONFIRM_DIALOG_CANCEL_PATTERN:"#confirmNo > span",_yesMessageHolder:null,_noMessageHolder:null,_dialog:null,_onOk:null,_onCancel:null,_customEventHandler:null,_templateDomId:null,_visible:!1,init:function(){domain.confirmDialog._init.bind(domain.confirmDialog)()},show:function(e,t,i,n,a){domain.confirmDialog._show.bind(domain.confirmDialog,e,t,i,n,a)()},hideForDetails:function(){dialogs.popup.hide(domain.confirmDialog._dialog)},showFromDetails:function(){dialogs.popup.show(domain.confirmDialog._dialog,!0)},visible:function(){return domain.confirmDialog._visible},_init:function(){this._dialog=$(this._CONFIRM_DIALOG_DOM_ID),this._yesMessageHolder=$$(this._CONFIRM_DIALOG_OK_PATTERN).first(),this._noMessageHolder=$$(this._CONFIRM_DIALOG_CANCEL_PATTERN).first(),domain.registerClickHandlers([this._clickEventHandler.bind(this)])},_show:function(e,t,i,n,a){this._onOk=t,this._onCancel=i,this._customEventHandler=n,this._templateDomId=e,a&&a==this.MODE_YES_NO?(this._yesMessageHolder.update(domain.getMessage("yes")),this._noMessageHolder.update(domain.getMessage("no"))):(this._yesMessageHolder.update(domain.getMessage("ok")),this._noMessageHolder.update(domain.getMessage("cancel"))),$(this._templateDomId).removeClassName(layoutModule.HIDDEN_CLASS),dialogs.popup.show(this._dialog,!0),this._visible=!0},_hide:function(e){$(this._templateDomId).addClassName(layoutModule.HIDDEN_CLASS),dialogs.popup.hide(this._dialog),this._visible=!1,e&&e()},_clickEventHandler:function(e){return domain.elementClicked(e,this._CONFIRM_DIALOG_OK_BUTTON_ID)?(this._hide(this._onOk),!0):domain.elementClicked(e,this._CONFIRM_DIALOG_CANCEL_BUTTON_ID)?(this._hide(this._onCancel),!0):this._customEventHandler?this._customEventHandler(e):void 0}},domain.detailsDialog={_DETAIL_DIALOG_DOM_ID:"detail",_DETAIL_DIALOG_CLOSE_BUTTON_ID:"#close",_DETAIL_DIALOG_LIST_DOM_ID:"detailsList",_DETAIL_DIALOG_TEXT_DOM_ID:"detailsText",_LIST_TEMPLATE:"defaultListTemplate",_LIST_ITEM_TEMPLATE:"dynamicListItemTemplate",_dialog:null,_showConfirmAfterClose:!1,_list:null,_listItems:null,init:function(){domain.detailsDialog._init.bind(domain.detailsDialog)()},show:function(e){domain.detailsDialog._show.bind(domain.detailsDialog,e)()},_init:function(){this._dialog=$(this._DETAIL_DIALOG_DOM_ID),domain.registerClickHandlers([this._clickEventHandler.bind(this)])},_show:function(e){domain.confirmDialog.visible()?(domain.confirmDialog.hideForDetails(),this._showConfirmAfterClose=!0):this._showConfirmAfterClose=!1,this._createMessage(e),dialogs.popup.show(this._dialog,!0),$(this._DETAIL_DIALOG_LIST_DOM_ID).parentNode.scrollTop=0},_createMessage:function(e){"string"==typeof e?($(this._DETAIL_DIALOG_LIST_DOM_ID).addClassName(layoutModule.HIDDEN_CLASS),$(this._DETAIL_DIALOG_TEXT_DOM_ID).removeClassName(layoutModule.HIDDEN_CLASS).update(e)):($(this._DETAIL_DIALOG_TEXT_DOM_ID).addClassName(layoutModule.HIDDEN_CLASS),$(this._DETAIL_DIALOG_LIST_DOM_ID).removeClassName(layoutModule.HIDDEN_CLASS),this._items&&(this._list.removeItems(this._items),this._items=null,this._list=null),this._items=e.collect(function(e){return new dynamicList.ListItem({label:e})}),this._list=new dynamicList.List(this._DETAIL_DIALOG_LIST_DOM_ID,{listTemplateDomId:this._LIST_TEMPLATE,itemTemplateDomId:this._LIST_ITEM_TEMPLATE,items:this._items}),this._list.show())},_close:function(){dialogs.popup.hide(this._dialog),this._showConfirmAfterClose&&domain.confirmDialog.showFromDetails()},_clickEventHandler:function(e){return domain.elementClicked(e,this._DETAIL_DIALOG_CLOSE_BUTTON_ID)?(this._close(),!0):void 0}},define("domain.components",["domain.base","dynamicTree.utils","components.list"],function(e){return function(){var t;return t||e.domain}}(this)),domain.chooser.fields={SOURCE_FIELDS_DOM_ID:"sourceFieldsTree",DESTINATION_FIELDS_DOM_ID:"destinationFieldsTree",SOURCE_TABLES_COLUMN_DOM_ID:"sourceTablesColumn",DESTINATION_TABLES_COLUMN_DOM_ID:"destTablesColumn",SOURCE_FIELDS_TREE_PROVIDER:"semantic-layer-tree-data-provider",DESTINATION_FIELDS_TREE_PROVIDER:"semantic-layer-query-tree-data-provider",TREE_TEMPLATE_DOM_ID:"list_responsive_collapsible_fields",NODE_CLASS:domain.ItemNode,MOVE_BUTTONS_PATTERN_PREFIX:"#moveButtons > .",FLOW_NAVIGATION_BUTTONS:["filtersTab","displayTab","saveTopicTab","goToDesigner"],DRAG_PATTERN:".draggable",CONSTANT_TABLE_ID:"constant_fields_level",DOM_IDS_TO_SAVE_TREE_SELECTION:["#sourceTablesColumn","#destTablesColumn","#left","#right","#toLeft","#toRight"],TAB_CLASS_NAME:"tab",dataIslandParser:new RegExp("(^[^\\.]+)"),sourceFieldsTree:null,destinationFieldsTree:null,nodeCopyMoveController:new domain.FieldsCopyMoveController,DATA_CHOOSER_MODE:"dataChooserMode",RE_ENTRANCE_MODE:"reEntranceMode",mode:this.DATA_CHOOSER_MODE,reEntranceDialogCSSSelector:"#selectFields",fillForm:function(){var e=domain.chooser.fields.destinationFieldsTree.getRootNode();domain.unescapeTree(e);var t=e.childs.first()?Object.toJSON(e.childs.findAll(function(e){return!e.isHidden()})):"";$("selectedModel").writeAttribute("value",t),$("unsavedChangesPresent").writeAttribute("value",domain.chooser.isUnsavedChangesPresent().toString())},init:function(e){this.initTrees(),this.mode==this.RE_ENTRANCE_MODE?domain.registerClickHandlers([this.moveButtonsClickEventHandler.bind(this)],this.reEntranceDialogCSSSelector):domain.registerClickHandlers([this.moveButtonsClickEventHandler.bind(this)]),domain.detailsDialog.init(),domain.resetTreeSelectionHandler.init(this.DOM_IDS_TO_SAVE_TREE_SELECTION,function(){return[this.sourceFieldsTree,this.destinationFieldsTree]}.bind(this),this.updateButtonsState.bind(this)),this.updateButtonsState(),this.mode==this.DATA_CHOOSER_MODE&&this.processInvalidFields(e.invalidFields),this.sourceFieldsTree.showTree(100,this.sourceTreeUpdateCallback.bind(this),domain.treeErrorHandler,!1),this.destinationFieldsTree.showTree(100,this.destTreeUpdateCallback.bind(this),domain.treeErrorHandler,!1),disableSelectionWithoutCursorStyle($(document.body))},processInvalidFields:function(e){var t=e.deletedFields?"<p>"+e.deletedFields.join("</p><p>")+"</p>":null,i=e.movedFields?"<p>"+e.movedFields.join("</p><p>")+"</p>":null,n="";t&&(n+=domain.getMessage("error.itemsDeleted",{fields:t})),i&&(n+=domain.getMessage("error.movedFields",{fields:i})),n&&domain.detailsDialog.show(n)},sourceTreeUpdateCallback:function(){this.updateButtonsState()},destTreeUpdateCallback:function(){this.updateButtonsState(),this.disableNodesInAdhocReEntrance()},disableNodesInAdhocReEntrance:function(){},initTrees:function(){if(this.sourceFieldsTree=domain.createItemsTree({handleNodeOnDblclick:!1,treeId:this.SOURCE_FIELDS_DOM_ID,providerId:this.SOURCE_FIELDS_TREE_PROVIDER,templateDomId:this.TREE_TEMPLATE_DOM_ID,nodeClass:this.NODE_CLASS,dragPattern:this.DRAG_PATTERN,selectOnMousedown:!isIPad()}),this.destinationFieldsTree=domain.createItemsTree({handleNodeOnDblclick:!1,treeId:this.DESTINATION_FIELDS_DOM_ID,providerId:this.DESTINATION_FIELDS_TREE_PROVIDER,templateDomId:this.TREE_TEMPLATE_DOM_ID,nodeClass:this.NODE_CLASS,dragPattern:this.DRAG_PATTERN,selectOnMousedown:!isIPad()}),isIPad()){var e=$(this.SOURCE_FIELDS_DOM_ID);new TouchController(e,e.up(1));var t=$(this.DESTINATION_FIELDS_DOM_ID);new TouchController(t,t.up(1))}$H(this.treeEventFactory).each(function(e){[this.sourceFieldsTree,this.destinationFieldsTree].invoke("observe",e.key,e.value.bind(this))}.bind(this)),this.initDragAndDrop()},validateDataIslands:function(e,t){var i=dynamicTree.trees[t.first().getTreeId()];if(i!==this.sourceFieldsTree)return!0;var n=t.collect(function(e){return this.getNodeDataIsland(e)}.bind(this)).uniq(),a=this.getTreeDataIslands(e),r=n.without(this.CONSTANT_TABLE_ID).length>1;return!r&&this.isSameDataIslandsOnBothTrees(n,a)},moveNodes:function(e,t,i){if(e&&e.first()){domain.chooser.setUnsavedChangesPresent(!0);var n=dynamicTree.trees[t.getTreeId()];if(ValidationModule.hideError($(this.DESTINATION_FIELDS_DOM_ID)),!this.validateDataIslands(n,e))return void ValidationModule.showError($(this.DESTINATION_FIELDS_DOM_ID),domain.getMessage("error.fromDifferentIslands"));var a=this.nodeCopyMoveController.move(e,t);if(!i){var r=n.selectedNodes.collect(function(e){return e});n.resetSelected(),r.each(function(e){e.refreshStyle()}),a.each(function(e){n.openAndSelectNode(e.param.uri)}),a.each(function(e){e.select()})}this.updateButtonsState(),this.mode==this.DATA_CHOOSER_MODE&&sessionManager.resetSession(domain.chooser.flowExecutionKey)}},nodeDblClick:function(e){if(e){var t=dynamicTree.trees[e.getTreeId()],i=t===this.sourceFieldsTree?this.destinationFieldsTree:this.sourceFieldsTree;t&&i&&this.moveNodes(t.selectedNodes,i.getRootNode())}},initDragAndDrop:function(){var e=[this.SOURCE_FIELDS_DOM_ID,this.DESTINATION_FIELDS_DOM_ID,this.SOURCE_TABLES_COLUMN_DOM_ID,this.DESTINATION_TABLES_COLUMN_DOM_ID],t=new Hash;t.set(this.SOURCE_FIELDS_DOM_ID,[this.DESTINATION_FIELDS_DOM_ID,this.DESTINATION_TABLES_COLUMN_DOM_ID]),t.set(this.SOURCE_TABLES_COLUMN_DOM_ID,[this.DESTINATION_FIELDS_DOM_ID,this.DESTINATION_TABLES_COLUMN_DOM_ID]),t.set(this.DESTINATION_FIELDS_DOM_ID,[this.SOURCE_FIELDS_DOM_ID,this.SOURCE_TABLES_COLUMN_DOM_ID]),t.set(this.DESTINATION_TABLES_COLUMN_DOM_ID,[this.SOURCE_FIELDS_DOM_ID,this.SOURCE_TABLES_COLUMN_DOM_ID]);var i=function(e,t,i){var n=e.node;if(n){var a=dynamicTree.trees[n.getTreeId()],r=matchAny(t,["#"+this.SOURCE_TABLES_COLUMN_DOM_ID],!0)?this.sourceFieldsTree:this.destinationFieldsTree;a!==r&&this.moveNodes(a.selectedNodes,r.getRootNode())}};e.each(function(e){Droppables.remove(e),Droppables.add(e,{accept:t.get(e),onDrop:i.bind(this)})}.bind(this))},getTreeDataIslands:function(e){var t=e.getRootNode();return t?t.childs.collect(function(e){if(!e.isHidden()){var t=this.dataIslandParser.exec(e.param.extra.resourceId);if(t)return t[0]}}.bind(this)).compact().uniq():[]},getNodeDataIsland:function(e){if("/"!==e.parent.param.uri)return this.getNodeDataIsland(e.parent);var t=this.dataIslandParser.exec(e.param.extra.resourceId);return t?t[0]:void 0},isSameDataIslandsOnBothTrees:function(e,t){return e=e.without(this.CONSTANT_TABLE_ID),t=t.without(this.CONSTANT_TABLE_ID),e.length<=1&&t.concat(e).uniq().length<=1},updateButtonsState:function(){var e=this.destinationFieldsTree,t=this.sourceFieldsTree,i=e.getRootNode()&&e.getRootNode().hasVisibleChilds(),n=t.getRootNode()&&t.getRootNode().hasVisibleChilds(),a=i&&e.selectedNodes.length>0,r=n&&t.selectedNodes.length>0,s=e.getRootNode()&&e.getRootNode().hasEnabledChilds(),o={destTreeHasSelectedNodes:a,sourceTreeHasSelectedNodes:r,destTreeHasVisibleNodes:i,sourceTreeHasVisibleNodes:n,destTreeHasEnabledNodes:s,sourceTreeDataIslands:this.getTreeDataIslands(t),destTreeDataIslands:this.getTreeDataIslands(e)};this.updateMoveButtonsState(o),this.updateFlowButtonsState(o),this.updateTreeItems(o),this.updateReEntrantControls(o)},updateReEntrantControls:function(e){},updateMoveButtonsState:function(e){this.moveButtonsUpdateStatusEventFactory.each(function(t){var i=$$(this.MOVE_BUTTONS_PATTERN_PREFIX+t.key)[0],n=t.value.bind(this)(e);domain.enableButton(i,n)}.bind(this))},updateFlowButtonsState:function(e){this.FLOW_NAVIGATION_BUTTONS.each(function(t){var i=$(t);if(i){domain.enableButton(i,e.destTreeHasVisibleNodes);var n=i.up();n.hasClassName(this.TAB_CLASS_NAME)&&domain.enableButton(n,e.destTreeHasVisibleNodes)}},this)},disableNode:function(e,t){t?e.disable():e.enable(),e.isParent()&&e.childs.each(function(e){this.disableNode(e,t)}.bind(this))},updateTreeItems:function(e){var t=this.sourceFieldsTree;if(t&&t.getRootNode()){var i=e.destTreeDataIslands.concat([this.CONSTANT_TABLE_ID]).uniq();t.getRootNode().childs.each(function(e,t){var i=1===e.length||e.include(this.getNodeDataIsland(t));this.disableNode(t,!i)}.bind(this,i))}},moveButtonsClickEventHandler:function(e){var t=!1;return this.moveButtonsClickEventMap.each(function(i){if(domain.elementClicked(e,i.key)){var n=dynamicTree.trees[i.value.sourceTree],a=dynamicTree.trees[i.value.destTree],r=n.selectedNodes;throw i.value.moveAll&&(r=n.getRootNode().childs.findAll(function(e){return!e.isHidden()})),this.moveNodes(r,a.getRootNode(),i.value.moveAll),t=!0,$break}}.bind(this)),t}};var dc_fields=domain.chooser.fields;dc_fields.moveButtonsClickEventMap=$H({"#left":{sourceTree:dc_fields.DESTINATION_FIELDS_DOM_ID,destTree:dc_fields.SOURCE_FIELDS_DOM_ID},"#right":{sourceTree:dc_fields.SOURCE_FIELDS_DOM_ID,destTree:dc_fields.DESTINATION_FIELDS_DOM_ID},"#toLeft":{moveAll:!0,sourceTree:dc_fields.DESTINATION_FIELDS_DOM_ID,destTree:dc_fields.SOURCE_FIELDS_DOM_ID},"#toRight":{moveAll:!0,sourceTree:dc_fields.SOURCE_FIELDS_DOM_ID,destTree:dc_fields.DESTINATION_FIELDS_DOM_ID}}),dc_fields.treeEventFactory={"leaf:dblclick":function(e){var t=e.memo.node;dc_fields.nodeDblClick(t),Event.stop(e)},"leaf:mouseup":function(e){dc_fields.updateButtonsState(),Event.stop(e)},"node:dblclick":function(e){var t=e.memo.node;dc_fields.nodeDblClick(t),Event.stop(e)},"node:mouseup":function(e){dc_fields.updateButtonsState(),Event.stop(e)}},dc_fields.moveButtonsUpdateStatusEventFactory=$H({left:function(e){return e.destTreeHasSelectedNodes},right:function(e){return e.sourceTreeHasSelectedNodes&&this.validateDataIslands(this.destinationFieldsTree,this.sourceFieldsTree.selectedNodes)},toLeft:function(e){return e.destTreeHasVisibleNodes&&e.destTreeHasEnabledNodes},toRight:function(e){return e.sourceTreeHasVisibleNodes&&this.isSameDataIslandsOnBothTrees(e.sourceTreeDataIslands,e.destTreeDataIslands)}}),"undefined"==typeof require&&document.observe("dom:loaded",dc.initialize.bind(dc)),define("domain.chooser.fields",["domain.chooser","domain.components"],function(e){return function(){var t;return t||e.domain}}(this));var customTooltip={};customTooltip.TOOLTIP_ID="custTooltip",define("components.customTooltip",function(e){return function(){var t;return t||e.customTooltip}}(this)),dialogs.dependentResources={dependenciesPanel:null,show:function(e,t,i){this.dependenciesPanel=jQuery("#dependencies"),this._$title=this.dependenciesPanel.find(".content .header .title"),i.dialogTitle&&(this._titleBackup=this._$title.html(),this._$title.html(i.dialogTitle)),dialogs.popup.show(this.dependenciesPanel[0]),this._changeMessage(i),this._switchButtons(i);var n=this._initList(e);this.dependenciesPanel.on("click",function(e){var i=jQuery(e.target).closest("button").attr("id"),a=t&&t[i];_.include(["dependenciesBtnSave","dependenciesBtnSaveAs","dependenciesBtnOk","dependenciesBtnCancel"],i)&&(dialogs.dependentResources.hide(),n.setItems([]),e.stopPropagation(),a&&a())})},hide:function(){this.dependenciesPanel&&(this.dependenciesPanel.off("click"),dialogs.popup.hide(this.dependenciesPanel[0]),this.dependenciesPanel=null),this._titleBackup&&this._$title&&(this._$title.html(this._titleBackup),this._titleBackup=null)},_changeMessage:function(e){jQuery("#topMessage").html(e.topMessage),jQuery("#bottomMessage").html(e.bottomMessage)},_initList:function(e){var t=new dynamicList.List("dependenciesList",{listTemplateDomId:"tabular_oneColumn",itemTemplateDomId:"tabular_oneColumn:leaf"}),i=[];return e&&(i=e.collect(function(e){var t=new dynamicList.ListItem({cssClassName:layoutModule.LEAF_CLASS,value:e});return t.processTemplate=function(e){var t,i=e.select(".uri")[0];return t="string"==typeof this.getValue()?this.getValue():this.getValue().uristring?this.getValue().uristring:this.getValue().URIString,i.update(xssUtil.escape(t)),e},t})),t.setItems(i),t.show(),t},_switchButtons:function(e){var t,i={save:jQuery("#dependenciesBtnSave"),saveAs:jQuery("#dependenciesBtnSaveAs"),ok:jQuery("#dependenciesBtnOk"),cancel:jQuery("#dependenciesBtnCancel")};t=e.buttons?e.buttons:e.okOnly?["ok"]:e.canSave?["save","saveAs","cancel"]:["ok","cancel"],_.each(i,function(e,i){t.indexOf(i)<0?e.addClass("hidden"):e.removeClass("hidden")})}},define("components.dependent.dialog",["prototype","components.dialogs","jquery","components.list"],function(e){return function(){var t;return t||e.dialogs.dependentResources}}(this)),DragListener.DRAGGING_STARTED="draggingStarted",DragListener.DRAGGING_FINISHED="draggingFinished",DragListener.DRAGGING="dragging",DragListener.prototype.registerAgent=function(e){this.agents[e]=[]},DragListener.prototype.publishEvent=function(e,t,i){this.agents[e][t]=i},DragListener.prototype.notify=function(e,t){var i=this.agents[this.currentAgentName];if(i){var n=i[e];if(n){var a=this.dragger?this.dragger.draggingObjs:null;n(t,a)}}},DragListener.prototype.isDragging=function(){return null!=this.currentAgentName},DragListener.prototype.setCurrentAgentName=function(e){this.currentAgentName=e},DragListener.prototype.getCurrentAgentName=function(){return this.currentAgentName};var invokeDragging=function(e){return function(t){e.dragging(t)}},invokeDraggingFinished=function(e){return function(t){e.draggingFinished(t)}};Dragger.prototype.addAnotherDraggingObject=function(e,t){e=e?e:event,this.draggingObjs[this.draggingObjs.length]=t,this.originalX[this.originalX.length]=parseInt(t.style.left),this.originalY[this.originalY.length]=parseInt(t.style.top),this.initDragger(e)},Dragger.prototype.initDragger=function(e){this.isDragging=!1,this.mouseX=e.clientX,this.mouseY=e.clientY,document.onmousemove=invokeDragging(this),document.onmouseup=invokeDraggingFinished(this)},Dragger.prototype.dragging=function(e){var t=e?e:event,i=!1,n=0,a=0;if(this.dragsX&&(n=t.clientX-this.mouseX,i=Math.abs(n)>this.sigMove),this.dragsY&&(a=t.clientY-this.mouseY,i=i||Math.abs(a)>this.sigMove),!this.isDragging&&i){this.isDragging=!0,this.dragListener&&this.dragListener.notify(DragListener.DRAGGING_STARTED,e);for(var r=0;r<this.draggingObjs.length;r++)this.draggingObjs[r].style.display="block"}if(this.isDragging){if(n){for(var r=0;r<this.draggingObjs.length;r++){parseInt(this.originalX[r]+n)}if(n)for(var r=0;r<this.draggingObjs.length;r++)this.draggingObjs[r].style.left=parseInt(this.originalX[r]+n)+"px"}if(a){for(var r=0;r<this.draggingObjs.length;r++){parseInt(this.originalY[r]+a)}if(a)for(var r=0;r<this.draggingObjs.length;r++)this.draggingObjs[r].style.top=parseInt(this.originalY[r]+a)+"px"}(n||a)&&this.dragListener.notify(DragListener.DRAGGING,e)}},Dragger.prototype.draggingFinished=function(e){document.onmousemove="default",document.onmouseup="default",this.isDragging?(this.isDragging=!1,this.cleanUpUtil&&this.cleanUpUtil(),this.dragListener&&(this.dragListener.notify(DragListener.DRAGGING_FINISHED,e),this.dragListener.setCurrentAgentName(null))):this.dragListener&&this.dragListener.setCurrentAgentName(null)},Dragger.prototype.clearDraggingObjects=function(){for(var e=0;e<this.draggingObjs.length;e++){var t=this.draggingObjs[e];t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}},define("tools.drag",["jquery","prototype"],function(e){return function(){var t;return t||e.Dragger}}(this)),define("text!common/component/tree/template/searchPluginTemplate.htm",[],function(){return'<span class="control searchLockup ">\n    <div class="wrap">\n        <input type="text" tabindex="">\n    </div>\n    <b class="right">\n        <a class="button searchClear"></a>\n    </b>\n    <a class="button search up"></a>\n</span>\n'}),define("adhoc/DynamicTreeSearch",["require","backbone","underscore","text!common/component/tree/template/searchPluginTemplate.htm"],function(e){var t=e("backbone"),i=e("underscore"),n=e("text!common/component/tree/template/searchPluginTemplate.htm");return t.View.extend({template:i.template(n),el:function(){return this.template()},events:{"click .button.search":"onClickOnSearchButton","click .button.searchClear":"onClearSearch","keydown input[type=text]":"onKeyPress"},initialize:function(e){i.bindAll(this,"onTreeLoaded","_walkThroughTree","_saveTreeStateAction","_restoreSavedTreeStateAction"),this.tree=e.tree,this.depth=e.depth,this.treeState={},this.model=new t.Model,this.initObservers(),e.keyword&&this.setKeyword(e.keyword)},initObservers:function(){this.listenTo(this.model,"change:keyword",this.onChangeKeyword)},_walkThroughTree:function(e,t){var i,n=e.childs.length;for(i=0;n>i;i++)this._walkThroughTree(e.childs[i],t);t(e)},_saveTreeStateAction:function(e){var t=this.tree.stateObject[e.id];t&&(this.treeState[e.param.id]=this.tree.stateObject[e.id]),dynamicTree.nodes[e.id]=void 0},_restoreSavedTreeStateAction:function(e){var t=this.treeState[e.param.id];t&&(this.tree.stateObject[e.id]=t)},onChangeKeyword:function(){var e=this.getKeyword(),t=this.model.previous("keyword");t||this._walkThroughTree(this.tree.rootNode,this._saveTreeStateAction),this.tree.additionalParams.query=e,this.tree.showTree(this.depth,this.onTreeLoaded),e?this.$el.find(".button.searchClear").addClass("up"):this.$el.find(".button.searchClear").removeClass("up"),this.trigger("change:keyword",e)},onClickOnSearchButton:function(){this.model.set("keyword",this.$el.find("input[type=text]").val())},onClearSearch:function(){this.setKeyword("")},onKeyPress:function(e){13===e.which&&this.onClickOnSearchButton()},onTreeLoaded:function(){this.getKeyword()||(this.tree.resetStates(),this._walkThroughTree(this.tree.rootNode,this._restoreSavedTreeStateAction),this.treeState={}),this.tree.renderTree()},setKeyword:function(e){this.$el.find("input[type=text]").val(e),this.model.set("keyword",e)},getKeyword:function(){return this.model.get("keyword")}})});var theBody,fieldsTable,savePanel,canRunAndSave,nullStateValue="_null",multiSelect=!1,saveOldLabel="",saveOldFolder="",flowExecutionKey,notificationButton,notification,saveAsTree,editor,windowPopUp,controllerMap={ta:"/adhoc/table.html",cr:"/adhoc/crosstab.html",ch:"/adhoc/chart.html",ich:"/adhoc/intelligentChart.html",da:"/dashboard/dashboard.html",st:"/adhoc/status.html",co:"/adhoc/table.html","":"/adhoc/table.html?"},clientKey,cancelQueryTimer;SelectedFormula.prototype.reset=function(){this.formulaId=null,this.constant=null,this.isEdited=!1,this.isSwapped=!1,this.isChanged=!1};var selectedFormula=new SelectedFormula,selectionCategory=new SelectionCategory,selObjects=[],timeoutValue=null,TIMEOUT_INTERVAL=null,delayBeforeSessionTimeoutWarning,MILL_PER_MIN=6e4,MIN_WARN_BEFORE_TIMEOUT=2,ADHOC_SESSION_TIMEOUT_MESSAGE=null,ADHOC_EXIT_MESSAGE=null,DASHBOARD_SESSION_TIMEOUT_MESSAGE=null,DASHBOARD_EXIT_MESSAGE=null,designerBase={AVAILABLE_FIELDS_AREA:"af",DASHBOARD_SPECIAL_CONTENT_TREE_AREA:"dsc",DASHBOARD_REPO_TREE_AREA:"drp",CROSSTAB_SELECT_AREA:"cr",TABLE_SELECT_AREA:"tb",CHART_SELECT_AREA:"ch",TITLE_SELECT_AREA:"co",
CHART_LEGEND_AREA:"clg",REPORT_MENU_LEVEL:"reportLevel",FIELD_MENU_LEVEL:"fieldLevel",FIELDSET_MENU_LEVEL:"fieldSetLevel",COLUMN_LEVEL:"columnLevel",GROUP_LEVEL:"groupLevel",CHART_LEVEL:"chartLevel",SUMMARY_LEVEL:"summaryLevel",COLUMN_GROUP_MENU_LEVEL:"columnGroupLevel",ROW_GROUP_MENU_LEVEL:"rowGroupLevel",MEASURE_MENU_LEVEL:"measureLevel",LEGEND_MENU_LEVEL:"legendItemLevel",MEMBER_GROUP_MENU_LEVEL:"memberGroupCell",GRID_SELECTOR_MENU:".selector.mutton",DASHBOARD_SPECIAL_CONTENT_TREE_LEVEL:"dashboardSpecialContentTreeLeafLevel",DASHBOARD_REPO_TREE_LEVEL:"dashboardRepoTreeLeafLevel",DASHBOARD_CONTENT_FRAME_MENU_LEVEL:"dashboardContentFrameLevel",DASHBOARD_TEXT_FRAME_MENU_LEVEL:"dashboardTextFrameLevel",DASHBOARD_CLICKABLE_FRAME_MENU_LEVEL:"dashboardClickableFrameLevel",DASHBOARD_CONTROL_FRAME_MENU_LEVEL:"dashboardControlFrameLevel",SPACER_NAME:"_spacer",ARTIFICIAL_NAME:"_artificial",DEFAULT_THEME_ID:"default",TABLE:"table",CHART:"chart",ICHART:"ichart",OLAP_ICHART:"olap_ichart",CROSSTAB:"crosstab",OLAP_CROSSTAB:"olap_crosstab",DASHBOARD:"dashboard",DASHBOARD_RUNTIME:"dashboardRuntime",SAVE_AS_TREE_DOM_ID:"saveAsFoldersTree",UNDEFINED_STRING:"undefined",CLOBBER:"clobber",LABEL_MAX_LEN:94,DESC_MAX_LEN:249,DRAGGABLE_GHOST_HEIGHT:"20px",DRAGGABLE_GHOST_WIDTH:"150px",superInitAll:function(){theBody=document.body,localContext.initAll(),localContext.getMode()!==designerBase.DASHBOARD&&adhocDesigner&&adhocDesigner.initExplorerObjectListeners(),restoreDefaultCursor()},updateFlowKey:function(){var e=$("flowId");e&&(flowExecutionKey=e.getAttribute("value"))},setState:function(){var stateSnapshotScript=$("stateSnapshotScript");null!=stateSnapshotScript&&(window.eval(stateSnapshotScript.text),state=eval("("+stateSnapshot+")"),stateSnapshotScript.parentNode.removeChild(stateSnapshotScript))},getCanRunAndSave:function(){return canRunAndSave},getControllerPrefix:function(){return localContext.controller?localContext.controller:"co"},handleSave:function(){saveLabel?designerBase.save(saveFolder,saveLabel,saveDesc,!0):designerBase.launchSaveDialog()},handleSaveAs:function(){designerBase.launchSaveDialog()},handleSaveAndGenerate:function(){saveLabel?designerBase.checkSave(saveFolder,saveLabel,saveDesc,!1,{reportName:saveLabel+" "+defaultReportSuffix}).then(function(){designerBase.launchSaveDialog({forDataView:!1,forReport:!0,reportGenerators:localContext.state.reportGenerators})}):designerBase.launchSaveDialog({forDataView:!0,forReport:!0,reportGenerators:localContext.state.reportGenerators})},getSelectedObject:function(e){return e&&!isNaN(e)&&e<selObjects.length?selObjects[e]:selObjects[0]},getSelectedObjects:function(){return selObjects},getLastSelectedObject:function(){return selObjects[selObjects.length-1]},isSelectedNodeAFolder:function(){if(1!=selObjects.length)return!0;if(selectionCategory.area===designerBase.AVAILABLE_FIELDS_AREA){var e=this.getSelectedObject();return e?e.isParent():!1}return!1},unSelectAll:function(){selObjects.clear()},addToSelected:function(e){var t=this.isInSelection(e);t||selObjects.push(e)},shouldClearSelections:function(e,t){var i=isMetaHeld(e),n=isShiftHeld(e);return t=selectionCategory.area==t,!(t&&(i||n))},unSelectGiven:function(e){selObjects=selObjects.without(e)},isInSelection:function(e){for(var t=0;t<selObjects.length;t++)if(selectionCategory.area===this.COLUMN_LEVEL){if(e.header&&selObjects[t].header&&e.header.getAttribute("data-fieldName")==selObjects[t].header.getAttribute("data-fieldName"))return selObjects[t].index==e.index}else if(selectionCategory.area===this.GROUP_LEVEL){if(e.fieldName===selObjects[t].fieldName)return!0}else if(selectionCategory.area===this.ROW_GROUP_MENU_LEVEL||selectionCategory.area===this.COLUMN_GROUP_MENU_LEVEL||selectionCategory.area===this.LEGEND_MENU_LEVEL||selectionCategory.area===this.MEASURE_MENU_LEVEL){if(e.id===selObjects[t].id)return!0}else if(e==selObjects[t])return!0;return!1},isObjectInSelection:function(e,t){for(var i=0;i<selObjects.length;i++)if(t){if(e[t]==selObjects[i][t])return!0}else if(e==selObjects[i])return!0;return!1},clearOverlaySet:function(e){e&&(_.each(e,function(e){var t=$(e).identify();$(t)&&$(t).remove()}),e={})},deselectOverlaySet:function(e,t){_.each(e,function(e){$(e).removeClassName(t)})},enableSelection:function(){localContext.getMode()!==designerBase.DASHBOARD&&adhocDesigner&&adhocDesigner.initEnableBrowserSelection($("designer"))},disableSelection:function(){localContext.getMode()!==designerBase.DASHBOARD&&adhocDesigner&&adhocDesigner.initPreventBrowserSelection($("designer"))},getLastSavedReportFolder:function(){var e=null;return window.localStorage&&(e=window.localStorage.getItem("lastSavedReportFolder")),e?e:saveFolder},setLastSavedReportFolder:function(e){if(window.localStorage)try{window.localStorage.setItem("lastSavedReportFolder",e)}catch(t){window.console&&console.log(t)}},createAdhocSaveDialog:function(){var e=this;savePanel=new JRS.SaveAsDialog({templateMatcher:"#saveDataViewAndReport",inputMatchers:{dataViewName:".dataViewName",dataViewDescription:".dataViewDescription",reportName:".reportName",reportDescription:".reportDescription"},organizationId:organizationId,publicFolderUri:publicFolderUri,prepareState:function(e){savePanel.generatorSelect&&"TEMPLATE"===savePanel.generatorSelect.state&&(e.params.reportTemplate=savePanel.generatorSelect.val())},validator:function(t){var i=!0;return t.params.forDataView&&(i=i&&e.validateSaveNamePresent(t.dataViewName,"dataView")&&e.validateDescription(t.dataViewDescription,"dataView"),i=i&&e.validateSaveFolder(t,"dataView")),t.params.forReport&&(i=i&&e.validateSaveNamePresent(t.reportName,"report")&&e.validateDescription(t.reportDescription,"report"),t.reportName!=t.dataViewName||!t.params.forDataView&&t.folder!=saveFolder||(alert(designerMessages.datasourceOverwrite),i=!1),i=i&&e.validateSaveReportFolder(t,"report")),savePanel.generatorSelect&&"TEMPLATE"===savePanel.generatorSelect.state&&(i=i&&e.validateTemplate(t,"templateNotSelected")),i},saveHandler:function(t){var i=!t.params.forDataView||saveLabel===t.dataViewName&&saveFolder===t.folder,n={dataViewOverwriteOk:i};if(t.params.forReport&&(n.reportName=t.reportName,n.reportDescription=t.reportDescription,n.dataViewFolder=t.folder,n.reportFolder=t.reportFolder,designerBase.setLastSavedReportFolder(t.reportFolder),savePanel.generatorSelect)){var a=savePanel.generatorSelect.val();"TEMPLATE"===savePanel.generatorSelect.state&&(n.reportTemplate=a,e.generatorConfig({template:a})),"GENERATOR"===savePanel.generatorSelect.state&&(n.reportGenerator={id:a},e.generatorConfig({generator:a}))}var r;return r=t.params.forDataView?e.saveAdHoc(t.folder,t.dataViewName,t.dataViewDescription,!1,n):e.saveAdHoc(null,null,null,!1,n),t.params.forDataView?r.then(function(){saveLabel=t.dataViewName,saveDesc=t.dataViewDescription,saveFolder=t.folder}):r}}),savePanel.generatorSelect=new JRS.generatorSelect({id:"adHocGeneratorSelect",parent:savePanel.dialogElement.get(0),reportGenerators:localContext.state.reportGenerators})},createDashboardSaveDialog:function(){var e=this;savePanel=new JRS.SaveAsDialog({templateMatcher:"#saveAs",foldersTreeMatcher:"#saveAsFoldersTree",okButtonMatcher:"#saveAsBtnSave",cancelButtonMatcher:"#saveAsBtnCancel",inputMatchers:{resourceName:"#saveAsInputName",resourceDescription:"#saveAsInputDescription"},organizationId:organizationId,publicFolderUri:publicFolderUri,validator:function(t){var i=e.validateSaveNamePresent(t.resourceName,"dashboard")&&e.validateDescription(t.resourceDescription,"dashboard")&&e.validateSaveFolder(t,"dashboard");return i},saveHandler:function(t){var i=saveLabel===t.resourceName&&saveFolder===t.folder;return e.save(t.folder,t.resourceName,t.resourceDescription,i).then(function(){saveLabel=t.resourceName,saveDesc=t.resourceDescription,saveFolder=t.folder})}})},_showAdhocSavePanel:function(e){var t=this,i=saveLabel||defaultSaveName,n={dataViewName:i,dataViewDescription:saveDesc,reportName:i+" "+defaultReportSuffix,reportTemplate:e.reportTemplate,reportGenerators:e.reportGenerators,reportDescription:"",params:e};e.forDataView&&(n.folder=_.isEmpty(saveFolder)?"/":saveFolder),e.forReport&&(n.reportFolder=designerBase.getLastSavedReportFolder()||"/"),savePanel.open(n).then(function(){void 0!==adhocDesigner&&adhocDesigner.initPreventBrowserSelection(savePanel.foldersTree[0]);var i=t.generatorConfig();i&&(i.template?savePanel.generatorSelect.val(i.template,"TEMPLATE"):i.generator&&savePanel.generatorSelect.val(i.generator,"GENERATOR")),e.forDataView?savePanel.dialogElement.find(".dataViewName").focus().select():e.forReport&&savePanel.dialogElement.find(".reportName").focus().select()})},launchSaveAdhocDialog:function(e){function t(e,t){t.forDataView?(e.dialogElement.addClass("forDataView"),e.dialogElement.find(".forDataView").removeClass("hidden")):(e.dialogElement.removeClass("forDataView"),e.dialogElement.find(".forDataView").addClass("hidden")),t.forReport?(e.dialogElement.addClass("forReport"),e.dialogElement.find(".forReport").removeClass("hidden")):(e.dialogElement.removeClass("forReport"),e.dialogElement.find(".forReport").addClass("hidden")),t.forDataView&&!t.forReport?(e.dialogElement.find(".forDataViewOnly").removeClass("hidden"),savePanel.generatorSelect.hide()):(e.dialogElement.find(".forDataViewOnly").addClass("hidden"),savePanel.generatorSelect.show()),0===localContext.state.reportGenerators.length&&e.dialogElement.addClass(layoutModule.NO_GENERATORS_CLASS)}void 0===e&&(e={forDataView:!0,forReport:!1}),savePanel||this.createAdhocSaveDialog(),t(savePanel,e),adhocDesigner.filtersController.hasNotAppliedFilters()?adhocDesigner.showSaveConfirmationDialog(function(){designerBase._showAdhocSavePanel(e)}):designerBase._showAdhocSavePanel(e)},launchSaveDashboardDialog:function(){savePanel||this.createDashboardSaveDialog();var e={resourceName:saveLabel||defaultSaveName,resourceDescription:saveDesc,folder:saveFolder&&saveFolder.length>0?saveFolder:"/"};savePanel.open(e).then(function(){savePanel.dialogElement.find("#saveAsInputName").focus().select()})},launchSaveDialog:function(e){localContext.getMode()==designerBase.DASHBOARD?this.launchSaveDashboardDialog():this.launchSaveAdhocDialog(e),designerBase.enableSelection()},launchDependenciesDialog:function(e,t){var i=jQuery.Deferred();return dialogs.dependentResources.show(e.dependentResources,{dependenciesBtnSave:function(){i.resolve()},dependenciesBtnSaveAs:function(){i.reject();var e=null!=t.addOns&&null!=t.addOns.reportName;designerBase.launchSaveDialog({forDataView:!0,forReport:e})},dependenciesBtnCancel:function(){i.reject()}},{canSave:!0,okOnly:"FORBID"==e.result||"WARN"==e.result,topMessage:e.topMessage,bottomMessage:e.bottomMessage}),i},selectSaveDirectory:function(){saveAsTree.openAndSelectNode(saveFolder)},okSaveDialog:function(){saveOldLabel="",saveOldFolder="",designerBase.hideSaveDialog(),this._saveConfirmMessage()},validateSaveNamePresent:function(e,t){return!e||e.blank()?(alert(designerMessages.emptyName[t]),!1):e.length>this.LABEL_MAX_LEN?(alert(designerMessages.saveLabelError[t].replace("{0}",this.LABEL_MAX_LEN)),!1):!0},validateDescription:function(e,t){return!e||e.blank()?!0:e.length>this.DESC_MAX_LEN?(alert(designerMessages.saveDescriptionError[t].replace("{0}",this.DESC_MAX_LEN)),!1):!0},validateSaveFolder:function(e,t){if(null==e.folder)return alert(designerMessages.nonSelectedFolder[t]),!1;if(!e.isFolderWritable){var i=designerMessages.selectedFolderIsNotWritable[t];return alert(i.replace("{0}",e.folder)),!1}return!0},validateSaveReportFolder:function(e,t){if(null==e.reportFolder)return alert(designerMessages.nonSelectedFolder[t]),!1;if(!e.isReportFolderWritable){var i=designerMessages.selectedFolderIsNotWritable[t];return alert(i.replace("{0}",e.folder)),!1}return!0},validateTemplate:function(e,t){return _.isEmpty(e.params.reportTemplate)?(alert(designerMessages[t]),!1):!0},launchJSOverwriteConfirm:function(e){confirm(e)?this.overwriteConfirmed():saveLabel=null},overwriteConfirmed:function(){this.save(saveFolder,saveLabel,saveDesc,!0)},updateSessionWarning:function(e){if(TIMEOUT_INTERVAL>0&&!delayBeforeSessionTimeoutWarning){var t=TIMEOUT_INTERVAL-MILL_PER_MIN*MIN_WARN_BEFORE_TIMEOUT;delayBeforeSessionTimeoutWarning=t>0?t:MILL_PER_MIN/2}delayBeforeSessionTimeoutWarning&&(window.clearTimeout(timeoutValue),timeoutValue=window.setTimeout(function(){return designerBase.showExpirationDialog()},delayBeforeSessionTimeoutWarning))},showExpirationDialog:function(){var e=!1;e=localContext.getMode()!==this.DASHBOARD?confirm(ADHOC_SESSION_TIMEOUT_MESSAGE+getSessionExpireTime()):confirm(DASHBOARD_SESSION_TIMEOUT_MESSAGE+getSessionExpireTime()),e&&(localContext.getMode()!==designerBase.DASHBOARD?adhocDesigner.tryToKeepServerAlive():localContext.tryToKeepServerAlive())},initAdhocSpecificDesignerBaseVar:function(){TIMEOUT_INTERVAL=1e3*serverTimeoutInterval,ADHOC_SESSION_TIMEOUT_MESSAGE=adHocSessionExpireCode,ADHOC_EXIT_MESSAGE=adHocExitConfirmation},confirmAndLeave:function(){return localContext.getMode()===designerBase.DASHBOARD?confirm(DASHBOARD_EXIT_MESSAGE):localContext.state.canUndo&&localContext.state.isWritable?confirm(ADHOC_EXIT_MESSAGE):!0},generatorConfig:function(e){var t=window.localStorage;if(t&&t.getItem("reportGenerator")){var i=JSON.parse(t.reportGenerator);if(!e)return i;var n=i.sourceURI?{sourceURI:i.sourceURI}:{};i=jQuery.extend({},n,e),t.setItem("reportGenerator",JSON.stringify(i))}return null},sendAjaxActionRequest:function(e,t,i){var n=this.getFilterDialogFlowURL(e,i);ajaxTargettedUpdate(n,{fillLocation:"ajaxbuffer",callback:t,errorHandler:errorHandler,postData:i})},sendSelectiveAjaxActionRequest:function(e,t,i){var n=this.getFilterDialogFlowURL(e,i);ajaxTargettedUpdate(n,{fillLocation:"ajaxbuffer",callback:t,errorHandler:errorHandler,postData:i,mode:AjaxRequester.prototype.CUMULATIVE_UPDATE})},getFilterDialogFlowURL:function(e,t){var i=urlContext+"/flow.html?_flowId=adhocAjaxFilterDialogFlow";if(null!=e)for(var n=0;n<e.length;n++)i+="&"+e[n];return i=i+"&clientKey="+clientKey},sendRequestToAjaxBuffer:function(e,t,i){this.sendRequest(e,t,i,{target:"ajaxbuffer",mode:AjaxRequester.prototype.TARGETTED_REPLACE_UPDATE})},encodeParam:function(e){return _.isArray(e)?_.map(e,encodeURIComponent):encodeURIComponent(null!=e?e:"")},sendRequest:function(action,otherParams,postFillAction,options,customErrorHandler){var bPost=options&&options.bPost,target=options&&options.target;target=target||(isSupportsTouch()?$("mainTableContainer").down().identify():"mainTableContainer");var mode=options&&options.mode||AjaxRequester.prototype.EVAL_JSON,container=options&&options.container,hideLoader=options&&options.hideLoader,actionPrefix=getTextBeforeUnderscore(action),javaAction=getTextAfterUnderscore(action),thisURL=urlContext+controllerMap[actionPrefix],params="action="+javaAction;if(!_.isEmpty(otherParams))if(_.isArray(otherParams))params+="&"+_.compact(otherParams).join("&");else if(_.isObject(otherParams)){var cleanedParams=_.reduce(otherParams,function(e,t,i){return isNotNullORUndefined(t)&&(e[i]=t),e},{});params+="&"+jQuery.param(cleanedParams)}params+="&clientKey="+clientKey,bPost||(thisURL+="?"+params,params=null),localContext.getMode()!==this.DASHBOARD&&null==postFillAction&&(postFillAction=adhocDesigner.updateStateAndRender);var internalErrorHandler=function(e){var t=errorHandler(e);return t&&customErrorHandler&&customErrorHandler(e),t};isIPad()&&"ta_fetchMoreRows"!=action&&designerBase.updateMainOverlay(""),"undefined"!=typeof adhocDesigner&&(actionModel&&actionModel.hideMenu(),adhocDesigner&&adhocDesigner.unSelectAvailableTreeNodes());var delayedFn=function(updateURL,ajaxResponseTarget,postResponseCallback,params){return function(){var callbackWrapper=function(){clearTimeout(cancelQueryTimer),cancelQueryTimer=null,designerBase.updateMainOverlay("hidden"),postResponseCallback&&("string"==typeof postResponseCallback?eval(postResponseCallback):postResponseCallback.apply(null,arguments))};return target==designerBase.CLOBBER?ajaxClobberredUpdate(updateURL,{callback:callbackWrapper,errorHandler:internalErrorHandler,postData:params}):ajaxTargettedUpdate(updateURL,{fillLocation:ajaxResponseTarget,fromLocation:container,callback:callbackWrapper,errorHandler:internalErrorHandler,postData:params,mode:mode,hideLoader:hideLoader})}}(thisURL,target,postFillAction,params);setTimeout(delayedFn,0)},sendNonReturningRequest:function(e,t,i,n){var a=getTextBeforeUnderscore(e),r=getTextAfterUnderscore(e),s=urlContext+controllerMap[a]+"?action="+r;if(t)for(var o=0;o<t.length;o++)s+="&"+t[o];s+="&clientKey="+clientKey,ajaxNonReturningUpdate(s,{callback:i,errorHandler:errorHandler})},redirectToHomePage:function(){document.location="flow.html?_flowId=homeFlow"},save:function(e,t,i,n,a){return localContext.getMode()===designerBase.DASHBOARD?localContext.saveDashboard(e,t,i,n):designerBase.saveAdHocWithNotAppliedFiltersCheck(e,t,i,n,a)},saveAdHocWithNotAppliedFiltersCheck:function(e,t,i,n,a){return adhocDesigner.filtersController.hasNotAppliedFilters()?void adhocDesigner.showSaveConfirmationDialog(_.bind(function(){return this.saveAdHoc(e,t,i,n,a)},this)):this.saveAdHoc(e,t,i,n,a)},saveAdHoc:function(e,t,i,n,a){return this.checkSave(e,t,i,n,a).then(function(){return designerBase.doSave(e,t,i,n,a)})},createOverwriteHanlder:function(e,t){var i=this;return function(n){var a=n.getResponseHeader("fileExistsException");return a?(a=decodeURIComponent(a),void(confirm(a.replace(/@@/g," "))?i.doSave.apply(i,t).then(function(){e.resolve()},function(t){e.reject(t)}):e.reject())):void e.reject(n)}},doSave:function(e,t,i,n,a){var r=jQuery.Deferred();adhocDesigner&&jQuery("#designer").trigger("report_name_update",[t]);var s=function(e){localContext.standardOpCallback&&localContext.standardOpCallback(e),this._saveConfirmMessage(),r.resolve()}.bind(designerBase),o=designerBase.createOverwriteHanlder(r,[e,t,i,!0,a]),l=new Array("allOverwrite="+n);if(null!=t&&(l.push("aruLabel="+encodeText(t)),l.push("aruDesc="+encodeText(i)),l.push("aruFolder="+encodeText(e))),void 0!==a&&(l.push("aruOverwrite="+a.dataViewOverwriteOk),void 0!==a.reportName&&(l.push("reportLabel="+encodeText(a.reportName)),l.push("reportDesc="+encodeText(a.reportDescription)),l.push("reportFolder="+encodeText(a.reportFolder)),a.reportTemplate&&l.push("reportTemplate="+encodeText(a.reportTemplate)),a.reportGenerator))){var d=Object.toJSON(a.reportGenerator);l.push("reportGenerator="+encodeText(d))}return this.sendRequest(designerBase.getControllerPrefix()+"_save",l,s,null,o),r},checkSave:function(e,t,i,n,a){var r=this,s=jQuery.Deferred(),o=function(o){o.topMessage?r.launchDependenciesDialog(o,{folder:e,name:t,desc:i,overwrite:n,addOns:a}).then(function(){s.resolve()},function(){s.reject()}):s.resolve()}.bind(designerBase),l=new Array("aruFolder="+encodeText(e),"aruLabel="+encodeText(t));return a&&a.reportName&&(l.push("reportFolder="+encodeText(a.reportFolder)),l.push("reportLabel="+encodeText(a.reportName))),this.sendRequest("co_checkSave",l,o,null),s},_saveConfirmMessage:function(){dialogs.systemConfirm.show(saveConfirmation,5e3)},createDomObject:function(e,t){if(e)return Builder.node(e,{className:t});throw"Please provide a valid tag"},getContentDimensions:function(e){var e=$A(e),t=e.collect(function(e){var t=e.getDimensions(),i=e.positionedOffset();return{width:t.width+i[0],height:t.height+i[1]}}),i=t.collect(function(e){return e.width}).max(),n=t.collect(function(e){return e.height}).max();return{width:i,height:n}},updateIFrameScrolls:function(){},updateMainOverlay:function(e){var t=document.getElementById("mainTableContainerOverlay");t&&(t.className=e)}},errorHandler=function(e){clearTimeout(cancelQueryTimer),cancelQueryTimer=null;var t=e.getResponseHeader("LoginRequested");if(t)return document.location=urlContext,!0;var i=e.getResponseHeader("fileExistsException");if(i)return i=decodeURIComponent(i),!0;var n=e.getResponseHeader("multipleFileExistException");if(n)return n=decodeURIComponent(n),alert(n.replace(/@@/g," ")),$("saveAsBtnSave")&&($("saveAsBtnSave").disabled=!1),!0;var a=e.getResponseHeader("adhocException");if(a){var r=decodeURIComponent(a);return showErrorPopup(r.replace(/@@/g," ")),!0}return baseErrorHandler(e)};define("designer.base",["jquery","core.ajax","underscore","prototype","utils.common","actionModel.modelGenerator"],function(e){return function(){var t;return t||e.designerBase}}(this));var toolbarButtonModule={UP:"up",DOWN:"down",OVER:"over",DISABLED:"disabled",PRESSED:"pressed",CONTENT_PREFIX:"toolbar_",MenuClass:"menu vertical dropDown",TOOLBAR_MENU_CLASS:"menu vertical dropDown fitable",ACTION_MODEL_TAG:"adhocActionModel",CAPSULE_PATTERN:"capsule",showButtonMenu:function(e,t){t=jQuery(t);var i=this.CONTENT_PREFIX+t.attr("id"),n="adhocActionModel"==this.ACTION_MODEL_TAG?this.actionModel:this.ACTION_MODEL_TAG;actionModel.showDropDownMenu(e,t,i,this.TOOLBAR_MENU_CLASS,n)},setActionModel:function(e){this.actionModel=e},isToolBarButton:function(e){return e?jQuery(e).hasClass("capsule"):!1},enable:function(e,t){buttonManager.enable(e)},disable:function(e){buttonManager.disable(e)},setButtonState:function(e,t){t?this.enable(e):this.disable(e)}};define("components.toolbarButtons",["jquery","prototype"],function(e){return function(){var t;return t||e.toolbarButtonModule}}(this)),toolbarButtonModule.initialize=function(e){toolbarButtonModule.actionMap=e,jQuery(".toolbar").on("mouseup mouseover mouseout","button",function(e){jQuery(this).prop("disabled")||toolbarButtonModule["mouse"+e.type.substring(5,6).toUpperCase()+e.type.substring(6)+"Handler"](e,this)}),isFirefox()&&jQuery(".toolbar li").each(function(e,t){jQuery(t).css("padding","0 2px")})},toolbarButtonModule.mouseUpHandler=function(e,t){var i=t.className.indexOf("capsule")>=0?toolbarButtonModule.actionMap[t.id]:null;if(i){var n=getAsFunction(i);n(e),e.stopPropagation()}},toolbarButtonModule.mouseOverHandler=function(e,t){t.className.indexOf("capsule")>=0&&t.className.indexOf("mutton")>=0&&!buttonManager.isDisabled(t)&&toolbarButtonModule.showButtonMenu(e.originalEvent,t)},toolbarButtonModule.mouseOutHandler=function(e,t){},define("components.toolbar",["jquery","prototype","utils.common","components.toolbarButtons"],function(e){return function(){var t;return t||e.toolbarButtonModule}}(this)),function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=e.document?t(e,e.jQuery):t:"function"==typeof define&&define.amd?define("highcharts",["jquery"],function(i){return t(e,i)}):e.Highcharts=t(e,e.jQuery)}("undefined"!=typeof window?window:this,function(e,t){function i(e){return e}function n(t,i){var n="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(i)throw new Error(n);e.console&&console.log(n)}function a(e,t,i){this.options=t,this.elem=e,this.prop=i}function r(){var e,t,i=arguments,n={},a=function(e,t){var i,n;"object"!=typeof e&&(e={});for(n in t)t.hasOwnProperty(n)&&(i=t[n],i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"renderTo"!==n&&"number"!=typeof i.nodeType?e[n]=a(e[n]||{},i):e[n]=t[n]);return e};for(i[0]===!0&&(n=i[1],i=Array.prototype.slice.call(i,2)),t=i.length,e=0;t>e;e++)n=a(n,i[e]);return n}function s(e,t){return parseInt(e,t||10)}function o(e){return"string"==typeof e}function l(e){return e&&"object"==typeof e}function d(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(e){return"number"==typeof e}function u(e){return ge.log(e)/ge.LN10}function h(e){return ge.pow(10,e)}function m(e,t){for(var i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}}function p(e){return e!==U&&null!==e}function f(e,t,i){var n,a;if(o(t))p(i)?e.setAttribute(t,i):e&&e.getAttribute&&(a=e.getAttribute(t));else if(p(t)&&l(t))for(n in t)e.setAttribute(n,t[n]);return a}function g(e){return d(e)?e:[e]}function _(e,t,i){return t?setTimeout(e,t,i):void e.call(0,i)}function v(e,t){Ee&&!ke&&t&&t.opacity!==U&&(t.filter="alpha(opacity="+100*t.opacity+")"),Tt(e.style,t)}function b(e,t,i,n,a){var r=fe.createElement(e);return t&&Tt(r,t),a&&v(r,{padding:0,border:"none",margin:0}),i&&v(r,i),n&&n.appendChild(r),r}function y(e,t){var i=function(){};return i.prototype=new e,Tt(i.prototype,t),i}function T(e,t){return new Array((t||2)+1-String(e).length).join(0)+e}function A(e,t){return/%$/.test(e)?t*parseFloat(e)/100:parseFloat(e)}function M(e){return 6e4*(te&&te(e)||ee||0)}function S(e,t){var i,n=/f$/,a=/\.([0-9])/,r=q.lang;return n.test(e)?(i=e.match(a),i=i?i[1]:-1,null!==t&&(t=lt.numberFormat(t,i,r.decimalPoint,e.indexOf(",")>-1?r.thousandsSep:""))):t=$(e,t),t}function L(e,t){for(var i,n,a,r,s,o,l,d="{",c=!1,u=[];-1!==(l=e.indexOf(d));){if(i=e.slice(0,l),c){for(n=i.split(":"),a=n.shift().split("."),s=a.length,o=t,r=0;s>r;r++)o=o[a[r]];n.length&&(o=S(n.join(":"),o)),u.push(o)}else u.push(i);e=e.slice(l+1),c=!c,d=c?"}":"{"}return u.push(e),u.join("")}function C(e){return ge.pow(10,ve(ge.log(e)/ge.LN10))}function D(e,t,i,n,a){var r,s,o=e;for(i=At(i,1),r=e/i,t||(t=[1,2,2.5,5,10],n===!1&&(1===i?t=[1,2,5,10]:.1>=i&&(t=[1/i]))),s=0;s<t.length&&(o=t[s],!(a&&o*i>=e||!a&&r<=(t[s]+(t[s+1]||t[s]))/2));s++);return o*=i}function x(e,t){var i,n,a=e.length;for(n=0;a>n;n++)e[n].safeI=n;for(e.sort(function(e,n){return i=t(e,n),0===i?e.safeI-n.safeI:i}),n=0;a>n;n++)delete e[n].safeI}function E(e){for(var t=e.length,i=e[0];t--;)e[t]<i&&(i=e[t]);return i}function w(e){for(var t=e.length,i=e[0];t--;)e[t]>i&&(i=e[t]);return i}function O(e,t){var i;for(i in e)e[i]&&e[i]!==t&&e[i].destroy&&e[i].destroy(),delete e[i]}function I(e){W||(W=b(ze)),e&&W.appendChild(e),W.innerHTML=""}function R(e,t){return parseFloat(e.toPrecision(t||14))}function N(e,t){t.renderer.globalAnimation=At(e,t.animation)}function k(){var t=q.global,i=t.useUTC,n=i?"getUTC":"get",a=i?"setUTC":"set";J=t.Date||e.Date,ee=i&&t.timezoneOffset,te=i&&t.getTimezoneOffset,Z=function(e,t,n,a,r,s){var o;return i?(o=J.UTC.apply(0,arguments),o+=M(o)):o=new J(e,t,At(n,1),At(a,0),At(r,0),At(s,0)).getTime(),o},ie=n+"Minutes",ne=n+"Hours",ae=n+"Day",re=n+"Date",se=n+"Month",oe=n+"FullYear",le=a+"Milliseconds",de=a+"Seconds",ce=a+"Minutes",ue=a+"Hours",he=a+"Date",me=a+"Month",pe=a+"FullYear"}function H(e){return q=r(!0,q,e),k(),q}function P(){return q}function F(e){return this instanceof F?void this.init(e):new F(e)}function Y(){}function j(e,t){var i=fe.getElementsByTagName("head")[0],n=fe.createElement("script");n.type="text/javascript",n.src=e,n.onload=t,i.appendChild(n)}function B(e,t,i,n){this.axis=e,this.pos=t,this.type=i||"",this.isNew=!0,i||n||this.addLabel()}function V(e,t,i,n,a){var r=e.chart.inverted;this.axis=e,this.isNegative=i,this.options=t,this.x=n,this.total=null,this.points={},this.stack=a,this.alignOptions={align:t.align||(r?i?"left":"right":"center"),verticalAlign:t.verticalAlign||(r?"middle":i?"bottom":"top"),y:At(t.y,r?4:i?14:-6),x:At(t.x,r?i?-6:6:0)},this.textAlign=t.textAlign||(r?i?"right":"left":"center")}var U,G,z,W,q,$,X,Q,K,J,Z,ee,te,ie,ne,ae,re,se,oe,le,de,ce,ue,he,me,pe,fe=e.document,ge=Math,_e=ge.round,ve=ge.floor,be=ge.ceil,ye=ge.max,Te=ge.min,Ae=ge.abs,Me=ge.cos,Se=ge.sin,Le=ge.PI,Ce=2*Le/360,De=e.navigator&&e.navigator.userAgent||"",xe=e.opera,Ee=/(msie|trident|edge)/i.test(De)&&!xe,we=fe&&8===fe.documentMode,Oe=!Ee&&/AppleWebKit/.test(De),Ie=/Firefox/.test(De),Re=/(Mobile|Android|Windows Phone)/.test(De),Ne="http://www.w3.org/2000/svg",ke=fe&&fe.createElementNS&&!!fe.createElementNS(Ne,"svg").createSVGRect,He=Ie&&parseInt(De.split("Firefox/")[1],10)<4,Pe=fe&&!ke&&!Ee&&!!fe.createElement("canvas").getContext,Fe={},Ye=0,je=function(){},Be=[],Ve=0,Ue="Highcharts",Ge="4.2.1",ze="div",We="absolute",qe="relative",$e="hidden",Xe="highcharts-",Qe="visible",Ke="px",Je="none",Ze="M",et="L",tt=/^[0-9]+$/,it="",nt="hover",at="select",rt=["plotTop","marginRight","marginBottom","plotLeft"],st="stroke-width",ot={},lt={};lt.seriesTypes=ot;var dt,ct,ut,ht,mt,pt,ft,gt,_t,vt,bt,yt=[];a.prototype={dSetter:function(){var e,t=this.paths[0],i=this.paths[1],n=[],a=this.now,r=t.length;if(1===a)n=this.toD;else if(r===i.length&&1>a)for(;r--;)e=parseFloat(t[r]),n[r]=isNaN(e)?t[r]:a*parseFloat(i[r]-e)+e;else n=i;this.elem.attr("d",n)},update:function(){var e=this.elem,t=this.prop,i=this.now,n=this.options.step;this[t+"Setter"]?this[t+"Setter"]():e.attr?e.element&&e.attr(t,i):e.style[t]=i+this.unit,n&&n.call(e,i,this)},run:function(e,t,i){var n,a=this,r=function(e){return r.stopped?!1:a.step(e)};this.startTime=+new J,this.start=e,this.end=t,this.unit=i,this.now=this.start,this.pos=0,r.elem=this.elem,r()&&1===yt.push(r)&&(r.timerId=setInterval(function(){for(n=0;n<yt.length;n++)yt[n]()||yt.splice(n--,1);yt.length||clearInterval(r.timerId)},13))},step:function(e){var t,i,n,a=+new J,r=this.options,s=this.elem,o=r.complete,l=r.duration,d=r.curAnim;if(s.attr&&!s.element)t=!1;else if(e||a>=l+this.startTime){this.now=this.end,this.pos=1,this.update(),d[this.prop]=!0,i=!0;for(n in d)d[n]!==!0&&(i=!1);i&&o&&o.call(s),t=!1}else this.pos=r.easing((a-this.startTime)/l),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0;return t},initPath:function(e,t,i){t=t||"";var n,a,r,s,o,l=e.shift,d=t.indexOf("C")>-1,c=d?7:3,u=t.split(" "),h=[].concat(i),m=function(e){for(r=e.length;r--;)e[r]===Ze&&e.splice(r+1,0,e[r+1],e[r+2],e[r+1],e[r+2])};if(d&&(m(u),m(h)),e.isArea&&(s=u.splice(u.length-6,6),o=h.splice(h.length-6,6)),l<=h.length/c&&u.length===h.length)for(;l--;)h=[].concat(h).splice(0,c).concat(h);if(e.shift=0,u.length)for(n=h.length;u.length<n;)a=[].concat(u).splice(u.length-c,c),d&&(a[c-6]=a[c-2],a[c-5]=a[c-1]),u=u.concat(a);return s&&(u=u.concat(s),h=h.concat(o)),[u,h]}};var Tt=lt.extend=function(e,t){var i;e||(e={});for(i in t)e[i]=t[i];return e},At=lt.pick=function(){var e,t,i=arguments,n=i.length;for(e=0;n>e;e++)if(t=i[e],t!==U&&null!==t)return t},Mt=lt.wrap=function(e,t,i){var n=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(n),i.apply(this,e)}};$=function(e,t,i){if(!p(t)||isNaN(t))return q.lang.invalidDate||"";e=At(e,"%Y-%m-%d %H:%M:%S");var n,a=new J(t-M(t)),r=a[ne](),s=a[ae](),o=a[re](),l=a[se](),d=a[oe](),c=q.lang,u=c.weekdays,h=Tt({a:u[s].substr(0,3),A:u[s],d:T(o),e:o,w:s,b:c.shortMonths[l],B:c.months[l],m:T(l+1),y:d.toString().substr(2,2),Y:d,H:T(r),k:r,I:T(r%12||12),l:r%12||12,M:T(a[ie]()),p:12>r?"AM":"PM",P:12>r?"am":"pm",S:T(a.getSeconds()),L:T(_e(t%1e3),3)},lt.dateFormats);for(n in h)for(;-1!==e.indexOf("%"+n);)e=e.replace("%"+n,"function"==typeof h[n]?h[n](t):h[n]);return i?e.substr(0,1).toUpperCase()+e.substr(1):e},Q={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},lt.numberFormat=function(e,t,i,n){var a=q.lang,r=+e||0,o=-1===t?Math.min((r.toString().split(".")[1]||"").length,20):isNaN(t=Math.abs(t))?2:t,l=void 0===i?a.decimalPoint:i,d=void 0===n?a.thousandsSep:n,c=0>r?"-":"",u=String(s(r=Ae(r).toFixed(o))),h=u.length>3?u.length%3:0;return c+(h?u.substr(0,h)+d:"")+u.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+d)+(o?l+Ae(r-u).toFixed(o).slice(2):"")},Math.easeInOutSine=function(e){return-.5*(Math.cos(Math.PI*e)-1)},dt=function(t,i){var n=e.getComputedStyle(t,void 0);return n&&s(n.getPropertyValue(i))},ct=function(e,t){return t.indexOf?t.indexOf(e):[].indexOf.call(t,e)},ht=function(e,t){return[].filter.call(e,t)},pt=function(e,t){for(var i=[],n=0,a=e.length;a>n;n++)i[n]=t.call(e[n],e[n],n,e);return i},mt=function(t){var i=fe.documentElement,n=t.getBoundingClientRect();return{top:n.top+(e.pageYOffset||i.scrollTop)-(i.clientTop||0),left:n.left+(e.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},bt=function(e){for(var t=yt.length;t--;)yt[t].elem===e&&(yt[t].stopped=!0)},ut=function(e,t){return Array.prototype.forEach.call(e,t)},ft=function(t,i,n){function a(i){i.target=i.srcElement||e,n.call(t,i)}var r=t.hcEvents=t.hcEvents||{};t.addEventListener?t.addEventListener(i,n,!1):t.attachEvent&&(t.hcEventsIE||(t.hcEventsIE={}),t.hcEventsIE[n.toString()]=a,t.attachEvent("on"+i,a)),r[i]||(r[i]=[]),r[i].push(n)},gt=function(e,t,i){function n(t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.attachEvent&&(i=e.hcEventsIE[i.toString()],
e.detachEvent("on"+t,i))}function a(){var i,a,r;if(e.nodeName){t?(i={},i[t]=!0):i=o;for(r in i)if(o[r])for(a=o[r].length;a--;)n(r,o[r][a])}}var r,s,o=e.hcEvents;o&&(t?(r=o[t]||[],i?(s=ct(i,r),s>-1&&(r.splice(s,1),o[t]=r),n(t,i)):(a(),o[t]=[])):(a(),e.hcEvents={}))},_t=function(e,t,i,n){var a,r,s,o,l,d,c=e.hcEvents;if(i=i||{},fe.createEvent&&(e.dispatchEvent||e.fireEvent))a=fe.createEvent("Events"),a.initEvent(t,!0,!0),a.target=e,Tt(a,i),e.dispatchEvent?e.dispatchEvent(a):e.fireEvent(t,a);else if(c)for(r=c[t]||[],s=r.length,l=function(){i.defaultPrevented=!0},o=0;s>o;o++){if(d=r[o],i.stopped)return;i.preventDefault=l,i.target=e,i.type||(i.type=t),d.call(e,i)===!1&&i.preventDefault()}n&&!i.defaultPrevented&&n(i)},vt=function(e,t,i){var n,s,o,d,u,h="";l(i)||(d=arguments,i={duration:d[2],easing:d[3],complete:d[4]}),c(i.duration)||(i.duration=400),i.easing=Math[i.easing]||Math.easeInOutSine,i.curAnim=r(t);for(u in t)o=new a(e,i,u),s=null,"d"===u?(o.paths=o.initPath(e,e.d,t.d),o.toD=t.d,n=0,s=1):e.attr?n=e.attr(u):(n=parseFloat(dt(e,u))||0,"opacity"!==u&&(h="px")),s||(s=t[u]),s.match&&s.match("px")&&(s=s.replace(/px/g,"")),o.run(n,s,h)},t&&(t.fn.highcharts=function(){var e=[].slice.call(arguments);return this[0]?e[0]?(new(lt[o(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):Be[f(this[0],"data-highcharts-chart")]:void 0}),fe&&!fe.defaultView&&(dt=function(e,t){var i,n={width:"clientWidth",height:"clientHeight"}[t];return e.style[t]?s(e.style[t]):("opacity"===t&&(t="filter"),n?(e.style.zoom=1,e[n]-2*dt(e,"padding")):(i=e.currentStyle[t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})],"filter"===t&&(i=i.replace(/alpha\(opacity=([0-9]+)\)/,function(e,t){return t/100})),""===i?1:s(i)))}),Array.prototype.forEach||(ut=function(e,t){for(var i=0,n=e.length;n>i;i++)if(t.call(e[i],e[i],i,e)===!1)return i}),Array.prototype.indexOf||(ct=function(e,t){var i,n=0;if(t)for(i=t.length;i>n;n++)if(t[n]===e)return n;return-1}),Array.prototype.filter||(ht=function(e,t){for(var i=[],n=0,a=e.length;a>n;n++)t(e[n],n)&&i.push(e[n]);return i}),lt.Fx=a,lt.inArray=ct,lt.each=ut,lt.grep=ht,lt.offset=mt,lt.map=pt,lt.addEvent=ft,lt.removeEvent=gt,lt.fireEvent=_t,lt.animate=vt,lt.stop=bt,q={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.2.1/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":lt.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:We,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:We,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:qe,top:"45%"},style:{position:We,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:ke,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:Re?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var St=q.plotOptions,Lt=St.line;k(),F.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(e){return[s(e[1]),s(e[2]),s(e[3]),parseFloat(e[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[s(e[1],16),s(e[2],16),s(e[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(e){return[s(e[1]),s(e[2]),s(e[3]),1]}}],init:function(e){var t,i,n,a;if(this.input=e,e&&e.stops)this.stops=pt(e.stops,function(e){return new F(e[1])});else for(n=this.parsers.length;n--&&!i;)a=this.parsers[n],t=a.regex.exec(e),t&&(i=a.parse(t));this.rgba=i||[]},get:function(e){var t,i=this.input,n=this.rgba;return this.stops?(t=r(i),t.stops=[].concat(t.stops),ut(this.stops,function(i,n){t.stops[n]=[t.stops[n][0],i.get(e)]})):t=n&&!isNaN(n[0])?"rgb"===e||!e&&1===n[3]?"rgb("+n[0]+","+n[1]+","+n[2]+")":"a"===e?n[3]:"rgba("+n.join(",")+")":i,t},brighten:function(e){var t,i=this.rgba;if(this.stops)ut(this.stops,function(t){t.brighten(e)});else if(c(e)&&0!==e)for(t=0;3>t;t++)i[t]+=s(255*e),i[t]<0&&(i[t]=0),i[t]>255&&(i[t]=255);return this},setOpacity:function(e){return this.rgba[3]=e,this}},Y.prototype={opacity:1,textProps:["direction","fontSize","fontWeight","fontFamily","fontStyle","color","lineHeight","width","textDecoration","textOverflow","textShadow"],init:function(e,t){var i=this;i.element="span"===t?b(t):fe.createElementNS(Ne,t),i.renderer=e},animate:function(e,t,i){var n=At(t,this.renderer.globalAnimation,!0);return bt(this),n?(n=r(n,{}),i&&(n.complete=i),vt(this,e,n)):this.attr(e,null,i),this},colorGradient:function(e,t,i){var n,a,s,o,l,c,u,h,m,f,g,_,v,b=this.renderer,y=[];if(e.linearGradient?a="linearGradient":e.radialGradient&&(a="radialGradient"),a){s=e[a],l=b.gradients,u=e.stops,f=i.radialReference,d(s)&&(e[a]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===a&&f&&!p(s.gradientUnits)&&(o=s,s=r(s,b.getRadialAttr(f,o),{gradientUnits:"userSpaceOnUse"}));for(g in s)"id"!==g&&y.push(g,s[g]);for(g in u)y.push(u[g]);y=y.join(","),l[y]?_=l[y].attr("id"):(s.id=_=Xe+Ye++,l[y]=c=b.createElement(a).attr(s).add(b.defs),c.radAttr=o,c.stops=[],ut(u,function(e){var t;0===e[1].indexOf("rgba")?(n=F(e[1]),h=n.get("rgb"),m=n.get("a")):(h=e[1],m=1),t=b.createElement("stop").attr({offset:e[0],"stop-color":h,"stop-opacity":m}).add(c),c.stops.push(t)})),v="url("+b.url+"#"+_+")",i.setAttribute(t,v),i.gradient=y,e.toString=function(){return v}}},applyTextShadow:function(e){var t,i=this.element,n=-1!==e.indexOf("contrast"),a={},r=this.renderer.forExport,o=r||i.style.textShadow!==U&&!Ee;n&&(a.textShadow=e=e.replace(/contrast/g,this.renderer.getContrast(i.style.fill))),(Oe||r)&&(a.textRendering="geometricPrecision"),o?this.css(a):(this.fakeTS=!0,this.ySetter=this.xSetter,t=[].slice.call(i.getElementsByTagName("tspan")),ut(e.split(/\s?,\s?/g),function(e){var n,a,r=i.firstChild;e=e.split(" "),n=e[e.length-1],a=e[e.length-2],a&&ut(t,function(e,t){var o;0===t&&(e.setAttribute("x",i.getAttribute("x")),t=i.getAttribute("y"),e.setAttribute("y",t||0),null===t&&i.setAttribute("y",0)),o=e.cloneNode(1),f(o,{"class":Xe+"text-shadow",fill:n,stroke:n,"stroke-opacity":1/ye(s(a),3),"stroke-width":a,"stroke-linejoin":"round"}),i.insertBefore(o,r)})}))},attr:function(e,t,i){var n,a,r,s,o=this.element,l=this;if("string"==typeof e&&t!==U&&(n=e,e={},e[n]=t),"string"==typeof e)l=(this[e+"Getter"]||this._defaultGetter).call(this,e,o);else{for(n in e)a=e[n],s=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(r||(this.symbolAttr(e),r=!0),s=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),s||(this[n+"Setter"]||this._defaultSetter).call(this,a,n,o),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,a);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return i&&i(),l},updateShadows:function(e,t){for(var i=this.shadows,n=i.length;n--;)i[n].setAttribute(e,"height"===e?Math.max(t-(i[n].cutHeight||0),0):"d"===e?this.d:t)},addClass:function(e){var t=this.element,i=f(t,"class")||"";return-1===i.indexOf(e)&&f(t,"class",i+" "+e),this},symbolAttr:function(e){var t=this;ut(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(i){t[i]=At(e[i],t[i])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":Je)},crisp:function(e){var t,i,n=this,a={},r=e.strokeWidth||n.strokeWidth||0;i=_e(r)%2/2,e.x=ve(e.x||n.x||0)+i,e.y=ve(e.y||n.y||0)+i,e.width=ve((e.width||n.width||0)-2*i),e.height=ve((e.height||n.height||0)-2*i),e.strokeWidth=r;for(t in e)n[t]!==e[t]&&(n[t]=a[t]=e[t]);return a},css:function(e){var t,i,n,a=this,r=a.styles,o={},l=a.element,d="",c=!r;if(e&&e.color&&(e.fill=e.color),r)for(i in e)e[i]!==r[i]&&(o[i]=e[i],c=!0);if(c){if(t=a.textWidth=e&&e.width&&"text"===l.nodeName.toLowerCase()&&s(e.width)||a.textWidth,r&&(e=Tt(r,o)),a.styles=e,t&&(Pe||!ke&&a.renderer.forExport)&&delete e.width,Ee&&!ke)v(a.element,e);else{n=function(e,t){return"-"+t.toLowerCase()};for(i in e)d+=i.replace(/([A-Z])/g,n)+":"+e[i]+";";f(l,"style",d)}t&&a.added&&a.renderer.buildText(a)}return a},on:function(e,t){var i=this,n=i.element;return z&&"click"===e?(n.ontouchstart=function(e){i.touchEventFired=J.now(),e.preventDefault(),t.call(n,e)},n.onclick=function(e){(-1===De.indexOf("Android")||J.now()-(i.touchEventFired||0)>1100)&&t.call(n,e)}):n["on"+e]=t,this},setRadialReference:function(e){var t=this.renderer.gradients[this.element.gradient];return this.element.radialReference=e,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(e,t.radAttr)),this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){var e=this;return e.inverted=!0,e.updateTransform(),e},updateTransform:function(){var e,t=this,i=t.translateX||0,n=t.translateY||0,a=t.scaleX,r=t.scaleY,s=t.inverted,o=t.rotation,l=t.element;s&&(i+=t.attr("width"),n+=t.attr("height")),e=["translate("+i+","+n+")"],s?e.push("rotate(90) scale(-1,1)"):o&&e.push("rotate("+o+" "+(l.getAttribute("x")||0)+" "+(l.getAttribute("y")||0)+")"),(p(a)||p(r))&&e.push("scale("+At(a,1)+" "+At(r,1)+")"),e.length&&l.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,i){var n,a,r,s,l,d={},c=this.renderer,u=c.alignedObjects;return e?(this.alignOptions=e,this.alignByTranslate=t,(!i||o(i))&&(this.alignTo=l=i||"renderer",m(u,this),u.push(this),i=null)):(e=this.alignOptions,t=this.alignByTranslate,l=this.alignTo),i=At(i,c[l],c),n=e.align,a=e.verticalAlign,r=(i.x||0)+(e.x||0),s=(i.y||0)+(e.y||0),("right"===n||"center"===n)&&(r+=(i.width-(e.width||0))/{right:1,center:2}[n]),d[t?"translateX":"x"]=_e(r),("bottom"===a||"middle"===a)&&(s+=(i.height-(e.height||0))/({bottom:1,middle:2}[a]||1)),d[t?"translateY":"y"]=_e(s),this[this.placed?"animate":"attr"](d),this.placed=!0,this.alignAttr=d,this},getBBox:function(e,t){var i,n,a,r,s,o,l,d,c=this,u=c.renderer,h=c.element,m=c.styles,p=c.textStr,f=h.style,g=u.cache,_=u.cacheKeys;if(r=At(t,c.rotation),s=r*Ce,p!==U&&(d=["",r||0,m&&m.fontSize,h.style.width].join(","),d=""===p||tt.test(p)?"num:"+p.toString().length+d:p+d),d&&!e&&(i=g[d]),!i){if(h.namespaceURI===Ne||u.forExport){try{l=this.fakeTS&&function(e){ut(h.querySelectorAll("."+Xe+"text-shadow"),function(t){t.style.display=e})},Ie&&f.textShadow?(o=f.textShadow,f.textShadow=""):l&&l(Je),i=h.getBBox?Tt({},h.getBBox()):{width:h.offsetWidth,height:h.offsetHeight},o?f.textShadow=o:l&&l("")}catch(v){}(!i||i.width<0)&&(i={width:0,height:0})}else i=c.htmlGetBBox();if(u.isSVG&&(n=i.width,a=i.height,Ee&&m&&"11px"===m.fontSize&&"16.9"===a.toPrecision(3)&&(i.height=a=14),r&&(i.width=Ae(a*Se(s))+Ae(n*Me(s)),i.height=Ae(a*Me(s))+Ae(n*Se(s)))),d){for(;_.length>250;)delete g[_.shift()];g[d]||_.push(d),g[d]=i}}return i},show:function(e){return this.attr({visibility:e?"inherit":Qe})},hide:function(){return this.attr({visibility:$e})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t,i=this.renderer,n=this.element;return e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!e||e.handleZ||this.zIndex)&&(t=this.zIndexSetter()),t||(e?e.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,i,n=this,a=n.element||{},r=n.shadows,s=n.renderer.isSVG&&"SPAN"===a.nodeName&&n.parentGroup;if(a.onclick=a.onmouseout=a.onmouseover=a.onmousemove=a.point=null,bt(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(i=0;i<n.stops.length;i++)n.stops[i]=n.stops[i].destroy();n.stops=null}for(n.safeRemoveChild(a),r&&ut(r,function(e){n.safeRemoveChild(e)});s&&s.div&&0===s.div.childNodes.length;)e=s.parentGroup,n.safeRemoveChild(s.div),delete s.div,s=e;n.alignTo&&m(n.renderer.alignedObjects,n);for(t in n)delete n[t];return null},shadow:function(e,t,i){var n,a,r,s,o,l,d=[],c=this.element;if(e){for(s=At(e.width,3),o=(e.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+At(e.offsetX,1)+", "+At(e.offsetY,1)+")",n=1;s>=n;n++)a=c.cloneNode(0),r=2*s+1-2*n,f(a,{isShadow:"true",stroke:e.color||"black","stroke-opacity":o*n,"stroke-width":r,transform:"translate"+l,fill:Je}),i&&(f(a,"height",ye(f(a,"height")-r,0)),a.cutHeight=r),t?t.element.appendChild(a):c.parentNode.insertBefore(a,c),d.push(a);this.shadows=d}return this},xGetter:function(e){return"circle"===this.element.nodeName&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){var t=At(this[e],this.element?this.element.getAttribute(e):null,0);return/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(e,t,i){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),i.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var t;if(e=e&&e.toLowerCase()){for(e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),t=e.length;t--;)e[t]=s(e[t])*this["stroke-width"];e=e.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,i){this[t]=e,i.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=fe.createElementNS(Ne,"title"),this.element.appendChild(t)),t.appendChild(fe.createTextNode(String(At(e),"").replace(/<[^>]*>/g,"")))},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,i){"string"==typeof e?i.setAttribute(t,e):e&&this.colorGradient(e,t,i)},visibilitySetter:function(e,t,i){"inherit"===e?i.removeAttribute(t):i.setAttribute(t,e)},zIndexSetter:function(e,t){var i,n,a,r,o,l=this.renderer,d=this.parentGroup,c=d||l,u=c.element||l.box,h=this.element,m=this.added;if(p(e)&&(h.setAttribute(t,e),e=+e,this[t]===e&&(m=!1),this[t]=e),m){for(e=this.zIndex,e&&d&&(d.handleZ=!0),i=u.childNodes,o=0;o<i.length&&!r;o++)n=i[o],a=f(n,"zIndex"),n!==h&&(s(a)>e||!p(e)&&p(a))&&(u.insertBefore(h,n),r=!0);r||u.appendChild(h)}return r},_defaultSetter:function(e,t,i){i.setAttribute(t,e)}},Y.prototype.yGetter=Y.prototype.xGetter,Y.prototype.translateXSetter=Y.prototype.translateYSetter=Y.prototype.rotationSetter=Y.prototype.verticalAlignSetter=Y.prototype.scaleXSetter=Y.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},Y.prototype["stroke-widthSetter"]=Y.prototype.strokeSetter=function(e,t,i){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],Y.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===t&&0===e&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)};var Ct=function(){this.init.apply(this,arguments)};Ct.prototype={Element:Y,init:function(t,i,n,a,r,s){var o,l,d,c=this;o=c.createElement("svg").attr({version:"1.1"}).css(this.getStyle(a)),l=o.element,t.appendChild(l),-1===t.innerHTML.indexOf("xmlns")&&f(l,"xmlns",Ne),c.isSVG=!0,c.box=l,c.boxWrapper=o,c.alignedObjects=[],c.url=(Ie||Oe)&&fe.getElementsByTagName("base").length?e.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",d=this.createElement("desc").add(),d.element.appendChild(fe.createTextNode("Created with "+Ue+" "+Ge)),c.defs=this.createElement("defs").add(),c.allowHTML=s,c.forExport=r,c.gradients={},c.cache={},c.cacheKeys=[],c.setSize(i,n,!1);var u,h;Ie&&t.getBoundingClientRect&&(c.subPixelFix=u=function(){v(t,{left:0,top:0}),h=t.getBoundingClientRect(),v(t,{left:be(h.left)-h.left+Ke,top:be(h.top)-h.top+Ke})},u(),ft(e,"resize",u))},getStyle:function(e){return this.style=Tt({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e),this.style},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,i=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),O(t.gradients||{}),t.gradients=null,i&&(t.defs=i.destroy()),t.subPixelFix&&gt(e,"resize",t.subPixelFix),t.alignedObjects=null,null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},getRadialAttr:function(e,t){return{cx:e[0]-e[2]/2+t.cx*e[2],cy:e[1]-e[2]/2+t.cy*e[2],r:t.r*e[2]}},buildText:function(e){for(var t,i,n,a=e.element,r=this,o=r.forExport,l=At(e.textStr,"").toString(),d=-1!==l.indexOf("<"),c=a.childNodes,u=f(a,"x"),h=e.styles,m=e.textWidth,p=h&&h.lineHeight,g=h&&h.textShadow,_=h&&"ellipsis"===h.textOverflow,b=c.length,y=m&&!e.added&&this.box,T=function(e){return p?s(p):r.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:h&&h.fontSize||r.style.fontSize||12,e).h},A=function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">")};b--;)a.removeChild(c[b]);d||g||_||-1!==l.indexOf(" ")?(i=/<.*style="([^"]+)".*>/,n=/<.*href="(http[^"]+)".*>/,y&&y.appendChild(a),t=d?l.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[l],""===t[t.length-1]&&t.pop(),ut(t,function(t,s){var l,d=0;t=t.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),l=t.split("|||"),ut(l,function(t){if(""!==t||1===l.length){var c,p={},g=fe.createElementNS(Ne,"tspan");if(i.test(t)&&(c=t.match(i)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),f(g,"style",c)),n.test(t)&&!o&&(f(g,"onclick",'location.href="'+t.match(n)[1]+'"'),v(g,{cursor:"pointer"})),t=A(t.replace(/<(.|\n)*?>/g,"")||" ")," "!==t){if(g.appendChild(fe.createTextNode(t)),d?p.dx=0:s&&null!==u&&(p.x=u),f(g,p),a.appendChild(g),!d&&s&&(!ke&&o&&v(g,{display:"block"}),f(g,"dy",T(g))),m){for(var b,y,M,S,L=t.replace(/([^\^])-/g,"$1- ").split(" "),C=l.length>1||s||L.length>1&&"nowrap"!==h.whiteSpace,D=[],x=T(g),E=1,w=e.rotation,O=t,I=O.length;(C||_)&&(L.length||D.length);)e.rotation=0,S=e.getBBox(!0),M=S.width,!ke&&r.forExport&&(M=r.measureSpanWidth(g.firstChild.data,e.styles)),b=M>m,void 0===y&&(y=b),_&&y?(I/=2,""===O||!b&&.5>I?L=[]:(b&&(y=!0),O=t.substring(0,O.length+(b?-1:1)*be(I)),L=[O+(m>3?"\u2026":"")],g.removeChild(g.firstChild))):b&&1!==L.length?(g.removeChild(g.firstChild),D.unshift(L.pop())):(L=D,D=[],L.length&&(E++,g=fe.createElementNS(Ne,"tspan"),f(g,{dy:x,x:u}),c&&f(g,"style",c),a.appendChild(g)),M>m&&(m=M)),L.length&&g.appendChild(fe.createTextNode(L.join(" ").replace(/- /g,"-")));y&&e.attr("title",e.textStr),e.rotation=w}d++}}})}),y&&y.removeChild(a),g&&e.applyTextShadow&&e.applyTextShadow(g)):a.appendChild(fe.createTextNode(A(l)))},getContrast:function(e){return e=F(e).rgba,e[0]+e[1]+e[2]>384?"#000000":"#FFFFFF"},button:function(e,t,i,n,a,s,o,l,d,c){var u,h,m,p,f,g,_=this.label(e,t,i,d,null,null,c,null,"button"),v=0,b={x1:0,y1:0,x2:0,y2:1};return a=r({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:b,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},a),m=a.style,delete a.style,s=r(a,{stroke:"#68A",fill:{linearGradient:b,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),p=s.style,delete s.style,o=r(a,{stroke:"#68A",fill:{linearGradient:b,stops:[[0,"#9BD"],[1,"#CDF"]]}},o),f=o.style,delete o.style,l=r(a,{style:{color:"#CCC"}},l),g=l.style,delete l.style,ft(_.element,Ee?"mouseover":"mouseenter",function(){3!==v&&_.attr(s).css(p)}),ft(_.element,Ee?"mouseout":"mouseleave",function(){3!==v&&(u=[a,s,o][v],h=[m,p,f][v],_.attr(u).css(h))}),_.setState=function(e){_.state=v=e,e?2===e?_.attr(o).css(f):3===e&&_.attr(l).css(g):_.attr(a).css(m)},_.on("click",function(e){3!==v&&n.call(_,e)}).attr(a).css(Tt({cursor:"default"},m))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=_e(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=_e(e[2])+t%2/2),e},path:function(e){var t={fill:Je};return d(e)?t.d=e:l(e)&&Tt(t,e),this.createElement("path").attr(t)},circle:function(e,t,i){var n=l(e)?e:{x:e,y:t,r:i},a=this.createElement("circle");return a.xSetter=function(e){this.element.setAttribute("cx",e)},a.ySetter=function(e){this.element.setAttribute("cy",e)},a.attr(n)},arc:function(e,t,i,n,a,r){var s;return l(e)&&(t=e.y,i=e.r,n=e.innerR,a=e.start,r=e.end,e=e.x),s=this.symbol("arc",e||0,t||0,i||0,i||0,{innerR:n||0,start:a||0,end:r||0}),s.r=i,s},rect:function(e,t,i,n,a,r){a=l(e)?e.r:a;var s=this.createElement("rect"),o=l(e)?e:e===U?{}:{x:e,y:t,width:ye(i,0),height:ye(n,0)};return r!==U&&(o.strokeWidth=r,o=s.crisp(o)),a&&(o.r=a),s.rSetter=function(e){f(this.element,{rx:e,ry:e})},s.attr(o)},setSize:function(e,t,i){var n=this,a=n.alignedObjects,r=a.length;for(n.width=e,n.height=t,n.boxWrapper[At(i,!0)?"animate":"attr"]({width:e,height:t});r--;)a[r].align()},g:function(e){var t=this.createElement("g");return p(e)?t.attr({"class":Xe+e}):t},image:function(e,t,i,n,a){var r,s={preserveAspectRatio:Je};return arguments.length>1&&Tt(s,{x:t,y:i,width:n,height:a}),r=this.createElement("image").attr(s),r.element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):r.element.setAttribute("hc-svg-href",e),r},symbol:function(e,t,i,n,a,r){var s,o,l,d,c=this.symbols[e],u=c&&c(_e(t),_e(i),n,a,r),h=/^url\((.*?)\)$/;return u?(s=this.path(u),Tt(s,{symbolName:e,x:t,y:i,width:n,height:a}),r&&Tt(s,r)):h.test(e)&&(d=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(_e((n-t[0])/2),_e((a-t[1])/2)))},o=e.match(h)[1],l=Fe[o]||r&&r.width&&r.height&&[r.width,r.height],s=this.image(o).attr({x:t,y:i}),s.isImg=!0,l?d(s,l):(s.attr({width:0,height:0}),b("img",{onload:function(){0===this.width&&(v(this,{position:We,top:"-999em"}),fe.body.appendChild(this)),d(s,Fe[o]=[this.width,this.height]),this.parentNode&&this.parentNode.removeChild(this)},src:o}))),s},symbols:{circle:function(e,t,i,n){var a=.166*i;return[Ze,e+i/2,t,"C",e+i+a,t,e+i+a,t+n,e+i/2,t+n,"C",e-a,t+n,e-a,t,e+i/2,t,"Z"]},square:function(e,t,i,n){return[Ze,e,t,et,e+i,t,e+i,t+n,e,t+n,"Z"]},triangle:function(e,t,i,n){return[Ze,e+i/2,t,et,e+i,t+n,e,t+n,"Z"]},"triangle-down":function(e,t,i,n){return[Ze,e,t,et,e+i,t,e+i/2,t+n,"Z"]},diamond:function(e,t,i,n){return[Ze,e+i/2,t,et,e+i,t+n/2,e+i/2,t+n,e,t+n/2,"Z"]},arc:function(e,t,i,n,a){var r=a.start,s=a.r||i||n,o=a.end-.001,l=a.innerR,d=a.open,c=Me(r),u=Se(r),h=Me(o),m=Se(o),p=a.end-r<Le?0:1;return[Ze,e+s*c,t+s*u,"A",s,s,0,p,1,e+s*h,t+s*m,d?Ze:et,e+l*h,t+l*m,"A",l,l,0,p,0,e+l*c,t+l*u,d?"":"Z"]},callout:function(e,t,i,n,a){var r,s=6,o=6,l=Te(a&&a.r||0,i,n),d=l+o,c=a&&a.anchorX,u=a&&a.anchorY;return r=["M",e+l,t,"L",e+i-l,t,"C",e+i,t,e+i,t,e+i,t+l,"L",e+i,t+n-l,"C",e+i,t+n,e+i,t+n,e+i-l,t+n,"L",e+l,t+n,"C",e,t+n,e,t+n,e,t+n-l,"L",e,t+l,"C",e,t,e,t,e+l,t],c&&c>i&&u>t+d&&t+n-d>u?r.splice(13,3,"L",e+i,u-o,e+i+s,u,e+i,u+o,e+i,t+n-l):c&&0>c&&u>t+d&&t+n-d>u?r.splice(33,3,"L",e,u+o,e-s,u,e,u-o,e,t+l):u&&u>n&&c>e+d&&e+i-d>c?r.splice(23,3,"L",c+o,t+n,c,t+n+s,c-o,t+n,e+l,t+n):u&&0>u&&c>e+d&&e+i-d>c&&r.splice(3,3,"L",c-o,t,c,t-s,c+o,t,i-l,t),r}},clipRect:function(e,t,i,n){var a,r=Xe+Ye++,s=this.createElement("clipPath").attr({id:r}).add(this.defs);return a=this.rect(e,t,i,n,0).add(s),a.id=r,a.clipPath=s,a.count=0,a},text:function(e,t,i,n){var a,r=this,s=Pe||!ke&&r.forExport,o={};return!n||!r.allowHTML&&r.forExport?(o.x=Math.round(t||0),i&&(o.y=Math.round(i)),(e||0===e)&&(o.text=e),a=r.createElement("text").attr(o),s&&a.css({position:We}),n||(a.xSetter=function(e,t,i){var n,a,r=i.getElementsByTagName("tspan"),s=i.getAttribute(t);for(a=0;a<r.length;a++)n=r[a],n.getAttribute(t)===s&&n.setAttribute(t,e);i.setAttribute(t,e)}),a):r.html(e,t,i)},fontMetrics:function(t,i){var n,a,r;return t=t||this.style.fontSize,!t&&i&&e.getComputedStyle&&(i=i.element||i,r=e.getComputedStyle(i,""),t=r&&r.fontSize),t=/px/.test(t)?s(t):/em/.test(t)?12*parseFloat(t):12,n=24>t?t+3:_e(1.2*t),a=_e(.8*n),{h:n,b:a,f:t}},rotCorr:function(e,t,i){var n=e;return t&&i&&(n=ye(n*Me(t*Ce),4)),{x:-e/3*Se(t*Ce),y:n}},label:function(e,t,i,n,a,s,o,l,d){var c,u,h,m,f,g,_,v,b,y,T,A=this,M=A.g(d),S=M.text=A.text("",0,0,o).attr({zIndex:1}),L=0,C=3,D=0,x=0,E={};b=function(){var e,t,i=S.element.style;u=(void 0===h||void 0===m||M.styles.textAlign)&&p(S.textStr)&&S.getBBox(),M.width=(h||u.width||0)+2*C+D,M.height=(m||u.height||0)+2*C,_=C+A.fontMetrics(i&&i.fontSize,S).b,v&&(c||(e=x,t=(l?-_:0)+x,M.box=c=n?A.symbol(n,e,t,M.width,M.height,E):A.rect(e,t,M.width,M.height,0,E[st]),c.isImg||c.attr("fill",Je),c.add(M)),c.isImg||c.attr(Tt({width:_e(M.width),height:_e(M.height)},E)),E=null)},y=function(){var e,t=M.styles,i=t&&t.textAlign,n=D+C;e=l?0:_,p(h)&&u&&("center"===i||"right"===i)&&(n+={center:.5,right:1}[i]*(h-u.width)),(n!==S.x||e!==S.y)&&(S.attr("x",n),e!==U&&S.attr("y",e)),S.x=n,S.y=e},T=function(e,t){c?c.attr(e,t):E[e]=t},M.onAdd=function(){S.add(M),M.attr({text:e||0===e?e:"",x:t,y:i}),c&&p(a)&&M.attr({anchorX:a,anchorY:s})},M.widthSetter=function(e){h=e},M.heightSetter=function(e){m=e},M.paddingSetter=function(e){p(e)&&e!==C&&(C=M.padding=e,y())},M.paddingLeftSetter=function(e){p(e)&&e!==D&&(D=e,y())},M.alignSetter=function(e){e={left:0,center:.5,right:1}[e],e!==L&&(L=e,u&&M.attr({x:t}))},M.textSetter=function(e){e!==U&&S.textSetter(e),b(),y()},M["stroke-widthSetter"]=function(e,t){e&&(v=!0),x=e%2/2,T(t,e)},M.strokeSetter=M.fillSetter=M.rSetter=function(e,t){"fill"===t&&e&&(v=!0),T(t,e)},M.anchorXSetter=function(e,t){a=e,T(t,_e(e)-x-f)},M.anchorYSetter=function(e,t){s=e,T(t,e-g)},M.xSetter=function(e){M.x=e,L&&(e-=L*((h||u.width)+2*C)),f=_e(e),M.attr("translateX",f)},M.ySetter=function(e){g=M.y=_e(e),M.attr("translateY",g)};var w=M.css;return Tt(M,{css:function(e){if(e){var t={};e=r(e),ut(M.textProps,function(i){e[i]!==U&&(t[i]=e[i],delete e[i])}),S.css(t)}return w.call(M,e)},getBBox:function(){return{width:u.width+2*C,height:u.height+2*C,x:u.x-C,y:u.y-C}},shadow:function(e){return c&&c.shadow(e),M},destroy:function(){gt(M.element,"mouseenter"),gt(M.element,"mouseleave"),S&&(gt(S,"click"),S=S.destroy()),c&&(c=c.destroy()),Y.prototype.destroy.call(M),M=A=b=y=T=null}})}},G=Ct,Tt(Y.prototype,{htmlCss:function(e){var t=this,i=t.element,n=e&&"SPAN"===i.tagName&&e.width;return n&&(delete e.width,t.textWidth=n,t.updateTransform()),e&&"ellipsis"===e.textOverflow&&(e.whiteSpace="nowrap",e.overflow="hidden"),t.styles=Tt(t.styles,e),v(t.element,e),t},htmlGetBBox:function(){var e=this,t=e.element;return"text"===t.nodeName&&(t.style.position=We),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(!this.added)return void(this.alignOnAdd=!0);var e=this,t=e.renderer,i=e.element,n=e.translateX||0,a=e.translateY||0,r=e.x||0,o=e.y||0,l=e.textAlign||"left",d={left:0,center:.5,right:1}[l],c=e.shadows,u=e.styles;if(v(i,{marginLeft:n,marginTop:a}),c&&ut(c,function(e){v(e,{marginLeft:n+1,marginTop:a+1})}),e.inverted&&ut(i.childNodes,function(e){t.invertChild(e,i)}),"SPAN"===i.tagName){var h,m,f=e.rotation,g=s(e.textWidth),_=[f,l,i.innerHTML,e.textWidth,e.textAlign].join(",");_!==e.cTT&&(m=t.fontMetrics(i.style.fontSize).b,p(f)&&e.setSpanRotation(f,d,m),h=At(e.elemWidth,i.offsetWidth),h>g&&/[ \-]/.test(i.textContent||i.innerText)&&(v(i,{width:g+Ke,display:"block",whiteSpace:u&&u.whiteSpace||"normal"}),h=g),e.getSpanCorrection(h,m,d,f,l)),v(i,{left:r+(e.xCorr||0)+Ke,top:o+(e.yCorr||0)+Ke}),Oe&&(m=i.offsetHeight),e.cTT=_}},setSpanRotation:function(e,t,i){var n={},a=Ee?"-ms-transform":Oe?"-webkit-transform":Ie?"MozTransform":xe?"-o-transform":"";n[a]=n.transform="rotate("+e+"deg)",n[a+(Ie?"Origin":"-origin")]=n.transformOrigin=100*t+"% "+i+"px",v(this.element,n)},getSpanCorrection:function(e,t,i){this.xCorr=-e*i,this.yCorr=-t}}),Tt(Ct.prototype,{html:function(e,t,i){var n=this.createElement("span"),a=n.element,r=n.renderer;return n.textSetter=function(e){e!==a.innerHTML&&delete this.bBox,a.innerHTML=this.textStr=lt.escapeXSS(e),n.htmlUpdateTransform()},n.xSetter=n.ySetter=n.alignSetter=n.rotationSetter=function(e,t){"align"===t&&(t="textAlign"),n[t]=e,n.htmlUpdateTransform()},n.attr({text:e,x:_e(t),y:_e(i)}).css({position:We,fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),a.style.whiteSpace="nowrap",n.css=n.htmlCss,r.isSVG&&(n.add=function(e){var t,i,s=r.box.parentNode,o=[];if(this.parentGroup=e,e){if(t=e.div,!t){for(i=e;i;)o.push(i),i=i.parentGroup;ut(o.reverse(),function(e){var i,n=f(e.element,"class");n&&(n={className:n}),t=e.div=e.div||b(ze,n,{position:We,left:(e.translateX||0)+Ke,top:(e.translateY||0)+Ke},t||s),i=t.style,Tt(e,{translateXSetter:function(t,n){i.left=t+Ke,e[n]=t,e.doTransform=!0},translateYSetter:function(t,n){i.top=t+Ke,e[n]=t,e.doTransform=!0}}),ut(["opacity","visibility"],function(t){Mt(e,t+"Setter",function(e,t,n,a){e.call(this,t,n,a),i[n]=t})})})}}else t=s;return t.appendChild(a),n.added=!0,n.alignOnAdd&&n.htmlUpdateTransform(),n}),n}});var Dt,xt;if(!ke&&!Pe){xt={init:function(e,t){var i=this,n=["<",t,' filled="f" stroked="f"'],a=["position: ",We,";"],r=t===ze;("shape"===t||r)&&a.push("left:0;top:0;width:1px;height:1px;"),a.push("visibility: ",r?$e:Qe),n.push(' style="',a.join(""),'"/>'),
t&&(n=r||"span"===t||"img"===t?n.join(""):e.prepVML(n),i.element=b(n)),i.renderer=e},add:function(e){var t=this,i=t.renderer,n=t.element,a=i.box,r=e&&e.inverted,s=e?e.element||e:a;return e&&(this.parentGroup=e),r&&i.invertChild(n,s),s.appendChild(n),t.added=!0,t.alignOnAdd&&!t.deferUpdateTransform&&t.updateTransform(),t.onAdd&&t.onAdd(),t},updateTransform:Y.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=Me(e*Ce),i=Se(e*Ce);v(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-i,", M21=",i,", M22=",t,", sizingMethod='auto expand')"].join(""):Je})},getSpanCorrection:function(e,t,i,n,a){var r,s=n?Me(n*Ce):1,o=n?Se(n*Ce):0,l=At(this.elemHeight,this.element.offsetHeight),d=a&&"left"!==a;this.xCorr=0>s&&-e,this.yCorr=0>o&&-l,r=0>s*o,this.xCorr+=o*t*(r?1-i:i),this.yCorr-=s*t*(n?r?i:1-i:1),d&&(this.xCorr-=e*i*(0>s?-1:1),n&&(this.yCorr-=l*i*(0>o?-1:1)),v(this.element,{textAlign:a}))},pathToVML:function(e){for(var t=e.length,i=[];t--;)c(e[t])?i[t]=_e(10*e[t])-5:"Z"===e[t]?i[t]="x":(i[t]=e[t],!e.isArc||"wa"!==e[t]&&"at"!==e[t]||(i[t+5]===i[t+7]&&(i[t+7]+=e[t+7]>e[t+5]?1:-1),i[t+6]===i[t+8]&&(i[t+8]+=e[t+8]>e[t+6]?1:-1)));return i.join(" ")||"x"},clip:function(e){var t,i,n=this;return e?(t=e.members,m(t,n),t.push(n),n.destroyClip=function(){m(t,n)},i=e.getCSS(n)):(n.destroyClip&&n.destroyClip(),i={clip:we?"inherit":"rect(auto)"}),n.css(i)},css:Y.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&I(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),Y.prototype.destroy.apply(this)},on:function(t,i){return this.element["on"+t]=function(){var t=e.event;t.target=t.srcElement,i(t)},this},cutOffPath:function(e,t){var i;return e=e.split(/[ ,]/),i=e.length,(9===i||11===i)&&(e[i-4]=e[i-2]=s(e[i-2])-10*t),e.join(" ")},shadow:function(e,t,i){var n,a,r,o,l,d,c,u=[],h=this.element,m=this.renderer,p=h.style,f=h.path;if(f&&"string"!=typeof f.value&&(f="x"),l=f,e){for(d=At(e.width,3),c=(e.opacity||.15)/d,n=1;3>=n;n++)o=2*d+1-2*n,i&&(l=this.cutOffPath(f.value,o+.5)),r=['<shape isShadow="true" strokeweight="',o,'" filled="false" path="',l,'" coordsize="10 10" style="',h.style.cssText,'" />'],a=b(m.prepVML(r),null,{left:s(p.left)+At(e.offsetX,1),top:s(p.top)+At(e.offsetY,1)}),i&&(a.cutOff=o+1),r=['<stroke color="',e.color||"black",'" opacity="',c*n,'"/>'],b(m.prepVML(r),null,null,a),t?t.element.appendChild(a):h.parentNode.insertBefore(a,h),u.push(a);this.shadows=u}return this},updateShadows:je,setAttr:function(e,t){we?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,i){var n=i.getElementsByTagName("stroke")[0]||b(this.renderer.prepVML(["<stroke/>"]),null,null,i);n[t]=e||"solid",this[t]=e},dSetter:function(e,t,i){var n,a=this.shadows;if(e=e||[],this.d=e.join&&e.join(" "),i.path=e=this.pathToVML(e),a)for(n=a.length;n--;)a[n].path=a[n].cutOff?this.cutOffPath(e,a[n].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,i){var n=i.nodeName;"SPAN"===n?i.style.color=e:"IMG"!==n&&(i.filled=e!==Je,this.setAttr("fillcolor",this.renderer.color(e,i,t,this)))},"fill-opacitySetter":function(e,t,i){b(this.renderer.prepVML(["<",t.split("-")[0],' opacity="',e,'"/>']),null,null,i)},opacitySetter:je,rotationSetter:function(e,t,i){var n=i.style;this[t]=n[t]=e,n.left=-_e(Se(e*Ce)+1)+Ke,n.top=_e(Me(e*Ce))+Ke},strokeSetter:function(e,t,i){this.setAttr("strokecolor",this.renderer.color(e,i,t,this))},"stroke-widthSetter":function(e,t,i){i.stroked=!!e,this[t]=e,c(e)&&(e+=Ke),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,i){"inherit"===e&&(e=Qe),this.shadows&&ut(this.shadows,function(i){i.style[t]=e}),"DIV"===i.nodeName&&(e=e===$e?"-999em":0,we||(i.style[t]=e?Qe:$e),t="top"),i.style[t]=e},xSetter:function(e,t,i){this[t]=e,"x"===t?t="left":"y"===t&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):i.style[t]=e},zIndexSetter:function(e,t,i){i.style[t]=e}},xt["stroke-opacitySetter"]=xt["fill-opacitySetter"],lt.VMLElement=xt=y(Y,xt),xt.prototype.ySetter=xt.prototype.widthSetter=xt.prototype.heightSetter=xt.prototype.xSetter;var Et={Element:xt,isIE8:De.indexOf("MSIE 8.0")>-1,init:function(e,t,i,n){var a,r,s,o=this;if(o.alignedObjects=[],a=o.createElement(ze).css(Tt(this.getStyle(n),{position:"relative"})),r=a.element,e.appendChild(a.element),o.isVML=!0,o.box=r,o.boxWrapper=a,o.gradients={},o.cache={},o.cacheKeys=[],o.setSize(t,i,!1),!fe.namespaces.hcv){fe.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),s="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{fe.createStyleSheet().cssText=s}catch(l){fe.styleSheets[0].cssText+=s}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,i,n){var a=this.createElement(),r=l(e);return Tt(a,{members:[],count:0,left:(r?e.x:e)+1,top:(r?e.y:t)+1,width:(r?e.width:i)-1,height:(r?e.height:n)-1,getCSS:function(e){var t=e.element,i=t.nodeName,n="shape"===i,a=e.inverted,r=this,s=r.top-(n?t.offsetTop:0),o=r.left,l=o+r.width,d=s+r.height,c={clip:"rect("+_e(a?o:s)+"px,"+_e(a?d:l)+"px,"+_e(a?l:d)+"px,"+_e(a?s:o)+"px)"};return!a&&we&&"DIV"===i&&Tt(c,{width:l+Ke,height:d+Ke}),c},updateClipping:function(){ut(a.members,function(e){e.element&&e.css(a.getCSS(e))})}})},color:function(e,t,i,n){var a,r,s,o=this,l=/^rgba/,d=Je;if(e&&e.linearGradient?s="gradient":e&&e.radialGradient&&(s="pattern"),s){var c,u,h,m,p,f,g,_,v,y,T,A,M=e.linearGradient||e.radialGradient,S="",L=e.stops,C=[],D=function(){r=['<fill colors="'+C.join(",")+'" opacity="',_,'" o:opacity2="',g,'" type="',s,'" ',S,'focus="100%" method="any" />'],b(o.prepVML(r),null,null,t)};if(T=L[0],A=L[L.length-1],T[0]>0&&L.unshift([0,T[1]]),A[0]<1&&L.push([1,A[1]]),ut(L,function(e,t){l.test(e[1])?(a=F(e[1]),c=a.get("rgb"),u=a.get("a")):(c=e[1],u=1),C.push(100*e[0]+"% "+c),t?(_=u,v=c):(g=u,y=c)}),"fill"===i)if("gradient"===s)h=M.x1||M[0]||0,m=M.y1||M[1]||0,p=M.x2||M[2]||0,f=M.y2||M[3]||0,S='angle="'+(90-180*ge.atan((f-m)/(p-h))/Le)+'"',D();else{var x,E=M.r,w=2*E,O=2*E,I=M.cx,R=M.cy,N=t.radialReference,k=function(){N&&(x=n.getBBox(),I+=(N[0]-x.x)/x.width-.5,R+=(N[1]-x.y)/x.height-.5,w*=N[2]/x.width,O*=N[2]/x.height),S='src="'+q.global.VMLRadialGradientURL+'" size="'+w+","+O+'" origin="0.5,0.5" position="'+I+","+R+'" color2="'+y+'" ',D()};n.added?k():n.onAdd=k,d=v}else d=c}else if(l.test(e)&&"IMG"!==t.tagName)a=F(e),n[i+"-opacitySetter"](a.get("a"),i,t),d=a.get("rgb");else{var H=t.getElementsByTagName(i);H.length&&(H[0].opacity=1,H[0].type="solid"),d=e}return d},prepVML:function(e){var t="display:inline-block;behavior:url(#default#VML);",i=this.isIE8;return e=e.join(""),i?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=-1===e.indexOf('style="')?e.replace("/>",' style="'+t+'" />'):e.replace('style="','style="'+t)):e=e.replace("<","<hcv:"),e},text:Ct.prototype.html,path:function(e){var t={coordsize:"10 10"};return d(e)?t.d=e:l(e)&&Tt(t,e),this.createElement("shape").attr(t)},circle:function(e,t,i){var n=this.symbol("circle");return l(e)&&(i=e.r,t=e.y,e=e.x),n.isCircle=!0,n.r=i,n.attr({x:e,y:t})},g:function(e){var t,i;return e&&(i={className:Xe+e,"class":Xe+e}),t=this.createElement(ze).attr(i)},image:function(e,t,i,n,a){var r=this.createElement("img").attr({src:e});return arguments.length>1&&r.attr({x:t,y:i,width:n,height:a}),r},createElement:function(e){return"rect"===e?this.symbol(e):Ct.prototype.createElement.call(this,e)},invertChild:function(e,t){var i=this,n=t.style,a="IMG"===e.tagName&&e.style;v(e,{flip:"x",left:s(n.width)-(a?s(a.top):1),top:s(n.height)-(a?s(a.left):1),rotation:-90}),ut(e.childNodes,function(t){i.invertChild(t,e)})},symbols:{arc:function(e,t,i,n,a){var r,s=a.start,o=a.end,l=a.r||i||n,d=a.innerR,c=Me(s),u=Se(s),h=Me(o),m=Se(o);return o-s===0?["x"]:(r=["wa",e-l,t-l,e+l,t+l,e+l*c,t+l*u,e+l*h,t+l*m],a.open&&!d&&r.push("e",Ze,e,t),r.push("at",e-d,t-d,e+d,t+d,e+d*h,t+d*m,e+d*c,t+d*u,"x","e"),r.isArc=!0,r)},circle:function(e,t,i,n,a){return a&&(i=n=2*a.r),a&&a.isCircle&&(e-=i/2,t-=n/2),["wa",e,t,e+i,t+n,e+i,t+n/2,e+i,t+n/2,"e"]},rect:function(e,t,i,n,a){return Ct.prototype.symbols[p(a)&&a.r?"callout":"square"].call(0,e,t,i,n,a)}}};lt.VMLRenderer=Dt=function(){this.init.apply(this,arguments)},Dt.prototype=r(Ct.prototype,Et),G=Dt}Ct.prototype.measureSpanWidth=function(e,t){var i,n=fe.createElement("span"),a=fe.createTextNode(e);return n.appendChild(a),v(n,t),this.box.appendChild(n),i=n.offsetWidth,I(n),i};var wt,Ot;Pe&&(lt.CanVGRenderer=wt=function(){Ne="http://www.w3.org/1999/xhtml"},wt.prototype.symbols={},Ot=function(){function e(){var e,i=t.length;for(e=0;i>e;e++)t[e]();t=[]}var t=[];return{push:function(i,n){0===t.length&&j(n,e),t.push(i)}}}(),G=wt),B.prototype={addLabel:function(){var e,t,i=this,n=i.axis,a=n.options,s=n.chart,o=n.categories,l=n.names,d=i.pos,c=a.labels,u=n.tickPositions,m=d===u[0],f=d===u[u.length-1],g=o?At(o[d],l[d],d):d,_=i.label,v=u.info;n.isDatetimeAxis&&v&&(t=a.dateTimeLabelFormats[v.higherRanks[d]||v.unitName]),i.isFirst=m,i.isLast=f,e=n.labelFormatter.call({axis:n,chart:s,isFirst:m,isLast:f,dateTimeLabelFormat:t,value:n.isLog?R(h(g)):g}),p(_)?_&&_.attr({text:e}):(i.label=_=p(e)&&c.enabled?s.renderer.text(e,0,0,c.useHTML).css(r(c.style)).add(n.labelGroup):null,i.labelLength=_&&_.getBBox().width,i.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(e){var t,i,n,a=this.axis,r=e.x,s=a.chart.chartWidth,o=a.chart.spacing,l=At(a.labelLeft,Te(a.pos,o[3])),d=At(a.labelRight,ye(a.pos+a.len,s-o[1])),c=this.label,u=this.rotation,h={left:0,center:.5,right:1}[a.labelAlign],m=c.getBBox().width,p=a.slotWidth,f=h,g=1,_={};u?0>u&&l>r-h*m?n=_e(r/Me(u*Ce)-l):u>0&&r+h*m>d&&(n=_e((s-r)/Me(u*Ce))):(t=r-h*m,i=r+(1-h)*m,l>t?p=e.x+p*(1-h)-l:i>d&&(p=d-e.x+p*h,g=-1),p=Te(a.slotWidth,p),p<a.slotWidth&&"center"===a.labelAlign&&(e.x+=g*(a.slotWidth-p-f*(a.slotWidth-Te(m,p)))),(m>p||a.autoRotation&&c.styles.width)&&(n=p)),n&&(_.width=n,a.options.labels.style.textOverflow||(_.textOverflow="ellipsis"),c.css(_))},getPosition:function(e,t,i,n){var a=this.axis,r=a.chart,s=n&&r.oldChartHeight||r.chartHeight;return{x:e?a.translate(t+i,null,null,n)+a.transB:a.left+a.offset+(a.opposite?(n&&r.oldChartWidth||r.chartWidth)-a.right-a.left:0),y:e?s-a.bottom+a.offset-(a.opposite?a.height:0):s-a.translate(t+i,null,null,n)-a.transB}},getLabelPosition:function(e,t,i,n,a,r,s,o){var l,d=this.axis,c=d.transA,u=d.reversed,h=d.staggerLines,m=d.tickRotCorr||{x:0,y:0},f=a.y;return p(f)||(f=2===d.side?m.y+8:f=Me(i.rotation*Ce)*(m.y-i.getBBox(!1,0).height/2)),e=e+a.x+m.x-(r&&n?r*c*(u?-1:1):0),t=t+f-(r&&!n?r*c*(u?1:-1):0),h&&(l=s/(o||1)%h,d.opposite&&(l=h-l-1),t+=l*(d.labelOffset/h)),{x:e,y:_e(t)}},getMarkPath:function(e,t,i,n,a,r){return r.crispLine([Ze,e,t,et,e+(a?0:-i),t+(a?i:0)],n)},render:function(e,t,i){var n,a,r,s=this,o=s.axis,l=o.options,d=o.chart,c=d.renderer,u=o.horiz,h=s.type,m=s.label,p=s.pos,f=l.labels,g=s.gridLine,_=h?h+"Grid":"grid",v=h?h+"Tick":"tick",b=l[_+"LineWidth"],y=l[_+"LineColor"],T=l[_+"LineDashStyle"],A=l[v+"Length"],M=At(l[v+"Width"],!h&&o.isXAxis?1:0),S=l[v+"Color"],L=l[v+"Position"],C=s.mark,D=f.step,x=!0,E=o.tickmarkOffset,w=s.getPosition(u,p,E,t),O=w.x,I=w.y,R=u&&O===o.pos+o.len||!u&&I===o.pos?-1:1;i=At(i,1),this.isActive=!0,b&&(n=o.getPlotLinePath(p+E,b*R,t,!0),g===U&&(r={stroke:y,"stroke-width":b},T&&(r.dashstyle=T),h||(r.zIndex=1),t&&(r.opacity=0),s.gridLine=g=b?c.path(n).attr(r).add(o.gridGroup):null),!t&&g&&n&&g[s.isNew?"attr":"animate"]({d:n,opacity:i})),M&&A&&("inside"===L&&(A=-A),o.opposite&&(A=-A),a=s.getMarkPath(O,I,A,M*R,u,c),C?C.animate({d:a,opacity:i}):s.mark=c.path(a).attr({stroke:S,"stroke-width":M,opacity:i}).add(o.axisGroup)),m&&!isNaN(O)&&(m.xy=w=s.getLabelPosition(O,I,m,u,f,E,e,D),s.isFirst&&!s.isLast&&!At(l.showFirstLabel,1)||s.isLast&&!s.isFirst&&!At(l.showLastLabel,1)?x=!1:!u||o.isRadial||f.step||f.rotation||t||0===i||s.handleOverflow(w),D&&e%D&&(x=!1),x&&!isNaN(w.y)?(w.opacity=i,m[s.isNew?"attr":"animate"](w),s.isNew=!1):m.attr("y",-9999))},destroy:function(){O(this,this.axis)}},lt.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},lt.PlotLineOrBand.prototype={render:function(){var e,t,i,n,a,s,o=this,l=o.axis,d=l.horiz,c=o.options,h=c.label,m=o.label,f=c.width,g=c.to,_=c.from,v=p(_)&&p(g),b=c.value,y=c.dashStyle,T=o.svgElem,A=[],M=c.color,S=c.zIndex,L=c.events,C={},D=l.chart.renderer;if(l.isLog&&(_=u(_),g=u(g),b=u(b)),f)A=l.getPlotLinePath(b,f),C={stroke:M,"stroke-width":f},y&&(C.dashstyle=y);else{if(!v)return;A=l.getPlotBandPath(_,g,c),M&&(C.fill=M),c.borderWidth&&(C.stroke=c.borderColor,C["stroke-width"]=c.borderWidth)}if(p(S)&&(C.zIndex=S),T)A?(T.show(),T.animate({d:A})):(T.hide(),m&&(o.label=m=m.destroy()));else if(A&&A.length&&(o.svgElem=T=D.path(A).attr(C).add(),L)){e=function(e){T.on(e,function(t){L[e].apply(o,[t])})};for(t in L)e(t)}return h&&p(h.text)&&A&&A.length&&l.width>0&&l.height>0&&!A.flat?(h=r({align:d&&v&&"center",x:d?!v&&4:10,verticalAlign:!d&&v&&"middle",y:d?v?16:10:v?6:-4,rotation:d&&!v&&90},h),m||(C={align:h.textAlign||h.align,rotation:h.rotation},p(S)&&(C.zIndex=S),o.label=m=D.text(h.text,0,0,h.useHTML).attr(C).css(h.style).add()),i=[A[1],A[4],v?A[6]:A[1]],n=[A[2],A[5],v?A[7]:A[2]],a=E(i),s=E(n),m.align(h,!1,{x:a,y:s,width:w(i)-a,height:w(n)-s}),m.show()):m&&m.hide(),o},destroy:function(){m(this.axis.plotLinesAndBands,this),delete this.axis,O(this)}},K={getPlotBandPath:function(e,t){var i=this.getPlotLinePath(t,null,null,!0),n=this.getPlotLinePath(e,null,null,!0);return n&&i?(n.flat=n.toString()===i.toString(),n.push(i[4],i[5],i[1],i[2])):n=null,n},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var i=new lt.PlotLineOrBand(this,e).render(),n=this.userOptions;return i&&(t&&(n[t]=n[t]||[],n[t].push(e)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,i=this.options,n=this.userOptions,a=t.length;a--;)t[a].id===e&&t[a].destroy();ut([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(t){for(a=t.length;a--;)t[a].id===e&&m(t,t[a])})}};var It=lt.Axis=function(){this.init.apply(this,arguments)};It.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return lt.numberFormat(this.total,-1)},style:r(St.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(e,t){var i=t.isX,n=this;n.chart=e,n.horiz=e.inverted?!i:i,n.isXAxis=i,n.coll=i?"xAxis":"yAxis",n.opposite=t.opposite,n.side=t.side||(n.horiz?n.opposite?0:2:n.opposite?1:3),n.setOptions(t);var a=this.options,r=a.type,s="datetime"===r;n.labelFormatter=a.labels.formatter||n.defaultLabelFormatter,n.userOptions=t,n.minPixelPadding=0,n.reversed=a.reversed,n.visible=a.visible!==!1,n.zoomEnabled=a.zoomEnabled!==!1,n.categories=a.categories||"category"===r,n.names=n.names||[],n.isLog="logarithmic"===r,n.isDatetimeAxis=s,n.isLinked=p(a.linkedTo),n.ticks={},n.labelEdge=[],n.minorTicks={},n.plotLinesAndBands=[],n.alternateBands={},n.len=0,n.minRange=n.userMinRange=a.minRange||a.maxZoom,n.range=a.range,n.offset=a.offset||0,n.stacks={},n.oldStacks={},n.stacksTouched=0,n.max=null,n.min=null,n.crosshair=At(a.crosshair,g(e.options.tooltip.crosshairs)[i?0:1],!1);var o,l=n.options.events;-1===ct(n,e.axes)&&(i&&!this.isColorAxis?e.axes.splice(e.xAxis.length,0,n):e.axes.push(n),e[n.coll].push(n)),n.series=n.series||[],e.inverted&&i&&n.reversed===U&&(n.reversed=!0),n.removePlotBand=n.removePlotBandOrLine,n.removePlotLine=n.removePlotBandOrLine;for(o in l)ft(n,o,l[o]);n.isLog&&(n.val2lin=u,n.lin2val=h)},setOptions:function(e){this.options=r(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],r(q[this.coll],e))},defaultLabelFormatter:function(){var e,t,i=this.axis,n=this.value,a=i.categories,r=this.dateTimeLabelFormat,s=q.lang.numericSymbols,o=s&&s.length,l=i.options.labels.format,d=i.isLog?n:i.tickInterval;if(l)t=L(l,this);else if(a)t=n;else if(r)t=$(r,n);else if(o&&d>=1e3)for(;o--&&t===U;)e=Math.pow(1e3,o+1),d>=e&&10*n%e===0&&null!==s[o]&&(t=lt.numberFormat(n/e,-1)+s[o]);return t===U&&(t=Ae(n)>=1e3?lt.numberFormat(n,-1):lt.numberFormat(n,-1,U,"")),t},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.buildStacks&&e.buildStacks(),ut(e.series,function(i){if(i.visible||!t.options.chart.ignoreHiddenSeries){var n,a,r,s=i.options,o=s.threshold;e.hasVisibleSeries=!0,e.isLog&&0>=o&&(o=null),e.isXAxis?(n=i.xData,n.length&&(e.dataMin=Te(At(e.dataMin,n[0]),E(n)),e.dataMax=ye(At(e.dataMax,n[0]),w(n)))):(i.getExtremes(),r=i.dataMax,a=i.dataMin,p(a)&&p(r)&&(e.dataMin=Te(At(e.dataMin,a),a),e.dataMax=ye(At(e.dataMax,r),r)),p(o)&&(e.threshold=o),(!s.softThreshold||e.isLog)&&(e.softThreshold=!1))}})},translate:function(e,t,i,n,a,r){var s,o=this.linkedParent||this,l=1,d=0,u=n?o.oldTransA:o.transA,h=n?o.oldMin:o.min,m=o.minPixelPadding,p=(o.doPostTranslate||o.isLog&&a)&&o.lin2val;return u||(u=o.transA),i&&(l*=-1,d=o.len),o.reversed&&(l*=-1,d-=l*(o.sector||o.len)),t?(e=e*l+d,e-=m,s=e/u+h,p&&(s=o.lin2val(s))):(p&&(e=o.val2lin(e)),"between"===r&&(r=.5),s=l*(e-h)*u+d+l*m+(c(r)?u*r*o.pointRange:0)),s},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,i,n,a){var r,s,o,l,d,c=this,u=c.chart,h=c.left,m=c.top,p=i&&u.oldChartHeight||u.chartHeight,f=i&&u.oldChartWidth||u.chartWidth,g=c.transB,_=function(e,t,i){return(t>e||e>i)&&(n?e=Te(ye(t,e),i):d=!0),e};return a=At(a,c.translate(e,null,null,i)),r=o=_e(a+g),s=l=_e(p-a-g),isNaN(a)?d=!0:c.horiz?(s=m,l=p-c.bottom,r=o=_(r,h,h+c.width)):(r=h,o=f-c.right,s=l=_(s,m,m+c.height)),d&&!n?null:u.renderer.crispLine([Ze,r,s,et,o,l],t||1)},getLinearTickPositions:function(e,t,i){var n,a,r=R(ve(t/e)*e),s=R(be(i/e)*e),o=[];if(t===i&&c(t))return[t];for(n=r;s>=n&&(o.push(n),n=R(n+e),n!==a);)a=n;return o},getMinorTickPositions:function(){var e,t,i,n=this,a=n.options,r=n.tickPositions,s=n.minorTickInterval,o=[],l=n.pointRangePadding||0,d=n.min-l,c=n.max+l,u=c-d;if(u&&u/s<n.len/3)if(n.isLog)for(i=r.length,t=1;i>t;t++)o=o.concat(n.getLogTickPositions(s,r[t-1],r[t],!0));else if(n.isDatetimeAxis&&"auto"===a.minorTickInterval)o=o.concat(n.getTimeTicks(n.normalizeTimeTickInterval(s),d,c,a.startOfWeek));else for(e=d+(r[0]-d)%s;c>=e;e+=s)o.push(e);return 0!==o.length&&n.trimTicks(o,a.startOnTick,a.endOnTick),o},adjustForMinRange:function(){var e,t,i,n,a,r,s,o,l,d=this,c=d.options,u=d.min,h=d.max,m=d.dataMax-d.dataMin>=d.minRange;d.isXAxis&&d.minRange===U&&!d.isLog&&(p(c.min)||p(c.max)?d.minRange=null:(ut(d.series,function(e){for(a=e.xData,r=e.xIncrement?1:a.length-1,i=r;i>0;i--)n=a[i]-a[i-1],(t===U||t>n)&&(t=n)}),d.minRange=Te(5*t,d.dataMax-d.dataMin))),h-u<d.minRange&&(l=d.minRange,e=(l-h+u)/2,s=[u-e,At(c.min,u-e)],m&&(s[2]=d.dataMin),u=w(s),o=[u+l,At(c.max,u+l)],m&&(o[2]=d.dataMax),h=E(o),l>h-u&&(s[0]=h-l,s[1]=At(c.min,h-l),u=w(s))),d.min=u,d.max=h},setAxisTranslation:function(e){var t,i,n=this,a=n.max-n.min,r=n.axisPointRange||0,s=0,l=0,d=n.linkedParent,c=!!n.categories,u=n.transA,h=n.isXAxis;(h||c||r)&&(d?(s=d.minPointOffset,l=d.pointRangePadding):(ut(n.series,function(e){var i=e.closestPointRange;!e.noSharedTooltip&&p(i)&&(t=p(t)?Te(t,i):i)}),ut(n.series,function(e){var i=c?1:h?At(e.options.pointRange,t,0):n.axisPointRange||0,a=e.options.pointPlacement;r=ye(r,i),n.single||(s=ye(s,o(a)?0:i/2),l=ye(l,"on"===a?0:i))})),i=n.ordinalSlope&&t?n.ordinalSlope/t:1,n.minPointOffset=s*=i,n.pointRangePadding=l*=i,n.pointRange=Te(r,a),h&&(n.closestPointRange=t)),e&&(n.oldTransA=u),n.translationSlope=n.transA=u=n.len/(a+l||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=u*s},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var t,i,a,r,s,o,l,d=this,h=d.chart,m=d.options,f=d.isLog,g=d.isDatetimeAxis,_=d.isXAxis,v=d.isLinked,b=m.maxPadding,y=m.minPadding,T=m.tickInterval,A=m.tickPixelInterval,M=d.categories,S=d.threshold,L=d.softThreshold;g||M||v||this.getTickAmount(),o=At(d.userMin,m.min),l=At(d.userMax,m.max),v?(d.linkedParent=h[d.coll][m.linkedTo],i=d.linkedParent.getExtremes(),d.min=At(i.min,i.dataMin),d.max=At(i.max,i.dataMax),m.type!==d.linkedParent.options.type&&n(11,1)):(!L&&p(S)&&(d.dataMin>=S?(r=S,y=0):d.dataMax<=S&&(s=S,b=0)),d.min=At(o,r,d.dataMin),d.max=At(l,s,d.dataMax)),f&&(!e&&Te(d.min,At(d.dataMin,d.min))<=0&&n(10,1),d.min=R(u(d.min),15),d.max=R(u(d.max),15)),d.range&&p(d.max)&&(d.userMin=d.min=o=ye(d.min,d.minFromRange()),d.userMax=l=d.max,d.range=null),d.beforePadding&&d.beforePadding(),d.adjustForMinRange(),M||d.axisPointRange||d.usePercentage||v||!p(d.min)||!p(d.max)||(t=d.max-d.min,t&&(!p(o)&&y&&(d.min-=t*y),!p(l)&&b&&(d.max+=t*b))),c(m.floor)&&(d.min=ye(d.min,m.floor)),c(m.ceiling)&&(d.max=Te(d.max,m.ceiling)),L&&p(d.dataMin)&&(S=S||0,!p(o)&&d.min<S&&d.dataMin>=S?d.min=S:!p(l)&&d.max>S&&d.dataMax<=S&&(d.max=S)),d.min===d.max||void 0===d.min||void 0===d.max?d.tickInterval=1:v&&!T&&A===d.linkedParent.options.tickPixelInterval?d.tickInterval=T=d.linkedParent.tickInterval:d.tickInterval=At(T,this.tickAmount?(d.max-d.min)/ye(this.tickAmount-1,1):void 0,M?1:(d.max-d.min)*A/ye(d.len,A)),_&&!e&&ut(d.series,function(e){e.processData(d.min!==d.oldMin||d.max!==d.oldMax)}),d.setAxisTranslation(!0),d.beforeSetTickPositions&&d.beforeSetTickPositions(),d.postProcessTickInterval&&(d.tickInterval=d.postProcessTickInterval(d.tickInterval)),d.pointRange&&!T&&(d.tickInterval=ye(d.pointRange,d.tickInterval)),a=At(m.minTickInterval,d.isDatetimeAxis&&d.closestPointRange),!T&&d.tickInterval<a&&(d.tickInterval=a),g||f||T||(d.tickInterval=D(d.tickInterval,null,C(d.tickInterval),At(m.allowDecimals,!(d.tickInterval>.5&&d.tickInterval<5&&d.max>1e3&&d.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(d.tickInterval=d.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,t,i=this.options,n=i.tickPositions,a=i.tickPositioner,r=i.startOnTick,s=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i.minorTickInterval&&this.tickInterval?this.tickInterval/5:i.minorTickInterval,this.tickPositions=e=n&&n.slice(),e||(e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len,this.tickPositions=e,a&&(a=a.apply(this,[this.min,this.max]),a&&(this.tickPositions=e=a))),this.isLinked||(this.trimTicks(e,r,s),this.min===this.max&&p(this.min)&&!this.tickAmount&&(t=!0,this.min-=.5,this.max+=.5),this.single=t,n||a||this.adjustTickAmount())},trimTicks:function(e,t,i){var n=e[0],a=e[e.length-1],r=this.minPointOffset||0;if(t)this.min=n;else for(;this.min-r>e[0];)e.shift();if(i)this.max=a;else for(;this.max+r<e[e.length-1];)e.pop();0===e.length&&p(n)&&e.push((a+n)/2)},alignToOthers:function(){var e,t={},i=this.options;return this.chart.options.chart.alignTicks!==!1&&i.alignTicks!==!1&&ut(this.chart[this.coll],function(i){var n=i.options,a=i.horiz,r=[a?n.left:n.top,n.width,n.height,n.pane].join(",");i.series.length&&(t[r]?e=!0:t[r]=1)}),e},getTickAmount:function(){var e=this.options,t=e.tickAmount,i=e.tickPixelInterval;!p(e.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&e.startOnTick&&e.endOnTick&&(t=2),!t&&this.alignToOthers()&&(t=be(this.len/i)+1),4>t&&(this.finalTickAmt=t,t=5),this.tickAmount=t},adjustTickAmount:function(){var e,t,i=this.tickInterval,n=this.tickPositions,a=this.tickAmount,r=this.finalTickAmt,s=n&&n.length;if(a>s){for(;n.length<a;)n.push(R(n[n.length-1]+i));this.transA*=(s-1)/(a-1),this.max=n[n.length-1]}else s>a&&(this.tickInterval*=2,this.setTickPositions());if(p(r)){for(e=t=n.length;e--;)(3===r&&e%2===1||2>=r&&e>0&&t-1>e)&&n.splice(e,1);this.finalTickAmt=U}},setScale:function(){var e,t,i=this;i.oldMin=i.min,i.oldMax=i.max,i.oldAxisLength=i.len,i.setAxisSize(),t=i.len!==i.oldAxisLength,ut(i.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(e=!0)}),t||e||i.isLinked||i.forceRedraw||i.userMin!==i.oldUserMin||i.userMax!==i.oldUserMax||i.alignToOthers()?(i.resetStacks&&i.resetStacks(),i.forceRedraw=!1,i.getSeriesExtremes(),i.setTickInterval(),i.oldUserMin=i.userMin,i.oldUserMax=i.userMax,i.isDirty||(i.isDirty=t||i.min!==i.oldMin||i.max!==i.oldMax)):i.cleanStacks&&i.cleanStacks()},setExtremes:function(e,t,i,n,a){var r=this,s=r.chart;i=At(i,!0),ut(r.series,function(e){delete e.kdTree}),a=Tt(a,{min:e,max:t}),_t(r,"setExtremes",a,function(){r.userMin=e,r.userMax=t,r.eventArgs=a,i&&s.redraw(n)})},zoom:function(e,t){var i=this.dataMin,n=this.dataMax,a=this.options,r=Te(i,At(a.min,i)),s=ye(n,At(a.max,n));return this.allowZoomOutside||(p(i)&&r>=e&&(e=r),p(n)&&t>=s&&(t=s)),this.displayBtn=e!==U||t!==U,this.setExtremes(e,t,!1,U,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,i=t.offsetLeft||0,n=t.offsetRight||0,a=this.horiz,r=At(t.width,e.plotWidth-i+n),s=At(t.height,e.plotHeight),o=At(t.top,e.plotTop),l=At(t.left,e.plotLeft+i),d=/%$/;d.test(s)&&(s=parseFloat(s)/100*e.plotHeight),d.test(o)&&(o=parseFloat(o)/100*e.plotHeight+e.plotTop),this.left=l,this.top=o,this.width=r,this.height=s,this.bottom=e.chartHeight-s-o,this.right=e.chartWidth-r-l,this.len=ye(a?r:s,0),this.pos=a?l:o},getExtremes:function(){var e=this,t=e.isLog;return{min:t?R(h(e.min)):e.min,max:t?R(h(e.max)):e.max,dataMin:e.dataMin,dataMax:e.dataMax,userMin:e.userMin,userMax:e.userMax}},getThreshold:function(e){var t=this,i=t.isLog,n=i?h(t.min):t.min,a=i?h(t.max):t.max;return null===e?e=0>a?a:n:n>e?e=n:e>a&&(e=a),t.translate(e,0,1,0,1)},autoLabelAlign:function(e){var t,i=(At(e,0)-90*this.side+720)%360;return t=i>15&&165>i?"right":i>195&&345>i?"left":"center"},unsquish:function(){var e,t,i,n=this.chart,a=this.ticks,r=this.options.labels,s=this.horiz,o=this.tickInterval,l=o,d=this.len/(((this.categories?1:0)+this.max-this.min)/o),c=r.rotation,u=n.renderer.fontMetrics(r.style.fontSize,a[0]&&a[0].label),h=Number.MAX_VALUE,m=function(e){var t=e/(d||1);return t=t>1?be(t):1,t*o};return s?(i=!r.staggerLines&&!r.step&&(p(c)?[c]:d<At(r.autoRotationLimit,80)&&r.autoRotation),i&&ut(i,function(i){var n;(i===c||i&&i>=-90&&90>=i)&&(t=m(Ae(u.h/Se(Ce*i))),n=t+Ae(i/360),h>n&&(h=n,e=i,l=t))})):r.step||(l=m(u.h)),this.autoRotation=i,this.labelRotation=At(e,c),l},renderUnsquish:function(){var e,t,i,n,a=this.chart,s=a.renderer,l=this.tickPositions,d=this.ticks,c=this.options.labels,u=this.horiz,h=a.margin,m=this.categories?l.length:l.length-1,p=this.slotWidth=u&&(c.step||0)<2&&!c.rotation&&(this.staggerLines||1)*this.len/m||!u&&(h[3]&&h[3]-a.spacing[3]||.33*a.chartWidth),f=ye(1,_e(p-2*(c.padding||5))),g={},_=s.fontMetrics(c.style.fontSize,d[0]&&d[0].label),v=c.style.textOverflow,b=0;if(o(c.rotation)||(g.rotation=c.rotation||0),this.autoRotation)ut(l,function(e){e=d[e],e&&e.labelLength>b&&(b=e.labelLength)}),b>f&&b>_.h?g.rotation=this.labelRotation:this.labelRotation=0;else if(p&&(e={width:f+Ke},!v))for(e.textOverflow="clip",i=l.length;!u&&i--;)n=l[i],t=d[n].label,t&&("ellipsis"===t.styles.textOverflow&&t.css({textOverflow:"clip"}),(t.getBBox().height>this.len/l.length-(_.h-_.f)||d[n].labelLength>p)&&(t.specCss={textOverflow:"ellipsis"}));g.rotation&&(e={width:(b>.5*a.chartHeight?.33*a.chartHeight:a.chartHeight)+Ke},v||(e.textOverflow="ellipsis")),this.labelAlign=g.align=c.align||this.autoLabelAlign(this.labelRotation),ut(l,function(t){var i=d[t],n=i&&i.label;n&&(n.attr(g),e&&n.css(r(e,n.specCss)),delete n.specCss,i.rotation=g.rotation)}),this.tickRotCorr=s.rotCorr(_.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||p(this.min)&&p(this.max)&&!!this.tickPositions},getOffset:function(){var e,t,i,n,a,r,s,o=this,l=o.chart,d=l.renderer,c=o.options,u=o.tickPositions,h=o.ticks,m=o.horiz,f=o.side,g=l.inverted?[1,0,3,2][f]:f,_=0,v=0,b=c.title,y=c.labels,T=0,A=o.opposite,M=l.axisOffset,S=l.clipOffset,L=[-1,1,1,-1][f],C=o.axisParent;if(e=o.hasData(),o.showAxis=t=e||At(c.showEmpty,!0),o.staggerLines=o.horiz&&y.staggerLines,o.axisGroup||(o.gridGroup=d.g("grid").attr({zIndex:c.gridZIndex||1}).add(C),o.axisGroup=d.g("axis").attr({zIndex:c.zIndex||2}).add(C),o.labelGroup=d.g("axis-labels").attr({zIndex:y.zIndex||7}).addClass(Xe+o.coll.toLowerCase()+"-labels").add(C)),e||o.isLinked)ut(u,function(e){h[e]?h[e].addLabel():h[e]=new B(o,e)}),o.renderUnsquish(),y.reserveSpace===!1||0!==f&&2!==f&&{1:"left",3:"right"}[f]!==o.labelAlign&&"center"!==o.labelAlign||ut(u,function(e){T=ye(h[e].getLabelSize(),T)}),o.staggerLines&&(T*=o.staggerLines,o.labelOffset=T*(o.opposite?-1:1));else for(r in h)h[r].destroy(),delete h[r];b&&b.text&&b.enabled!==!1&&(o.axisTitle||(o.axisTitle=d.text(b.text,0,0,b.useHTML).attr({zIndex:7,rotation:b.rotation||0,align:b.textAlign||{low:A?"right":"left",middle:"center",high:A?"left":"right"}[b.align]}).addClass(Xe+this.coll.toLowerCase()+"-title").css(b.style).add(o.axisGroup),o.axisTitle.isNew=!0),t&&(_=o.axisTitle.getBBox()[m?"height":"width"],i=b.offset,v=p(i)?0:At(b.margin,m?5:10)),o.axisTitle[t?"show":"hide"](!0)),o.offset=L*At(c.offset,M[f]),o.tickRotCorr=o.tickRotCorr||{x:0,y:0},s=2===f?o.tickRotCorr.y:0,n=Math.abs(T)+v+(T&&L*(m?At(y.y,o.tickRotCorr.y+8):y.x)-s),o.axisTitleMargin=At(i,n),M[f]=ye(M[f],o.axisTitleMargin+_+L*o.offset,n),a=c.offset?0:2*ve(c.lineWidth/2),S[g]=ye(S[g],a)},getLinePath:function(e){var t=this.chart,i=this.opposite,n=this.offset,a=this.horiz,r=this.left+(i?this.width:0)+n,s=t.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(e*=-1),t.renderer.crispLine([Ze,a?this.left:r,a?s:this.top,et,a?t.chartWidth-this.right:r,a?s:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,i=this.top,n=this.len,a=this.options.title,r=e?t:i,o=this.opposite,l=this.offset,d=a.x||0,c=a.y||0,u=s(a.style.fontSize||12),h={low:r+(e?0:n),middle:r+n/2,high:r+(e?n:0)}[a.align],m=(e?i+this.height:t)+(e?1:-1)*(o?-1:1)*this.axisTitleMargin+(2===this.side?u:0);return{x:e?h+d:m+(o?this.width:0)+l+d,y:e?m+c-(o?this.height:0)+l:h+c}},render:function(){var e,t,i,n=this,a=n.chart,r=a.renderer,s=n.options,o=n.isLog,l=n.isLinked,d=n.tickPositions,c=n.axisTitle,u=n.ticks,m=n.minorTicks,f=n.alternateBands,g=s.stackLabels,v=s.alternateGridColor,b=n.tickmarkOffset,y=s.lineWidth,T=a.hasRendered,A=T&&p(n.oldMin)&&!isNaN(n.oldMin),M=n.showAxis,S=r.globalAnimation;
n.labelEdge.length=0,n.overlap=!1,ut([u,m,f],function(e){var t;for(t in e)e[t].isActive=!1}),(n.hasData()||l)&&(n.minorTickInterval&&!n.categories&&ut(n.getMinorTickPositions(),function(e){m[e]||(m[e]=new B(n,e,"minor")),A&&m[e].isNew&&m[e].render(null,!0),m[e].render(null,!1,1)}),d.length&&(ut(d,function(e,t){(!l||e>=n.min&&e<=n.max)&&(u[e]||(u[e]=new B(n,e)),A&&u[e].isNew&&u[e].render(t,!0,.1),u[e].render(t))}),b&&(0===n.min||n.single)&&(u[-1]||(u[-1]=new B(n,-1,null,!0)),u[-1].render(-1))),v&&ut(d,function(e,r){i=d[r+1]!==U?d[r+1]+b:n.max-b,r%2===0&&e<n.max&&i<=n.max+(a.polar?-b:b)&&(f[e]||(f[e]=new lt.PlotLineOrBand(n)),t=e+b,f[e].options={from:o?h(t):t,to:o?h(i):i,color:v},f[e].render(),f[e].isActive=!0)}),n._addedPlotLB||(ut((s.plotLines||[]).concat(s.plotBands||[]),function(e){n.addPlotBandOrLine(e)}),n._addedPlotLB=!0)),ut([u,m,f],function(e){var t,i,n=[],r=S?S.duration||500:0,s=function(){for(i=n.length;i--;)e[n[i]]&&!e[n[i]].isActive&&(e[n[i]].destroy(),delete e[n[i]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,n.push(t));_(s,e!==f&&a.hasRendered&&r?r:0)}),y&&(e=n.getLinePath(y),n.axisLine?n.axisLine.animate({d:e}):n.axisLine=r.path(e).attr({stroke:s.lineColor,"stroke-width":y,zIndex:7}).add(n.axisGroup),n.axisLine[M?"show":"hide"](!0)),c&&M&&(c[c.isNew?"attr":"animate"](n.getTitlePosition()),c.isNew=!1),g&&g.enabled&&n.renderStackTotals(),n.isDirty=!1},redraw:function(){this.visible&&(this.render(),ut(this.plotLinesAndBands,function(e){e.render()})),ut(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t,i,n=this,a=n.stacks,r=n.plotLinesAndBands;e||gt(n);for(t in a)O(a[t]),a[t]=null;for(ut([n.ticks,n.minorTicks,n.alternateBands],function(e){O(e)}),i=r.length;i--;)r[i].destroy();ut(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(e){n[e]&&(n[e]=n[e].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){var i,n,a,r,s,o=this.crosshair;if(!this.crosshair||(p(t)||!At(o.snap,!0))===!1||t&&t.series&&t.series[this.coll]!==this)this.hideCrosshair();else{if(At(o.snap,!0)?p(t)&&(n=this.isXAxis?t.plotX:this.len-t.plotY):n=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,i=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:At(t.stackY,t.y))||null:this.getPlotLinePath(null,null,null,null,n)||null,null===i)return void this.hideCrosshair();r=this.categories&&!this.isRadial,s=At(o.width,r?this.transA:1),this.cross?this.cross.attr({d:i,visibility:"visible","stroke-width":s}):(a={"stroke-width":s,stroke:o.color||(r?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:At(o.zIndex,2)},o.dashStyle&&(a.dashstyle=o.dashStyle),this.cross=this.chart.renderer.path(i).attr(a).add())}},hideCrosshair:function(){this.cross&&this.cross.hide()}},Tt(It.prototype,K),It.prototype.getTimeTicks=function(e,t,i,n){var a,r,s=[],o={},l=q.global.useUTC,d=new J(t-M(t)),c=e.unitRange,u=e.count;if(p(t)){d[le](c>=Q.second?0:u*ve(d.getMilliseconds()/u)),c>=Q.second&&d[de](c>=Q.minute?0:u*ve(d.getSeconds()/u)),c>=Q.minute&&d[ce](c>=Q.hour?0:u*ve(d[ie]()/u)),c>=Q.hour&&d[ue](c>=Q.day?0:u*ve(d[ne]()/u)),c>=Q.day&&d[he](c>=Q.month?1:u*ve(d[re]()/u)),c>=Q.month&&(d[me](c>=Q.year?0:u*ve(d[se]()/u)),r=d[oe]()),c>=Q.year&&(r-=r%u,d[pe](r)),c===Q.week&&d[he](d[re]()-d[ae]()+At(n,1)),a=1,(ee||te)&&(d=d.getTime(),d=new J(d+M(d))),r=d[oe]();for(var h=d.getTime(),m=d[se](),f=d[re](),g=(Q.day+(l?M(d):60*d.getTimezoneOffset()*1e3))%Q.day;i>h;)s.push(h),c===Q.year?h=Z(r+a*u,0):c===Q.month?h=Z(r,m+a*u):l||c!==Q.day&&c!==Q.week?h+=c*u:h=Z(r,m,f+a*u*(c===Q.day?1:7)),a++;s.push(h),ut(ht(s,function(e){return c<=Q.hour&&e%Q.day===g}),function(e){o[e]="day"})}return s.info=Tt(e,{higherRanks:o,totalRange:c*u}),s},It.prototype.normalizeTimeTickInterval=function(e,t){var i,n,a=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=a[a.length-1],s=Q[r[0]],o=r[1];for(n=0;n<a.length;n++)if(r=a[n],s=Q[r[0]],o=r[1],a[n+1]){var l=(s*o[o.length-1]+Q[a[n+1][0]])/2;if(l>=e)break}return s===Q.year&&5*s>e&&(o=[1,2,5]),i=D(e/s,o,"year"===r[0]?ye(C(e/s),1):1),{unitRange:s,count:i,unitName:r[0]}},It.prototype.getLogTickPositions=function(e,t,i,n){var a=this,r=a.options,s=a.len,o=[];if(n||(a._minorAutoInterval=null),e>=.5)e=_e(e),o=a.getLinearTickPositions(e,t,i);else if(e>=.08){var l,d,c,m,p,f,g,_=ve(t);for(l=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],d=_;i+1>d&&!g;d++)for(m=l.length,c=0;m>c&&!g;c++)p=u(h(d)*l[c]),p>t&&(!n||i>=f)&&f!==U&&o.push(f),f>i&&(g=!0),f=p}else{var v=h(t),b=h(i),y=r[n?"minorTickInterval":"tickInterval"],T="auto"===y?null:y,A=r.tickPixelInterval/(n?5:1),M=n?s/a.tickPositions.length:s;e=At(T,a._minorAutoInterval,(b-v)*A/(M||1)),e=D(e,null,C(e)),o=pt(a.getLinearTickPositions(e,v,b),u),n||(a._minorAutoInterval=e/5)}return n||(a.tickInterval=e),o};var Rt=lt.Tooltip=function(){this.init.apply(this,arguments)};Rt.prototype={init:function(e,t){var i=t.borderWidth,n=t.style,a=s(n.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:a,fill:t.backgroundColor,"stroke-width":i,r:t.borderRadius,zIndex:8}).css(n).css({padding:0}).add().attr({y:-9999}),Pe||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,t,i,n){var a=this,r=a.now,s=a.options.animation!==!1&&!a.isHidden&&(Ae(e-r.x)>1||Ae(t-r.y)>1),o=a.followPointer||a.len>1;Tt(r,{x:s?(2*r.x+e)/3:e,y:s?(r.y+t)/2:t,anchorX:o?U:s?(2*r.anchorX+i)/3:i,anchorY:o?U:s?(r.anchorY+n)/2:n}),a.label.attr(r),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){a&&a.move(e,t,i,n)},32))},hide:function(e){var t=this;clearTimeout(this.hideTimer),e=At(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=_(function(){t.label[e?"fadeOut":"hide"](),t.isHidden=!0},e))},getAnchor:function(e,t){var i,n,a,r=this.chart,s=r.inverted,o=r.plotTop,l=r.plotLeft,d=0,c=0;return e=g(e),i=e[0].tooltipPos,this.followPointer&&t&&(t.chartX===U&&(t=r.pointer.normalize(t)),i=[t.chartX-r.plotLeft,t.chartY-o]),i||(ut(e,function(e){n=e.series.yAxis,a=e.series.xAxis,d+=e.plotX+(!s&&a?a.left-l:0),c+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!s&&n?n.top-o:0)}),d/=e.length,c/=e.length,i=[s?r.plotWidth-c:d,this.shared&&!s&&e.length>1&&t?t.chartY-o:s?r.plotHeight-d:c]),pt(i,_e)},getPosition:function(e,t,i){var n,a=this.chart,r=this.distance,s={},o=i.h||0,l=["y",a.chartHeight,t,i.plotY+a.plotTop,a.plotTop,a.plotTop+a.plotHeight],d=["x",a.chartWidth,e,i.plotX+a.plotLeft,a.plotLeft,a.plotLeft+a.plotWidth],c=At(i.ttBelow,a.inverted&&!i.negative||!a.inverted&&i.negative),u=function(e,t,i,n,a,l){var d=n-r>i,u=t>n+r+i,h=n-r-i,m=n+r;if(c&&u)s[e]=m;else if(!c&&d)s[e]=h;else if(d)s[e]=Te(l-i,0>h-o?h:h-o);else{if(!u)return!1;s[e]=ye(a,m+o+i>t?m:m+o)}},h=function(e,t,i,n){var a;return r>n||n>t-r?a=!1:i/2>n?s[e]=1:n>t-i/2?s[e]=t-i-2:s[e]=n-i/2,a},m=function(e){var t=l;l=d,d=t,n=e},p=function(){u.apply(0,l)!==!1?h.apply(0,d)!==!1||n||(m(!0),p()):n?s.x=s.y=0:(m(!0),p())};return(a.inverted||this.len>1)&&m(),p(),s},defaultFormatter:function(e){var t,i=this.points||g(this);return t=[e.tooltipFooterHeaderFormatter(i[0])],t=t.concat(e.bodyFormatter(i)),t.push(e.tooltipFooterHeaderFormatter(i[0],!0)),t.join("")},refresh:function(e,t){var i,n,a,r,s,o,l=this,d=l.chart,c=l.label,u=l.options,h={},m=[],p=u.formatter||l.defaultFormatter,f=d.hoverPoints,_=l.shared;clearTimeout(this.hideTimer),l.followPointer=g(e)[0].series.tooltipOptions.followPointer,a=l.getAnchor(e,t),i=a[0],n=a[1],!_||e.series&&e.series.noSharedTooltip?h=e.getLabelConfig():(d.hoverPoints=e,f&&ut(f,function(e){e.setState()}),ut(e,function(e){e.setState(nt),m.push(e.getLabelConfig())}),h={x:e[0].category,y:e[0].y},h.points=m,this.len=m.length,e=e[0]),r=p.call(h,l),o=e.series,this.distance=At(o.tooltipOptions.distance,16),r===!1?this.hide():(l.isHidden&&(bt(c),c.attr("opacity",1).show()),c.attr({text:r}),s=u.borderColor||e.color||o.color||"#606060",c.attr({stroke:s}),l.updatePosition({plotX:i,plotY:n,negative:e.negative,ttBelow:e.ttBelow,h:a[2]||0}),this.isHidden=!1),_t(d,"tooltipRefresh",{text:r,x:i+d.plotLeft,y:n+d.plotTop,borderColor:s})},updatePosition:function(e){var t=this.chart,i=this.label,n=(this.options.positioner||this.getPosition).call(this,i.width,i.height,e);this.move(_e(n.x),_e(n.y||0),e.plotX+t.plotLeft,e.plotY+t.plotTop)},getXDateFormat:function(e,t,i){var n,a,r,s=t.dateTimeLabelFormats,o=i&&i.closestPointRange,l="01-01 00:00:00.000",d={millisecond:15,second:12,minute:9,hour:6,day:3},c="millisecond";if(o){r=$("%m-%d %H:%M:%S.%L",e.x);for(a in Q){if(o===Q.week&&+$("%w",e.x)===i.options.startOfWeek&&r.substr(6)===l.substr(6)){a="week";break}if(Q[a]>o){a=c;break}if(d[a]&&r.substr(d[a])!==l.substr(d[a]))break;"week"!==a&&(c=a)}a&&(n=s[a])}else n=s.day;return n||s.year},tooltipFooterHeaderFormatter:function(e,t){var i=t?"footer":"header",n=e.series,a=n.tooltipOptions,r=a.xDateFormat,s=n.xAxis,o=s&&"datetime"===s.options.type&&c(e.key),l=a[i+"Format"];return o&&!r&&(r=this.getXDateFormat(e,a,s)),o&&r&&(l=l.replace("{point.key}","{point.key:"+r+"}")),L(l,{point:e,series:n})},bodyFormatter:function(e){return pt(e,function(e){var t=e.series.tooltipOptions;return(t.pointFormatter||e.point.tooltipFormatter).call(e.point,t.pointFormat)})}};var Nt;z=fe&&fe.documentElement.ontouchstart!==U;var kt=lt.Pointer=function(e,t){this.init(e,t)};if(kt.prototype={init:function(e,t){var i,n,a=t.chart,r=a.events,s=Pe?"":a.zoomType,o=e.inverted;this.options=t,this.chart=e,this.zoomX=i=/x/.test(s),this.zoomY=n=/y/.test(s),this.zoomHor=i&&!o||n&&o,this.zoomVert=n&&!o||i&&o,this.hasZoom=i||n,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},lt.Tooltip&&t.tooltip.enabled&&(e.tooltip=new Rt(e,t.tooltip),this.followTouchMove=At(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(t,i){var n,a,r;t=t||e.event,t.target||(t.target=t.srcElement),r=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,i||(this.chartPosition=i=mt(this.chart.container)),r.pageX===U?(n=ye(t.x,t.clientX-i.left),a=t.y):(n=r.pageX-i.left,a=r.pageY-i.top),t=Tt(t,{chartX:_e(n),chartY:_e(a)});var s=this.chart.container;if(s&&s.offsetWidth&&s.offsetHeight){var o=s.getBoundingClientRect();if(o.width&&o.height){var l=o.width/s.offsetWidth,d=o.height/s.offsetHeight;1!==l&&(t.chartX=parseInt(t.chartX/l,10)),1!==d&&(t.chartY=parseInt(t.chartY/d,10))}}return t},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return ut(this.chart.axes,function(i){t[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(e[i.horiz?"chartX":"chartY"])})}),t},runPointActions:function(e){var t,i,n,a,r,s,o,l,d,c=this,u=c.chart,h=u.series,m=u.tooltip,p=m?m.shared:!1,f=u.hoverPoint,g=u.hoverSeries,_=Number.MAX_VALUE,v=[];if(!p&&!g)for(i=0;i<h.length;i++)(h[i].directTouch||!h[i].options.stickyTracking)&&(h=[]);if(r=g&&(p?g.noSharedTooltip:g.directTouch),r&&f?l=f:(ut(h,function(t){a=t.noSharedTooltip&&p,s=!p&&t.directTouch,t.visible&&!a&&!s&&At(t.options.enableMouseTracking,!0)&&(d=t.searchPoint(e,!a&&1===t.kdDimensions),d&&v.push(d))}),ut(v,function(e){o=p||1!==e.series.kdDimensions?e.distX:e.dist,e&&"number"==typeof o&&_>o&&(_=o,l=e)})),l&&(l!==this.prevKDPoint||m&&m.isHidden)){if(p&&!l.series.noSharedTooltip){for(i=v.length;i--;)(v[i].clientX!==l.clientX||v[i].series.noSharedTooltip)&&v.splice(i,1);v.length&&m&&m.refresh(v,e),ut(v,function(t){t.onMouseOver(e,t!==(g&&g.directTouch&&f||l))})}else m&&m.refresh(l,e),g&&g.directTouch||l.onMouseOver(e);this.prevKDPoint=l}else t=g&&g.tooltipOptions.followPointer,m&&t&&!m.isHidden&&(n=m.getAnchor([{}],e),m.updatePosition({plotX:n[0],plotY:n[1]}));c._onDocumentMouseMove||(c._onDocumentMouseMove=function(e){Be[Nt]&&Be[Nt].pointer.onDocumentMouseMove(e)},ft(fe,"mousemove",c._onDocumentMouseMove)),ut(u.axes,function(t){t.drawCrosshair(e,At(l,f))})},reset:function(e,t){var i=this,n=i.chart,a=n.hoverSeries,r=n.hoverPoint,s=n.hoverPoints,o=n.tooltip,l=o&&o.shared?s:r;e=e&&o&&l,e&&ut(g(l),function(t){void 0===t.plotX&&(e=!1)}),e?(o.refresh(l),r&&(r.setState(r.state,!0),ut(n.axes,function(e){At(e.options.crosshair&&e.options.crosshair.snap,!0)?e.drawCrosshair(null,r):e.hideCrosshair()}))):(r&&r.onMouseOut(),s&&ut(s,function(e){e.setState()}),a&&a.onMouseOut(),o&&o.hide(t),i._onDocumentMouseMove&&(gt(fe,"mousemove",i._onDocumentMouseMove),i._onDocumentMouseMove=null),ut(n.axes,function(e){e.hideCrosshair()}),i.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(e,t){var i,n=this.chart;ut(n.series,function(a){i=e||a.getPlotBox(),a.xAxis&&a.xAxis.zoomEnabled&&(a.group.attr(i),a.markerGroup&&(a.markerGroup.attr(i),a.markerGroup.clip(t?n.clipRect:null)),a.dataLabelsGroup&&a.dataLabelsGroup.attr(i))}),n.clipRect.attr(t||n.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t,i,n=this.chart,a=n.options.chart,r=e.chartX,s=e.chartY,o=this.zoomHor,l=this.zoomVert,d=n.plotLeft,c=n.plotTop,u=n.plotWidth,h=n.plotHeight,m=this.selectionMarker,p=this.mouseDownX,f=this.mouseDownY,g=a.panKey&&e[a.panKey+"Key"];m&&m.touch||(d>r?r=d:r>d+u&&(r=d+u),c>s?s=c:s>c+h&&(s=c+h),this.hasDragged=Math.sqrt(Math.pow(p-r,2)+Math.pow(f-s,2)),this.hasDragged>10&&(t=n.isInsidePlot(p-d,f-c),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&t&&!g&&(m||(this.selectionMarker=m=n.renderer.rect(d,c,o?1:u,l?1:h,0).attr({fill:a.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),m&&o&&(i=r-p,m.attr({width:Ae(i),x:(i>0?0:i)+p})),m&&l&&(i=s-f,m.attr({height:Ae(i),y:(i>0?0:i)+f})),t&&!m&&a.panning&&n.pan(e,a.panning)))},drop:function(e){var t=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var a,r={xAxis:[],yAxis:[]},s=this.selectionMarker,o=s.attr?s.attr("x"):s.x,l=s.attr?s.attr("y"):s.y,d=s.attr?s.attr("width"):s.width,c=s.attr?s.attr("height"):s.height;(this.hasDragged||n)&&(ut(i.axes,function(i){if(i.zoomEnabled&&p(i.min)&&(n||t[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var s=i.horiz,u="touchend"===e.type?i.minPixelPadding:0,h=i.toValue((s?o:l)+u),m=i.toValue((s?o+d:l+c)-u);r[i.coll].push({axis:i,min:Te(h,m),max:ye(h,m)}),a=!0}}),a&&_t(i,"selection",r,function(e){i.zoom(Tt(e,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(v(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){Be[Nt]&&Be[Nt].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,i=this.chartPosition;e=this.normalize(e,i),!i||this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)||this.reset()},onContainerMouseLeave:function(){var e=Be[Nt];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;Nt=t.index,e=this.normalize(e),e.returnValue=!1,"mousedown"===t.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)||t.openMenu||this.runPointActions(e)},inClass:function(e,t){for(var i;e;){if(i=f(e,"class")){if(-1!==i.indexOf(t))return!0;if(-1!==i.indexOf(Xe+"container"))return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,i=e.relatedTarget||e.toElement;!t||t.options.stickyTracking||this.inClass(i,Xe+"tooltip")||this.inClass(i,Xe+"series-"+t.index)||t.onMouseOut()},onContainerClick:function(e){var t=this.chart,i=t.hoverPoint,n=t.plotLeft,a=t.plotTop;e=this.normalize(e),t.cancelClick||(i&&this.inClass(e.target,Xe+"tracker")?(_t(i.series,"click",Tt(e,{point:i})),t.hoverPoint&&i.firePointEvent("click",e)):(Tt(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-n,e.chartY-a)&&_t(t,"click",e)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},ft(t,"mouseleave",e.onContainerMouseLeave),1===Ve&&ft(fe,"mouseup",e.onDocumentMouseUp),z&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},1===Ve&&ft(fe,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;gt(this.chart.container,"mouseleave",this.onContainerMouseLeave),Ve||(gt(fe,"mouseup",this.onDocumentMouseUp),gt(fe,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},Tt(lt.Pointer.prototype,{pinchTranslate:function(e,t,i,n,a,r){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,i,n,a,r),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,i,n,a,r)},pinchTranslateDirection:function(e,t,i,n,a,r,s,o){var l,d,c,u,h,m,p=this.chart,f=e?"x":"y",g=e?"X":"Y",_="chart"+g,v=e?"width":"height",b=p["plot"+(e?"Left":"Top")],y=o||1,T=p.inverted,A=p.bounds[e?"h":"v"],M=1===t.length,S=t[0][_],L=i[0][_],C=!M&&t[1][_],D=!M&&i[1][_],x=function(){!M&&Ae(S-C)>20&&(y=o||Ae(L-D)/Ae(S-C)),c=(b-L)/y+S,l=p["plot"+(e?"Width":"Height")]/y};x(),d=c,d<A.min?(d=A.min,u=!0):d+l>A.max&&(d=A.max-l,u=!0),u?(L-=.8*(L-s[f][0]),M||(D-=.8*(D-s[f][1])),x()):s[f]=[L,D],T||(r[f]=c-b,r[v]=l),m=T?e?"scaleY":"scaleX":"scale"+g,h=T?1/y:y,a[v]=l,a[f]=d,n[m]=y,n["translate"+g]=h*b+(L-h*S)},pinch:function(e){var t=this,i=t.chart,n=t.pinchDown,a=e.touches,r=a.length,s=t.lastValidTouch,o=t.hasZoom,l=t.selectionMarker,d={},c=1===r&&(t.inClass(e.target,Xe+"tracker")&&i.runTrackerClick||t.runChartClick),u={};r>1&&(t.initiated=!0),o&&t.initiated&&!c&&e.preventDefault(),pt(a,function(e){return t.normalize(e)}),"touchstart"===e.type?(ut(a,function(e,t){n[t]={chartX:e.chartX,chartY:e.chartY}}),s.x=[n[0].chartX,n[1]&&n[1].chartX],s.y=[n[0].chartY,n[1]&&n[1].chartY],ut(i.axes,function(e){if(e.zoomEnabled){var t=i.bounds[e.horiz?"h":"v"],n=e.minPixelPadding,a=e.toPixels(At(e.options.min,e.dataMin)),r=e.toPixels(At(e.options.max,e.dataMax)),s=Te(a,r),o=ye(a,r);t.min=Te(e.pos,s-n),t.max=ye(e.pos+e.len,o+n)}}),t.res=!0):n.length&&(l||(t.selectionMarker=l=Tt({destroy:je,touch:!0},i.plotBox)),t.pinchTranslate(n,a,d,l,u,s),t.hasPinched=o,t.scaleGroups(d,u),!o&&t.followTouchMove&&1===r?this.runPointActions(t.normalize(e)):t.res&&(t.res=!1,this.reset(!1,0)))},touch:function(e,t){var i=this.chart;Nt=i.index,1===e.touches.length?(e=this.normalize(e),i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop)&&!i.openMenu?(t&&this.runPointActions(e),this.pinch(e)):t&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(e){this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(e){Be[Nt]&&Be[Nt].pointer.drop(e)}}),e.PointerEvent||e.MSPointerEvent){var Ht={},Pt=!!e.PointerEvent,Ft=function(){var e,t=[];t.item=function(e){return this[e]};for(e in Ht)Ht.hasOwnProperty(e)&&t.push({pageX:Ht[e].pageX,pageY:Ht[e].pageY,target:Ht[e].target});return t},Yt=function(e,t,i,n){var a;"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!Be[Nt]||(n(e),a=Be[Nt].pointer,a[t]({type:i,target:e.currentTarget,preventDefault:je,touches:Ft()}))};Tt(kt.prototype,{onContainerPointerDown:function(e){Yt(e,"onContainerTouchStart","touchstart",function(e){Ht[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){Yt(e,"onContainerTouchMove","touchmove",function(e){Ht[e.pointerId]={pageX:e.pageX,pageY:e.pageY},Ht[e.pointerId].target||(Ht[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){Yt(e,"onDocumentTouchEnd","touchend",function(e){delete Ht[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,Pt?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,Pt?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(fe,Pt?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),Mt(kt.prototype,"init",function(e,t,i){e.call(this,t,i),this.hasZoom&&v(t.container,{"-ms-touch-action":Je,"touch-action":Je})}),Mt(kt.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(ft)}),Mt(kt.prototype,"destroy",function(e){this.batchMSEvents(gt),e.call(this)})}var jt=lt.Legend=function(e,t){this.init(e,t)};jt.prototype={init:function(e,t){var i,n=this,a=t.itemStyle,s=t.itemMarginTop||0;this.options=t,t.enabled&&(n.itemStyle=a,n.itemHiddenStyle=r(a,t.itemHiddenStyle),n.itemMarginTop=s,n.padding=i=At(t.padding,8),n.initialItemX=i,n.initialItemY=i-5,n.maxItemWidth=0,n.chart=e,n.itemHeight=0,n.symbolWidth=At(t.symbolWidth,16),n.pages=[],n.render(),ft(n.chart,"endResize",function(){n.positionCheckboxes()}))},colorizeItem:function(e,t){var i,n,a=this,r=a.options,s=e.legendItem,o=e.legendLine,l=e.legendSymbol,d=a.itemHiddenStyle.color,c=t?r.itemStyle.color:d,u=t?e.legendColor||e.color||"#CCC":d,h=e.options&&e.options.marker,m={fill:u};if(s&&s.css({fill:c,color:c}),o&&o.attr({stroke:u}),l){if(h&&l.isMarker){m.stroke=u,h=e.convertAttribs(h);for(i in h)n=h[i],n!==U&&(m[i]=n)}l.attr(m)}},positionItem:function(e){var t=this,i=t.options,n=i.symbolPadding,a=!i.rtl,r=e._legendItemPos,s=r[0],o=r[1],l=e.checkbox,d=e.legendGroup;d&&d.element&&d.translate(a?s:t.legendWidth-s-2*n-4,o),l&&(l.x=s,l.y=o)},destroyItem:function(e){var t=e.checkbox;ut(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&I(e.checkbox)},destroy:function(){var e=this,t=e.group,i=e.box;i&&(e.box=i.destroy()),t&&(e.group=t.destroy())},positionCheckboxes:function(e){var t,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight,a=this.titleHeight;i&&(t=i.translateY,ut(this.allItems,function(r){var s,o=r.checkbox;o&&(s=t+a+o.y+(e||0)+3,v(o,{left:i.translateX+r.checkboxOffset+o.x-20+Ke,top:s+Ke,display:s>t-6&&t+n-6>s?"":Je}))}))},renderTitle:function(){var e,t=this.options,i=this.padding,n=t.title,a=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,i-3,i-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),e=this.title.getBBox(),a=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:a})),this.titleHeight=a},setText:function(e){var t=this.options;e.legendItem.attr({text:t.labelFormat?L(t.labelFormat,e):t.labelFormatter.call(e)})},renderItem:function(e){var t,i,n,a=this,s=a.chart,o=s.renderer,l=a.options,d="horizontal"===l.layout,c=a.symbolWidth,u=l.symbolPadding,h=a.itemStyle,m=a.itemHiddenStyle,p=a.padding,f=d?At(l.itemDistance,20):0,g=!l.rtl,_=l.width,v=l.itemMarginBottom||0,b=a.itemMarginTop,y=a.initialItemX,T=e.legendItem,A=e.series&&e.series.drawLegendSymbol?e.series:e,M=A.options,S=a.createCheckboxForItem&&M&&M.showCheckbox,L=l.useHTML;T||(e.legendGroup=o.g("legend-item").attr({zIndex:1}).add(a.scrollGroup),e.legendItem=T=o.text("",g?c+u:-u,a.baseline||0,L).css(r(e.visible?h:m)).attr({align:g?"left":"right",zIndex:2}).add(e.legendGroup),a.baseline||(a.fontMetrics=o.fontMetrics(h.fontSize,T),a.baseline=a.fontMetrics.f+3+b,T.attr("y",a.baseline)),A.drawLegendSymbol(a,e),a.setItemEvents&&a.setItemEvents(e,T,L,h,m),a.colorizeItem(e,e.visible),S&&a.createCheckboxForItem(e)),a.setText(e),i=T.getBBox(),n=e.checkboxOffset=l.itemWidth||e.legendItemWidth||c+u+i.width+f+(S?20:0),a.itemHeight=t=_e(e.legendItemHeight||i.height),d&&a.itemX-y+n>(_||s.chartWidth-2*p-y-l.x)&&(a.itemX=y,a.itemY+=b+a.lastLineHeight+v,a.lastLineHeight=0),a.maxItemWidth=ye(a.maxItemWidth,n),a.lastItemY=b+a.itemY+v,a.lastLineHeight=ye(t,a.lastLineHeight),e._legendItemPos=[a.itemX,a.itemY],d?a.itemX+=n:(a.itemY+=b+t+v,a.lastLineHeight=t),a.offsetWidth=_||ye((d?a.itemX-y-f:n)+p,a.offsetWidth)},getAllItems:function(){var e=[];return ut(this.chart.series,function(t){var i=t.options;At(i.showInLegend,p(i.linkedTo)?!1:U,!0)&&(e=e.concat(t.legendItems||("point"===i.legendType?t.data:t)))}),e},adjustMargins:function(e,t){var i=this.chart,n=this.options,a=n.align.charAt(0)+n.verticalAlign.charAt(0)+n.layout.charAt(0);this.display&&!n.floating&&ut([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(r,s){r.test(a)&&!p(e[s])&&(i[rt[s]]=ye(i[rt[s]],i.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*n[s%2?"x":"y"]+At(n.margin,12)+t[s]))})},render:function(){var e,t,i,n,a=this,r=a.chart,s=r.renderer,o=a.group,l=a.box,d=a.options,c=a.padding,u=d.borderWidth,h=d.backgroundColor;a.itemX=a.initialItemX,a.itemY=a.initialItemY,a.offsetWidth=0,a.lastItemY=0,o||(a.group=o=s.g("legend").attr({zIndex:7}).add(),a.contentGroup=s.g().attr({zIndex:1}).add(o),a.scrollGroup=s.g().add(a.contentGroup)),a.symbolWidth=this.chart.renderer.fontMetrics(!1,o).f,d.symbolPadding=_e(a.symbolWidth/2.8),a.renderTitle(),e=a.getAllItems(),x(e,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),d.reversed&&e.reverse(),a.allItems=e,a.display=t=!!e.length,a.lastLineHeight=0,ut(e,function(e){a.renderItem(e)}),i=(d.width||a.offsetWidth)+c,n=a.lastItemY+a.lastLineHeight+a.titleHeight,n=a.handleOverflow(n),n+=c,(u||h)&&(l?i>0&&n>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:i,height:n})),l.isNew=!1):(a.box=l=s.rect(0,0,i,n,d.borderRadius,u||0).attr({stroke:d.borderColor,"stroke-width":u||0,fill:h||Je}).add(o).shadow(d.shadow),l.isNew=!0),l[t?"show":"hide"]()),a.legendWidth=i,a.legendHeight=n,ut(e,function(e){a.positionItem(e)}),t&&o.align(Tt({width:i,height:n},d),!0,"spacingBox"),r.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t,i,n=this,a=this.chart,r=a.renderer,s=this.options,o=s.y,l="top"===s.verticalAlign,d=a.spacingBox.height+(l?-o:o)-this.padding,c=s.maxHeight,u=this.clipRect,h=s.navigation,m=At(h.animation,!0),p=h.arrowSize||12,f=this.nav,g=this.pages,_=this.padding,v=this.allItems,b=function(e){u.attr({height:e}),n.contentGroup.div&&(n.contentGroup.div.style.clip="rect("+_+"px,9999px,"+(_+e)+"px,0)")};return"horizontal"===s.layout&&(d/=2),c&&(d=Te(d,c)),g.length=0,e>d?(this.clipHeight=t=ye(d-20-this.titleHeight-_,0),this.currentPage=At(this.currentPage,1),this.fullHeight=e,ut(v,function(e,n){var a=e._legendItemPos[1],r=_e(e.legendItem.getBBox().height),s=g.length;(!s||a-g[s-1]>t&&(i||a)!==g[s-1])&&(g.push(i||a),s++),n===v.length-1&&a+r-g[s-1]>t&&g.push(a),a!==i&&(i=a)}),u||(u=n.clipRect=r.clipRect(0,_,9999,0),n.contentGroup.clip(u)),b(t),f||(this.nav=f=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,p,p).on("click",function(){n.scroll(-1,m)}).add(f),this.pager=r.text("",15,10).css(h.style).add(f),this.down=r.symbol("triangle-down",0,0,p,p).on("click",function(){n.scroll(1,m)}).add(f)),n.scroll(0),e=d):f&&(b(a.chartHeight),f.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var i,n=this.pages,a=n.length,r=this.currentPage+e,s=this.clipHeight,o=this.options.navigation,l=o.activeColor,d=o.inactiveColor,c=this.pager,u=this.padding;r>a&&(r=a),r>0&&(t!==U&&N(t,this.chart),this.nav.attr({translateX:u,translateY:s+this.padding+7+this.titleHeight,visibility:Qe}),this.up.attr({fill:1===r?d:l}).css({cursor:1===r?"default":"pointer"}),c.attr({text:r+"/"+a}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===a?d:l}).css({cursor:r===a?"default":"pointer"}),i=-n[r-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=r,this.positionCheckboxes(i))}};var Bt=lt.LegendSymbolMixin={drawRectangle:function(e,t){var i=e.options.symbolHeight||this.chart.renderer.fontMetrics(!1,t.legendItem).f||12;t.legendSymbol=this.chart.renderer.rect(0,_e(e.baseline-i/1.1),e.symbolWidth,i,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t,i,n,a=this.options,r=a.marker,s=e.symbolWidth,o=this.chart.renderer,l=this.legendGroup,d=e.baseline-_e(.3*e.fontMetrics.b);a.lineWidth&&(n={"stroke-width":a.lineWidth},a.dashStyle&&(n.dashstyle=a.dashStyle),this.legendLine=o.path([Ze,0,d,et,s,d]).attr(n).add(l)),r&&r.enabled!==!1&&(t=r.radius,this.legendSymbol=i=o.symbol(this.symbol,s/2-t,d-t,2*t,2*t,r).add(l),i.isMarker=!0)}};(/Trident\/7\.0/.test(De)||Ie)&&Mt(jt.prototype,"positionItem",function(e,t){var i=this,n=function(){t._legendItemPos&&e.call(i,t)};n(),setTimeout(n)});var Vt=lt.Chart=function(){this.getArgs.apply(this,arguments)};lt.chart=function(e,t,i){return new Vt(e,t,i)},Vt.prototype={callbacks:[],getArgs:function(){var e=[].slice.call(arguments);(o(e[0])||e[0].nodeName)&&(this.renderTo=e.shift()),this.init(e[0],e[1])},init:function(e,t){var i,n=e.series;e.series=null,i=r(q,e),i.series=e.series=n,this.userOptions=e;var a=i.chart;this.margin=this.splashArray("margin",a),this.spacing=this.splashArray("spacing",a);var s=a.events;this.bounds={h:{},v:{}},this.callback=t,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=a.showAxes;var o,l=this;if(l.index=Be.length,Be.push(l),Ve++,a.reflow!==!1&&ft(l,"load",function(){l.initReflow()}),s)for(o in s)ft(l,o,s[o]);l.xAxis=[],l.yAxis=[],l.animation=Pe?!1:At(a.animation,!0),l.pointCount=l.colorCounter=l.symbolCounter=0,l.firstRender()},initSeries:function(e){var t,i=this,a=i.options.chart,r=e.type||a.type||a.defaultSeriesType,s=ot[r];return s||n(17,!0),t=new s,t.init(this,e),t},isInsidePlot:function(e,t,i){var n=i?t:e,a=i?e:t;return n>=0&&n<=this.plotWidth&&a>=0&&a<=this.plotHeight},redraw:function(e){var t,i,n,a=this,r=a.axes,s=a.series,o=a.pointer,l=a.legend,d=a.isDirtyLegend,c=a.hasCartesianSeries,u=a.isDirtyBox,h=s.length,m=h,p=a.renderer,f=p.isHidden(),g=[];for(N(e,a),f&&a.cloneRenderTo(),a.layOutTitles();m--;)if(n=s[m],n.options.stacking&&(t=!0,n.isDirty)){i=!0;break}if(i)for(m=h;m--;)n=s[m],n.options.stacking&&(n.isDirty=!0);ut(s,function(e){e.isDirty&&"point"===e.options.legendType&&(e.updateTotals&&e.updateTotals(),d=!0)}),d&&l.options.enabled&&(l.render(),a.isDirtyLegend=!1),t&&a.getStacks(),c&&(a.isResizing||(a.maxTicks=null,ut(r,function(e){e.setScale()}))),a.getMargins(),c&&(ut(r,function(e){e.isDirty&&(u=!0)}),ut(r,function(e){var i=e.min+","+e.max;e.extKey!==i&&(e.extKey=i,g.push(function(){_t(e,"afterSetExtremes",Tt(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(u||t)&&e.redraw()})),u&&a.drawChartBox(),ut(s,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),o&&o.reset(!0),p.draw(),_t(a,"redraw"),f&&a.cloneRenderTo(!0),ut(g,function(e){e.call()})},get:function(e){var t,i,n,a=this,r=a.axes,s=a.series;for(t=0;t<r.length;t++)if(r[t].options.id===e)return r[t];for(t=0;t<s.length;t++)if(s[t].options.id===e)return s[t];for(t=0;t<s.length;t++)for(n=s[t].points||[],i=0;i<n.length;i++)if(n[i].id===e)return n[i];return null},getAxes:function(){var e,t=this,i=this.options,n=i.xAxis=g(i.xAxis||{}),a=i.yAxis=g(i.yAxis||{});ut(n,function(e,t){e.index=t,e.isX=!0}),ut(a,function(e,t){e.index=t}),e=n.concat(a),ut(e,function(e){new It(t,e)})},getSelectedPoints:function(){var e=[];return ut(this.series,function(t){e=e.concat(ht(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return ht(this.series,function(e){return e.selected})},setTitle:function(e,t,i){var n,a,s=this,o=s.options;n=o.title=r(o.title,e),a=o.subtitle=r(o.subtitle,t),ut([["title",e,n],["subtitle",t,a]],function(e){var t=e[0],i=s[t],n=e[1],a=e[2];i&&n&&(s[t]=i=i.destroy()),a&&a.text&&!i&&(s[t]=s.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":Xe+t,zIndex:a.zIndex||4}).css(a.style).add())}),s.layOutTitles(i)},layOutTitles:function(e){var t,i=0,n=this.title,a=this.subtitle,r=this.options,s=r.title,o=r.subtitle,l=this.renderer,d=this.spacingBox.width-44;n&&(n.css({width:(s.width||d)+Ke}).align(Tt({y:l.fontMetrics(s.style.fontSize,n).b-3
},s),!1,"spacingBox"),s.floating||s.verticalAlign||(i=n.getBBox().height)),a&&(a.css({width:(o.width||d)+Ke}).align(Tt({y:i+(s.margin-13)+l.fontMetrics(o.style.fontSize,n).b},o),!1,"spacingBox"),o.floating||o.verticalAlign||(i=be(i+a.getBBox().height))),t=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&t&&(this.isDirtyBox=t,this.hasRendered&&At(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this,t=e.options.chart,i=t.width,n=t.height,a=e.renderToClone||e.renderTo;p(i)||(e.containerWidth=dt(a,"width")),p(n)||(e.containerHeight=dt(a,"height")),e.chartWidth=ye(0,i||e.containerWidth||600),e.chartHeight=ye(0,At(n,e.containerHeight>19?e.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,i=this.container;e?t&&(this.renderTo.appendChild(i),I(t),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=t=this.renderTo.cloneNode(0),v(t,{position:We,top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),fe.body.appendChild(t),i&&t.appendChild(i))},getContainer:function(){var e,t,i,a,r,l=this,d=l.options,c=d.chart,u=l.renderTo,h="data-highcharts-chart",m="highcharts-"+Ye++;u||(l.renderTo=u=c.renderTo),o(u)&&(l.renderTo=u=fe.getElementById(u)),u||n(13,!0),fe=u.ownerDocument,a=s(f(u,h)),!isNaN(a)&&Be[a]&&Be[a].hasRendered&&Be[a].destroy(),f(u,h,l.index),u.innerHTML="",c.skipClone||u.offsetWidth||l.cloneRenderTo(),l.getChartSize(),t=l.chartWidth,i=l.chartHeight,l.container=e=b(ze,{className:Xe+"container"+(c.className?" "+c.className:""),id:m},Tt({position:qe,overflow:$e,width:t+Ke,height:i+Ke,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},c.style),l.renderToClone||u),l._cursor=e.style.cursor,r=lt[c.renderer]||G,l.renderer=new r(e,t,i,c.style,c.forExport,d.exporting&&d.exporting.allowHTML),Pe&&l.renderer.create(l,e,t,i),l.renderer.chartIndex=l.index},getMargins:function(e){var t=this,i=t.spacing,n=t.margin,a=t.titleOffset;t.resetMargins(),a&&!p(n[0])&&(t.plotTop=ye(t.plotTop,a+t.options.title.margin+i[0])),t.legend.adjustMargins(n,i),t.extraBottomMargin&&(t.marginBottom+=t.extraBottomMargin),t.extraTopMargin&&(t.plotTop+=t.extraTopMargin),e||this.getAxisMargins()},getAxisMargins:function(){var e=this,t=e.axisOffset=[0,0,0,0],i=e.margin;e.hasCartesianSeries&&ut(e.axes,function(e){e.visible&&e.getOffset()}),ut(rt,function(n,a){p(i[a])||(e[n]+=t[a])}),e.setChartSize()},reflow:function(t){var i=this,n=i.options.chart,a=i.renderTo,r=n.width||dt(a,"width"),s=n.height||dt(a,"height"),o=t?t.target:e;i.hasUserSize||i.isPrinting||!r||!s||o!==e&&o!==fe||((r!==i.containerWidth||s!==i.containerHeight)&&(clearTimeout(i.reflowTimeout),i.reflowTimeout=_(function(){i.container&&(i.setSize(r,s,!1),i.hasUserSize=null)},t?100:0)),i.containerWidth=r,i.containerHeight=s)},initReflow:function(){var t=this,i=function(e){t.reflow(e)};ft(e,"resize",i),ft(t,"destroy",function(){gt(e,"resize",i)})},setSize:function(e,t,i){var n,a,r,s=this,o=s.renderer;s.isResizing+=1,N(i,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,p(e)&&(s.chartWidth=n=ye(0,_e(e)),s.hasUserSize=!!n),p(t)&&(s.chartHeight=a=ye(0,_e(t))),r=o.globalAnimation,(r?vt:v)(s.container,{width:n+Ke,height:a+Ke},r),s.setChartSize(!0),o.setSize(n,a,i),s.maxTicks=null,ut(s.axes,function(e){e.isDirty=!0,e.setScale()}),ut(s.series,function(e){e.isDirty=!0}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(i),s.oldChartHeight=null,_t(s,"resize"),r=o.globalAnimation,_(function(){s&&_t(s,"endResize",null,function(){s.isResizing-=1})},r===!1?0:r&&r.duration||500)},setChartSize:function(e){var t,i,n,a,r,s,o,l=this,d=l.inverted,c=l.renderer,u=l.chartWidth,h=l.chartHeight,m=l.options.chart,p=l.spacing,f=l.clipOffset;l.plotLeft=n=_e(l.plotLeft),l.plotTop=a=_e(l.plotTop),l.plotWidth=r=ye(0,_e(u-n-l.marginRight)),l.plotHeight=s=ye(0,_e(h-a-l.marginBottom)),l.plotSizeX=d?s:r,l.plotSizeY=d?r:s,l.plotBorderWidth=m.plotBorderWidth||0,l.spacingBox=c.spacingBox={x:p[3],y:p[0],width:u-p[3]-p[1],height:h-p[0]-p[2]},l.plotBox=c.plotBox={x:n,y:a,width:r,height:s},o=2*ve(l.plotBorderWidth/2),t=be(ye(o,f[3])/2),i=be(ye(o,f[0])/2),l.clipBox={x:t,y:i,width:ve(l.plotSizeX-ye(o,f[1])/2-t),height:ye(0,ve(l.plotSizeY-ye(o,f[2])/2-i))},e||ut(l.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this;ut(rt,function(t,i){e[t]=At(e.margin[i],e.spacing[i])}),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e,t,i=this,n=i.options.chart,a=i.renderer,r=i.chartWidth,s=i.chartHeight,o=i.chartBackground,l=i.plotBackground,d=i.plotBorder,c=i.plotBGImage,u=n.borderWidth||0,h=n.backgroundColor,m=n.plotBackgroundColor,p=n.plotBackgroundImage,f=n.plotBorderWidth||0,g=i.plotLeft,_=i.plotTop,v=i.plotWidth,b=i.plotHeight,y=i.plotBox,T=i.clipRect,A=i.clipBox;e=u+(n.shadow?8:0),(u||h)&&(o?o.animate(o.crisp({width:r-e,height:s-e})):(t={fill:h||Je},u&&(t.stroke=n.borderColor,t["stroke-width"]=u),i.chartBackground=a.rect(e/2,e/2,r-e,s-e,n.borderRadius,u).attr(t).addClass(Xe+"background").add().shadow(n.shadow))),m&&(l?l.animate(y):i.plotBackground=a.rect(g,_,v,b,0).attr({fill:m}).add().shadow(n.plotShadow)),p&&(c?c.animate(y):i.plotBGImage=a.image(p,g,_,v,b).add()),T?T.animate({width:A.width,height:A.height}):i.clipRect=a.clipRect(A),f&&(d?d.animate(d.crisp({x:g,y:_,width:v,height:b,strokeWidth:-f})):i.plotBorder=a.rect(g,_,v,b,0,-f).attr({stroke:n.plotBorderColor,"stroke-width":f,fill:Je,zIndex:1}).add()),i.isDirtyBox=!1},propFromSeries:function(){var e,t,i,n=this,a=n.options.chart,r=n.options.series;ut(["inverted","angular","polar"],function(s){for(e=ot[a.type||a.defaultSeriesType],i=n[s]||a[s]||e&&e.prototype[s],t=r&&r.length;!i&&t--;)e=ot[r[t].type],e&&e.prototype[s]&&(i=!0);n[s]=i})},linkSeries:function(){var e=this,t=e.series;ut(t,function(e){e.linkedSeries.length=0}),ut(t,function(t){var i=t.options.linkedTo;o(i)&&(i=":previous"===i?e.series[t.index-1]:e.get(i),i&&(i.linkedSeries.push(t),t.linkedParent=i,t.visible=At(t.options.visible,i.options.visible,t.visible)))})},renderSeries:function(){ut(this.series,function(e){e.translate(),"timeseries_heatmap"===e.userOptions.chartType&&e.setTooltipPoints&&e.setTooltipPoints(),e.render()})},renderLabels:function(){var e=this,t=e.options.labels;t.items&&ut(t.items,function(i){var n=Tt(t.style,i.style),a=s(n.left)+e.plotLeft,r=s(n.top)+e.plotTop+12;delete n.left,delete n.top,e.renderer.text(i.html,a,r).attr({zIndex:2}).css(n).add()})},render:function(){var e,t,i,n,a=this,r=a.axes,s=a.renderer,o=a.options;a.setTitle(),a.legend=new jt(a,o.legend),a.getStacks&&a.getStacks(),a.getMargins(!0),a.setChartSize(),e=a.plotWidth,t=a.plotHeight=a.plotHeight-21,ut(r,function(e){e.setScale()}),a.getAxisMargins(),i=e/a.plotWidth>1.1,n=t/a.plotHeight>1.05,(i||n)&&(a.maxTicks=null,ut(r,function(e){(e.horiz&&i||!e.horiz&&n)&&e.setTickInterval(!0)}),a.getMargins()),a.drawChartBox(),a.hasCartesianSeries&&ut(r,function(e){e.visible&&e.render()}),a.seriesGroup||(a.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),a.renderSeries(),a.renderLabels(),a.showCredits(o.credits),a.hasRendered=!0},showCredits:function(t){t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text,0,0).on("click",function(){t.href&&(e.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position))},destroy:function(){var e,t=this,i=t.axes,n=t.series,a=t.container,r=a&&a.parentNode;for(_t(t,"destroy"),Be[t.index]=U,Ve--,t.renderTo.removeAttribute("data-highcharts-chart"),gt(t),e=i.length;e--;)i[e]=i[e].destroy();for(e=n.length;e--;)n[e]=n[e].destroy();ut(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(e){var i=t[e];i&&i.destroy&&(t[e]=i.destroy())}),a&&(a.innerHTML="",gt(a),r&&I(a));for(e in t)delete t[e]},isReadyToRender:function(){var t=this;return!ke&&e==e.top&&"complete"!==fe.readyState||Pe&&!e.canvg?(Pe?Ot.push(function(){t.firstRender()},t.options.global.canvasToolsURL):fe.attachEvent("onreadystatechange",function(){fe.detachEvent("onreadystatechange",t.firstRender),"complete"===fe.readyState&&t.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,i=e.callback;e.isReadyToRender()&&(e.getContainer(),_t(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),ut(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),_t(e,"beforeRender"),lt.Pointer&&(e.pointer=new kt(e,t)),e.render(),e.renderer.draw(),i&&i.apply(e,[e]),ut(e.callbacks,function(t){e.index!==U&&t.apply(e,[e])}),_t(e,"load"),e.cloneRenderTo(!0))},splashArray:function(e,t){var i=t[e],n=l(i)?i:[i,i,i,i];return[At(t[e+"Top"],n[0]),At(t[e+"Right"],n[1]),At(t[e+"Bottom"],n[2]),At(t[e+"Left"],n[3])]}};var Ut=lt.CenteredSeriesMixin={getCenter:function(){var e,t,i,n=this.options,a=this.chart,r=2*(n.slicedOffset||0),s=a.plotWidth-2*r,o=a.plotHeight-2*r,l=n.center,d=[At(l[0],"50%"),At(l[1],"50%"),n.size||"100%",n.innerSize||0],c=Te(s,o);for(t=0;4>t;++t)i=d[t],e=2>t||2===t&&/%$/.test(i),d[t]=A(i,[s,o,c,d[2]][t])+(e?r:0);return d[3]>d[2]&&(d[3]=d[2]),d}},Gt=function(){};Gt.prototype={init:function(e,t,i){var n,a=this;return a.series=e,a.color=e.color,a.applyOptions(t,i),a.pointAttr={},e.options.colorByPoint&&(n=e.options.colors||e.chart.options.colors,a.color=a.color||n[e.colorCounter++],e.colorCounter===n.length&&(e.colorCounter=0)),e.chart.pointCount++,a},applyOptions:function(e,t){var i=this,n=i.series,a=n.options.pointValKey||n.pointValKey;return e=Gt.prototype.optionsToObject.call(this,e),Tt(i,e),i.options=i.options?Tt(i.options,e):e,a&&(i.y=i[a]),i.x===U&&n&&(i.x=t===U?n.autoIncrement():t),i},optionsToObject:function(e){var t,i={},n=this.series,a=n.options.keys,r=a||n.pointArrayMap||["y"],s=r.length,o=0,l=0;if("number"==typeof e||null===e)i[r[0]]=e;else if(d(e))for(!a&&e.length>s&&(t=typeof e[0],"string"===t?i.name=e[0]:"number"===t&&(i.x=e[0]),o++);s>l;)a&&void 0===e[o]||(i[r[l]]=e[o]),o++,l++;else"object"==typeof e&&(i=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return i},destroy:function(){var e,t=this,i=t.series,n=i.chart,a=n.hoverPoints;n.pointCount--,a&&(t.setState(),m(a,t),a.length||(n.hoverPoints=null)),t===n.hoverPoint&&t.onMouseOut(),(t.graphic||t.dataLabel)&&(gt(t),t.destroyElements()),t.legendItem&&n.legend.destroyItem(t);for(e in t)t[e]=null},destroyElements:function(){for(var e,t=this,i=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n=6;n--;)e=i[n],t[e]&&(t[e]=t[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,i=t.tooltipOptions,n=At(i.valueDecimals,""),a=i.valuePrefix||"",r=i.valueSuffix||"";return ut(t.pointArrayMap||["y"],function(t){t="{point."+t,(a||r)&&(e=e.replace(t+"}",a+t+"}"+r)),e=e.replace(t+"}",t+":,."+n+"f}")}),L(e,{point:this,series:this.series})},firePointEvent:function(e,t,i){var n=this,a=this.series,r=a.options;(r.point.events[e]||n.options&&n.options.events&&n.options.events[e])&&this.importEvents(),"click"===e&&r.allowPointSelect&&(i=function(e){n.select&&n.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),_t(this,e,t,i)},visible:!0};var zt=lt.Series=function(){};zt.prototype={isCartesian:!0,type:"line",pointClass:Gt,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){var i,n,a=this,r=e.series,s=function(e,t){return At(e.options.index,e._i)-At(t.options.index,t._i)};a.chart=e,a.options=t=a.setOptions(t),a.linkedSeries=[],a.bindAxes(),Tt(a,{name:t.name,state:it,pointAttr:{},visible:t.visible!==!1,selected:t.selected===!0}),Pe&&(t.animation=!1),n=t.events;for(i in n)ft(a,i,n[i]);(n&&n.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)&&(e.runTrackerClick=!0),a.getColor(),a.getSymbol(),ut(a.parallelArrays,function(e){a[e+"Data"]=[]}),a.setData(t.data,!1),a.isCartesian&&(e.hasCartesianSeries=!0),r.push(a),a._i=r.length-1,x(r,s),this.yAxis&&x(this.yAxis.series,s),ut(r,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e,t=this,i=t.options,a=t.chart;ut(t.axisTypes||[],function(r){ut(a[r],function(n){e=n.options,(i[r]===e.index||i[r]!==U&&i[r]===e.id||i[r]===U&&0===e.index)&&(n.series.push(t),t[r]=n,n.isDirty=!0)}),t[r]||t.optionalAxis===r||n(18,!0)})},updateParallelArrays:function(e,t){var i=e.series,n=arguments,a="number"==typeof t?function(n){var a="y"===n&&i.toYData?i.toYData(e):e[n];i[n+"Data"][t]=a}:function(e){Array.prototype[t].apply(i[e+"Data"],Array.prototype.slice.call(n,2))};ut(i.parallelArrays,a)},autoIncrement:function(){var e,t,i=this.options,n=this.xIncrement,a=i.pointIntervalUnit;return n=At(n,i.pointStart,0),this.pointInterval=t=At(this.pointInterval,i.pointInterval,1),("month"===a||"year"===a)&&(e=new J(n),e="month"===a?+e[me](e[se]()+t):+e[pe](e[oe]()+t),t=e-n),this.xIncrement=n+t,n},getSegments:function(){var e,t=this,i=-1,n=[],a=t.points,r=a.length;if(r)if(t.options.connectNulls){for(e=r;e--;)null===a[e].y&&a.splice(e,1);a.length&&(n=[a])}else ut(a,function(e,t){null===e.y?(t>i+1&&n.push(a.slice(i+1,t)),i=t):t===r-1&&n.push(a.slice(i+1,t+1))});t.segments=n},setOptions:function(e){var t,i,n=this.chart,a=n.options,s=a.plotOptions,o=n.userOptions||{},l=o.plotOptions||{},d=s[this.type];return this.userOptions=e,t=r(d,s.series,e),this.tooltipOptions=r(q.tooltip,q.plotOptions[this.type].tooltip,o.tooltip,l.series&&l.series.tooltip,l[this.type]&&l[this.type].tooltip,e.tooltip),null===d.marker&&delete t.marker,this.zoneAxis=t.zoneAxis,i=this.zones=(t.zones||[]).slice(),!t.negativeColor&&!t.negativeFillColor||t.zones||i.push({value:t[this.zoneAxis+"Threshold"]||t.threshold||0,color:t.negativeColor,fillColor:t.negativeFillColor}),i.length&&p(i[i.length-1].value)&&i.push({color:this.color,fillColor:this.fillColor}),t},getCyclic:function(e,t,i){var n,a=this.userOptions,r="_"+e+"Index",s=e+"Counter";t||(p(a[r])?n=a[r]:(a[r]=n=this.chart[s]%i.length,this.chart[s]+=1),t=i[n]),this[e]=t},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||St[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:Bt.drawLineMarker,setData:function(e,t,i,a){var r,s,l,u=this,h=u.points,m=h&&h.length||0,f=u.options,g=u.chart,_=null,v=u.xAxis,b=v&&!!v.categories,y=f.turboThreshold,T=this.xData,A=this.yData,M=u.pointArrayMap,S=M&&M.length;if(e=e||[],r=e.length,t=At(t,!0),a!==!1&&r&&m===r&&!u.cropped&&!u.hasGroupedData&&u.visible)ut(e,function(e,t){h[t].update&&e!==f.data[t]&&h[t].update(e,!1,null,!1)});else{if(u.xIncrement=null,u.colorCounter=0,ut(this.parallelArrays,function(e){u[e+"Data"].length=0}),y&&r>y){for(s=0;null===_&&r>s;)_=e[s],s++;if(c(_)){var L=At(f.pointStart,0),C=At(f.pointInterval,1);for(s=0;r>s;s++)T[s]=L,A[s]=e[s],L+=C;u.xIncrement=L}else if(d(_))if(S)for(s=0;r>s;s++)l=e[s],T[s]=l[0],A[s]=l.slice(1,S+1);else for(s=0;r>s;s++)l=e[s],T[s]=l[0],A[s]=l[1];else n(12)}else for(s=0;r>s;s++)e[s]!==U&&(l={series:u},u.pointClass.prototype.applyOptions.apply(l,[e[s]]),u.updateParallelArrays(l,s),b&&p(l.name)&&(v.names[l.x]=l.name));for(o(A[0])&&n(14,!0),u.data=[],u.options.data=e,s=m;s--;)h[s]&&h[s].destroy&&h[s].destroy();v&&(v.minRange=v.userMinRange),u.isDirty=u.isDirtyData=g.isDirtyBox=!0,i=!1}"point"===f.legendType&&(this.processData(),this.generatePoints()),t&&g.redraw(i)},processData:function(e){var t,i,a,r,s,o,l,d,c=this,u=c.xData,h=c.yData,m=u.length,p=0,f=c.xAxis,g=c.options,_=g.cropThreshold,v=c.getExtremesFromAll||g.getExtremesFromAll,b=c.isCartesian;if(b&&!c.isDirty&&!f.isDirty&&!c.yAxis.isDirty&&!e)return!1;for(f&&(o=f.getExtremes(),l=o.min,d=o.max),b&&c.sorted&&!v&&(!_||m>_||c.forceCrop)&&(u[m-1]<l||u[0]>d?(u=[],h=[]):(u[0]<l||u[m-1]>d)&&(t=this.cropData(c.xData,c.yData,l,d),u=t.xData,h=t.yData,p=t.start,i=!0)),s=u.length-1;s>=0;s--)a=u[s]-u[s-1],a>0&&(r===U||r>a)?r=a:0>a&&c.requireSorting&&n(15);c.cropped=i,c.cropStart=p,c.processedXData=u,c.processedYData=h,c.closestPointRange=r},cropData:function(e,t,i,n){var a,r,s=e.length,o=0,l=s,d=At(this.cropShoulder,1);for(a=0;s>a;a++)if(e[a]>=i){o=ye(0,a-d);break}for(r=a;s>r;r++)if(e[r]>n){l=r+d;break}return{xData:e.slice(o,l),yData:t.slice(o,l),start:o,end:l}},generatePoints:function(){var e,t,i,n,a=this,r=a.options,s=r.data,o=a.data,l=a.processedXData,d=a.processedYData,c=a.pointClass,u=l.length,h=a.cropStart||0,m=a.hasGroupedData,p=[];if(!o&&!m){var f=[];f.length=s.length,o=a.data=f}for(n=0;u>n;n++)t=h+n,m?p[n]=(new c).init(a,[l[n]].concat(g(d[n]))):(o[t]?i=o[t]:s[t]!==U&&(o[t]=i=(new c).init(a,s[t],l[n])),p[n]=i),p[n].index=t;if(o&&(u!==(e=o.length)||m))for(n=0;e>n;n++)n!==h||m||(n+=u),o[n]&&(o[n].destroyElements(),o[n].plotX=U);a.data=o,a.points=p},getExtremes:function(e){var t,i,n,a,r,s,o,l=this.xAxis,d=this.yAxis,c=this.processedXData,u=[],h=0,m=l.getExtremes(),p=m.min,f=m.max;for(e=e||this.stackedYData||this.processedYData,t=e.length,s=0;t>s;s++)if(a=c[s],r=e[s],i=null!==r&&r!==U&&(!d.isLog||r.length||r>0),n=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(c[s+1]||a)>=p&&(c[s-1]||a)<=f,i&&n)if(o=r.length)for(;o--;)null!==r[o]&&(u[h++]=r[o]);else u[h++]=r;this.dataMin=E(u),this.dataMax=w(u)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var e,t,i,a,r,s=this,o=s.options,l=o.stacking,d=s.xAxis,u=d.categories,h=s.yAxis,m=s.points,f=m.length,g=!!s.modifyValue,_=o.pointPlacement,v="between"===_||c(_),b=o.threshold,y=o.startFromThreshold?b:0,T=Number.MAX_VALUE;for(e=0;f>e;e++){var A,M,S=m[e],L=S.x,C=S.y,D=S.low,x=l&&h.stacks[(s.negStacks&&(y?0:b)>C?"-":"")+s.stackKey];h.isLog&&null!==C&&0>=C&&(S.y=C=null,n(10)),S.plotX=t=Te(ye(-1e5,d.translate(L,0,0,0,1,_,"flags"===this.type)),1e5),l&&s.visible&&x&&x[L]&&(r=s.getStackIndicator(r,L,s.index),A=x[L],M=A.points[r.key],D=M[0],C=M[1],D===y&&(D=At(b,h.min)),h.isLog&&0>=D&&(D=null),S.total=S.stackTotal=A.total,S.percentage=A.total&&S.y/A.total*100,S.stackY=C,A.setOffset(s.pointXOffset||0,s.barW||0)),S.yBottom=p(D)?h.translate(D,0,1,0,1):null,g&&(C=s.modifyValue(C,S)),S.plotY=i="number"==typeof C&&C!==1/0?Te(ye(-1e5,h.translate(C,0,1,0,1)),1e5):U,S.isInside=i!==U&&i>=0&&i<=h.len&&t>=0&&t<=d.len,S.clientX=v?d.translate(L,0,0,0,1):t,S.negative=S.y<(b||0),S.category=u&&u[S.x]!==U?u[S.x]:S.x,e&&(T=Te(T,Ae(t-a))),a=t}s.closestPointRangePx=T,s.getSegments()},setClip:function(e){var t=this.chart,i=this.options,n=t.renderer,a=t.inverted,r=this.clipBox,s=r||t.clipBox,o=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,s.height,i.xAxis,i.yAxis].join(","),l=t[o],d=t[o+"m"];l||(e&&(s.width=0,t[o+"m"]=d=n.clipRect(-99,a?-t.plotLeft:-t.plotTop,99,a?t.chartWidth:t.chartHeight)),t[o]=l=n.clipRect(s)),e&&(l.count+=1),i.clip!==!1&&(this.group.clip(e||r?l:t.clipRect),this.markerGroup.clip(d),this.sharedClipKey=o),e||(l.count-=1,l.count<=0&&o&&t[o]&&(r||(t[o]=t[o].destroy()),t[o+"m"]&&(t[o+"m"]=t[o+"m"].destroy())))},animate:function(e){var t,i,n=this,a=n.chart,r=n.options.animation;r&&!l(r)&&(r=St[n.type].animation),e?n.setClip(r):(i=this.sharedClipKey,t=a[i],t&&t.animate({width:a.plotSizeX},r),a[i+"m"]&&a[i+"m"].animate({width:a.plotSizeX+99},r),n.animate=null)},afterAnimate:function(){this.setClip(),_t(this,"afterAnimate")},drawPoints:function(){var e,t,i,n,a,r,s,o,l,d,c,u,h,m=this,p=m.points,f=m.chart,g=m.options,_=g.marker,v=m.pointAttr[""],b=m.markerGroup,y=m.xAxis,T=At(_.enabled,y.isRadial,m.closestPointRangePx>2*_.radius);if(_.enabled!==!1||m._hasPointMarkers)for(n=p.length;n--;)a=p[n],t=ve(a.plotX),i=a.plotY,l=a.graphic,d=a.marker||{},c=!!a.marker,u=T&&d.enabled===U||d.enabled,h=a.isInside,u&&i!==U&&!isNaN(i)&&null!==a.y?(e=a.pointAttr[a.selected?at:it]||v,r=e.r,s=At(d.symbol,m.symbol),o=0===s.indexOf("url"),l?l[h?"show":"hide"](!0).animate(Tt({x:t-r,y:i-r},l.symbolName?{width:2*r,height:2*r}:{})):h&&(r>0||o)&&(a.graphic=l=f.renderer.symbol(s,t-r,i-r,2*r,2*r,c?d:_).attr(e).add(b))):l&&(a.graphic=l.destroy())},convertAttribs:function(e,t,i,n){var a,r,s=this.pointAttrToOptions,o={};e=e||{},t=t||{},i=i||{},n=n||{};for(a in s)r=s[a],o[a]=At(e[r],t[a],i[a],n[a]);return o},getAttribs:function(){var e,t,i,n,a,r,s,o,l=this,d=l.options,c=St[l.type].marker?d.marker:d,u=c.states,h=u[nt],m=l.color,f=l.options.negativeColor,g={stroke:m,fill:m},_=l.points||[],v=[],b=l.pointAttrToOptions,y=l.hasPointSpecificOptions,T=c.lineColor,A=c.fillColor,M=d.turboThreshold,S=l.zones,L=l.zoneAxis||"y";if(d.marker?(h.radius=h.radius||c.radius+h.radiusPlus,h.lineWidth=h.lineWidth||c.lineWidth+h.lineWidthPlus):(h.color=h.color||F(h.color||m).brighten(h.brightness).get(),h.negativeColor=h.negativeColor||F(h.negativeColor||f).brighten(h.brightness).get()),v[it]=l.convertAttribs(c,g),ut([nt,at],function(e){v[e]=l.convertAttribs(u[e],v[it])}),l.pointAttr=v,t=_.length,!M||M>t||y)for(;t--;){if(a=_[t],c=a.options&&a.options.marker||a.options,c&&c.enabled===!1&&(c.radius=0),S.length){for(i=0,n=S[i];a[L]>=n.value;)n=S[++i];a.color=a.fillColor=At(n.color,l.color)}if(y=d.colorByPoint||a.color,a.options)for(o in b)p(c[b[o]])&&(y=!0);y?(c=c||{},r=[],u=c.states||{},e=u[nt]=u[nt]||{},(!d.marker||a.negative&&!e.fillColor&&!h.fillColor)&&(e[l.pointAttrToOptions.fill]=e.color||!a.options.color&&h[a.negative&&f?"negativeColor":"color"]||F(a.color).brighten(e.brightness||h.brightness).get()),s={color:a.color},A||(s.fillColor=a.color),T||(s.lineColor=a.color),c.hasOwnProperty("color")&&!c.color&&delete c.color,r[it]=l.convertAttribs(Tt(s,c),v[it]),r[nt]=l.convertAttribs(u[nt],v[nt],r[it]),r[at]=l.convertAttribs(u[at],v[at],r[it])):r=v,a.pointAttr=r}},destroy:function(){var e,t,i,n,a,r=this,s=r.chart,o=/AppleWebKit\/533/.test(De),l=r.data||[];for(_t(r,"destroy"),gt(r),ut(r.axisTypes||[],function(e){a=r[e],a&&(m(a.series,r),a.isDirty=a.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),t=l.length;t--;)i=l[t],i&&i.destroy&&i.destroy();r.points=null,clearTimeout(r.animationTimeout);for(n in r)r[n]instanceof Y&&!r[n].survive&&(e=o&&"group"===n?"hide":"destroy",r[n][e]());s.hoverSeries===r&&(s.hoverSeries=null),m(s.series,r);for(n in r)delete r[n]},getSegmentPath:function(e){var t=this,i=[],n=t.options.step;return ut(e,function(a,r){var s,o=a.plotX,l=a.plotY;t.getPointSpline?i.push.apply(i,t.getPointSpline(e,a,r)):(i.push(r?et:Ze),n&&r&&(s=e[r-1],"right"===n?i.push(s.plotX,l,et):"center"===n?i.push((s.plotX+o)/2,s.plotY,et,(s.plotX+o)/2,l,et):i.push(o,s.plotY,et)),i.push(a.plotX,a.plotY))}),i},getGraphPath:function(){var e,t=this,i=[],n=[];return ut(t.segments,function(a){e=t.getSegmentPath(a),a.length>1?i=i.concat(e):n.push(a[0])}),t.singlePoints=n,t.graphPath=i,i},drawGraph:function(){var e=this,t=this.options,i=[["graph",t.lineColor||this.color,t.dashStyle]],n=t.lineWidth,a="square"!==t.linecap,r=this.getGraphPath(),s=this.fillGraph&&this.color||Je,o=this.zones;ut(o,function(n,a){i.push(["zoneGraph"+a,n.color||e.color,n.dashStyle||t.dashStyle])}),ut(i,function(i,o){var l,d=i[0],c=e[d];c?c.animate({d:r}):(n||s)&&r.length&&(l={stroke:i[1],"stroke-width":n,fill:s,zIndex:1},i[2]?l.dashstyle=i[2]:a&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),e[d]=e.chart.renderer.path(r).attr(l).add(e.group).shadow(2>o&&t.shadow))})},applyZones:function(){var e,t,i,n,a,r,s,o=this,l=this.chart,d=l.renderer,c=this.zones,u=this.clips||[],h=this.graph,m=this.area,p=ye(l.chartWidth,l.chartHeight),f=this[(this.zoneAxis||"y")+"Axis"],g=f.reversed,_=l.inverted,v=f.horiz,b=!1;c.length&&(h||m)&&f.min!==U&&(h&&h.hide(),m&&m.hide(),n=f.getExtremes(),ut(c,function(c,y){e=g?v?l.plotWidth:0:v?0:f.toPixels(n.min),e=Te(ye(At(t,e),0),p),t=Te(ye(_e(f.toPixels(At(c.value,n.max),!0)),0),p),b&&(e=t=f.toPixels(n.max)),a=Math.abs(e-t),r=Te(e,t),s=ye(e,t),f.isXAxis?(i={x:_?s:r,y:0,width:a,height:p},v||(i.x=l.plotHeight-i.x)):(i={x:0,y:_?s:r,width:p,height:a},v&&(i.y=l.plotWidth-i.y)),l.inverted&&d.isVML&&(i=f.isXAxis?{x:0,y:g?r:s,height:i.width,width:l.chartWidth}:{x:i.y-l.plotLeft-l.spacingBox.x,y:0,width:i.height,height:l.chartHeight}),u[y]?u[y].animate(i):(u[y]=d.clipRect(i),h&&o["zoneGraph"+y].clip(u[y]),m&&o["zoneArea"+y].clip(u[y])),b=c.value>n.max}),this.clips=u)},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};ut(["group","markerGroup"],function(i){t[i]&&t[i].attr(e).invert()})}var t=this,i=t.chart;t.xAxis&&(ft(i,"resize",e),ft(t,"destroy",function(){gt(i,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,i,n,a){var r=this[e],s=!r;return s&&(this[e]=r=this.chart.renderer.g(t).attr({zIndex:n||.1}).add(a),r.addClass("highcharts-series-"+this.index)),r.attr({visibility:i})[s?"attr":"animate"](this.getPlotBox()),r},getPlotBox:function(){var e=this.chart,t=this.xAxis,i=this.yAxis;return e.inverted&&(t=i,i=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:i?i.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e,t=this,i=t.chart,n=t.options,a=n.animation,r=a&&!!t.animate&&i.renderer.isSVG&&At(a.duration,500)||0,s=t.visible?"inherit":"hidden",o=n.zIndex,l=t.hasRendered,d=i.seriesGroup;e=t.plotGroup("group","series",s,o,d),t.markerGroup=t.plotGroup("markerGroup","markers",s,o,d),r&&t.animate(!0),t.getAttribs(),e.inverted=t.isCartesian?i.inverted:!1,t.drawGraph&&(t.drawGraph(),t.applyZones()),ut(t.points,function(e){e.redraw&&e.redraw()}),t.drawDataLabels&&t.drawDataLabels(),t.visible&&t.drawPoints(),t.drawTracker&&t.options.enableMouseTracking!==!1&&t.drawTracker(),i.inverted&&t.invertGroups(),n.clip===!1||t.sharedClipKey||l||e.clip(i.clipRect),r&&t.animate(),l||(t.animationTimeout=_(function(){t.afterAnimate()},r)),t.isDirty=t.isDirtyData=!1,t.hasRendered=!0},redraw:function(){var e=this,t=e.chart,i=e.isDirtyData,n=e.isDirty,a=e.group,r=e.xAxis,s=e.yAxis;a&&(t.inverted&&a.attr({width:t.plotWidth,height:t.plotHeight}),a.animate({translateX:At(r&&r.left,t.plotLeft),translateY:At(s&&s.top,t.plotTop)})),e.translate(),e.render(),i&&_t(e,"updatedData"),(n||i)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(e,t){var i=this,n=i.xAxis,a=i.yAxis,r=i.chart.inverted;return this.searchKDTree({clientX:r?n.len-e.chartY+n.pos:e.chartX-n.pos,plotY:r?a.len-e.chartX+a.pos:e.chartY-a.pos},t)},buildKDTree:function(){function e(t,n,a){var r,s,o=t&&t.length;return o?(r=i.kdAxisArray[n%a],t.sort(function(e,t){return e[r]-t[r]}),s=Math.floor(o/2),{point:t[s],left:e(t.slice(0,s),n+1,a),right:e(t.slice(s+1),n+1,a)}):void 0}function t(){var t=ht(i.points||[],function(e){return null!==e.y});i.kdTree=e(t,n,n)}var i=this,n=i.kdDimensions;delete i.kdTree,_(t,i.options.kdNow?0:1)},searchKDTree:function(e,t){function i(e,t){var i=p(e[r])&&p(t[r])?Math.pow(e[r]-t[r],2):null,n=p(e[s])&&p(t[s])?Math.pow(e[s]-t[s],2):null,a=(i||0)+(n||0);t.dist=p(a)?Math.sqrt(a):Number.MAX_VALUE,t.distX=p(i)?Math.sqrt(i):Number.MAX_VALUE}function n(e,t,r,s){var l,d,c,u,h,m=t.point,p=a.kdAxisArray[r%s],f=m;return i(e,m),l=e[p]-m[p],d=0>l?"left":"right",c=0>l?"right":"left",t[d]&&(u=n(e,t[d],r+1,s),f=u[o]<f[o]?u:m),t[c]&&Math.sqrt(l*l)<f[o]&&(h=n(e,t[c],r+1,s),f=h[o]<f[o]?h:f),f}var a=this,r=this.kdAxisArray[0],s=this.kdAxisArray[1],o=t?"distX":"dist";return this.kdTree||this.buildKDTree(),this.kdTree?n(e,this.kdTree,this.kdDimensions,this.kdDimensions):void 0}},V.prototype={destroy:function(){O(this,this.axis)},render:function(e){var t=this.options,i=t.format,n=i?L(i,this):t.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:$e}).add(e)},setOffset:function(e,t){var i,n=this,a=n.axis,r=a.chart,s=r.inverted,o=a.reversed,l=this.isNegative&&!o||!this.isNegative&&o,d=a.translate(a.usePercentage?100:this.total,0,0,0,1),c=a.translate(0),u=Ae(d-c),h=r.xAxis[0].translate(this.x)+e,m=r.plotHeight,p={x:s?l?d:d-u:h,y:s?m-h-t:l?m-d-u:m-d,width:s?u:t,height:s?t:u},f=this.label;f&&(f.align(this.alignOptions,null,p),i=f.alignAttr,f[this.options.crop===!1||r.isInsidePlot(i.x,i.y)?"show":"hide"](!0))}},Vt.prototype.getStacks=function(){var e=this;ut(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),ut(e.series,function(t){!t.options.stacking||t.visible!==!0&&e.options.chart.ignoreHiddenSeries!==!1||(t.stackKey=t.type+At(t.options.stack,""))})},It.prototype.buildStacks=function(){var e=this.series,t=At(this.options.reversedStacks,!0),i=e.length;if(!this.isXAxis){for(this.usePercentage=!1;i--;)e[t?i:e.length-i-1].setStackedPoints();if(this.usePercentage)for(i=0;i<e.length;i++)e[i].setPercentStacks()}},It.prototype.renderStackTotals=function(){var e,t,i,n=this,a=n.chart,r=a.renderer,s=n.stacks,o=n.stackTotalGroup;o||(n.stackTotalGroup=o=r.g("stack-labels").attr({visibility:Qe,zIndex:6}).add()),o.translate(a.plotLeft,a.plotTop);for(e in s){t=s[e];for(i in t)t[i].render(o)}},It.prototype.resetStacks=function(){var e,t,i=this.stacks;if(!this.isXAxis)for(e in i)for(t in i[e])i[e][t].touched<this.stacksTouched?(i[e][t].destroy(),delete i[e][t]):(i[e][t].total=null,i[e][t].cum=0)},It.prototype.cleanStacks=function(){var e,t,i;if(!this.isXAxis){this.oldStacks&&(e=this.stacks=this.oldStacks);for(t in e)for(i in e[t])e[t][i].cum=e[t][i].total}},zt.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var e,t,i,n,a,r,s,o,l,d=this,c=d.processedXData,u=d.processedYData,h=[],m=u.length,p=d.options,f=p.threshold,g=p.startFromThreshold?f:0,_=p.stack,v=p.stacking,b=d.stackKey,y="-"+b,T=d.negStacks,A=d.yAxis,M=A.stacks,S=A.oldStacks;for(A.stacksTouched+=1,s=0;m>s;s++)o=c[s],l=u[s],e=d.getStackIndicator(e,o,d.index),r=e.key,t=T&&(g?0:f)>l,a=t?y:b,M[a]||(M[a]={}),M[a][o]||(S[a]&&S[a][o]?(M[a][o]=S[a][o],M[a][o].total=null):M[a][o]=new V(A,A.options.stackLabels,t,o,_)),i=M[a][o],i.points[r]=[At(i.cum,g)],i.touched=A.stacksTouched,e.index>0&&d.singleStacks===!1&&(i.points[r][0]=i.points[d.index+","+o+",0"][0]),"percent"===v?(n=t?b:y,T&&M[n]&&M[n][o]?(n=M[n][o],i.total=n.total=ye(n.total,i.total)+Ae(l)||0):i.total=R(i.total+(Ae(l)||0))):i.total=R(i.total+(l||0)),i.cum=At(i.cum,g)+(l||0),i.points[r].push(i.cum),h[s]=i.cum;"percent"===v&&(A.usePercentage=!0),this.stackedYData=h,A.oldStacks={}}},zt.prototype.setPercentStacks=function(){var e,t=this,i=t.stackKey,n=t.yAxis.stacks,a=t.processedXData;ut([i,"-"+i],function(i){for(var r,s,o,l,d=a.length;d--;)r=a[d],e=t.getStackIndicator(e,r,t.index),s=n[i]&&n[i][r],o=s&&s.points[e.key],o&&(l=s.total?100/s.total:0,o[0]=R(o[0]*l),o[1]=R(o[1]*l),t.stackedYData[d]=o[1])})},zt.prototype.getStackIndicator=function(e,t,i){return p(e)&&e.x===t?e.index++:e={x:t,index:0},e.key=[i,t,e.index].join(","),e},Tt(Vt.prototype,{addSeries:function(e,t,i){var n,a=this;return e&&(t=At(t,!0),_t(a,"addSeries",{options:e},function(){n=a.initSeries(e),a.isDirtyLegend=!0,a.linkSeries(),t&&a.redraw(i)})),n},addAxis:function(e,t,i,n){var a=t?"xAxis":"yAxis",s=this.options;new It(this,r(e,{index:this[a].length,isX:t})),s[a]=g(s[a]||{}),s[a].push(e),At(i,!0)&&this.redraw(n)},showLoading:function(e){var t=this,i=t.options,n=t.loadingDiv,a=i.loading,r=function(){n&&v(n,{left:t.plotLeft+Ke,top:t.plotTop+Ke,width:t.plotWidth+Ke,height:t.plotHeight+Ke})};n||(t.loadingDiv=n=b(ze,{className:Xe+"loading"},Tt(a.style,{zIndex:10,display:Je}),t.container),t.loadingSpan=b("span",null,a.labelStyle,n),ft(t,"redraw",r)),t.loadingSpan.innerHTML=lt.escapeXSS(e||i.lang.loading),t.loadingShown||(v(n,{
opacity:0,display:""}),vt(n,{opacity:a.style.opacity},{duration:a.showDuration||0}),t.loadingShown=!0),r()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&vt(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){v(t,{display:Je})}}),this.loadingShown=!1}}),Tt(Gt.prototype,{update:function(e,t,i,n){function a(){s.applyOptions(e),null===s.y&&c&&(s.graphic=c.destroy()),l(e)&&!d(e)&&(s.redraw=function(){c&&c.element&&e&&e.marker&&e.marker.symbol&&(s.graphic=c.destroy()),e&&e.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy()),s.redraw=null}),r=s.index,o.updateParallelArrays(s,r),m&&s.name&&(m[s.x]=s.name),h.data[r]=l(h.data[r])?s.options:e,o.isDirty=o.isDirtyData=!0,!o.fixedBox&&o.hasCartesianSeries&&(u.isDirtyBox=!0),"point"===h.legendType&&(u.isDirtyLegend=!0),t&&u.redraw(i)}var r,s=this,o=s.series,c=s.graphic,u=o.chart,h=o.options,m=o.xAxis&&o.xAxis.names;t=At(t,!0),n===!1?a():s.firePointEvent("update",{options:e},a)},remove:function(e,t){this.series.removePoint(ct(this,this.series.data),e,t)}}),Tt(zt.prototype,{addPoint:function(e,t,i,n){var a,r,s,o,l=this,d=l.options,c=l.data,u=l.graph,h=l.area,m=l.chart,p=l.xAxis&&l.xAxis.names,f=u&&u.shift||0,g=["graph","area"],_=d.data,v=l.xData;if(N(n,m),i){for(s=l.zones.length;s--;)g.push("zoneGraph"+s,"zoneArea"+s);ut(g,function(e){l[e]&&(l[e].shift=f+(d.step?2:1))})}if(h&&(h.isArea=!0),t=At(t,!0),a={series:l},l.pointClass.prototype.applyOptions.apply(a,[e]),o=a.x,s=v.length,l.requireSorting&&o<v[s-1])for(r=!0;s&&v[s-1]>o;)s--;l.updateParallelArrays(a,"splice",s,0,0),l.updateParallelArrays(a,s),p&&a.name&&(p[o]=a.name),_.splice(s,0,e),r&&(l.data.splice(s,0,null),l.processData()),"point"===d.legendType&&l.generatePoints(),i&&(c[0]&&c[0].remove?c[0].remove(!1):(c.shift(),l.updateParallelArrays(a,"shift"),_.shift())),l.isDirty=!0,l.isDirtyData=!0,t&&(l.getAttribs(),m.redraw())},removePoint:function(e,t,i){var n=this,a=n.data,r=a[e],s=n.points,o=n.chart,l=function(){a.length===s.length&&s.splice(e,1),a.splice(e,1),n.options.data.splice(e,1),n.updateParallelArrays(r||{series:n},"splice",e,1),r&&r.destroy(),n.isDirty=!0,n.isDirtyData=!0,t&&o.redraw()};N(i,o),t=At(t,!0),r?r.firePointEvent("remove",null,l):l()},remove:function(e,t){var i=this,n=i.chart;_t(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),At(e,!0)&&n.redraw(t)})},update:function(e,t){var i,n=this,a=this.chart,s=this.userOptions,o=this.type,l=ot[o].prototype,d=["group","markerGroup","dataLabelsGroup"];(e.type&&e.type!==o||void 0!==e.zIndex)&&(d.length=0),ut(d,function(e){d[e]=n[e],delete n[e]}),e=r(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},e),this.remove(!1);for(i in l)this[i]=U;Tt(this,ot[e.type||o].prototype),ut(d,function(e){n[e]=d[e]}),this.init(a,e),a.linkSeries(),At(t,!0)&&a.redraw(!1)}}),Tt(It.prototype,{update:function(e,t){var i=this.chart;e=i.options[this.coll][this.options.index]=r(this.userOptions,e),this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=U,this.init(i,Tt(e,{events:U})),i.isDirtyBox=!0,At(t,!0)&&i.redraw()},remove:function(e){for(var t=this.chart,i=this.coll,n=this.series,a=n.length;a--;)n[a]&&n[a].remove(!1);m(t.axes,this),m(t[i],this),t.options[i].splice(this.options.index,1),ut(t[i],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,At(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var Wt=y(zt);ot.line=Wt,St.area=r(Lt,{softThreshold:!1,threshold:0});var qt=y(zt,{type:"area",singleStacks:!1,getSegments:function(){var e,t,i,n,a,r=this,s=[],o=[],l=[],d=this.xAxis,c=this.yAxis,u=c.stacks[this.stackKey],h={},m=this.points,p=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(n=0;n<m.length;n++)h[m[n].x]=m[n];for(a in u)null!==u[a].total&&l.push(+a);l.sort(function(e,t){return e-t}),ut(l,function(a){var s,l=null,m=p&&(!h[a]||null===h[a].y);if(!m)if(h[a])o.push(h[a]);else{for(n=r.index;n<=c.series.length;n++)if(i=r.getStackIndicator(null,a,n),s=u[a].points[i.key]){l=s[1];break}e=d.translate(a),t=c.getThreshold(l),o.push({y:null,plotX:e,clientX:e,plotY:t,yBottom:t,onMouseOver:je})}}),o.length&&s.push(o)}else zt.prototype.getSegments.call(this),s=this.segments;this.segments=s},getSegmentPath:function(e){var t,i,n=zt.prototype.getSegmentPath.call(this,e),a=[].concat(n),r=this.options,s=n.length,o=this.yAxis.getThreshold(r.threshold);if(3===s&&a.push(et,n[1],n[2]),r.stacking&&!this.closedStacks)for(t=e.length-1;t>=0;t--)i=At(e[t].yBottom,o),t<e.length-1&&r.step&&a.push(e[t+1].plotX,i),a.push(e[t].plotX,i);else this.closeSegment(a,e,o);return this.areaPath=this.areaPath.concat(a),n},closeSegment:function(e,t,i){e.push(et,t[t.length-1].plotX,i,et,t[0].plotX,i)},drawGraph:function(){this.areaPath=[],zt.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,i=this.options,n=this.zones,a=[["area",this.color,i.fillColor]];ut(n,function(t,n){a.push(["zoneArea"+n,t.color||e.color,t.fillColor||i.fillColor])}),ut(a,function(n){var a,r=n[0],s=e[r];s?s.animate({d:t}):(a={fill:n[2]||n[1],zIndex:0},n[2]||(a["fill-opacity"]=i.fillOpacity||.75),e[r]=e.chart.renderer.path(t).attr(a).add(e.group))})},drawLegendSymbol:Bt.drawRectangle});ot.area=qt,St.spline=r(Lt);var $t=y(zt,{type:"spline",getPointSpline:function(e,t,i){var n,a,r,s,o,l=1.5,d=l+1,c=t.plotX,u=t.plotY,h=e[i-1],m=e[i+1];if(h&&m){var p,f=h.plotX,g=h.plotY,_=m.plotX,v=m.plotY;n=(l*c+f)/d,a=(l*u+g)/d,r=(l*c+_)/d,s=(l*u+v)/d,p=(s-a)*(r-c)/(r-n)+u-s,a+=p,s+=p,a>g&&a>u?(a=ye(g,u),s=2*u-a):g>a&&u>a&&(a=Te(g,u),s=2*u-a),s>v&&s>u?(s=ye(v,u),a=2*u-s):v>s&&u>s&&(s=Te(v,u),a=2*u-s),t.rightContX=r,t.rightContY=s}return i?(o=["C",h.rightContX||h.plotX,h.rightContY||h.plotY,n||c,a||u,c,u],h.rightContX=h.rightContY=null):o=[Ze,c,u],o}});ot.spline=$t,St.areaspline=r(St.area);var Xt=qt.prototype,Qt=y($t,{type:"areaspline",closedStacks:!0,getSegmentPath:Xt.getSegmentPath,closeSegment:Xt.closeSegment,drawGraph:Xt.drawGraph,drawLegendSymbol:Bt.drawRectangle});ot.areaspline=Qt,St.column=r(Lt,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0});var Kt=y(zt,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){zt.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&ut(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e,t=this,i=t.options,n=t.xAxis,a=t.yAxis,r=n.reversed,s={},o=0;i.grouping===!1?o=1:ut(t.chart.series,function(i){var n,r=i.options,l=i.yAxis;i.type===t.type&&i.visible&&a.len===l.len&&a.pos===l.pos&&(r.stacking?(e=i.stackKey,s[e]===U&&(s[e]=o++),n=s[e]):r.grouping!==!1&&(n=o++),i.columnIndex=n)});var l=Te(Ae(n.transA)*(n.ordinalSlope||i.pointRange||n.closestPointRange||n.tickInterval||1),n.len),d=l*i.groupPadding,c=l-2*d,u=c/o,h=Te(i.maxPointWidth||n.len,At(i.pointWidth,u*(1-2*i.pointPadding))),m=(u-h)/2,p=(t.columnIndex||0)+(r?1:0),f=m+(d+p*u-l/2)*(r?-1:1);return t.columnMetrics={width:h,offset:f},t.columnMetrics},crispCol:function(e,t,i,n){var a,r,s,o=this.chart,l=this.borderWidth,d=-(l%2?.5:0),c=l%2?.5:1;return o.inverted&&o.renderer.isVML&&(c+=1),a=Math.round(e+i)+d,e=Math.round(e)+d,i=a-e,r=Math.round(t+n)+c,s=Ae(t)<=.5&&r>.5,t=Math.round(t)+c,n=r-t,s&&(t-=1,n+=1),{x:e,y:t,width:i,height:n}},translate:function(){var e=this,t=e.chart,i=e.options,n=e.borderWidth=At(i.borderWidth,e.closestPointRange*e.xAxis.transA<2?0:1),a=e.yAxis,r=i.threshold,s=e.translatedThreshold=a.getThreshold(r),o=At(i.minPointLength,5),l=e.getColumnMetrics(),d=l.width,c=e.barW=ye(d,1+2*n),u=e.pointXOffset=l.offset;t.inverted&&(s-=.5),i.pointPadding&&(c=be(c)),zt.prototype.translate.apply(e),ut(e.points,function(i){var n,r=Te(At(i.yBottom,s),9e4),l=999+Ae(r),h=Te(ye(-l,i.plotY),a.len+l),m=i.plotX+u,p=c,f=Te(h,r),g=ye(h,r)-f;Ae(g)<o&&o&&(g=o,n=!a.reversed&&!i.negative||a.reversed&&i.negative,f=Ae(f-s)>o?r-o:s-(n?o:0)),i.barX=m,i.pointWidth=d,i.tooltipPos=t.inverted?[a.len+a.pos-t.plotLeft-h,e.xAxis.len-m-p/2,g]:[m+p/2,h+a.pos-t.plotTop,g],i.shapeType="rect",i.shapeArgs=e.crispCol(m,f,p,g)})},getSymbol:je,drawLegendSymbol:Bt.drawRectangle,drawGraph:je,drawPoints:function(){var e,t,i=this,n=this.chart,a=i.options,s=n.renderer,o=a.animationLimit||250;ut(i.points,function(l){var d,c=l.plotY,u=l.graphic;c===U||isNaN(c)||null===l.y?u&&(l.graphic=u.destroy()):(e=l.shapeArgs,d=p(i.borderWidth)?{"stroke-width":i.borderWidth}:{},t=l.pointAttr[l.selected?at:it]||i.pointAttr[it],u?(bt(u),u.attr(d).attr(t)[n.pointCount<o?"animate":"attr"](r(e))):l.graphic=u=s[l.shapeType](e).attr(d).attr(t).add(l.group||i.group).shadow(a.shadow,null,a.stacking&&!a.borderRadius))})},animate:function(e){var t,i=this,n=this.yAxis,a=i.options,r=this.chart.inverted,s={};ke&&(e?(s.scaleY=.001,t=Te(n.pos+n.len,ye(n.pos,n.toPixels(a.threshold))),r?s.translateX=t-n.len:s.translateY=t,i.group.attr(s)):(s.scaleY=1,s[r?"translateX":"translateY"]=n.pos,i.group.animate(s,i.options.animation),i.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&ut(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),zt.prototype.remove.apply(e,arguments)}});ot.column=Kt,St.bar=r(St.column);var Jt=y(Kt,{type:"bar",inverted:!0});ot.bar=Jt,St.scatter=r(Lt,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});var Zt=y(zt,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&zt.prototype.drawGraph.call(this)}});ot.scatter=Zt,St.pie=r(Lt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var ei=y(Gt,{init:function(){Gt.prototype.init.apply(this,arguments);var e,t=this;return t.name=At(t.name,"Slice"),e=function(e){t.slice("select"===e.type)},ft(t,"select",e),ft(t,"unselect",e),t},setVisible:function(e,t){var i=this,n=i.series,a=n.chart,r=n.options.ignoreHiddenPoint;t=At(t,r),e!==i.visible&&(i.visible=i.options.visible=e=e===U?!i.visible:e,n.options.data[ct(i,n.data)]=i.options,ut(["graphic","dataLabel","connector","shadowGroup"],function(t){i[t]&&i[t][e?"show":"hide"](!0)}),i.legendItem&&a.legend.colorizeItem(i,e),e||"hover"!==i.state||i.setState(""),r&&(n.isDirty=!0),t&&a.redraw())},slice:function(e,t,i){var n,a=this,r=a.series,s=r.chart;N(i,s),t=At(t,!0),a.sliced=a.options.sliced=e=p(e)?e:!a.sliced,r.options.data[ct(a,r.data)]=a.options,n=e?a.slicedTranslation:{translateX:0,translateY:0},a.graphic.animate(n),a.shadowGroup&&a.shadowGroup.animate(n)},haloPath:function(e){var t=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+t.x,i.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),ti={type:"pie",isCartesian:!1,pointClass:ei,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(e){var t=this,i=t.points,n=t.startAngleRad;e||(ut(i,function(e){var i=e.graphic,a=e.shapeArgs;i&&(i.attr({r:e.startR||t.center[3]/2,start:n,end:n}),i.animate({r:a.r,start:a.start,end:a.end},t.options.animation))}),t.animate=null)},updateTotals:function(){var e,t,i=0,n=this.points,a=n.length,r=this.options.ignoreHiddenPoint;for(e=0;a>e;e++)t=n[e],i+=r&&!t.visible?0:t.y;for(this.total=i,e=0;a>e;e++)t=n[e],t.percentage=i>0&&(t.visible||!r)?t.y/i*100:0,t.total=i},generatePoints:function(){zt.prototype.generatePoints.call(this),this.updateTotals()},translate:function(e){this.generatePoints();var t,i,n,a,r,s,o,l=this,d=0,c=1e3,u=l.options,h=u.slicedOffset,m=h+u.borderWidth,p=u.startAngle||0,f=l.startAngleRad=Le/180*(p-90),g=l.endAngleRad=Le/180*(At(u.endAngle,p+360)-90),_=g-f,v=l.points,b=u.dataLabels.distance,y=u.ignoreHiddenPoint,T=v.length;for(e||(l.center=e=l.getCenter()),l.getX=function(t,i){return n=ge.asin(Te((t-e[1])/(e[2]/2+b),1)),e[0]+(i?-1:1)*(Me(n)*(e[2]/2+b))},s=0;T>s;s++)o=v[s],t=f+d*_,(!y||o.visible)&&(d+=o.percentage/100),i=f+d*_,o.shapeType="arc",o.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:_e(t*c)/c,end:_e(i*c)/c},n=(i+t)/2,n>1.5*Le?n-=2*Le:-Le/2>n&&(n+=2*Le),o.slicedTranslation={translateX:_e(Me(n)*h),translateY:_e(Se(n)*h)},a=Me(n)*e[2]/2,r=Se(n)*e[2]/2,o.tooltipPos=[e[0]+.7*a,e[1]+.7*r],o.half=-Le/2>n||n>Le/2?1:0,o.angle=n,m=Te(m,b/2),o.labelPos=[e[0]+a+Me(n)*b,e[1]+r+Se(n)*b,e[0]+a+Me(n)*m,e[1]+r+Se(n)*m,e[0]+a,e[1]+r,0>b?"center":o.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var e,t,i,n,a,r,s=this,o=s.chart,l=o.renderer,d=s.options.shadow;d&&!s.shadowGroup&&(s.shadowGroup=l.g("shadow").add(s.group)),ut(s.points,function(o){null!==o.y&&(t=o.graphic,a=o.shapeArgs,i=o.shadowGroup,n=o.pointAttr[o.selected?at:it],n.stroke||(n.stroke=n.fill),d&&!i&&(i=o.shadowGroup=l.g("shadow").add(s.shadowGroup)),e=o.sliced?o.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(e),t?t.setRadialReference(s.center).attr(n).animate(Tt(a,e)):(r={"stroke-linejoin":"round"},o.visible||(r.visibility="hidden"),o.graphic=t=l[o.shapeType](a).setRadialReference(s.center).attr(n).attr(r).attr(e).add(s.group).shadow(d,i)))})},searchPoint:je,sortByAngle:function(e,t){e.sort(function(e,i){return void 0!==e.angle&&(i.angle-e.angle)*t})},drawLegendSymbol:Bt.drawRectangle,getCenter:Ut.getCenter,getSymbol:je};ti=y(zt,ti),ot.pie=ti,zt.prototype.drawDataLabels=function(){var e,t,i,n,a=this,s=a.options,o=s.cursor,l=s.dataLabels,d=a.points,c=a.hasRendered||0,u=a.chart.renderer;(l.enabled||a._hasPointLabels)&&(a.dlProcessOptions&&a.dlProcessOptions(l),n=a.plotGroup("dataLabelsGroup","data-labels",l.defer?$e:Qe,l.zIndex||6),At(l.defer,!0)&&(n.attr({opacity:+c}),c||ft(a,"afterAnimate",function(){a.visible&&n.show(),n[s.animation?"animate":"attr"]({opacity:1},{duration:200})})),t=l,ut(d,function(d){var c,h,m,f,g,_,v=d.dataLabel,b=d.connector,y=!0,T={};if(e=d.dlOptions||d.options&&d.options.dataLabels,c=At(e&&e.enabled,t.enabled)&&null!==d.y,v&&!c)d.dataLabel=v.destroy();else if(c){if(l=r(t,e),_=l.style,g=l.rotation,h=d.getLabelConfig(),i=l.format?L(l.format,h):l.formatter.call(h,l),_.color=At(l.color,_.color,a.color,"black"),v)p(i)?(v.attr({text:i}),y=!1):(d.dataLabel=v=v.destroy(),b&&(d.connector=b.destroy()));else if(p(i)){m={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:g,padding:l.padding,zIndex:1},"contrast"===_.color&&(T.color=l.inside||l.distance<0||s.stacking?u.getContrast(d.color||a.color):"#000000"),o&&(T.cursor=o);for(f in m)m[f]===U&&delete m[f];v=d.dataLabel=u[g?"text":"label"](i,0,-9999,l.shape,null,null,l.useHTML).attr(m).css(Tt(_,T)).add(n).shadow(l.shadow)}v&&a.alignDataLabel(d,v,l,null,y)}}))},zt.prototype.alignDataLabel=function(e,t,i,n,a){var r,s,o=this.chart,l=o.inverted,d=At(e.plotX,-9999),c=At(e.plotY,-9999),u=t.getBBox(),h=o.renderer.fontMetrics(i.style.fontSize).b,m=this.visible&&(e.series.forceDL||o.isInsidePlot(d,_e(c),l)||n&&o.isInsidePlot(d,l?n.x+1:n.y+n.height-1,l));m&&(n=Tt({x:l?o.plotWidth-c:d,y:_e(l?o.plotHeight-d:c),width:0,height:0},n),Tt(i,{width:u.width,height:u.height}),i.rotation?(r=o.renderer.rotCorr(h,i.rotation),t[a?"attr":"animate"]({x:n.x+i.x+n.width/2+r.x,y:n.y+i.y+n.height/2}).attr({align:i.align})):(t.align(i,null,n),s=t.alignAttr,"justify"===At(i.overflow,"justify")?this.justifyDataLabel(t,i,s,u,n,a):At(i.crop,!0)&&(m=o.isInsidePlot(s.x,s.y)&&o.isInsidePlot(s.x+u.width,s.y+u.height)),i.shape&&t.attr({anchorX:e.plotX,anchorY:e.plotY}))),m||(bt(t),t.attr({y:-9999}),t.placed=!1)},zt.prototype.justifyDataLabel=function(e,t,i,n,a,r){var s,o,l=this.chart,d=t.align,c=t.verticalAlign,u=e.box?0:e.padding||0;s=i.x+u,0>s&&("right"===d?t.align="left":t.x=-s,o=!0),s=i.x+n.width-u,s>l.plotWidth&&("left"===d?t.align="right":t.x=l.plotWidth-s,o=!0),s=i.y+u,0>s&&("bottom"===c?t.verticalAlign="top":t.y=-s,o=!0),s=i.y+n.height-u,s>l.plotHeight&&("top"===c?t.verticalAlign="bottom":t.y=l.plotHeight-s,o=!0),o&&(e.placed=!r,e.align(t,null,a))},ot.pie&&(ot.pie.prototype.drawDataLabels=function(){var e,t,i,n,a,r,s,o,l,d,c,u,h,m=this,p=m.data,f=m.chart,g=m.options.dataLabels,_=At(g.connectorPadding,10),v=At(g.connectorWidth,1),b=f.plotWidth,y=f.plotHeight,T=At(g.softConnector,!0),A=g.distance,M=m.center,S=M[2]/2,L=M[1],C=A>0,D=[[],[]],x=[0,0,0,0],E=function(e,t){return t.y-e.y};if(m.visible&&(g.enabled||m._hasPointLabels)){for(zt.prototype.drawDataLabels.apply(m),ut(p,function(e){e.dataLabel&&e.visible&&D[e.half].push(e)}),u=2;u--;){var O,I,R,N,k=[],H=[],P=D[u],F=P.length;if(F){for(m.sortByAngle(P,u-.5),h=s=0;!s&&P[h];)s=P[h]&&P[h].dataLabel&&(P[h].dataLabel.getBBox().height||21),h++;if(A>0){for(R=Te(L+S+A,f.plotHeight),I=ye(0,L-S-A);R>=I;I+=s)k.push(I);if(O=k.length,F>O){for(c=[].concat(P),c.sort(E),h=F;h--;)c[h].rank=h;for(h=F;h--;)P[h].rank>=O&&P.splice(h,1);F=P.length}for(h=0;F>h;h++){e=P[h],r=e.labelPos;var Y,j,B=9999;for(j=0;O>j;j++)Y=Ae(k[j]-r[1]),B>Y&&(B=Y,N=j);if(h>N&&null!==k[h])N=h;else if(F-h+N>O&&null!==k[h])for(N=O-F+h;null===k[N];)N++;else for(;null===k[N];)N++;H.push({i:N,y:k[N]}),k[N]=null}H.sort(E)}for(h=0;F>h;h++){var V,U;e=P[h],r=e.labelPos,n=e.dataLabel,d=e.visible===!1?$e:"inherit",U=r[1],A>0?(V=H.pop(),N=V.i,l=V.y,(U>l&&null!==k[N+1]||l>U&&null!==k[N-1])&&(l=Te(ye(0,U),f.plotHeight))):l=U,o=g.justify?M[0]+(u?-1:1)*(S+A):m.getX(l===L-S-A||l===L+S+A?U:l,u),n._attr={visibility:d,align:r[6]},n._pos={x:o+g.x+({left:_,right:-_}[r[6]]||0),y:l+g.y-10},n.connX=o,n.connY=l,null===this.options.size&&(a=n.width,_>o-a?x[3]=ye(_e(a-o+_),x[3]):o+a>b-_&&(x[1]=ye(_e(o+a-b+_),x[1])),0>l-s/2?x[0]=ye(_e(-l+s/2),x[0]):l+s/2>y&&(x[2]=ye(_e(l+s/2-y),x[2])))}}}(0===w(x)||this.verifyDataLabelOverflow(x))&&(this.placeDataLabels(),C&&v&&ut(this.points,function(e){t=e.connector,r=e.labelPos,n=e.dataLabel,n&&n._pos&&e.visible?(d=n._attr.visibility,o=n.connX,l=n.connY,i=T?[Ze,o+("left"===r[6]?5:-5),l,"C",o,l,2*r[2]-r[4],2*r[3]-r[5],r[2],r[3],et,r[4],r[5]]:[Ze,o+("left"===r[6]?5:-5),l,et,r[2],r[3],et,r[4],r[5]],t?(t.animate({d:i}),t.attr("visibility",d)):e.connector=t=m.chart.renderer.path(i).attr({"stroke-width":v,stroke:g.connectorColor||e.color||"#606060",visibility:d}).add(m.dataLabelsGroup)):t&&(e.connector=t.destroy())}))}},ot.pie.prototype.placeDataLabels=function(){ut(this.points,function(e){var t,i=e.dataLabel;i&&e.visible&&(t=i._pos,t?(i.attr(i._attr),i[i.moved?"animate":"attr"](t),i.moved=!0):i&&i.attr({y:-9999}))})},ot.pie.prototype.alignDataLabel=je,ot.pie.prototype.verifyDataLabelOverflow=function(e){var t,i=this.center,n=this.options,a=n.center,r=n.minSize||80,s=r;return null!==a[0]?s=ye(i[2]-ye(e[1],e[3]),r):(s=ye(i[2]-e[1]-e[3],r),i[0]+=(e[3]-e[1])/2),null!==a[1]?s=ye(Te(s,i[2]-ye(e[0],e[2])),r):(s=ye(Te(s,i[2]-e[0]-e[2]),r),i[1]+=(e[0]-e[2])/2),s<i[2]?(i[2]=s,i[3]=Math.min(A(n.innerSize||0,s),s),this.translate(i),ut(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):t=!0,t}),ot.column&&(ot.column.prototype.alignDataLabel=function(e,t,i,n,a){var s,o=this.chart.inverted,l=e.series,d=e.dlBox||e.shapeArgs,c=At(e.below,e.plotY>At(this.translatedThreshold,l.yAxis.len)),u=At(i.inside,!!this.options.stacking);d&&(n=r(d),n.y<0&&(n.height+=n.y,n.y=0),s=n.y+n.height-l.yAxis.len,s>0&&(n.height-=s),o&&(n={x:l.yAxis.len-n.y-n.height,y:l.xAxis.len-n.x-n.width,width:n.height,height:n.width}),u||(o?(n.x+=c?0:n.width,n.width=0):(n.y+=c?n.height:0,n.height=0))),i.align=At(i.align,!o||u?"center":c?"right":"left"),i.verticalAlign=At(i.verticalAlign,o||u?"middle":c?"top":"bottom"),zt.prototype.alignDataLabel.call(this,e,t,i,n,a)}),function(e){var t=e.Chart,i=e.each,n=e.pick,a=e.addEvent;t.prototype.callbacks.push(function(e){function t(){var t=[];i(e.series,function(e){var a=e.options.dataLabels,r=e.dataLabelCollections||["dataLabel"];(a.enabled||e._hasPointLabels)&&!a.allowOverlap&&e.visible&&i(r,function(a){i(e.points,function(e){e[a]&&(e[a].labelrank=n(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[a]))})})}),e.hideOverlappingLabels(t)}t(),a(e,"redraw",t)}),t.prototype.hideOverlappingLabels=function(e){var t,n,a,r,s,o,l,d,c,u=e.length,h=function(e,t,i,n,a,r,s,o){return!(a>e+i||e>a+s||r>t+n||t>r+o)};for(n=0;u>n;n++)t=e[n],t&&(t.oldOpacity=t.opacity,t.newOpacity=1);for(e.sort(function(e,t){return(t.labelrank||0)-(e.labelrank||0)}),n=0;u>n;n++)for(r=e[n],a=n+1;u>a;++a)s=e[a],r&&s&&r.placed&&s.placed&&0!==r.newOpacity&&0!==s.newOpacity&&(l=r.alignAttr,d=s.alignAttr,c=2*(r.box?0:r.padding),o=h(l.x,l.y,r.width-c,r.height-c,d.x,d.y,s.width-c,s.height-c),o&&((r.labelrank<s.labelrank?r:s).newOpacity=0));i(e,function(e){var t,i;e&&(i=e.newOpacity,e.oldOpacity!==i&&e.placed&&(i?e.show(!0):t=function(){e.hide()},e.alignAttr.opacity=i,e[e.isOld?"animate":"attr"](e.alignAttr,null,t)),e.isOld=!0)})}}(lt);var ii=lt.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart,i=t.pointer,n=e.options.cursor,a=n&&{cursor:n},r=function(e){for(var i,n=e.target;n&&!i;)i=n.point,n=n.parentNode;i!==U&&i!==t.hoverPoint&&i.onMouseOver(e)};ut(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),e._hasTracking||(ut(e.trackerGroups,function(t){e[t]&&(e[t].addClass(Xe+"tracker").on("mouseover",r).on("mouseout",function(e){i.onTrackerMouseOut(e)}).css(a),z&&e[t].on("touchstart",r))}),e._hasTracking=!0)},drawTrackerGraph:function(){var e,t,i=this,n=i.options,a=n.trackByArea,r=[].concat(a?i.areaPath:i.graphPath),s=r.length,o=i.chart,l=o.pointer,d=o.renderer,c=o.options.tooltip.snap,u=i.tracker,h=n.cursor,m=h&&{cursor:h},p=i.singlePoints,f=function(){o.hoverSeries!==i&&i.onMouseOver()},g="rgba(192,192,192,"+(ke?1e-4:.002)+")";if(s&&!a)for(t=s+1;t--;)r[t]===Ze&&r.splice(t+1,0,r[t+1]-c,r[t+2],et),(t&&r[t]===Ze||t===s)&&r.splice(t,0,et,r[t-2]+c,r[t-1]);for(t=0;t<p.length;t++)e=p[t],r.push(Ze,e.plotX-c,e.plotY,et,e.plotX+c,e.plotY);u?u.attr({d:r}):(i.tracker=d.path(r).attr({"stroke-linejoin":"round",visibility:i.visible?Qe:$e,stroke:g,fill:a?g:Je,"stroke-width":n.lineWidth+(a?0:2*c),zIndex:2}).add(i.group),ut([i.tracker,i.markerGroup],function(e){e.addClass(Xe+"tracker").on("mouseover",f).on("mouseout",function(e){l.onTrackerMouseOut(e)}).css(m),z&&e.on("touchstart",f)}))}};return ot.column&&(Kt.prototype.drawTracker=ii.drawTrackerPoint),ot.pie&&(ot.pie.prototype.drawTracker=ii.drawTrackerPoint),ot.scatter&&(Zt.prototype.drawTracker=ii.drawTrackerPoint),Tt(jt.prototype,{setItemEvents:function(e,t,i,n,a){var r=this;(i?t:e.legendGroup).on("mouseover",function(){e.setState(nt),t.css(r.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?n:a),e.setState()}).on("click",function(t){var i="legendItemClick",n=function(){e.setVisible&&e.setVisible()};t={browserEvent:t},e.firePointEvent?e.firePointEvent(i,t,n):_t(e,i,t,n)})},createCheckboxForItem:function(e){var t=this;e.checkbox=b("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},t.options.itemCheckboxStyle,t.chart.container),ft(e.checkbox,"click",function(t){var i=t.target;_t(e.series||e,"checkboxClick",{checked:i.checked,item:e},function(){e.select()})})}}),q.legend.itemStyle.cursor="pointer",Tt(Vt.prototype,{showResetZoom:function(){function e(){t.zoomOut()}var t=this,i=q.lang,n=t.options.chart.resetZoomButton,a=n.theme,r=a.states,s="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(i.resetZoom,null,null,e,a,r&&r.hover,U,U,U,t.options.chart.isHeatMapTimeSeriesChart).attr({align:n.position.align,title:i.resetZoomTitle}).add().align(n.position,!1,s),t.options.chart.isHeatMapTimeSeriesChart&&this.resetZoomButton.text.on("click",function(){t.zoomOut()})},zoomOut:function(){var e=this;_t(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,i,n=this,a=n.pointer,r=!1;!e||e.resetSelection?ut(n.axes,function(e){t=e.zoom()}):ut(e.xAxis.concat(e.yAxis),function(e){var i=e.axis,n=i.isXAxis;(a[n?"zoomX":"zoomY"]||a[n?"pinchX":"pinchY"])&&(t=i.zoom(e.min,e.max),i.displayBtn&&(r=!0))}),i=n.resetZoomButton,r&&!i?n.showResetZoom():!r&&l(i)&&(n.resetZoomButton=i.destroy()),t&&n.redraw(At(n.options.chart.animation,e&&e.animation,n.pointCount<100))},pan:function(e,t){var i,n=this,a=n.hoverPoints;a&&ut(a,function(e){e.setState()}),ut("xy"===t?[1,0]:[1],function(t){var a=e[t?"chartX":"chartY"],r=n[t?"xAxis":"yAxis"][0],s=n[t?"mouseDownX":"mouseDownY"],o=(r.pointRange||0)/2,l=r.getExtremes(),d=r.toValue(s-a,!0)+o,c=r.toValue(s+n[t?"plotWidth":"plotHeight"]-a,!0)-o,u=s>a;r.series.length&&(u||d>Te(l.dataMin,l.min))&&(!u||c<ye(l.dataMax,l.max))&&(r.setExtremes(d,c,!1,!1,{trigger:"pan"}),i=!0),n[t?"mouseDownX":"mouseDownY"]=a}),i&&n.redraw(!1),v(n.container,{cursor:"move"})}}),Tt(Gt.prototype,{select:function(e,t){var i=this,n=i.series,a=n.chart;e=At(e,!i.selected),i.firePointEvent(e?"select":"unselect",{accumulate:t},function(){i.selected=i.options.selected=e,n.options.data[ct(i,n.data)]=i.options,i.setState(e&&at),t||ut(a.getSelectedPoints(),function(e){e.selected&&e!==i&&(e.selected=e.options.selected=!1,n.options.data[ct(e,n.data)]=e.options,e.setState(it),e.firePointEvent("unselect"))})})},onMouseOver:function(e,t){var i=this,n=i.series,a=n.chart,r=a.tooltip,s=a.hoverPoint;a.hoverSeries!==n&&n.onMouseOver(),s&&s!==i&&s.onMouseOut(),i.series&&(i.firePointEvent("mouseOver"),!r||r.shared&&!n.noSharedTooltip||r.refresh(i,e),i.setState(nt),t||(a.hoverPoint=i))},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut"),t&&-1!==ct(this,t)||(this.setState(),e.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var e,t=this,i=r(t.series.options.point,t.options),n=i.events;t.events=n;for(e in n)ft(t,e,n[e]);this.hasImportedEvents=!0}},setState:function(e,t){var i,n,a,s,o=this,l=ve(o.plotX),d=o.plotY,c=o.series,u=c.options.states,h=St[c.type].marker&&c.options.marker,m=h&&!h.enabled,p=h&&h.states[e],f=p&&p.enabled===!1,g=c.stateMarkerGraphic,_=o.marker||{},v=c.chart,b=c.halo;e=e||it,s=o.pointAttr[e]||c.pointAttr[e],e===o.state&&!t||o.selected&&e!==at||u[e]&&u[e].enabled===!1||e&&(f||m&&p.enabled===!1)||e&&_.states&&_.states[e]&&_.states[e].enabled===!1||(o.graphic?(i=h&&o.graphic.symbolName&&s.r,o.graphic.attr(r(s,i?{x:l-i,y:d-i,width:2*i,height:2*i}:{})),g&&g.hide()):(e&&p&&(i=p.radius,a=_.symbol||c.symbol,g&&g.currentSymbol!==a&&(g=g.destroy()),g?g[t?"animate":"attr"]({x:l-i,y:d-i}):a&&(c.stateMarkerGraphic=g=v.renderer.symbol(a,l-i,d-i,2*i,2*i).attr(s).add(c.markerGroup),g.currentSymbol=a)),g&&(g[e&&v.isInsidePlot(l,d,v.inverted)?"show":"hide"](),g.element.point=o)),n=u[e]&&u[e].halo,n&&n.size?(b||(c.halo=b=v.renderer.path().add(v.seriesGroup)),b.attr(Tt({fill:o.color||c.color,"fill-opacity":n.opacity},n.attributes))[t?"animate":"attr"]({d:o.haloPath(n.size)})):b&&b.attr({d:[]}),o.state=e)},haloPath:function(e){var t=this.series,i=t.chart,n=t.getPlotBox(),a=i.inverted,r=Math.floor(this.plotX);return i.renderer.symbols.circle(n.translateX+(a?t.yAxis.len-this.plotY:r)-e,n.translateY+(a?t.xAxis.len-r:this.plotY)-e,2*e,2*e)}}),Tt(zt.prototype,{onMouseOver:function(){var e=this,t=e.chart,i=t.hoverSeries;i&&i!==e&&i.onMouseOut(),e.options.events.mouseOver&&_t(e,"mouseOver"),e.setState(nt),t.hoverSeries=e},onMouseOut:function(){var e=this,t=e.options,i=e.chart,n=i.tooltip,a=i.hoverPoint;i.hoverSeries=null,a&&a.onMouseOut(),e&&t.events.mouseOut&&_t(e,"mouseOut"),!n||t.stickyTracking||n.shared&&!e.noSharedTooltip||n.hide(),e.setState()},setState:function(e){var t,i=this,n=i.options,a=i.graph,r=n.states,s=n.lineWidth,o=0;if(e=e||it,i.state!==e){if(i.state=e,r[e]&&r[e].enabled===!1)return;if(e&&(s=r[e].lineWidth||s+(r[e].lineWidthPlus||0)),a&&!a.dashstyle)for(t={"stroke-width":s},a.attr(t);i["zoneGraph"+o];)i["zoneGraph"+o].attr(t),o+=1}},setVisible:function(e,t){var i,n=this,a=n.chart,r=n.legendItem,s=a.options.chart.ignoreHiddenSeries,o=n.visible;n.visible=e=n.userOptions.visible=e===U?!o:e,i=e?"show":"hide",ut(["group","dataLabelsGroup","markerGroup","tracker"],function(e){n[e]&&n[e][i]()}),(a.hoverSeries===n||(a.hoverPoint&&a.hoverPoint.series)===n)&&n.onMouseOut(),r&&a.legend.colorizeItem(n,e),n.isDirty=!0,n.options.stacking&&ut(a.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),ut(n.linkedSeries,function(t){t.setVisible(e,!1)}),s&&(a.isDirtyBox=!0),t!==!1&&a.redraw(),_t(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){var t=this;t.selected=e=e===U?!t.selected:e,t.checkbox&&(t.checkbox.checked=e),_t(t,e?"select":"unselect")},drawTracker:ii.drawTrackerGraph}),Tt(lt,{Color:F,Point:Gt,Tick:B,Renderer:G,SVGElement:Y,SVGRenderer:Ct,arrayMin:E,arrayMax:w,charts:Be,dateFormat:$,error:n,escapeXSS:i,format:L,pathAnim:X,getOptions:P,hasBidiBug:He,isTouchDevice:Re,setOptions:H,addEvent:ft,removeEvent:gt,createElement:b,discardElement:I,css:v,each:ut,map:pt,merge:r,splat:g,stableSort:x,extendClass:y,pInt:s,svg:ke,canvas:Pe,vml:!ke&&!Pe,product:Ue,version:Ge}),lt}),function(){function e(t,n){function r(e){if(r[e]!==g)return r[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=r("json-stringify")&&r("json-parse");else{var i,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=n.stringify,c="function"==typeof l&&b;if(c){(i=function(){return 1}).toJSON=i;try{c="0"===l(0)&&"0"===l(new s)&&'""'==l(new o)&&l(v)===g&&l(g)===g&&l()===g&&"1"===l(i)&&"[1]"==l([i])&&"[null]"==l([g])&&"null"==l(null)&&"[null,null,null]"==l([g,v,null])&&l({a:[i,!0,!1,null,"\x00\b\n\f\r	"]})==a&&"1"===l(null,i)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new d(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new d(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new d(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new d(-1))}catch(u){c=!1}}t=c}if("json-parse"==e){var h=n.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){i=h(a);var m=5==i.a.length&&1===i.a[0];if(m){try{m=!h('"	"')}catch(u){}if(m)try{m=1!==h("01")}catch(u){}if(m)try{m=1!==h("1.")}catch(u){}}}}catch(u){m=!1}t=m}}return r[e]=!!t}t||(t=a.Object()),n||(n=a.Object());var s=t.Number||a.Number,o=t.String||a.String,l=t.Object||a.Object,d=t.Date||a.Date,c=t.SyntaxError||a.SyntaxError,u=t.TypeError||a.TypeError,h=t.Math||a.Math,m=t.JSON||a.JSON;"object"==typeof m&&m&&(n.stringify=m.stringify,n.parse=m.parse);var p,f,g,_=l.prototype,v=_.toString,b=new d(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(y){}if(!r("json")){var T="[object Function]",A="[object Date]",M="[object Number]",S="[object String]",L="[object Array]",C="[object Boolean]",D=r("bug-string-char-index");if(!b)var x=h.floor,E=[0,31,59,90,120,151,181,212,243,273,304,334],w=function(e,t){return E[t]+365*(e-1970)+x((e-1969+(t=+(t>1)))/4)-x((e-1901+t)/100)+x((e-1601+t)/400)};if((p=_.hasOwnProperty)||(p=function(e){var t,i={};return(i.__proto__=null,i.__proto__={toString:1},i).toString!=v?p=function(e){var t=this.__proto__,i=e in(this.__proto__=null,this);
return this.__proto__=t,i}:(t=i.constructor,p=function(e){var i=(this.constructor||t).prototype;return e in this&&!(e in i&&this[e]===i[e])}),i=null,p.call(this,e)}),f=function(e,t){var n,a,r,s=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,a=new n;for(r in a)p.call(a,r)&&s++;return n=a=null,s?f=2==s?function(e,t){var i,n={},a=v.call(e)==T;for(i in e)a&&"prototype"==i||p.call(n,i)||!(n[i]=1)||!p.call(e,i)||t(i)}:function(e,t){var i,n,a=v.call(e)==T;for(i in e)a&&"prototype"==i||!p.call(e,i)||(n="constructor"===i)||t(i);(n||p.call(e,i="constructor"))&&t(i)}:(a=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],f=function(e,t){var n,r,s=v.call(e)==T,o=!s&&"function"!=typeof e.constructor&&i[typeof e.hasOwnProperty]&&e.hasOwnProperty||p;for(n in e)s&&"prototype"==n||!o.call(e,n)||t(n);for(r=a.length;n=a[--r];o.call(e,n)&&t(n));}),f(e,t)},!r("json-stringify")){var O={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},I="000000",R=function(e,t){return(I+(t||0)).slice(-e)},N="\\u00",k=function(e){for(var t='"',i=0,n=e.length,a=!D||n>10,r=a&&(D?e.split(""):e);n>i;i++){var s=e.charCodeAt(i);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=O[s];break;default:if(32>s){t+=N+R(2,s.toString(16));break}t+=a?r[i]:e.charAt(i)}}return t+'"'},H=function(e,t,i,n,a,r,s){var o,l,d,c,h,m,_,b,y,T,D,E,O,I,N,P;try{o=t[e]}catch(F){}if("object"==typeof o&&o)if(l=v.call(o),l!=A||p.call(o,"toJSON"))"function"==typeof o.toJSON&&(l!=M&&l!=S&&l!=L||p.call(o,"toJSON"))&&(o=o.toJSON(e));else if(o>-1/0&&1/0>o){if(w){for(h=x(o/864e5),d=x(h/365.2425)+1970-1;w(d+1,0)<=h;d++);for(c=x((h-w(d,0))/30.42);w(d,c+1)<=h;c++);h=1+h-w(d,c),m=(o%864e5+864e5)%864e5,_=x(m/36e5)%24,b=x(m/6e4)%60,y=x(m/1e3)%60,T=m%1e3}else d=o.getUTCFullYear(),c=o.getUTCMonth(),h=o.getUTCDate(),_=o.getUTCHours(),b=o.getUTCMinutes(),y=o.getUTCSeconds(),T=o.getUTCMilliseconds();o=(0>=d||d>=1e4?(0>d?"-":"+")+R(6,0>d?-d:d):R(4,d))+"-"+R(2,c+1)+"-"+R(2,h)+"T"+R(2,_)+":"+R(2,b)+":"+R(2,y)+"."+R(3,T)+"Z"}else o=null;if(i&&(o=i.call(t,e,o)),null===o)return"null";if(l=v.call(o),l==C)return""+o;if(l==M)return o>-1/0&&1/0>o?""+o:"null";if(l==S)return k(""+o);if("object"==typeof o){for(I=s.length;I--;)if(s[I]===o)throw u();if(s.push(o),D=[],N=r,r+=a,l==L){for(O=0,I=o.length;I>O;O++)E=H(O,o,i,n,a,r,s),D.push(E===g?"null":E);P=D.length?a?"[\n"+r+D.join(",\n"+r)+"\n"+N+"]":"["+D.join(",")+"]":"[]"}else f(n||o,function(e){var t=H(e,o,i,n,a,r,s);t!==g&&D.push(k(e)+":"+(a?" ":"")+t)}),P=D.length?a?"{\n"+r+D.join(",\n"+r)+"\n"+N+"}":"{"+D.join(",")+"}":"{}";return s.pop(),P}};n.stringify=function(e,t,n){var a,r,s,o;if(i[typeof t]&&t)if((o=v.call(t))==T)r=t;else if(o==L){s={};for(var l,d=0,c=t.length;c>d;l=t[d++],o=v.call(l),(o==S||o==M)&&(s[l]=1));}if(n)if((o=v.call(n))==M){if((n-=n%1)>0)for(a="",n>10&&(n=10);a.length<n;a+=" ");}else o==S&&(a=n.length<=10?n:n.slice(0,10));return H("",(l={},l[""]=e,l),r,s,a,"",[])}}if(!r("json-parse")){var P,F,Y=o.fromCharCode,j={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},B=function(){throw P=F=null,c()},V=function(){for(var e,t,i,n,a,r=F,s=r.length;s>P;)switch(a=r.charCodeAt(P)){case 9:case 10:case 13:case 32:P++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=D?r.charAt(P):r[P],P++,e;case 34:for(e="@",P++;s>P;)if(a=r.charCodeAt(P),32>a)B();else if(92==a)switch(a=r.charCodeAt(++P)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=j[a],P++;break;case 117:for(t=++P,i=P+4;i>P;P++)a=r.charCodeAt(P),a>=48&&57>=a||a>=97&&102>=a||a>=65&&70>=a||B();e+=Y("0x"+r.slice(t,P));break;default:B()}else{if(34==a)break;for(a=r.charCodeAt(P),t=P;a>=32&&92!=a&&34!=a;)a=r.charCodeAt(++P);e+=r.slice(t,P)}if(34==r.charCodeAt(P))return P++,e;B();default:if(t=P,45==a&&(n=!0,a=r.charCodeAt(++P)),a>=48&&57>=a){for(48==a&&(a=r.charCodeAt(P+1),a>=48&&57>=a)&&B(),n=!1;s>P&&(a=r.charCodeAt(P),a>=48&&57>=a);P++);if(46==r.charCodeAt(P)){for(i=++P;s>i&&(a=r.charCodeAt(i),a>=48&&57>=a);i++);i==P&&B(),P=i}if(a=r.charCodeAt(P),101==a||69==a){for(a=r.charCodeAt(++P),(43==a||45==a)&&P++,i=P;s>i&&(a=r.charCodeAt(i),a>=48&&57>=a);i++);i==P&&B(),P=i}return+r.slice(t,P)}if(n&&B(),"true"==r.slice(P,P+4))return P+=4,!0;if("false"==r.slice(P,P+5))return P+=5,!1;if("null"==r.slice(P,P+4))return P+=4,null;B()}return"$"},U=function(e){var t,i;if("$"==e&&B(),"string"==typeof e){if("@"==(D?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=V(),"]"!=e;i||(i=!0))i&&(","==e?(e=V(),"]"==e&&B()):B()),","==e&&B(),t.push(U(e));return t}if("{"==e){for(t={};e=V(),"}"!=e;i||(i=!0))i&&(","==e?(e=V(),"}"==e&&B()):B()),(","==e||"string"!=typeof e||"@"!=(D?e.charAt(0):e[0])||":"!=V())&&B(),t[e.slice(1)]=U(V());return t}B()}return e},G=function(e,t,i){var n=z(e,t,i);n===g?delete e[t]:e[t]=n},z=function(e,t,i){var n,a=e[t];if("object"==typeof a&&a)if(v.call(a)==L)for(n=a.length;n--;)G(a,n,i);else f(a,function(e){G(a,e,i)});return i.call(e,t,a)};n.parse=function(e,t){var i,n;return P=0,F=""+e,i=U(V()),"$"!=V()&&B(),P=F=null,t&&v.call(t)==T?z((n={},n[""]=i,n),"",t):i}}}return n.runInContext=e,n}var t="function"==typeof define&&define.amd,i={"function":!0,object:!0},n=i[typeof exports]&&exports&&!exports.nodeType&&exports,a=i[typeof window]&&window||this,r=n&&i[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!r||r.global!==r&&r.window!==r&&r.self!==r||(a=r),n&&!t)e(a,n);else{var s=a.JSON,o=a.JSON3,l=!1,d=e(a,a.JSON3={noConflict:function(){return l||(l=!0,a.JSON=s,a.JSON3=o,s=o=null),d}});a.JSON={parse:d.parse,stringify:d.stringify}}t&&define("json3",[],function(){return d})}.call(this),function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define("highcharts-grouped-categories",["highcharts"],e):e(t.Highcharts)}(function(e){function t(e,t){return this.userOptions=d(e),this.name=i(e.name)?e.name:e,this.parent=t,this}function i(e){return e!==c&&null!==e}function n(e){for(var t=e.length,i=0;t--;)i+=e[t];return i}function a(e,t,i,n,s){var o,l=e.length;for(s||(s=0),i.depth||(i.depth=0);l--;)o=e[l],n&&(o.parent=n),o.categories?a(o.categories,t,i,o,s+1):r(t,o,n);i.depth=m(i.depth,s)}function r(e,i,n){for(e.unshift(new t(i,n));n;)n.leaves++||(n.leaves=1),n=n.parent}function s(e,t,i){t[0]===t[2]&&(t[0]=t[2]=u(t[0])-i%2/2),t[1]===t[3]&&(t[1]=t[3]=u(t[1])+i%2/2),e.push("M",t[0],t[1],"L",t[2],t[3])}function o(e,t){return e.getPosition(e.axis.horiz,t,e.axis.tickmarkOffset)}function l(e,t,i){for(var n,a=e.length;a--;)n=e[a][t],n&&l(n,t,i),i(e[a])}function d(e){return JSON.parse(JSON.stringify(e))}var c=void 0,u=Math.round,h=Math.min,m=Math.max,p=e.merge,f=e.pick,g=window.HighchartsAdapter&&window.HighchartsAdapter.inArray||e.inArray,_=e.Axis.prototype,v=e.Tick.prototype,b=_.init,y=_.render,T=_.setCategories,A=v.getLabelSize,M=v.addLabel,S=v.destroy,L=v.render;return t.prototype.toString=function(){for(var e=[],t=this;t;)e.push(t.name),t=t.parent;return e.join(", ")},_.init=function(e,t){b.call(this,e,t),"object"==typeof t&&t.categories&&this.setupGroups(t)},_.setupGroups=function(e){var t,i=[],n={};t=d(e.categories),a(t,i,n),this.categoriesTree=t,this.categories=i,this.isGrouped=0!==n.depth,this.labelsDepth=n.depth,this.labelsSizes=[],this.labelsGridPath=[],this.tickLength=e.tickLength||this.tickLength||null,this.tickWidth=f(e.tickWidth,this.isXAxis?1:0),this.directionFactor=[-1,1,1,-1][this.side],"undefined"==typeof e.lineWidth?this.options.lineWidth=1:this.options.lineWidth=f(e.lineWidth,1)},_.render=function(){if(this.isGrouped&&(this.labelsGridPath=[]),this.originalTickLength===c&&(this.originalTickLength=this.options.tickLength),this.options.tickLength=this.isGrouped?.001:this.originalTickLength,y.call(this),!this.isGrouped)return void(this.labelsGrid&&this.labelsGrid.attr({visibility:"hidden"}));var e,t=this,i=t.options,n=t.top,a=t.left,r=a+t.width,o=n+t.height,d=t.hasVisibleSeries||t.hasData,u=t.labelsDepth,h=t.labelsGrid,m=t.horiz,p=t.labelsGridPath,f=i.drawHorizontalBorders===!1?u+1:0,g=t.opposite?m?n:r:m?o:a,_=t.tickWidth;for(t.userTickLength&&(u-=1),h||(h=t.labelsGrid=t.chart.renderer.path().attr({strokeWidth:_,"stroke-width":_,stroke:i.tickColor}).add(t.axisGroup));u>=f;)g+=t.groupSize(f),e=m?[a,g,r,g]:[g,n,g,o],s(p,e,_),f++;h.attr({d:p,visibility:d?"visible":"hidden"}),t.labelGroup.attr({visibility:d?"visible":"hidden"}),l(t.categoriesTree,"categories",function(e){var i=e.tick;i&&(i.startAt+i.leaves-1<t.min||i.startAt>t.max?(i.label.hide(),i.destroyed=0):i.label.attr({visibility:d?"visible":"hidden"}))})},_.setCategories=function(e,t){this.categories&&this.cleanGroups(),this.setupGroups({categories:e}),this.categories=this.userOptions.categories=e,T.call(this,this.categories,t)},_.cleanGroups=function(){var e,t=this.ticks;for(e in t)t[e].parent&&delete t[e].parent;l(this.categoriesTree,"categories",function(e){var t,i=e.tick;if(i){i.label.destroy();for(t in i)delete i[t];delete e.tick}}),this.labelsGrid=null},_.groupSize=function(e,t){var i=this.labelsSizes,a=this.directionFactor,r=this.options.labels.groupedOptions?this.options.labels.groupedOptions[e-1]:!1,s=0;return r&&(s=-1==a?r.x?r.x:0:r.y?r.y:0),t!==c&&(i[e]=m(i[e]||0,t+10+Math.abs(s))),e===!0?n(i)*a:i[e]?i[e]*a:0},v.addLabel=function(){var e;M.call(this),this.axis.categories&&(e=this.axis.categories[this.pos])&&(this.label&&this.label.attr("text",this.axis.labelFormatter.call({axis:this.axis,chart:this.axis.chart,isFirst:this.isFirst,isLast:this.isLast,value:e.name})),this.axis.isGrouped&&this.axis.options.labels.enabled&&this.addGroupedLabels(e))},v.addGroupedLabels=function(e){for(var t,i=this,n=this.axis,a=n.chart,r=n.options.labels,s=r.useHTML,o=r.style,l=r.groupedOptions,d={align:"center",x:0,y:0},c=n.horiz?"height":"width",u=0;i;){if(u>0&&!e.tick){this.value=e.name;var h=r.formatter?r.formatter.call(this,e):e.name,m=l&&l[u-1],f=m?p(d,l[u-1]):d,g=m&&l[u-1].style?p(o,l[u-1].style):o;delete f.style,t=a.renderer.text(h,0,0,s).attr(f).css(g).add(n.labelGroup),i.startAt=this.pos,i.childCount=e.categories.length,i.leaves=e.leaves,i.visible=this.childCount,i.label=t,i.labelOffsets={x:f.x,y:f.y},e.tick=i}n.groupSize(u,i.label.getBBox()[c]),e=e.parent,i=e?i.parent=e.tick||{}:null,u++}},v.render=function(e,t,i){function n(e,t,i){var n=0;return y?(n=g(t.name,t.parent.categories),n=0>n?0:n):n}L.call(this,e,t,i);var a=this.axis.categories[this.pos];if(this.axis.isGrouped&&a&&!(this.pos>this.axis.max)){var r,l,d,c,u,p,f=this,_=f,v=f.axis,b=f.pos,y=f.isFirst,T=v.max,A=v.min,M=v.horiz,S=(v.categories[b],v.labelsGridPath),C=v.groupSize(0),D=(v.tickLength||C,v.tickWidth),x=(v.directionFactor,o(f,b)),E=M?x.y:x.x,w=v.chart.renderer.fontMetrics(v.options.labels.style.fontSize).b,O=1;for(y&&(r=M?[v.left,x.y,v.left,x.y+v.groupSize(!0)]:v.isXAxis?[x.x,v.top,x.x+v.groupSize(!0),v.top]:[x.x,v.top+v.len,x.x+v.groupSize(!0),v.top+v.len],s(S,r,D)),M&&v.left<x.x?s(S,[x.x,x.y,x.x,x.y+C],D):!M&&v.top<x.y&&s(S,[x.x,x.y,x.x+C,x.y],D),C=E+C;_=_.parent;){var I=n(_,a,f),R=_.labelOffsets.x,N=_.labelOffsets.y;d=o(f,m(_.startAt-1,A-1)),c=o(f,h(_.startAt+_.leaves-1-I,T)),p=_.label.getBBox(!0),l=v.groupSize(O),u=M?{x:(d.x+c.x)/2+R,y:C+l/2+w-p.height/2-4+N/2}:{x:C+l/2+R,y:(d.y+c.y-p.height)/2+w+N},isNaN(u.x)||isNaN(u.y)||(_.label.attr(u),S&&(M&&v.left<c.x?s(S,[c.x,C,c.x,C+l],D):!M&&v.top<c.y&&s(S,[C,c.y,C+l,c.y],D))),C+=l,O++}}},v.destroy=function(){for(var e=this;e=e.parent;)e.destroyed++||(e.destroyed=1);S.call(this)},v.getLabelSize=function(){if(this.axis.isGrouped===!0){var e=A.call(this)+10,t=this.axis.labelsSizes[0];return e>t&&(this.axis.labelsSizes[0]=e),n(this.axis.labelsSizes)}return A.call(this)},e},this),function(e){"use strict";"function"==typeof define&&define.amd?define("adhoc/api/chart/adhocToHighchartsAdapter/ext/multiplePieTitlesExt",["highcharts"],e):e(Highcharts)}(function(e){"use strict";return e.wrap(e.seriesTypes.pie.prototype,"render",function(e){var t,i=this.chart,n=this.center||this.yAxis&&this.yAxis.center,a=this.options.title;e.call(this),n&&a&&(t={x:i.plotLeft+n[0]-.5*n[2],y:i.plotTop+n[1]-.5*n[2],width:n[2],height:n[2]},this.title?this.title.align(a,null,t):this.title=this.chart.renderer.label(a.text).css(a.style).add().align(a,null,t))}),e}),function(e){"use strict";"function"==typeof define&&define.amd?define("adhoc/api/chart/adhocToHighchartsAdapter/ext/escapeUtilsExt",["highcharts","xssUtil"],e):e(Highcharts,xssUtil)}(function(e,t){"use strict";return e.wrap(e,"escapeXSS",function(e,i){return e.apply(this,[t.escape(i,{softHTMLEscape:!0})])}),e}),function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define("highcharts-more",["highcharts"],e):e(t.Highcharts)}(function(e){function t(e,t,i){this.init(e,t,i)}var i,n=e.arrayMin,a=e.arrayMax,r=e.each,s=e.extend,o=e.merge,l=e.map,d=e.pick,c=e.pInt,u=e.getOptions().plotOptions,h=e.seriesTypes,m=e.extendClass,p=e.splat,f=e.wrap,g=e.Axis,_=e.Tick,v=e.Point,b=e.Pointer,y=e.CenteredSeriesMixin,T=e.TrackerMixin,A=e.Series,M=Math,S=M.round,L=M.floor,C=M.max,D=e.Color,x=function(){};s(t.prototype,{init:function(e,t,i){var n,a=this,s=a.defaultOptions;a.chart=t,a.options=e=o(s,t.angular?{background:{}}:void 0,e),n=e.background,n&&r([].concat(p(n)).reverse(),function(e){var t=e.backgroundColor,n=i.userOptions;e=o(a.defaultBackgroundOptions,e),t&&(e.backgroundColor=t),e.color=e.backgroundColor,i.options.plotBands.unshift(e),n.plotBands=n.plotBands||[],n.plotBands!==i.options.plotBands&&n.plotBands.unshift(e)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var E=g.prototype,w=_.prototype,O={getOffset:x,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:x,setCategories:x,setTitle:x},I={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(e){var t=this.options=o(this.defaultOptions,this.defaultRadialOptions,e);t.plotBands||(t.plotBands=[])},getOffset:function(){E.getOffset.call(this),this.chart.axisOffset[this.side]=0,this.center=this.pane.center=y.getCenter.call(this.pane)},getLinePath:function(e,t){var i=this.center;return t=d(t,i[2]/2-this.offset),this.chart.renderer.symbols.arc(this.left+i[0],this.top+i[1],t,t,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){E.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=this.center[2]/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){E.setAxisSize.call(this),this.isRadial&&(this.center=this.pane.center=e.CenteredSeriesMixin.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*d(this.sector,1)/2)},getPosition:function(e,t){return this.postTranslate(this.isCircular?this.translate(e):0,d(this.isCircular?t:this.translate(e),this.center[2]/2)-this.offset)},postTranslate:function(e,t){var i=this.chart,n=this.center;return e=this.startAngleRad+e,{x:i.plotLeft+n[0]+Math.cos(e)*t,y:i.plotTop+n[1]+Math.sin(e)*t}},getPlotBandPath:function(e,t,i){var n,a,r,s,o=this.center,u=this.startAngleRad,h=o[2]/2,m=[d(i.outerRadius,"100%"),i.innerRadius,d(i.thickness,10)],p=/%$/,f=this.isCircular;return"polygon"===this.options.gridLineInterpolation?s=this.getPlotLinePath(e).concat(this.getPlotLinePath(t,!0)):(e=Math.max(e,this.min),t=Math.min(t,this.max),f||(m[0]=this.translate(e),m[1]=this.translate(t)),m=l(m,function(e){return p.test(e)&&(e=c(e,10)*h/100),e}),"circle"!==i.shape&&f?(n=u+this.translate(e),a=u+this.translate(t)):(n=-Math.PI/2,a=1.5*Math.PI,r=!0),s=this.chart.renderer.symbols.arc(this.left+o[0],this.top+o[1],m[0],m[0],{start:Math.min(n,a),end:Math.max(n,a),innerR:d(m[1],m[0]-m[2]),open:r})),s},getPlotLinePath:function(e,t){var i,n,a,s,o=this,l=o.center,d=o.chart,c=o.getPosition(e);return o.isCircular?s=["M",l[0]+d.plotLeft,l[1]+d.plotTop,"L",c.x,c.y]:"circle"===o.options.gridLineInterpolation?(e=o.translate(e),e&&(s=o.getLinePath(0,e))):(r(d.xAxis,function(e){e.pane===o.pane&&(i=e)}),s=[],e=o.translate(e),a=i.tickPositions,i.autoConnect&&(a=a.concat([a[0]])),t&&(a=[].concat(a).reverse()),r(a,function(t,a){n=i.getPosition(t,e),s.push(a?"L":"M",n.x,n.y)})),s},getTitlePosition:function(){var e=this.center,t=this.chart,i=this.options.title;return{x:t.plotLeft+e[0]+(i.x||0),y:t.plotTop+e[1]-{high:.5,middle:.25,low:0}[i.align]*e[2]+(i.y||0)}}};f(E,"init",function(e,n,a){var r,l,c,u,h,m,f=this,g=n.angular,_=n.polar,v=a.isX,b=g&&v,y=n.options,T=a.pane||0;g?(s(this,b?O:I),r=!v,r&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):_&&(s(this,I),r=v,this.defaultRadialOptions=v?this.defaultRadialXOptions:o(this.defaultYAxisOptions,this.defaultRadialYOptions)),e.call(this,n,a),b||!g&&!_||(u=this.options,n.panes||(n.panes=[]),this.pane=h=n.panes[T]=n.panes[T]||new t(p(y.pane)[T],n,f),m=h.options,n.inverted=!1,y.chart.zoomType=null,this.startAngleRad=l=(m.startAngle-90)*Math.PI/180,this.endAngleRad=c=(d(m.endAngle,m.startAngle+360)-90)*Math.PI/180,this.offset=u.offset||0,this.isCircular=r,r&&a.max===i&&c-l===2*Math.PI&&(this.autoConnect=!0))}),f(w,"getPosition",function(e,t,i,n,a){var r=this.axis;return r.getPosition?r.getPosition(i):e.call(this,t,i,n,a)}),f(w,"getLabelPosition",function(e,t,i,n,a,r,s,o,l){var c,u=this.axis,h=r.y,m=20,p=r.align,f=(u.translate(this.pos)+u.startAngleRad+Math.PI/2)/Math.PI*180%360;return u.isRadial?(c=u.getPosition(this.pos,u.center[2]/2+d(r.distance,-25)),"auto"===r.rotation?n.attr({rotation:f}):null===h&&(h=u.chart.renderer.fontMetrics(n.styles.fontSize).b-n.getBBox().height/2),null===p&&(u.isCircular?(this.label.getBBox().width>u.len*u.tickInterval/(u.max-u.min)&&(m=0),p=f>m&&180-m>f?"left":f>180+m&&360-m>f?"right":"center"):p="center",n.attr({align:p})),c.x+=r.x,c.y+=h):c=e.call(this,t,i,n,a,r,s,o,l),c}),f(w,"getMarkPath",function(e,t,i,n,a,r,s){var o,l,d=this.axis;return d.isRadial?(o=d.getPosition(this.pos,d.center[2]/2+n),l=["M",t,i,"L",o.x,o.y]):l=e.call(this,t,i,n,a,r,s),l}),u.arearange=o(u.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}}),h.arearange=m(h.area,{type:"arearange",pointArrayMap:["low","high"],dataLabelCollections:["dataLabel","dataLabelUpper"],toYData:function(e){return[e.low,e.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(e){var t=this.chart,i=this.xAxis.postTranslate(e.rectPlotX,this.yAxis.len-e.plotHigh);e.plotHighX=i.x-t.plotLeft,e.plotHigh=i.y-t.plotTop},getSegments:function(){var e=this;r(e.points,function(t){e.options.connectNulls||null!==t.low&&null!==t.high?null===t.low&&null!==t.high&&(t.y=t.high):t.y=null}),A.prototype.getSegments.call(this)},translate:function(){var e=this,t=e.yAxis;h.area.prototype.translate.apply(e),r(e.points,function(e){var i=e.low,n=e.high,a=e.plotY;null===n&&null===i?e.y=null:null===i?(e.plotLow=e.plotY=null,e.plotHigh=t.translate(n,0,1,0,1)):null===n?(e.plotLow=a,e.plotHigh=null):(e.plotLow=a,e.plotHigh=t.translate(n,0,1,0,1))}),this.chart.polar&&r(this.points,function(t){e.highToXY(t)})},getSegmentPath:function(t){var i,n,a,r,s,o=[],l=t.length,d=A.prototype.getSegmentPath,c=this.options,u=c.step;for(i=e.grep(t,function(e){return null!==e.plotLow});l--;)n=t[l],null!==n.plotHigh&&o.push({plotX:n.plotHighX||n.plotX,plotY:n.plotHigh});return r=d.call(this,i),u&&(u===!0&&(u="left"),c.step={left:"right",center:"center",right:"left"}[u]),s=d.call(this,o),c.step=u,a=[].concat(r,s),this.chart.polar||(s[0]="L"),this.areaPath=this.areaPath.concat(r,s),a},drawDataLabels:function(){var e,t,i,n=this.data,a=n.length,r=[],s=A.prototype,o=this.options.dataLabels,l=o.align,d=o.verticalAlign,c=o.inside,u=this.chart.inverted;if(o.enabled||this._hasPointLabels){for(e=a;e--;)t=n[e],t&&(i=c?t.plotHigh<t.plotLow:t.plotHigh>t.plotLow,t.y=t.high,t._plotY=t.plotY,t.plotY=t.plotHigh,r[e]=t.dataLabel,t.dataLabel=t.dataLabelUpper,t.below=i,u?l||(o.align=i?"right":"left"):d||(o.verticalAlign=i?"top":"bottom"),o.x=o.xHigh,o.y=o.yHigh);for(s.drawDataLabels&&s.drawDataLabels.apply(this,arguments),e=a;e--;)t=n[e],t&&(i=c?t.plotHigh<t.plotLow:t.plotHigh>t.plotLow,t.dataLabelUpper=t.dataLabel,t.dataLabel=r[e],t.y=t.low,t.plotY=t._plotY,t.below=!i,u?l||(o.align=i?"left":"right"):d||(o.verticalAlign=i?"bottom":"top"),o.x=o.xLow,o.y=o.yLow);s.drawDataLabels&&s.drawDataLabels.apply(this,arguments)}o.align=l,o.verticalAlign=d},alignDataLabel:function(){h.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:x,getSymbol:x,drawPoints:x}),u.areasplinerange=o(u.arearange),h.areasplinerange=m(h.arearange,{type:"areasplinerange",getPointSpline:h.spline.prototype.getPointSpline}),function(){var e=h.column.prototype;u.columnrange=o(u.column,u.arearange,{lineWidth:1,pointRange:null}),h.columnrange=m(h.arearange,{type:"columnrange",translate:function(){var t,i=this,n=i.yAxis,a=i.xAxis,s=i.chart;e.translate.apply(i),r(i.points,function(e){var r,o,l,d=e.shapeArgs,c=i.options.minPointLength;e.plotHigh=t=n.translate(e.high,0,1,0,1),e.plotLow=e.plotY,l=t,o=e.plotY-t,Math.abs(o)<c?(r=c-o,o+=r,l-=r/2):0>o&&(o*=-1,l-=o),d.height=o,d.y=l,e.tooltipPos=s.inverted?[n.len+n.pos-s.plotLeft-l-o/2,a.len+a.pos-s.plotTop-d.x-d.width/2,o]:[a.left-s.plotLeft+d.x+d.width/2,n.pos-s.plotTop+l+o/2,o]})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:x,crispCol:e.crispCol,pointAttrToOptions:e.pointAttrToOptions,drawPoints:e.drawPoints,drawTracker:e.drawTracker,animate:e.animate,getColumnMetrics:e.getColumnMetrics})}(),u.gauge=o(u.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1});var R=m(v,{setState:function(e){this.state=e}}),N={type:"gauge",pointClass:R,angular:!0,drawGraph:x,fixedBox:!0,forceDL:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var e=this,t=e.yAxis,i=e.options,n=t.center;e.generatePoints(),r(e.points,function(e){var a=o(i.dial,e.dial),r=c(d(a.radius,80))*n[2]/200,s=c(d(a.baseLength,70))*r/100,l=c(d(a.rearLength,10))*r/100,u=a.baseWidth||3,h=a.topWidth||1,m=i.overshoot,p=t.startAngleRad+t.translate(e.y,null,null,null,!0);m&&"number"==typeof m?(m=m/180*Math.PI,p=Math.max(t.startAngleRad-m,Math.min(t.endAngleRad+m,p))):i.wrap===!1&&(p=Math.max(t.startAngleRad,Math.min(t.endAngleRad,p))),p=180*p/Math.PI,e.shapeType="path",e.shapeArgs={d:a.path||["M",-l,-u/2,"L",s,-u/2,r,-h/2,r,h/2,s,u/2,-l,u/2,"z"],translateX:n[0],translateY:n[1],rotation:p},e.plotX=n[0],e.plotY=n[1]})},drawPoints:function(){var e=this,t=e.yAxis.center,i=e.pivot,n=e.options,a=n.pivot,s=e.chart.renderer;r(e.points,function(t){var i=t.graphic,a=t.shapeArgs,r=a.d,l=o(n.dial,t.dial);i?(i.animate(a),a.d=r):t.graphic=s[t.shapeType](a).attr({stroke:l.borderColor||"none","stroke-width":l.borderWidth||0,fill:l.backgroundColor||"black",rotation:a.rotation,zIndex:1}).add(e.group)}),i?i.animate({translateX:t[0],translateY:t[1]}):e.pivot=s.circle(0,0,d(a.radius,5)).attr({"stroke-width":a.borderWidth||0,stroke:a.borderColor||"silver",fill:a.backgroundColor||"black",zIndex:2}).translate(t[0],t[1]).add(e.group)},animate:function(e){var t=this;e||(r(t.points,function(e){var i=e.graphic;i&&(i.attr({rotation:180*t.yAxis.startAngleRad/Math.PI}),i.animate({rotation:e.shapeArgs.rotation},t.options.animation))}),t.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),A.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(e,t){A.prototype.setData.call(this,e,!1),this.processData(),this.generatePoints(),d(t,!0)&&this.chart.redraw()},drawTracker:T&&T.drawTrackerPoint};h.gauge=m(h.line,N),u.boxplot=o(u.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2}),h.boxplot=m(h.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(e){return[e.low,e.q1,e.median,e.q3,e.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:x,translate:function(){var e=this,t=e.yAxis,i=e.pointArrayMap;h.column.prototype.translate.apply(e),r(e.points,function(e){r(i,function(i){null!==e[i]&&(e[i+"Plot"]=t.translate(e[i],0,1,0,1))})})},drawPoints:function(){var e,t,n,a,s,o,l,c,u,h,m,p,f,g,_,v,b,y,T,A,M,C,D,x=this,E=x.points,w=x.options,O=x.chart,I=O.renderer,R=x.doQuartiles!==!1,N=x.options.whiskerLength;r(E,function(r){u=r.graphic,M=r.shapeArgs,m={},g={},v={},C=r.color||x.color,r.plotY!==i&&(e=r.pointAttr[r.selected?"selected":""],b=M.width,y=L(M.x),T=y+b,A=S(b/2),t=L(R?r.q1Plot:r.lowPlot),n=L(R?r.q3Plot:r.lowPlot),a=L(r.highPlot),s=L(r.lowPlot),m.stroke=r.stemColor||w.stemColor||C,m["stroke-width"]=d(r.stemWidth,w.stemWidth,w.lineWidth),m.dashstyle=r.stemDashStyle||w.stemDashStyle,g.stroke=r.whiskerColor||w.whiskerColor||C,g["stroke-width"]=d(r.whiskerWidth,w.whiskerWidth,w.lineWidth),v.stroke=r.medianColor||w.medianColor||C,v["stroke-width"]=d(r.medianWidth,w.medianWidth,w.lineWidth),l=m["stroke-width"]%2/2,c=y+A+l,h=["M",c,n,"L",c,a,"M",c,t,"L",c,s],R&&(l=e["stroke-width"]%2/2,c=L(c)+l,t=L(t)+l,n=L(n)+l,y+=l,T+=l,p=["M",y,n,"L",y,t,"L",T,t,"L",T,n,"L",y,n,"z"]),N&&(l=g["stroke-width"]%2/2,a+=l,s+=l,D=/%$/.test(N)?A*parseFloat(N)/100:N/2,f=["M",c-D,a,"L",c+D,a,"M",c-D,s,"L",c+D,s]),l=v["stroke-width"]%2/2,o=S(r.medianPlot)+l,_=["M",y,o,"L",T,o],u?(r.stem.animate({d:h}),N&&r.whiskers.animate({d:f}),R&&r.box.animate({d:p}),r.medianShape.animate({d:_})):(r.graphic=u=I.g().add(x.group),r.stem=I.path(h).attr(m).add(u),N&&(r.whiskers=I.path(f).attr(g).add(u)),R&&(r.box=I.path(p).attr(e).add(u)),r.medianShape=I.path(_).attr(v).add(u)))})},setStackedPoints:x}),u.errorbar=o(u.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}),h.errorbar=m(h.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(e){return[e.low,e.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:h.arearange?h.arearange.prototype.drawDataLabels:x,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||h.column.prototype.getColumnMetrics.call(this)}}),u.waterfall=o(u.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333",dataLabels:{inside:!0},states:{hover:{lineWidthPlus:0}}}),h.waterfall=m(h.column,{type:"waterfall",upColorProp:"fill",pointValKey:"y",translate:function(){var e,t,i,n,a,r,s,o,l,c,u,m,p=this,f=p.options,g=p.yAxis,_=d(f.minPointLength,5),v=f.threshold,b=f.stacking;for(h.column.prototype.translate.apply(this),p.minPointLengthOffset=0,l=c=v,i=p.points,t=0,e=i.length;e>t;t++)n=i[t],o=this.processedYData[t],a=n.shapeArgs,r=b&&g.stacks[(p.negStacks&&v>o?"-":"")+p.stackKey],u=r?r[n.x].points[p.index+","+t]:[0,o],n.isSum?n.y=o:n.isIntermediateSum&&(n.y=o-c),s=C(l,l+n.y)+u[0],a.y=g.translate(s,0,1),n.isSum?(a.y=g.translate(u[1],0,1),a.height=Math.min(g.translate(u[0],0,1),g.len)-a.y+p.minPointLengthOffset):n.isIntermediateSum?(a.y=g.translate(u[1],0,1),a.height=Math.min(g.translate(c,0,1),g.len)-a.y+p.minPointLengthOffset,c=u[1]):(0!==l&&(a.height=o>0?g.translate(l,0,1)-a.y:g.translate(l,0,1)-g.translate(l-o,0,1)),l+=o),a.height<0&&(a.y+=a.height,a.height*=-1),n.plotY=a.y=S(a.y)-p.borderWidth%2/2,a.height=C(S(a.height),.001),n.yBottom=a.y+a.height,a.height<=_&&(a.height=_,p.minPointLengthOffset+=_),a.y-=p.minPointLengthOffset,m=n.plotY+(n.negative?a.height:0)-p.minPointLengthOffset,p.chart.inverted?n.tooltipPos[0]=g.len-m:n.tooltipPos[1]=m},processData:function(e){var t,i,n,a,r,s,o,l=this,d=l.options,c=l.yData,u=l.options.data,h=c.length,m=d.threshold||0;for(n=i=a=r=m,o=0;h>o;o++)s=c[o],t=u&&u[o]?u[o]:{},"sum"===s||t.isSum?c[o]=n:"intermediateSum"===s||t.isIntermediateSum?c[o]=i:(n+=s,i+=s),a=Math.min(n,a),r=Math.max(n,r);A.prototype.processData.call(this,e),l.dataMin=a,l.dataMax=r},toYData:function(e){return e.isSum?0===e.x?null:"sum":e.isIntermediateSum?0===e.x?null:"intermediateSum":e.y},getAttribs:function(){h.column.prototype.getAttribs.apply(this,arguments);var t=this,i=t.options,n=i.states,a=i.upColor||t.color,s=e.Color(a).brighten(.1).get(),l=o(t.pointAttr),d=t.upColorProp;l[""][d]=a,l.hover[d]=n.hover.upColor||s,l.select[d]=n.select.upColor||a,r(t.points,function(e){e.options.color||(e.y>0?(e.pointAttr=l,e.color=a):e.pointAttr=t.pointAttr)})},getGraphPath:function(){var e,t,i,n,a=this.data,r=a.length,s=this.options.lineWidth+this.borderWidth,o=S(s)%2/2,l=[],d="M",c="L";for(i=1;r>i;i++)t=a[i].shapeArgs,e=a[i-1].shapeArgs,n=[d,e.x+e.width,e.y+o,c,t.x,e.y+o],a[i-1].y<0&&(n[2]+=e.height,n[5]+=e.height),l=l.concat(n);return l},getExtremes:x,drawGraph:A.prototype.drawGraph}),u.polygon=o(u.scatter,{marker:{enabled:!1}}),h.polygon=m(h.scatter,{type:"polygon",fillGraph:!0,getSegmentPath:function(e){return A.prototype.getSegmentPath.call(this,e).concat("z")},drawGraph:A.prototype.drawGraph,drawLegendSymbol:e.LegendSymbolMixin.drawRectangle}),u.bubble=o(u.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});var k=m(v,{haloPath:function(){return v.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)},ttBelow:!1});return h.bubble=m(h.scatter,{type:"bubble",pointClass:k,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,zoneAxis:"z",pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(e){var t=this.options.marker,i=d(t.fillOpacity,.5);return e=e||t.fillColor||this.color,1!==i&&(e=D(e).setOpacity(i).get("rgba")),e},convertAttribs:function(){var e=A.prototype.convertAttribs.apply(this,arguments);return e.fill=this.applyOpacity(e.fill),e},getRadii:function(e,t,i,n){var a,r,s,o,l,d=this.zData,c=[],u=this.options,h="width"!==u.sizeBy,m=u.zThreshold,p=t-e;for(r=0,a=d.length;a>r;r++)o=d[r],u.sizeByAbsoluteValue&&null!==o&&(o=Math.abs(o-m),t=Math.max(t-m,Math.abs(e-m)),e=0),null===o?l=null:e>o?l=i/2-1:(s=p>0?(o-e)/p:.5,h&&s>=0&&(s=Math.sqrt(s)),l=M.ceil(i+s*(n-i))/2),c.push(l);this.radii=c},animate:function(e){var t=this.options.animation;e||(r(this.points,function(e){
var i=e.graphic,n=e.shapeArgs;i&&n&&(i.attr("r",1),i.animate({r:n.r},t))}),this.animate=null)},translate:function(){var e,t,n,a=this.data,r=this.radii;for(h.scatter.prototype.translate.call(this),e=a.length;e--;)t=a[e],n=r?r[e]:0,"number"==typeof n&&n>=this.minPxSize/2?(t.shapeType="circle",t.shapeArgs={x:t.plotX,y:t.plotY,r:n},t.dlBox={x:t.plotX-n,y:t.plotY-n,width:2*n,height:2*n}):t.shapeArgs=t.plotY=t.dlBox=i},drawLegendSymbol:function(e,t){var i=this.chart.renderer,n=c(i.fontMetrics(e.itemStyle.fontSize,t.legendItem).f)/2;t.legendSymbol=i.circle(n,e.baseline-n+1,n).attr({zIndex:3}).add(t.legendGroup),t.legendSymbol.isMarker=!0},drawPoints:h.column.prototype.drawPoints,alignDataLabel:h.column.prototype.alignDataLabel,buildKDTree:x,applyZones:x}),g.prototype.beforePadding=function(){var e=this,t=this.len,s=this.chart,o=0,l=t,u=this.isXAxis,h=u?"xData":"yData",m=this.min,p={},f=M.min(s.plotWidth,s.plotHeight),g=Number.MAX_VALUE,_=-Number.MAX_VALUE,v=this.max-m,b=t/v,y=[];r(this.series,function(t){var i,o=t.options;!t.bubblePadding||!t.visible&&s.options.chart.ignoreHiddenSeries||(e.allowZoomOutside=!0,y.push(t),u&&(r(["minSize","maxSize"],function(e){var t=o[e],i=/%$/.test(t);t=c(t),p[e]=i?f*t/100:t}),t.minPxSize=p.minSize,t.maxPxSize=p.maxSize,i=t.zData,i.length&&(g=d(o.zMin,M.min(g,M.max(n(i),o.displayNegative===!1?o.zThreshold:-Number.MAX_VALUE))),_=d(o.zMax,M.max(_,a(i))))))}),r(y,function(e){var t,i=e[h],n=i.length;if(u&&e.getRadii(g,_,e.minPxSize,e.maxPxSize),v>0)for(;n--;)"number"==typeof i[n]&&(t=e.radii[n],o=Math.min((i[n]-m)*b-t,o),l=Math.max((i[n]-m)*b+t,l))}),y.length&&v>0&&!this.isLog&&(l-=t,b*=(t+o-l)/t,r([["min","userMin",o],["max","userMax",l]],function(t){d(e.options[t[0]],e[t[1]])===i&&(e[t[0]]+=t[2]/b)}))},function(){function e(e,t,i){e.call(this,t,i),this.chart.polar&&(this.closeSegment=function(e){var t=this.xAxis.center;e.push("L",t[0],t[1])},this.closedStacks=!0)}function t(e,t){var i,n=this.chart,a=this.options.animation,r=this.group,s=this.markerGroup,o=this.xAxis.center,l=n.plotLeft,d=n.plotTop;n.polar?n.renderer.isSVG&&(a===!0&&(a={}),t?(i={translateX:o[0]+l,translateY:o[1]+d,scaleX:.001,scaleY:.001},r.attr(i),s&&s.attr(i)):(i={translateX:l,translateY:d,scaleX:1,scaleY:1},r.animate(i,a),s&&s.animate(i,a),this.animate=null)):e.call(this,t)}var i,n=A.prototype,a=b.prototype;n.searchPointByAngle=function(e){var t=this,i=t.chart,n=t.xAxis,a=n.pane.center,r=e.chartX-a[0]-i.plotLeft,s=e.chartY-a[1]-i.plotTop;return this.searchKDTree({clientX:180+Math.atan2(r,s)*(-180/Math.PI)})},f(n,"buildKDTree",function(e){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.kdDimensions=2),e.apply(this)}),n.toXY=function(e){var t,i,n=this.chart,a=e.plotX,r=e.plotY;e.rectPlotX=a,e.rectPlotY=r,t=this.xAxis.postTranslate(e.plotX,this.yAxis.len-r),e.plotX=e.polarPlotX=t.x-n.plotLeft,e.plotY=e.polarPlotY=t.y-n.plotTop,this.kdByAngle?(i=(a/Math.PI*180+this.xAxis.pane.options.startAngle)%360,0>i&&(i+=360),e.clientX=i):e.clientX=e.plotX},h.area&&f(h.area.prototype,"init",e),h.areaspline&&f(h.areaspline.prototype,"init",e),h.spline&&f(h.spline.prototype,"getPointSpline",function(e,t,i,n){var a,r,s,o,l,d,c,u,h,m,p,f,g,_,v,b,y,T,A=1.5,M=A+1;return this.chart.polar?(r=i.plotX,s=i.plotY,o=t[n-1],l=t[n+1],this.connectEnds&&(o||(o=t[t.length-2]),l||(l=t[1])),o&&l&&(d=o.plotX,c=o.plotY,u=l.plotX,h=l.plotY,m=(A*r+d)/M,p=(A*s+c)/M,f=(A*r+u)/M,g=(A*s+h)/M,_=Math.sqrt(Math.pow(m-r,2)+Math.pow(p-s,2)),v=Math.sqrt(Math.pow(f-r,2)+Math.pow(g-s,2)),b=Math.atan2(p-s,m-r),y=Math.atan2(g-s,f-r),T=Math.PI/2+(b+y)/2,Math.abs(b-T)>Math.PI/2&&(T-=Math.PI),m=r+Math.cos(T)*_,p=s+Math.sin(T)*_,f=r+Math.cos(Math.PI+T)*v,g=s+Math.sin(Math.PI+T)*v,i.rightContX=f,i.rightContY=g),n?(a=["C",o.rightContX||o.plotX,o.rightContY||o.plotY,m||r,p||s,r,s],o.rightContX=o.rightContY=null):a=["M",r,s]):a=e.call(this,t,i,n),a}),f(n,"translate",function(e){var t,i,n=this.chart;if(e.call(this),n.polar&&(this.kdByAngle=n.tooltip&&n.tooltip.shared,!this.preventPostTranslate))for(t=this.points,i=t.length;i--;)this.toXY(t[i])}),f(n,"getSegmentPath",function(e,t){var i=this.points;return this.chart.polar&&this.options.connectEnds!==!1&&t[t.length-1]===i[i.length-1]&&null!==i[0].y&&(this.connectEnds=!0,t=[].concat(t,[i[0]])),e.call(this,t)}),f(n,"animate",t),h.column&&(i=h.column.prototype,f(i,"animate",t),f(i,"translate",function(e){var t,i,n,a,r=this.xAxis,s=this.yAxis.len,o=r.center,l=r.startAngleRad,c=this.chart.renderer;if(this.preventPostTranslate=!0,e.call(this),r.isRadial)for(i=this.points,a=i.length;a--;)n=i[a],t=n.barX+l,n.shapeType="path",n.shapeArgs={d:c.symbols.arc(o[0],o[1],s-n.plotY,null,{start:t,end:t+n.pointWidth,innerR:s-d(n.yBottom,s)})},this.toXY(n),n.tooltipPos=[n.plotX,n.plotY],n.ttBelow=n.plotY>o[1]}),f(i,"alignDataLabel",function(e,t,i,a,r,s){if(this.chart.polar){var o,l,d=t.rectPlotX/Math.PI*180;null===a.align&&(o=d>20&&160>d?"left":d>200&&340>d?"right":"center",a.align=o),null===a.verticalAlign&&(l=45>d||d>315?"bottom":d>135&&225>d?"top":"middle",a.verticalAlign=l),n.alignDataLabel.call(this,t,i,a,r,s)}else e.call(this,t,i,a,r,s)})),f(a,"getCoordinates",function(e,t){var i=this.chart,n={xAxis:[],yAxis:[]};return i.polar?r(i.axes,function(e){var a=e.isXAxis,r=e.center,s=t.chartX-r[0]-i.plotLeft,o=t.chartY-r[1]-i.plotTop;n[a?"xAxis":"yAxis"].push({axis:e,value:e.translate(a?Math.PI-Math.atan2(s,o):Math.sqrt(Math.pow(s,2)+Math.pow(o,2)),!0)})}):n=e.call(this,t),n})}(),e},this),function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define("highcharts-heatmap",["highcharts"],e):e(t.Highcharts)}(function(e){function t(e,i){var n,a,r=e&&e.length;return r?(n=["plotX","plotY"][i%2],e.sort(function(e,t){return e[n]-t[n]}),a=Math.floor(r/2),{point:e[a],left:t(e.slice(0,a),i+1),right:t(e.slice(a+1),i+1)}):void 0}function i(e,t,n){var a,r,s,o,l,d=t.point,c=["plotX","plotY"][n%2],u=d;return d.dist=Math.pow(e.plotX-d.plotX,2)+Math.pow(e.plotY-d.plotY,2),a=e[c]-d[c],r=0>a?"left":"right",t[r]&&(o=i(e,t[r],n+1),u=o.dist<u.dist?o:d,s=0>a?"right":"left",t[s]&&Math.abs(a)<u.dist&&(l=i(e,t[s],n+1),u=l.dist<u.dist?l:u)),u}var n,a=e.Axis,r=e.Chart,s=e.Color,o=e.Legend,l=e.LegendSymbolMixin,d=e.Series,c=e.Point,u=e.getOptions(),h=e.each,m=e.extend,p=e.extendClass,f=e.merge,g=e.pick,_=e.seriesTypes,v=e.wrap,b=function(){},y=e.ColorAxis=function(){this.isColorAxis=!0,this.init.apply(this,arguments)};m(y.prototype,a.prototype),m(y.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},color:"gray",width:.01},labels:{overflow:"justify",rotation:0},minColor:"#EFEFFF",maxColor:"#003875",tickLength:5},init:function(e,t){var i,n="vertical"!==e.options.legend.layout;i=f(this.defaultColorAxisOptions,{side:n?2:1,tickPixelInterval:n?100:72,reversed:!n},t,{opposite:!n,showEmpty:!1,title:null,isColor:!0}),a.prototype.init.call(this,e,i),t.dataClasses&&this.initDataClasses(t),this.initStops(t),this.horiz=n,this.zoomEnabled=!1},tweenColors:function(e,t,i){var n,a;return t.rgba.length&&e.rgba.length?(e=e.rgba,t=t.rgba,n=1!==t[3]||1!==e[3],a=(n?"rgba(":"rgb(")+Math.round(t[0]+(e[0]-t[0])*(1-i))+","+Math.round(t[1]+(e[1]-t[1])*(1-i))+","+Math.round(t[2]+(e[2]-t[2])*(1-i))+(n?","+(t[3]+(e[3]-t[3])*(1-i)):"")+")"):a=t.input||"none",a},initDataClasses:function(e){var t,i=this,n=this.chart,a=0,r=this.options,o=e.dataClasses.length;this.dataClasses=t=[],this.legendItems=[],h(e.dataClasses,function(e,l){var d;e=f(e),t.push(e),e.color||("category"===r.dataClassColor?(d=n.options.colors,e.color=d[a++],a===d.length&&(a=0)):e.color=i.tweenColors(s(r.minColor),s(r.maxColor),2>o?.5:l/(o-1)))})},initStops:function(e){this.stops=e.stops||[[0,this.options.minColor],[1,this.options.maxColor]],h(this.stops,function(e){e.color=s(e[1])})},setOptions:function(e){a.prototype.setOptions.call(this,e),this.options.crosshair=this.options.marker,this.coll="colorAxis"},setAxisSize:function(){var e,t,i,n,a=this.legendSymbol,r=this.chart;a&&(this.left=e=a.attr("x"),this.top=t=a.attr("y"),this.width=i=a.attr("width"),this.height=n=a.attr("height"),this.right=r.chartWidth-e-i,this.bottom=r.chartHeight-t-n,this.len=this.horiz?i:n,this.pos=this.horiz?e:t)},toColor:function(e,t){var i,a,r,s,o,l,d=this.stops,c=this.dataClasses;if(c){for(l=c.length;l--;)if(o=c[l],a=o.from,r=o.to,(a===n||e>=a)&&(r===n||r>=e)){s=o.color,t&&(t.dataClass=l);break}}else{for(this.isLog&&(e=this.val2lin(e)),i=1-(this.max-e)/(this.max-this.min||1),l=d.length;l--&&!(i>d[l][0]););a=d[l]||d[l+1],r=d[l+1]||a,i=1-(r[0]-i)/(r[0]-a[0]||1),s=this.tweenColors(a.color,r.color,i)}return s},getOffset:function(){var e=this.legendGroup,t=this.chart.axisOffset[this.side];e&&(this.axisParent=e,a.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=t)},setLegendColor:function(){var e,t=this.horiz,i=this.options,n=this.reversed,a=n?1:0,r=n?0:1;e=t?[a,0,r,0]:[0,r,0,a],this.legendColor={linearGradient:{x1:e[0],y1:e[1],x2:e[2],y2:e[3]},stops:i.stops||[[0,i.minColor],[1,i.maxColor]]}},drawLegendSymbol:function(e,t){var i=e.padding,n=e.options,a=this.horiz,r=g(n.symbolWidth,a?200:12),s=g(n.symbolHeight,a?12:200),o=g(n.labelPadding,a?16:30),l=g(n.itemDistance,10);this.setLegendColor(),t.legendSymbol=this.chart.renderer.rect(0,e.baseline-11,r,s).attr({zIndex:1}).add(t.legendGroup),this.legendItemWidth=r+i+(a?l:o),this.legendItemHeight=s+i+(a?o:0)},setState:b,visible:!0,setVisible:b,getSeriesExtremes:function(){var e;this.series.length&&(e=this.series[0],this.dataMin=e.valueMin,this.dataMax=e.valueMax)},drawCrosshair:function(e,t){var i,n=t&&t.plotX,r=t&&t.plotY,s=this.pos,o=this.len;t&&(i=this.toPixels(t[t.series.colorKey]),s>i?i=s-2:i>s+o&&(i=s+o+2),t.plotX=i,t.plotY=this.len-i,a.prototype.drawCrosshair.call(this,e,t),t.plotX=n,t.plotY=r,this.cross&&this.cross.attr({fill:this.crosshair.color}).add(this.legendGroup))},getPlotLinePath:function(e,t,i,n,r){return"number"==typeof r?this.horiz?["M",r-4,this.top-6,"L",r+4,this.top-6,r,this.top,"Z"]:["M",this.left,r,"L",this.left-6,r+6,this.left-6,r-6,"Z"]:a.prototype.getPlotLinePath.call(this,e,t,i,n)},update:function(e,t){var i=this.chart,n=i.legend;h(this.series,function(e){e.isDirtyData=!0}),e.dataClasses&&n.allItems&&(h(n.allItems,function(e){e.isDataClass&&e.legendGroup.destroy()}),i.isDirtyLegend=!0),i.options[this.coll]=f(this.userOptions,e),a.prototype.update.call(this,e,t),this.legendItem&&(this.setLegendColor(),n.colorizeItem(this,!0))},getDataClassLegendSymbols:function(){var t,i=this,a=this.chart,r=this.legendItems,s=a.options.legend,o=s.valueDecimals,d=s.valueSuffix||"";return r.length||h(this.dataClasses,function(s,c){var u=!0,p=s.from,f=s.to;t="",p===n?t="< ":f===n&&(t="> "),p!==n&&(t+=e.numberFormat(p,o)+d),p!==n&&f!==n&&(t+=" - "),f!==n&&(t+=e.numberFormat(f,o)+d),r.push(m({chart:a,name:t,options:{},drawLegendSymbol:l.drawRectangle,visible:!0,setState:b,isDataClass:!0,setVisible:function(){u=this.visible=!u,h(i.series,function(e){h(e.points,function(e){e.dataClass===c&&e.setVisible(u)})}),a.legend.colorizeItem(this,u)}},s))}),r},name:""}),h(["fill","stroke"],function(t){e.Fx.prototype[t+"Setter"]=function(){this.elem.attr(t,y.prototype.tweenColors(s(this.start),s(this.end),this.pos))}}),v(r.prototype,"getAxes",function(e){var t=this.options,i=t.colorAxis;e.call(this),this.colorAxis=[],i&&new y(this,i)}),v(o.prototype,"getAllItems",function(e){var t=[],i=this.chart.colorAxis[0];return i&&(i.options.dataClasses?t=t.concat(i.getDataClassLegendSymbols()):t.push(i),h(i.series,function(e){e.options.showInLegend=!1})),t.concat(e.call(this))});var T={setVisible:function(e){var t=this,i=e?"show":"hide";h(["graphic","dataLabel"],function(e){t[e]&&t[e][i]()})}},A={pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",dashstyle:"dashStyle"},pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:b,parallelArrays:["x","y","value"],colorKey:"value",translateColors:function(){var e=this,t=this.options.nullColor,i=this.colorAxis,n=this.colorKey;h(this.data,function(a){var r,s=a[n];r=a.options.color||(null===s?t:i&&void 0!==s?i.toColor(s,a):a.color||e.color),r&&(a.color=r)})}};return u.plotOptions.heatmap=f(u.plotOptions.scatter,{animation:!1,borderWidth:0,nullColor:"#F8F8F8",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{halo:!1,brightness:.2}}}),_.heatmap=p(_.scatter,f(A,{type:"heatmap",pointArrayMap:["y","value"],hasPointSpecificOptions:!0,pointClass:p(c,T),supportsDrilldown:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var e;_.scatter.prototype.init.apply(this,arguments),e=this.options,e.pointRange=g(e.pointRange,e.colsize||1),this.yAxis.axisPointRange=e.rowsize||1;var t=jQuery(this.chart.container),i=t.find("#jasper_highcharts_css");if(this.chart.options.chart.isHeatMapTimeSeriesChart){if(0===i.length){var n=jQuery("<style type='text/css'>.highcharts-tooltip>span {background: rgba(255,255,255,0.85);border: 1px solid silver;border-radius: 3px;box-shadow: 1px 1px 2px #888;padding: 8px;z-index: 2;}.highcharts-button>span {background: rgba(255,255,255,0.85);border: 1px solid silver;border-radius: 3px;padding: 5px;z-index: 2;cursor: pointer;}.highcharts-button>span:hover {background: -moz-linear-gradient(top, #ffffff 0%, #aaccff 100%);background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffffff), color-stop(100%,#aaccff));background: -webkit-linear-gradient(top, #ffffff 0%,#aaccff 100%);background: -o-linear-gradient(top, #ffffff 0%,#aaccff 100%);background: -ms-linear-gradient(top, #ffffff 0%,#aaccff 100%);background: linear-gradient(to bottom, #ffffff 0%,#aaccff 100%);filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#aaccff',GradientType=0 );}</style>");n.attr("id","jasper_highcharts_css"),t.append(n)}}else i.length&&i.remove()},translate:function(){var e=this,t=e.options,i=e.xAxis,n=e.yAxis,a=function(e,t,i){return Math.min(Math.max(t,e),i)};e.generatePoints(),h(e.points,function(e){var r=(t.colsize||1)/2,s=(t.rowsize||1)/2,o=a(Math.round(i.len-i.translate(e.x-r,0,1,0,1)),0,i.len),l=a(Math.round(i.len-i.translate(e.x+r,0,1,0,1)),0,i.len),d=a(Math.round(n.translate(e.y-s,0,1,0,1)),0,n.len),c=a(Math.round(n.translate(e.y+s,0,1,0,1)),0,n.len);e.plotX=e.clientX=(o+l)/2,e.plotY=(d+c)/2,e.shapeType="rect",e.shapeArgs={x:Math.min(o,l),y:Math.min(d,c),width:Math.abs(l-o),height:Math.abs(c-d)}}),e.translateColors(),this.chart.hasRendered&&h(e.points,function(e){e.shapeArgs.fill=e.options.color||e.color})},drawPoints:function(){var t;this.chart.renderer.forExport||!this.chart.options.chart.isHeatMapTimeSeriesChart?_.column.prototype.drawPoints.call(this):(t=this.getContext())?(t.canvas.height=this.chart.renderer.plotBox.height,t.canvas.width=this.chart.renderer.plotBox.width,e.each(this.points,function(e){var i,n=e.plotY;void 0===n||isNaN(n)||null===e.y||(i=e.shapeArgs,t.fillStyle=e.pointAttr[""].fill,t.fillRect(i.x,i.y,i.width,i.height))})):this.chart.showLoading("Your browser doesn't support HTML5 canvas, <br>please use a modern browser")},animate:b,getBox:b,drawLegendSymbol:l.drawRectangle,getExtremes:function(){d.prototype.getExtremes.call(this,this.valueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,d.prototype.getExtremes.call(this)},getContext:function(){var e;return this.ctx||(e=document.createElement("canvas"),e.setAttribute("width",this.chart.plotWidth),e.setAttribute("height",this.chart.plotHeight),e.style.position="absolute",e.style.left=this.group.translateX+"px",e.style.top=this.group.translateY+"px",e.style.zIndex=0,e.style.cursor="crosshair",this.chart.container.appendChild(e),e.getContext&&(this.ctx=e.getContext("2d"))),this.ctx},setTooltipPoints:function(){var e=this;this.tree=null,setTimeout(function(){e.tree=t(e.points,0)})},getNearest:function(e){return this.tree?i(e,this.tree,0):void 0}})),e.wrap(e.Pointer.prototype,"runPointActions",function(t,i){var n=this.chart;t.call(this,i),this.chart.options.chart.isHeatMapTimeSeriesChart&&e.each(n.series,function(e){var t;e.getNearest&&(t=e.getNearest({plotX:i.chartX-n.plotLeft,plotY:i.chartY-n.plotTop}),t&&t.onMouseOver(i))})}),e},this),function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define("highcharts-treemap",["highcharts"],e):e(t.Highcharts)}(function(e){var t=e.seriesTypes,i=e.map,n=e.merge,a=e.extend,r=e.extendClass,s=e.getOptions(),o=s.plotOptions,l=function(){},d=e.each,c=e.grep,u=e.pick,h=e.Series,m=e.stableSort,p=e.Color,f=function(e,t,i){var n;i=i||this;for(n in e)e.hasOwnProperty(n)&&t.call(i,e[n],n,e)},g=function(e,t,i,n){return n=n||this,e=e||[],d(e,function(a,r){i=t.call(n,i,a,r,e)}),i},_=function(e,t,i){var n;i=i||this,n=t.call(i,e),n!==!1&&_(n,t,i)};o.treemap=n(o.scatter,{showInLegend:!1,marker:!1,borderColor:"#E0E0E0",borderWidth:1,dataLabels:{enabled:!0,defer:!1,verticalAlign:"middle",formatter:function(){return this.point.name||this.point.id},inside:!0},tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.node.val}</b><br/>"},layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:!1,levelIsConstant:!0,states:{hover:{borderColor:"#A0A0A0",brightness:t.heatmap?0:.1,shadow:!1}},drillUpButton:{position:{align:"right",x:-10,y:10}}});var v={pointAttrToOptions:{},pointArrayMap:["value"],axisTypes:t.heatmap?["xAxis","yAxis","colorAxis"]:["xAxis","yAxis"],optionalAxis:"colorAxis",getSymbol:l,parallelArrays:["x","y","value","colorValue"],colorKey:"colorValue",translateColors:t.heatmap&&t.heatmap.prototype.translateColors};return t.treemap=r(t.scatter,n(v,{type:"treemap",trackerGroups:["group","dataLabelsGroup"],pointClass:r(e.Point,{setVisible:t.pie.prototype.pointClass.prototype.setVisible}),getListOfParents:function(t,i){var n=g(t,function(e,t,i){var n=u(t.parent,"");return void 0===e[n]&&(e[n]=[]),e[n].push(i),e},{});return f(n,function(t,n,a){""!==n&&-1===e.inArray(n,i)&&(d(t,function(e){a[""].push(e)}),delete a[n])}),n},getTree:function(){var e,t=this,n=i(this.data,function(e){return e.id}),a=t.getListOfParents(this.data,n);return t.nodeMap=[],e=t.buildNode("",-1,0,a,null),_(this.nodeMap[this.rootNode],function(e){var i=!1,n=e.parent;return e.visible=!0,(n||""===n)&&(i=t.nodeMap[n]),i}),_(this.nodeMap[this.rootNode].children,function(e){var t=!1;return d(e,function(e){e.visible=!0,e.children.length&&(t=(t||[]).concat(e.children))}),t}),this.setTreeValues(e),e},init:function(e,t){var i=this;h.prototype.init.call(i,e,t),i.options.allowDrillToNode&&i.drillTo()},buildNode:function(e,t,i,n,a){var r,s,o=this,l=[],c=o.points[t];return d(n[e]||[],function(t){s=o.buildNode(o.points[t].id,t,i+1,n,e),l.push(s)}),r={id:e,i:t,children:l,level:i,parent:a,visible:!1},o.nodeMap[r.id]=r,c&&(c.node=r),r},setTreeValues:function(e){var t,i=this,n=i.options,r=0,s=[],o=i.points[e.i];return d(e.children,function(e){e=i.setTreeValues(e),s.push(e),e.ignore?_(e.children,function(e){var t=!1;return d(e,function(e){a(e,{ignore:!0,isLeaf:!1,visible:!1}),e.children.length&&(t=(t||[]).concat(e.children))}),t}):r+=e.val}),m(s,function(e,t){return e.sortIndex-t.sortIndex}),t=u(o&&o.value,r),a(e,{children:s,childrenTotal:r,ignore:!(u(o&&o.visible,!0)&&t>0),isLeaf:e.visible&&!r,levelDynamic:n.levelIsConstant?e.level:e.level-i.nodeMap[i.rootNode].level,name:u(o&&o.name,""),sortIndex:u(o&&o.sortIndex,-t),val:t}),e},calculateChildrenAreas:function(e,t){var i,a=this,r=a.options,s=this.levelMap[e.levelDynamic+1],o=u(a[s&&s.layoutAlgorithm]&&s.layoutAlgorithm,r.layoutAlgorithm),l=r.alternateStartingDirection,h=[];i=c(e.children,function(e){return!e.ignore}),s&&s.layoutStartingDirection&&(t.direction="vertical"===s.layoutStartingDirection?0:1),h=a[o](t,i),d(i,function(e,i){var r=h[i];e.values=n(r,{val:e.childrenTotal,direction:l?1-t.direction:t.direction}),e.pointValues=n(r,{x:r.x/a.axisRatio,width:r.width/a.axisRatio}),e.children.length&&a.calculateChildrenAreas(e,e.values)})},setPointValues:function(){var e=this,t=e.xAxis,i=e.yAxis;d(e.points,function(e){var n,a,r,s,o=e.node,l=o.pointValues;l?(n=Math.round(t.translate(l.x,0,0,0,1)),a=Math.round(t.translate(l.x+l.width,0,0,0,1)),r=Math.round(i.translate(l.y,0,0,0,1)),s=Math.round(i.translate(l.y+l.height,0,0,0,1)),e.shapeType="rect",e.shapeArgs={x:Math.min(n,a),y:Math.min(r,s),width:Math.abs(a-n),height:Math.abs(s-r)},e.plotX=e.shapeArgs.x+e.shapeArgs.width/2,e.plotY=e.shapeArgs.y+e.shapeArgs.height/2):(delete e.plotX,delete e.plotY)})},setColorRecursive:function(e,t){var i,n,a=this;e&&(i=a.points[e.i],n=a.levelMap[e.levelDynamic],t=u(i&&i.options.color,n&&n.color,t),i&&(i.color=t),e.children.length&&d(e.children,function(e){a.setColorRecursive(e,t)}))},algorithmGroup:function(e,t,i,n){this.height=e,this.width=t,this.plot=n,this.direction=i,this.startDirection=i,this.total=0,this.nW=0,this.lW=0,this.nH=0,this.lH=0,this.elArr=[],this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(e,t){return Math.max(e/t,t/e)}},this.addElement=function(e){this.lP.total=this.elArr[this.elArr.length-1],this.total=this.total+e,0===this.direction?(this.lW=this.nW,this.lP.lH=this.lP.total/this.lW,this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH),this.nW=this.total/this.height,this.lP.nH=this.lP.total/this.nW,this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)):(this.lH=this.nH,this.lP.lW=this.lP.total/this.lH,this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH),this.nH=this.total/this.width,this.lP.nW=this.lP.total/this.nH,this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH)),this.elArr.push(e)},this.reset=function(){this.nW=0,this.lW=0,this.elArr=[],this.total=0}},algorithmCalcPoints:function(e,t,i,n){var a,r,s,o,l,c=i.lW,u=i.lH,h=i.plot,m=0,p=i.elArr.length-1;t?(c=i.nW,u=i.nH):l=i.elArr[i.elArr.length-1],d(i.elArr,function(e){(t||p>m)&&(0===i.direction?(a=h.x,r=h.y,s=c,o=e/s):(a=h.x,r=h.y,o=u,s=e/o),n.push({x:a,y:r,width:s,height:o}),0===i.direction?h.y=h.y+o:h.x=h.x+s),m+=1}),i.reset(),0===i.direction?i.width=i.width-c:i.height=i.height-u,h.y=h.parent.y+(h.parent.height-i.height),h.x=h.parent.x+(h.parent.width-i.width),e&&(i.direction=1-i.direction),t||i.addElement(l)},algorithmLowAspectRatio:function(e,t,i){var n,a=[],r=this,s={x:t.x,y:t.y,parent:t},o=t.direction,l=0,c=i.length-1,u=new this.algorithmGroup(t.height,t.width,o,s);return d(i,function(i){n=t.width*t.height*(i.val/t.val),u.addElement(n),u.lP.nR>u.lP.lR&&r.algorithmCalcPoints(e,!1,u,a,s),l===c&&r.algorithmCalcPoints(e,!0,u,a,s),l+=1}),a},algorithmFill:function(e,t,i){var n,a,r,s,o,l=[],c=t.direction,u=t.x,h=t.y,m=t.width,p=t.height;return d(i,function(i){n=t.width*t.height*(i.val/t.val),a=u,r=h,0===c?(o=p,s=n/o,m-=s,u+=s):(s=m,o=n/s,p-=o,h+=o),l.push({x:a,y:r,width:s,height:o}),e&&(c=1-c)}),l},strip:function(e,t){return this.algorithmLowAspectRatio(!1,e,t)},squarified:function(e,t){return this.algorithmLowAspectRatio(!0,e,t)},sliceAndDice:function(e,t){return this.algorithmFill(!0,e,t)},stripes:function(e,t){return this.algorithmFill(!1,e,t)},translate:function(){var e,t,i,a;h.prototype.translate.call(this),this.rootNode=u(this.options.rootId,""),this.levelMap=g(this.options.levels,function(e,t){return e[t.level]=t,e},{}),i=this.tree=this.getTree(),this.axisRatio=this.xAxis.len/this.yAxis.len,this.nodeMap[""].pointValues=e={x:0,y:0,width:100,height:100},this.nodeMap[""].values=t=n(e,{width:e.width*this.axisRatio,direction:"vertical"===this.options.layoutStartingDirection?0:1,val:i.val}),this.calculateChildrenAreas(i,t),this.colorAxis?this.translateColors():this.options.colorByPoint||this.setColorRecursive(this.tree,void 0),a=this.nodeMap[this.rootNode].pointValues,this.xAxis.setExtremes(a.x,a.x+a.width,!1),this.yAxis.setExtremes(a.y,a.y+a.height,!1),this.xAxis.setScale(),this.yAxis.setScale(),this.setPointValues()},drawDataLabels:function(){var e,t,i=this,a=c(i.points,function(e){return e.node.visible});d(a,function(a){t=i.levelMap[a.node.levelDynamic],e={style:{}},a.node.isLeaf||(e.enabled=!1),t&&t.dataLabels&&(e=n(e,t.dataLabels),i._hasPointLabels=!0),a.shapeArgs&&(e.style.width=a.shapeArgs.width),a.dlOptions=n(e,a.options.dataLabels)}),h.prototype.drawDataLabels.call(this)},alignDataLabel:t.column.prototype.alignDataLabel,pointAttribs:function(e,t){var i,n=this.levelMap[e.node.levelDynamic]||{},a=this.options,r=t&&a.states[t]||{};return i={stroke:e.borderColor||n.borderColor||r.borderColor||a.borderColor,"stroke-width":u(e.borderWidth,n.borderWidth,r.borderWidth,a.borderWidth),dashstyle:e.borderDashStyle||n.borderDashStyle||r.borderDashStyle||a.borderDashStyle,fill:e.color||this.color,zIndex:"hover"===t?1:0},e.node.level<=this.nodeMap[this.rootNode].level?(i.fill="none",i["stroke-width"]=0):e.node.isLeaf?t&&(i.fill=p(i.fill).brighten(r.brightness).get()):i.fill=u(a.interactByLeaf,!a.allowDrillToNode)?"none":p(i.fill).setOpacity("hover"===t?.75:.15).get(),i},drawPoints:function(){var e=this,i=c(e.points,function(e){return e.node.visible});d(i,function(t){var i="levelGroup-"+t.node.levelDynamic;e[i]||(e[i]=e.chart.renderer.g(i).attr({zIndex:1e3-t.node.levelDynamic}).add(e.group)),t.group=e[i],t.pointAttr={"":e.pointAttribs(t),hover:e.pointAttribs(t,"hover"),select:{}}}),t.column.prototype.drawPoints.call(this),e.options.allowDrillToNode&&d(i,function(t){var i,n;t.graphic&&(n=t.drillId=e.options.interactByLeaf?e.drillToByLeaf(t):e.drillToByGroup(t),i=n?"pointer":"default",t.graphic.css({cursor:i}))})},drillTo:function(){var t=this;e.addEvent(t,"click",function(e){var i,n=e.point,a=n.drillId;a&&(i=t.nodeMap[t.rootNode].name||t.rootNode,n.setState(""),t.drillToNode(a),t.showDrillUpButton(i))})},drillToByGroup:function(e){var t=this,i=!1;return e.node.level-t.nodeMap[t.rootNode].level!==1||e.node.isLeaf||(i=e.id),i},drillToByLeaf:function(e){var t,i=this,n=!1;if(e.node.parent!==i.rootNode&&e.node.isLeaf)for(t=e.node;!n;)t=i.nodeMap[t.parent],t.parent===i.rootNode&&(n=t.id);return n},drillUp:function(){var e,t,i=null;this.rootNode&&(e=this.nodeMap[this.rootNode],i=null!==e.parent?this.nodeMap[e.parent]:this.nodeMap[""]),null!==i&&(this.drillToNode(i.id),""===i.id?this.drillUpButton=this.drillUpButton.destroy():(t=this.nodeMap[i.parent],this.showDrillUpButton(t.name||t.id)))},drillToNode:function(e){this.options.rootId=e,this.isDirty=!0,this.chart.redraw()},showDrillUpButton:function(t){var i,n,a,r=this,s=r.options.drillUpButton;i=t,i&&" "!==i||(i="< "+e.getOptions().lang.drillUpButton),s.text&&(i=s.text),this.drillUpButton?this.drillUpButton.attr({text:i}).align():(n=s.theme,a=n&&n.states,this.drillUpButton=this.chart.renderer.button(i,null,null,function(){r.drillUp()},n,a&&a.hover,a&&a.select).attr({align:s.position.align,zIndex:9}).add().align(s.position,!1,s.relativeTo||"plotBox"))},buildKDTree:l,drawLegendSymbol:e.LegendSymbolMixin.drawRectangle,getExtremes:function(){h.prototype.getExtremes.call(this,this.colorValueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,h.prototype.getExtremes.call(this)},getExtremesFromAll:!0,bindAxes:function(){var t={endOnTick:!1,gridLineWidth:0,lineWidth:0,min:0,dataMin:0,minPadding:0,max:100,dataMax:100,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]};h.prototype.bindAxes.call(this),e.extend(this.yAxis.options,t),e.extend(this.xAxis.options,t)}})),e},this),function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define("highcharts-solid-gauge",["highcharts"],e):e(t.Highcharts)}(function(e){"use strict";var t,i,n=e.getOptions().plotOptions,a=e.pInt,r=e.pick,s=e.each;return n.solidgauge=e.merge(n.gauge,{colorByPoint:!0}),t={initDataClasses:function(t){var i,n=this,a=this.chart,r=0,o=this.options;this.dataClasses=i=[],s(t.dataClasses,function(s,l){var d;s=e.merge(s),i.push(s),s.color||("category"===o.dataClassColor?(d=a.options.colors,s.color=d[r++],r===d.length&&(r=0)):s.color=n.tweenColors(e.Color(o.minColor),e.Color(o.maxColor),l/(t.dataClasses.length-1)))})},initStops:function(t){this.stops=t.stops||[[0,this.options.minColor],[1,this.options.maxColor]],s(this.stops,function(t){t.color=e.Color(t[1])})},toColor:function(e,t){var n,a,r,s,o,l,d=this.stops,c=this.dataClasses;if(c){for(l=c.length;l--;)if(o=c[l],a=o.from,r=o.to,(a===i||e>=a)&&(r===i||r>=e)){s=o.color,t&&(t.dataClass=l);break}}else{for(this.isLog&&(e=this.val2lin(e)),n=1-(this.max-e)/(this.max-this.min),l=d.length;l--&&!(n>d[l][0]););a=d[l]||d[l+1],r=d[l+1]||a,n=1-(r[0]-n)/(r[0]-a[0]||1),s=this.tweenColors(a.color,r.color,n)}return s},tweenColors:function(e,t,i){var n,a;return t.rgba.length&&e.rgba.length?(e=e.rgba,t=t.rgba,n=1!==t[3]||1!==e[3],a=(n?"rgba(":"rgb(")+Math.round(t[0]+(e[0]-t[0])*(1-i))+","+Math.round(t[1]+(e[1]-t[1])*(1-i))+","+Math.round(t[2]+(e[2]-t[2])*(1-i))+(n?","+(t[3]+(e[3]-t[3])*(1-i)):"")+")"):a=t.input||"none",a}},s(["fill","stroke"],function(i){e.Fx.prototype[i+"Setter"]=function(){this.elem.attr(i,t.tweenColors(e.Color(this.start),e.Color(this.end),this.pos))}}),e.seriesTypes.solidgauge=e.extendClass(e.seriesTypes.gauge,{type:"solidgauge",pointAttrToOptions:{},bindAxes:function(){var i;e.seriesTypes.gauge.prototype.bindAxes.call(this),i=this.yAxis,e.extend(i,t),i.options.dataClasses&&i.initDataClasses(i.options),i.initStops(i.options)},drawPoints:function(){var t=this,i=t.yAxis,n=i.center,s=t.options,o=t.chart.renderer,l=s.overshoot,d=l&&"number"==typeof l?l/180*Math.PI:0;e.each(t.points,function(e){var l,c,u,h,m=e.graphic,p=i.startAngleRad+i.translate(e.y,null,null,null,!0),f=a(r(e.options.radius,s.radius,100))*n[2]/200,g=a(r(e.options.innerRadius,s.innerRadius,60))*n[2]/200,_=i.toColor(e.y,e),v=Math.min(i.startAngleRad,i.endAngleRad),b=Math.max(i.startAngleRad,i.endAngleRad);"none"===_&&(_=e.color||t.color||"none"),"none"!==_&&(e.color=_),p=Math.max(v-d,Math.min(b+d,p)),s.wrap===!1&&(p=Math.max(v,Math.min(b,p))),u=Math.min(p,i.startAngleRad),h=Math.max(p,i.startAngleRad),h-u>2*Math.PI&&(h=u+2*Math.PI),e.shapeArgs=l={x:n[0],y:n[1],r:f,innerR:g,start:u,end:h,fill:_},e.startR=f,m?(c=l.d,m.animate(l),c&&(l.d=c)):e.graphic=o.arc(l).attr({stroke:s.borderColor||"none","stroke-width":s.borderWidth||0,fill:_,"sweep-flag":0}).add(t.group)})},animate:function(t){t||(this.startAngleRad=this.yAxis.startAngleRad,e.seriesTypes.pie.prototype.animate.call(this,t))}}),e},this),function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define("highcharts-3d",["highcharts"],e):e(t.Highcharts)}(function(e){function t(e,t,i){var n,a=t.options.chart.options3d,r=!1;i?(r=t.inverted,n={x:t.plotWidth/2,y:t.plotHeight/2,z:a.depth/2,vd:u(a.depth,1)*u(a.viewDistance,0)}):n={x:t.plotLeft+t.plotWidth/2,y:t.plotTop+t.plotHeight/2,z:a.depth/2,vd:u(a.depth,1)*u(a.viewDistance,0)};var s,l,d,c,h,m,_=[],v=n.x,b=n.y,y=n.z,T=n.vd,A=p*(r?a.beta:-a.beta),M=p*(r?-a.alpha:a.alpha),S=f(A),L=g(A),C=f(M),D=g(M);return o(e,function(e){s=(r?e.y:e.x)-v,l=(r?e.x:e.y)-b,d=(e.z||0)-y,c=L*s-S*d,h=-S*C*s+D*l-L*C*d,m=S*D*s+C*l+L*D*d,T>0&&T<Number.POSITIVE_INFINITY&&(c*=T/(m+y+T),h*=T/(m+y+T)),c+=v,h+=b,m+=y,_.push({x:r?h:c,y:r?c:h,z:m})}),_}function i(e){return void 0!==e&&null!==e}function n(e){var t,i,n=0;for(t=0;t<e.length;t++)i=(t+1)%e.length,n+=e[t].x*e[i].y-e[i].x*e[t].y;return n/2}function a(e){var t,i=0;for(t=0;t<e.length;t++)i+=e[t].z;return e.length?i/e.length:0}function r(e,t,i,n,a,s,o,l){var d=[];if(s>a&&s-a>m/2+1e-4)d=d.concat(r(e,t,i,n,a,a+m/2,o,l)),d=d.concat(r(e,t,i,n,a+m/2,s,o,l));else if(a>s&&a-s>m/2+1e-4)d=d.concat(r(e,t,i,n,a,a-m/2,o,l)),d=d.concat(r(e,t,i,n,a-m/2,s,o,l));else{var c=s-a;d=["C",e+i*g(a)-i*v*c*f(a)+o,t+n*f(a)+n*v*c*g(a)+l,e+i*g(s)+i*v*c*f(s)+o,t+n*f(s)-n*v*c*g(s)+l,e+i*g(s)+o,t+n*f(s)+l];
}return d}function s(t){if(this.chart.is3d()){var n=this.chart.options.plotOptions.column.grouping;void 0===n||n||void 0===this.group.zIndex||this.zIndexSet||(this.group.attr({zIndex:10*this.group.zIndex}),this.zIndexSet=!0);var a=this.options,r=this.options.states;this.borderWidth=a.borderWidth=i(a.edgeWidth)?a.edgeWidth:1,e.each(this.data,function(t){if(null!==t.y){var i=t.pointAttr;this.borderColor=e.pick(a.edgeColor,i[""].fill),i[""].stroke=this.borderColor,i.hover.stroke=e.pick(r.hover.edgeColor,this.borderColor),i.select.stroke=e.pick(r.select.edgeColor,this.borderColor)}})}t.apply(this,[].slice.call(arguments,1))}var o=e.each,l=e.extend,d=e.inArray,c=e.merge,u=e.pick,h=e.wrap,m=Math.PI,p=m/180,f=Math.sin,g=Math.cos,_=Math.round;e.perspective=t;var v=4*(Math.sqrt(2)-1)/3/(m/2);e.SVGRenderer.prototype.toLinePath=function(t,i){var n=[];return e.each(t,function(e){n.push("L",e.x,e.y)}),t.length&&(n[0]="M",i&&n.push("Z")),n},e.SVGRenderer.prototype.cuboid=function(t){var n=this.g(),a=this.cuboidPath(t);return n.front=this.path(a[0]).attr({zIndex:a[3],"stroke-linejoin":"round"}).add(n),n.top=this.path(a[1]).attr({zIndex:a[4],"stroke-linejoin":"round"}).add(n),n.side=this.path(a[2]).attr({zIndex:a[5],"stroke-linejoin":"round"}).add(n),n.fillSetter=function(t){var i=t,n=e.Color(t).brighten(.1).get(),a=e.Color(t).brighten(-.1).get();return this.front.attr({fill:i}),this.top.attr({fill:n}),this.side.attr({fill:a}),this.color=t,this},n.opacitySetter=function(e){return this.front.attr({opacity:e}),this.top.attr({opacity:e}),this.side.attr({opacity:e}),this},n.attr=function(t){if(!t.shapeArgs&&!i(t.x))return e.SVGElement.prototype.attr.call(this,t);var n=t.shapeArgs||t,a=this.renderer.cuboidPath(n);return this.front.attr({d:a[0],zIndex:a[3]}),this.top.attr({d:a[1],zIndex:a[4]}),this.side.attr({d:a[2],zIndex:a[5]}),this},n.animate=function(t,n,a){if(i(t.x)&&i(t.y)){var r=this.renderer.cuboidPath(t);this.front.attr({zIndex:r[3]}).animate({d:r[0]},n,a),this.top.attr({zIndex:r[4]}).animate({d:r[1]},n,a),this.side.attr({zIndex:r[5]}).animate({d:r[2]},n,a),this.attr({zIndex:-r[6]})}else t.opacity?(this.front.animate(t,n,a),this.top.animate(t,n,a),this.side.animate(t,n,a)):e.SVGElement.prototype.animate.call(this,t,n,a);return this},n.destroy=function(){return this.front.destroy(),this.top.destroy(),this.side.destroy(),null},n.attr({zIndex:-a[6]}),n},e.SVGRenderer.prototype.cuboidPath=function(i){function r(e){return p[e]}var s=i.x,o=i.y,l=i.z,d=i.height,c=i.width,u=i.depth,h=e.charts[this.chartIndex],m=e.map,p=[{x:s,y:o,z:l},{x:s+c,y:o,z:l},{x:s+c,y:o+d,z:l},{x:s,y:o+d,z:l},{x:s,y:o+d,z:l+u},{x:s+c,y:o+d,z:l+u},{x:s+c,y:o,z:l+u},{x:s,y:o,z:l+u}];p=t(p,h,i.insidePlotArea);var f=function(e,t){var i=[];return e=m(e,r),t=m(t,r),n(e)<0?i=e:n(t)<0&&(i=t),i},g=[3,2,1,0],_=[7,6,5,4],v=f(g,_),b=[1,6,7,0],y=[4,5,2,3],T=f(b,y),A=[1,2,5,6],M=[0,7,4,3],S=f(A,M);return[this.toLinePath(v,!0),this.toLinePath(T,!0),this.toLinePath(S,!0),a(v),a(T),a(S),9e9*a(m(y,r))]},e.SVGRenderer.prototype.arc3d=function(t){function i(e){var t=!1,i={};for(var n in e)-1!==d(n,r)&&(i[n]=e[n],delete e[n],t=!0);return t?i:!1}var n=this.g(),a=n.renderer,r=["x","y","r","innerR","start","end"];return t=c(t),t.alpha*=p,t.beta*=p,n.top=a.path(),n.side1=a.path(),n.side2=a.path(),n.inn=a.path(),n.out=a.path(),n.onAdd=function(){var e=n.parentGroup;n.top.add(n),n.out.add(e),n.inn.add(e),n.side1.add(e),n.side2.add(e)},n.setPaths=function(e){var t=n.renderer.arc3dPath(e),i=100*t.zTop;n.attribs=e,n.top.attr({d:t.top,zIndex:t.zTop}),n.inn.attr({d:t.inn,zIndex:t.zInn}),n.out.attr({d:t.out,zIndex:t.zOut}),n.side1.attr({d:t.side1,zIndex:t.zSide1}),n.side2.attr({d:t.side2,zIndex:t.zSide2}),n.zIndex=i,n.attr({zIndex:i}),e.center&&(n.top.setRadialReference(e.center),delete e.center)},n.setPaths(t),n.fillSetter=function(t){var i=e.Color(t).brighten(-.1).get();return this.fill=t,this.side1.attr({fill:i}),this.side2.attr({fill:i}),this.inn.attr({fill:i}),this.out.attr({fill:i}),this.top.attr({fill:t}),this},o(["opacity","translateX","translateY","visibility"],function(e){n[e+"Setter"]=function(e,t){n[t]=e,o(["out","inn","side1","side2","top"],function(i){n[i].attr(t,e)})}}),h(n,"attr",function(e,t,a){var r;return"object"==typeof t&&(r=i(t),r&&(l(n.attribs,r),n.setPaths(n.attribs))),e.call(this,t,a)}),h(n,"animate",function(e,t,n,a){var r,s,o=this.attribs;return delete t.center,delete t.z,delete t.depth,delete t.alpha,delete t.beta,n=u(n,this.renderer.globalAnimation),n&&("object"!=typeof n&&(n={}),t=c(t),r=i(t),r&&(s=r,n.step=function(e,t){function i(e){return o[e]+(u(s[e],o[e])-o[e])*t.pos}t.elem.setPaths(c(o,{x:i("x"),y:i("y"),r:i("r"),innerR:i("innerR"),start:i("start"),end:i("end")}))})),e.call(this,t,n,a)}),n.destroy=function(){this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),e.SVGElement.prototype.destroy.call(this)},n.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},n.show=function(){this.top.show(),this.out.show(),this.inn.show(),this.side1.show(),this.side2.show()},n},e.SVGRenderer.prototype.arc3dPath=function(e){function t(e){return e%=2*m,e>m&&(e=2*m-e),e}var i=e.x,n=e.y,a=e.start,s=e.end-1e-5,o=e.r,l=e.innerR,d=e.depth,c=e.alpha,u=e.beta,h=g(a),p=f(a),_=g(s),v=f(s),b=o*g(u),y=o*g(c),T=l*g(u),A=l*g(c),M=d*f(u),S=d*f(c),L=["M",i+b*h,n+y*p];L=L.concat(r(i,n,b,y,a,s,0,0)),L=L.concat(["L",i+T*_,n+A*v]),L=L.concat(r(i,n,T,A,s,a,0,0)),L=L.concat(["Z"]);var C=u>0?m/2:0,D=c>0?0:m/2,x=a>-C?a:s>-C?-C:a,E=m-D>s?s:m-D>a?m-D:s,w=2*m-D,O=["M",i+b*g(x),n+y*f(x)];O=O.concat(r(i,n,b,y,x,E,0,0)),s>w&&w>a?(O=O.concat(["L",i+b*g(E)+M,n+y*f(E)+S]),O=O.concat(r(i,n,b,y,E,w,M,S)),O=O.concat(["L",i+b*g(w),n+y*f(w)]),O=O.concat(r(i,n,b,y,w,s,0,0)),O=O.concat(["L",i+b*g(s)+M,n+y*f(s)+S]),O=O.concat(r(i,n,b,y,s,w,M,S)),O=O.concat(["L",i+b*g(w),n+y*f(w)]),O=O.concat(r(i,n,b,y,w,E,0,0))):s>m-D&&m-D>a&&(O=O.concat(["L",i+b*g(E)+M,n+y*f(E)+S]),O=O.concat(r(i,n,b,y,E,s,M,S)),O=O.concat(["L",i+b*g(s),n+y*f(s)]),O=O.concat(r(i,n,b,y,s,E,0,0))),O=O.concat(["L",i+b*g(E)+M,n+y*f(E)+S]),O=O.concat(r(i,n,b,y,E,x,M,S)),O=O.concat(["Z"]);var I=["M",i+T*h,n+A*p];I=I.concat(r(i,n,T,A,a,s,0,0)),I=I.concat(["L",i+T*g(s)+M,n+A*f(s)+S]),I=I.concat(r(i,n,T,A,s,a,M,S)),I=I.concat(["Z"]);var R=["M",i+b*h,n+y*p,"L",i+b*h+M,n+y*p+S,"L",i+T*h+M,n+A*p+S,"L",i+T*h,n+A*p,"Z"],N=["M",i+b*_,n+y*v,"L",i+b*_+M,n+y*v+S,"L",i+T*_+M,n+A*v+S,"L",i+T*_,n+A*v,"Z"],k=Math.atan2(S,-M),H=Math.abs(s+k),P=Math.abs(a+k),F=Math.abs((a+s)/2+k);H=t(H),P=t(P),F=t(F);var Y=1e5,j=F*Y,B=P*Y,V=H*Y;return{top:L,zTop:m*Y+1,out:O,zOut:Math.max(j,B,V),inn:I,zInn:Math.max(j,B,V),side1:R,zSide1:.99*V,side2:N,zSide2:.99*B}},e.Chart.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled},e.wrap(e.Chart.prototype,"isInsidePlot",function(e){return this.is3d()||e.apply(this,[].slice.call(arguments,1))});var b=e.getOptions();b.chart.options3d={enabled:!1,alpha:0,beta:0,depth:100,viewDistance:25,frame:{bottom:{size:1,color:"rgba(255,255,255,0)"},side:{size:1,color:"rgba(255,255,255,0)"},back:{size:1,color:"rgba(255,255,255,0)"}}},e.wrap(e.Chart.prototype,"init",function(t){var i,n,a=[].slice.call(arguments,1);a[0].chart&&a[0].chart.options3d&&a[0].chart.options3d.enabled&&(a[0].chart.options3d.alpha=(a[0].chart.options3d.alpha||0)%360,a[0].chart.options3d.beta=(a[0].chart.options3d.beta||0)%360,i=a[0].plotOptions||{},n=i.pie||{},n.borderColor=e.pick(n.borderColor,void 0)),t.apply(this,a)}),e.wrap(e.Chart.prototype,"setChartSize",function(e){if(e.apply(this,[].slice.call(arguments,1)),this.is3d()){var t=this.inverted,i=this.clipBox,n=this.margin,a=t?"y":"x",r=t?"x":"y",s=t?"height":"width",o=t?"width":"height";i[a]=-(n[3]||0),i[r]=-(n[0]||0),i[s]=this.chartWidth+(n[3]||0)+(n[1]||0),i[o]=this.chartHeight+(n[0]||0)+(n[2]||0)}}),e.wrap(e.Chart.prototype,"redraw",function(e){this.is3d()&&(this.isDirtyBox=!0),e.apply(this,[].slice.call(arguments,1))}),e.wrap(e.Chart.prototype,"renderSeries",function(e){var t,i=this.series.length;if(this.is3d())for(;i--;)t=this.series[i],t.translate(),t.render();else e.call(this)}),e.Chart.prototype.retrieveStacks=function(t){var i,n=this.series,a={},r=1;return e.each(this.series,function(e){i=u(e.options.stack,t?0:n.length-1-e.index),a[i]?a[i].series.push(e):(a[i]={series:[e],position:r},r++)}),a.totalStacks=r+1,a},e.wrap(e.Axis.prototype,"setOptions",function(t,i){var n;t.call(this,i),this.chart.is3d()&&(n=this.options,n.tickWidth=e.pick(n.tickWidth,0),n.gridLineWidth=e.pick(n.gridLineWidth,1))}),e.wrap(e.Axis.prototype,"render",function(e){if(e.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var t=this.chart,i=t.renderer,n=t.options.chart.options3d,a=n.frame,r=a.bottom,s=a.back,o=a.side,l=n.depth,d=this.height,c=this.width,u=this.left,h=this.top;if(!this.isZAxis)if(this.horiz){var m={x:u,y:h+(t.xAxis[0].opposite?-r.size:d),z:0,width:c,height:r.size,depth:l,insidePlotArea:!1};this.bottomFrame?this.bottomFrame.animate(m):this.bottomFrame=i.cuboid(m).attr({fill:r.color,zIndex:t.yAxis[0].reversed&&n.alpha>0?4:-1}).css({stroke:r.color}).add()}else{var p={x:u+(t.yAxis[0].opposite?0:-o.size),y:h+(t.xAxis[0].opposite?-r.size:0),z:l,width:c+o.size,height:d+r.size,depth:s.size,insidePlotArea:!1};this.backFrame?this.backFrame.animate(p):this.backFrame=i.cuboid(p).attr({fill:s.color,zIndex:-3}).css({stroke:s.color}).add();var f={x:u+(t.yAxis[0].opposite?c:-o.size),y:h+(t.xAxis[0].opposite?-r.size:0),z:0,width:o.size,height:d+r.size,depth:l,insidePlotArea:!1};this.sideFrame?this.sideFrame.animate(f):this.sideFrame=i.cuboid(f).attr({fill:o.color,zIndex:-2}).css({stroke:o.color}).add()}}}),e.wrap(e.Axis.prototype,"getPlotLinePath",function(e){var i=e.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d())return i;if(null===i)return i;var n=this.chart,a=n.options.chart.options3d,r=this.isZAxis?n.plotWidth:a.depth,s=this.opposite;this.horiz&&(s=!s);var o=[this.swapZ({x:i[1],y:i[2],z:s?r:0}),this.swapZ({x:i[1],y:i[2],z:r}),this.swapZ({x:i[4],y:i[5],z:r}),this.swapZ({x:i[4],y:i[5],z:s?0:r})];return o=t(o,this.chart,!1),i=this.chart.renderer.toLinePath(o,!1)}),e.wrap(e.Axis.prototype,"getLinePath",function(e){return this.chart.is3d()?[]:e.apply(this,[].slice.call(arguments,1))}),e.wrap(e.Axis.prototype,"getPlotBandPath",function(e){if(!this.chart.is3d())return e.apply(this,[].slice.call(arguments,1));var t=arguments,i=t[1],n=t[2],a=this.getPlotLinePath(n),r=this.getPlotLinePath(i);return r&&a?r.push("L",a[10],a[11],"L",a[7],a[8],"L",a[4],a[5],"L",a[1],a[2]):r=null,r}),e.wrap(e.Tick.prototype,"getMarkPath",function(e){var i=e.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d())return i;var n=[this.axis.swapZ({x:i[1],y:i[2],z:0}),this.axis.swapZ({x:i[4],y:i[5],z:0})];return n=t(n,this.axis.chart,!1),i=["M",n[0].x,n[0].y,"L",n[1].x,n[1].y]}),e.wrap(e.Tick.prototype,"getLabelPosition",function(e){var i=e.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d())return i;var n=t([this.axis.swapZ({x:i.x,y:i.y,z:0})],this.axis.chart,!1)[0];return n.x=n.x-(!this.axis.horiz&&this.axis.opposite?this.axis.transA:0),n.old=i,n}),e.wrap(e.Tick.prototype,"handleOverflow",function(e,t){return this.axis.chart.is3d()&&(t=t.old),e.call(this,t)}),e.wrap(e.Axis.prototype,"getTitlePosition",function(e){var i,n,a=this.chart.is3d();return a&&(n=this.axisTitleMargin,this.axisTitleMargin=0),i=e.apply(this,[].slice.call(arguments,1)),a&&(i=t([this.swapZ({x:i.x,y:i.y,z:0})],this.chart,!1)[0],i[this.horiz?"y":"x"]+=(this.horiz?1:-1)*(this.opposite?-1:1)*n,this.axisTitleMargin=n),i}),e.wrap(e.Axis.prototype,"drawCrosshair",function(e){var t=arguments;this.chart.is3d()&&t[2]&&(t[2]={plotX:t[2].plotXold||t[2].plotX,plotY:t[2].plotYold||t[2].plotY}),e.apply(this,[].slice.call(t,1))}),e.Axis.prototype.swapZ=function(e,t){if(this.isZAxis){var i=t?0:this.chart.plotLeft,n=this.chart;return{x:i+(n.yAxis[0].opposite?e.z:n.xAxis[0].width-e.z),y:e.y,z:e.x-i}}return e};var y=e.ZAxis=function(){this.isZAxis=!0,this.init.apply(this,arguments)};return e.extend(y.prototype,e.Axis.prototype),e.extend(y.prototype,{setOptions:function(t){t=e.merge({offset:0,lineWidth:0},t),e.Axis.prototype.setOptions.call(this,t),this.coll="zAxis"},setAxisSize:function(){e.Axis.prototype.setAxisSize.call(this),this.width=this.len=this.chart.options.chart.options3d.depth,this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var t=this,i=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.ignoreMinPadding=t.ignoreMaxPadding=null,t.buildStacks&&t.buildStacks(),e.each(t.series,function(e){if(e.visible||!i.options.chart.ignoreHiddenSeries){var n,a=e.options,r=a.threshold;t.hasVisibleSeries=!0,t.isLog&&0>=r&&(r=null),n=e.zData,n.length&&(t.dataMin=Math.min(u(t.dataMin,n[0]),Math.min.apply(null,n)),t.dataMax=Math.max(u(t.dataMax,n[0]),Math.max.apply(null,n)))}})}}),e.wrap(e.Chart.prototype,"getAxes",function(t){var i=this,n=this.options,a=n.zAxis=e.splat(n.zAxis||{});t.call(this),i.is3d()&&(this.zAxis=[],e.each(a,function(e,t){e.index=t,e.isX=!0;var n=new y(i,e);n.setScale()}))}),e.wrap(e.seriesTypes.column.prototype,"translate",function(i){if(i.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var n=this,a=n.chart,r=n.options,s=r.depth||25,o=r.stacking?r.stack||0:n._i,l=o*(s+(r.groupZPadding||1));r.grouping!==!1&&(l=0),l+=r.groupZPadding||1,e.each(n.data,function(e){if(null!==e.y){var i=e.shapeArgs,n=e.tooltipPos;e.shapeType="cuboid",i.z=l,i.depth=s,i.insidePlotArea=!0,n=t([{x:n[0],y:n[1],z:l}],a,!1)[0],e.tooltipPos=[n.x,n.y]}}),n.z=l}}),e.wrap(e.seriesTypes.column.prototype,"animate",function(t){if(this.chart.is3d()){var i=arguments,n=i[1],a=this.yAxis,r=this,s=this.yAxis.reversed;e.svg&&(n?e.each(r.data,function(e){null!==e.y&&(e.height=e.shapeArgs.height,e.shapey=e.shapeArgs.y,e.shapeArgs.height=1,s||(e.stackY?e.shapeArgs.y=e.plotY+a.translate(e.stackY):e.shapeArgs.y=e.plotY+(e.negative?-e.height:e.height)))}):(e.each(r.data,function(e){null!==e.y&&(e.shapeArgs.height=e.height,e.shapeArgs.y=e.shapey,e.graphic&&e.graphic.animate(e.shapeArgs,r.options.animation))}),this.drawDataLabels(),r.animate=null))}else t.apply(this,[].slice.call(arguments,1))}),e.wrap(e.seriesTypes.column.prototype,"init",function(e){if(e.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var t=this.options,i=t.grouping,n=t.stacking,a=u(this.yAxis.options.reversedStacks,!0),r=0;if(void 0===i||i){var s,o=this.chart.retrieveStacks(n),l=t.stack||0;for(s=0;s<o[l].series.length&&o[l].series[s]!==this;s++);r=10*(o.totalStacks-o[l].position)+(a?s:-s),this.xAxis.reversed||(r=10*o.totalStacks-r)}t.zIndex=r}}),e.wrap(e.Series.prototype,"alignDataLabel",function(e){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var i=this,n=i.chart,a=arguments,r=a[4],s={x:r.x,y:r.y,z:i.z};s=t([s],n,!0)[0],r.x=s.x,r.y=s.y}e.apply(this,[].slice.call(arguments,1))}),e.seriesTypes.columnrange&&e.wrap(e.seriesTypes.columnrange.prototype,"drawPoints",s),e.wrap(e.seriesTypes.column.prototype,"drawPoints",s),e.wrap(e.seriesTypes.pie.prototype,"translate",function(e){if(e.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var t=this,i=t.chart,n=i.options,a=t.options,r=a.depth||0,s=n.chart.options3d,l=s.alpha,d=s.beta,c=a.stacking?(a.stack||0)*r:t._i*r;c+=r/2,a.grouping!==!1&&(c=0),o(t.data,function(e){var i,n=e.shapeArgs;e.shapeType="arc3d",n.z=c,n.depth=.75*r,n.alpha=l,n.beta=d,n.center=t.center,i=(n.end+n.start)/2,e.slicedTranslation={translateX:_(g(i)*a.slicedOffset*g(l*p)),translateY:_(f(i)*a.slicedOffset*g(l*p))}})}}),e.wrap(e.seriesTypes.pie.prototype.pointClass.prototype,"haloPath",function(e){var t=arguments;return this.series.chart.is3d()?[]:e.call(this,t[1])}),e.wrap(e.seriesTypes.pie.prototype,"drawPoints",function(t){var i=this.options,n=i.states;this.chart.is3d()&&(this.borderWidth=i.borderWidth=i.edgeWidth||1,this.borderColor=i.edgeColor=e.pick(i.edgeColor,i.borderColor,void 0),n.hover.borderColor=e.pick(n.hover.edgeColor,this.borderColor),n.hover.borderWidth=e.pick(n.hover.edgeWidth,this.borderWidth),n.select.borderColor=e.pick(n.select.edgeColor,this.borderColor),n.select.borderWidth=e.pick(n.select.edgeWidth,this.borderWidth),o(this.data,function(e){var t=e.pointAttr;t[""].stroke=e.series.borderColor||e.color,t[""]["stroke-width"]=e.series.borderWidth,t.hover.stroke=n.hover.borderColor,t.hover["stroke-width"]=n.hover.borderWidth,t.select.stroke=n.select.borderColor,t.select["stroke-width"]=n.select.borderWidth})),t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&o(this.points,function(e){var t=e.graphic;t&&t[e.y?"show":"hide"]()})}),e.wrap(e.seriesTypes.pie.prototype,"drawDataLabels",function(e){if(this.chart.is3d()){var t=this,i=t.chart,n=i.options.chart.options3d;o(t.data,function(e){var t=e.shapeArgs,i=t.r,a=(t.alpha||n.alpha)*p,r=(t.beta||n.beta)*p,s=(t.start+t.end)/2,l=e.labelPos,d=[0,2,4],c=-i*(1-g(a))*f(s),u=i*(g(r)-1)*g(s);o(d,function(e){l[e]+=u,l[e+1]+=c})})}e.apply(this,[].slice.call(arguments,1))}),e.wrap(e.seriesTypes.pie.prototype,"addPoint",function(e){e.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.update(this.userOptions,!0)}),e.wrap(e.seriesTypes.pie.prototype,"animate",function(t){if(this.chart.is3d()){var i,n=arguments,a=n[1],r=this.options.animation,s=this.center,o=this.group,l=this.markerGroup;e.svg&&(r===!0&&(r={}),a?(o.oldtranslateX=o.translateX,o.oldtranslateY=o.translateY,i={translateX:s[0],translateY:s[1],scaleX:.001,scaleY:.001},o.attr(i),l&&(l.attrSetters=o.attrSetters,l.attr(i))):(i={translateX:o.oldtranslateX,translateY:o.oldtranslateY,scaleX:1,scaleY:1},o.animate(i,r),l&&l.animate(i,r),this.animate=null))}else t.apply(this,[].slice.call(arguments,1))}),e.wrap(e.seriesTypes.scatter.prototype,"translate",function(i){if(i.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var n,a,r,s,o,l=this,d=l.chart,c=e.pick(l.zAxis,d.options.zAxis[0]),u=[];for(o=0;o<l.data.length;o++)n=l.data[o],s=c.isLog&&c.val2lin?c.val2lin(n.z):n.z,n.plotZ=c.translate(s),n.isInside=n.isInside?s>=c.min&&s<=c.max:!1,u.push({x:n.plotX,y:n.plotY,z:n.plotZ});for(a=t(u,d,!0),o=0;o<l.data.length;o++)n=l.data[o],r=a[o],n.plotXold=n.plotX,n.plotYold=n.plotY,n.plotX=r.x,n.plotY=r.y,n.plotZ=r.z}}),e.wrap(e.seriesTypes.scatter.prototype,"init",function(e,t,i){t.is3d()&&(this.axisTypes=["xAxis","yAxis","zAxis"],this.pointArrayMap=["x","y","z"],this.parallelArrays=["x","y","z"]);var n=e.apply(this,[t,i]);if(this.chart.is3d()){var a="x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>";this.userOptions.tooltip?this.tooltipOptions.pointFormat=this.userOptions.tooltip.pointFormat||a:this.tooltipOptions.pointFormat=a}return n}),e.VMLRenderer&&(e.setOptions({animate:!1}),e.VMLRenderer.prototype.cuboid=e.SVGRenderer.prototype.cuboid,e.VMLRenderer.prototype.cuboidPath=e.SVGRenderer.prototype.cuboidPath,e.VMLRenderer.prototype.toLinePath=e.SVGRenderer.prototype.toLinePath,e.VMLRenderer.prototype.createElement3D=e.SVGRenderer.prototype.createElement3D,e.VMLRenderer.prototype.arc3d=function(t){var i=e.SVGRenderer.prototype.arc3d.call(this,t);return i.css({zIndex:i.zIndex}),i},e.VMLRenderer.prototype.arc3dPath=e.SVGRenderer.prototype.arc3dPath,e.wrap(e.Axis.prototype,"render",function(e){e.apply(this,[].slice.call(arguments,1)),this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color})),this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color})),this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))})),e},this),function(e){"use strict";"function"==typeof define&&define.amd?define("adhoc/api/chart/adhocToHighchartsAdapter/Highcharts",["highcharts","highcharts-grouped-categories","adhoc/api/chart/adhocToHighchartsAdapter/ext/multiplePieTitlesExt","adhoc/api/chart/adhocToHighchartsAdapter/ext/escapeUtilsExt","highcharts-more","highcharts-heatmap","highcharts-treemap","highcharts-solid-gauge","highcharts-3d"],e):e(Highcharts)}(function(e){"use strict";return e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("adhoc/api/chart/adhocToHighchartsAdapter/adhocDataProcessor",["underscore","xssUtil"],e):t.AdhocDataProcessor=e(_,xssUtil)}(function(e,t){"use strict";var i={debug:!1,fn:{getMessage:function(e){return this.messages?this.messages[e]:e},load:function(e){var t=i;t.data=e.data,t.metadata=e.metadata,t.treeNodeAxes=e.treeNodes,t.fn.load_common(),i.debug&&(console.info("Data Processor State:"),console.info(t))},load_common:function(){var e=i;if(e.measureAxis=e.metadata.measureAxis,e.nonMeasureAxis=0===e.measureAxis?1:0,e.metadata.axes.length&&(e.measureLevelNumber=e.fn.getMeasureLevelNumber.call(e),e.metadata.isOLAP&&(e.measureDimensionNumber=0,e.dimensionMappings=[],e.dimensionAllMappings=new Array(2),e.dimensionLevels=new Array(2),e.rowDimensionMapping=e.fn.dimensionMapping(0),e.dimensionMappings.push(e.rowDimensionMapping),e.colDimensionMapping=e.fn.dimensionMapping(1),e.dimensionMappings.push(e.colDimensionMapping)),e.lastRowNonMeasureLevel=0,e.lastColumnNonMeasureLevel=0,e.rowSliderLevelCount=e.metadata.axes[0].length+1-(0===e.metadata.measureAxis?1:0),e.colSliderLevelCount=e.metadata.axes[1].length+1-(1===e.metadata.measureAxis?1:0),e.rowGroupMapping=e.fn.groupMapping.call(e,0),e.colGroupMapping=e.fn.groupMapping.call(e,1)),e.treeNodeAxes.length&&(e.fn.createTreeNodeStructure.call(e,e.treeNodeAxes[0]),e.fn.createTreeNodeStructure.call(e,e.treeNodeAxes[1])),e.data.length){if("undefined"==typeof e.measureAxis)throw"AdhocDataProcessor.load_common  missing measureAxis metadata !";if(e.measureAxis>1)throw"AdhocDataProcessor.load_common  measureAxis > 1 !";if(e.measureAxis<0)throw"AdhocDataProcessor.load_common  measureAxis < 0 !";if("undefined"==typeof e.measureLevelNumber)throw"AdhocDataProcessor.load_common  measureLevelNumber undetermined !";if(e.measureLevelNumber<=0)throw"AdhocDataProcessor.load_common  measureLevelNumber <= 0 !"}},getOLAPDimensionInfo:function(){for(var e=i,t=new Array(2),n=0;2>n;n++){var a=[],r=e.dimensionMappings[n],s=e.measureAxis===n;if(r.length<=0);else for(var o=e.dimensionAllMappings[n],l=0;l<r.length;l++){var d=r[l];if(!(s&&d.length>0&&"Measures"===d[0].dimension)){var c=!1;o[l]===!0&&(c=!0);var u={};u.levels=[];var h=0;c&&u.levels.push({label:"(All)",levelName:"(All)",levelNumber:h}),h=1;for(var m=0;m<d.length;m++){var p=d[m];u.dimension=p.dimension,p.name&&"(All)"===p.name||(u.levels.push({label:p.label,levelName:p.name,levelNumber:h}),h++)}a.push(u)}}t[n]=a}return i.debug&&(console.log("AdhocDataProcessor.getOLAPDimensionInfo: 4098h  olapAxes"),console.log(t)),t},getMeasureLevelNumber:function(e){e||(e=this.metadata);for(var t=e.axes[e.measureAxis],i=0;i<t.length;i++)if("Measures"==t[i].dimension)return i+1},groupMapping:function(e){var t,n=i,a=[0],r=1,s=n.metadata.axes[e];for(t=0;t<s.length;t++)"Measures"!=s[t].dimension&&(a[r++]=t+1);return a},dimensionMapping:function(e){var t=i;if(!t.metadata.isOLAP)return null;var n=t.metadata.axes[e],a=1,r=[],s=[];if(t.metadata.axes[e].length<=0)return r;var o=0,l=!1,d=n[0].dimension,c=d;d||alert("dataprocessor.js  ERROR ! 0983jhrn   null dimension in axis "+e);for(var u=[],h=[],m=[],p=a,f=0;f<n.length;f++)if(c=n[f].dimension,"Measures"===c&&(t.measureDimensionNumber=o,t.measureLevelNumber=a),c!==d&&(l?s.push(!0):s.push(!1),m.push({dimension:d,startLevel:p,endLevel:a-1}),r.push(u),o++,u=[],l=!1,d=c,p=a),"(All)"!==n[f].label&&"(ALL)"!==n[f].label||(l=!0,!(f<n.length-1&&c===n[f+1].dimension))){var g={dimension:n[f].dimension,label:n[f].label,name:n[f].name,levelNumber:a};u.push(g),h.push(g),a++}return l?s.push(!0):s.push(!1),r.push(u),m.push({dimension:c,startLevel:p,endLevel:a-1}),t.metadata.axes[e]=h,t.dimensionAllMappings[e]=s,t.dimensionLevels[e]=m,i.debug&&(console.log("AdhocDataProcessor.dimensionMapping:49e8h  dimensions for axis "+e),console.log(r)),r},createTreeNodeStructure:function(e){var t=e;t.parent=null,t.children?this.fn.connectParentNode.call(this,t,t.children):t.children=[]},connectParentNode:function(e,t){var i,n;for(i=0;i<t.length;i++)if(n=t[i],n.parent=e,n.children){var a=n.children;a.length&&this.fn.connectParentNode.call(this,n,a)}else n.children=[]},getDataStyle:function(){var e=i;return 0===e.metadata.axes[e.nonMeasureAxis].length?0:e.metadata.axes[e.nonMeasureAxis].length>0&&e.metadata.axes[e.measureAxis].length>1?2:1},getNodeListForSliderLevel:function(e,t){var n=i,a=n.metadata.axes[e].length,r=[];r.push({startLevel:0,endLevel:t,leafLevel:a});var s=n.fn.getNodeListForDimLevels(e,r);return i.debug&&(console.log("AdhocDataProcessor.getNodeListForSliderLevel: 4088h  nodeList for axisIndex="+e+" sliderLevel="+t),console.log(s)),s},getNodeListForDimLevelRadio:function(e,t){var n=i;if(!n.metadata.isOLAP)throw"dataprocessor.getNodeListForDimLevelRadio called RadioButton method for non-OLAP query !";if(null===t)throw"dataprocessor.getNodeListForDimLevelRadio.js  y5g59i8y  NULL radioLevel input !";var a=n.dimensionMappings[e];if(!a)throw"dataprocessor.getNodeListForDimLevelRadio.js 0oi098  no dimensionMappings for axis "+e;if(a.length<=0)return n.fn.getEmptyAxisResult();if(t.length>a.length)throw"dataprocessor.getNodeListForDimLevelRadio.js  98hu for axis: "+e+", number of input dimensionss from radio buttons: "+t.length+", exceeds the number of dimensions in the chart data: "+a.length;if(t.length+(e==n.metadata.measureAxis?1:0)<a.length){i.debug&&console.log("AdhocDataProcessor.getNodeListForDimLevelRadio.js need to add  Radio Dimensions padding");for(var r=t.length,s=r;s<a.length;s++){var o=a[s];"Measures"!==o.dimension&&t.push({level:o.length})}}var l=[],d=(n.metadata.axes[e],a.length,0),c=0,u=!1,h=a[0],m="Measures"===h[0].dimension,p=0;if(m&&(p=1),m&&0===t.length)l.push({startLevel:0,endLevel:1,leafLevel:1});else for(var f=0;f<t.length;f++){var o=a[f+p];if(null===o)throw"dataprocessor.getNodeListForDimLevelRadio.js 98hn8 metadata  no dimension for number "+f;if(d++,n.metadata.measureAxis===e&&0>=p){if(f+2>a.length)throw"dataprocessor.getNodeListForDimLevelRadio.js  43098h  we were expecting dimensions to be at least "+(f+2)+" in length, instead it is "+a.length;var g=a[f+1];"Measures"===g[0].dimension&&(u=!0,p=1)}var _=o.length,v=c,b=c+t[f].level,y=c+_;(m||u)&&((b===y||m)&&b++,y++,m=!1,u=!1),l.push({startLevel:v,endLevel:b,leafLevel:y}),c=y}var T=n.fn.getNodeListForDimLevels(e,l);return i.debug&&(console.log("AdhocDataProcessor.getNodeListForDimLevelRadio: 39uh  nodeList for axis="+e+" radioDims, dimLevels "),console.log(t),console.log(l),console.log(T)),T},getNodeListForDimLevels:function(e,t){var n=i;if(0===n.metadata.axes[0].length&&0===n.metadata.axes[1].length)return null;var a=n.metadata.axes[e].length;if(a>0){var r=n.fn.getNodeListForDimensionLevelsMeasure(e,t);return r}return n.fn.getEmptyAxisResult()},getNodeListForSliderLevelGroupMeasure:function(e,t){var n=i,a=n.metadata.axes[e].length;if(a>0){var r=[];return r.push({startLevel:0,endLevel:t,leafLevel:a}),n.fn.getNodeListForDimensionLevelsMeasure(e,r)}return n.fn.getEmptyAxisResult()},getEmptyAxisResult:function(){var e=i;if(!e.emptyAxisResult){var t={isAll:!1,label:"(empty axis)",level:0,axisCoordinate:0};e.emptyAxisResult=[],e.emptyAxisResult.push(t)}return e.emptyAxisResult},getNodeListForDimensionLevelsMeasure:function(e,t){var n=i,a=!1;e===n.metadata.measureAxis&&(a=!0);var r=0===e?n.rowGroupMapping:n.colGroupMapping,s=n.treeNodeAxes[e],o=[];o.push(s);for(var l=0;l<t.length;l++){var d=t[l].startLevel,c=t[l].endLevel,u=t[l].leafLevel;i.debug&&console.log("AdhocDataProcessor.getNodeListForDimensionLevelsMeasure: 93287h  begin qualifying nodes for dim="+l+" startlevel="+d+", endLevel="+c+"localLeafLevel="+u);var h=!1;n.metadata.isOLAP?c===u&&(h=!0):l>=t.length-1&&(0===e?c>=n.rowSliderLevelCount-1&&(h=!0):c>=n.colSliderLevelCount-1&&(h=!0));var m=[];if(h){var p=u;n.metadata.isOLAP||l===t.length-1&&(p=n.metadata.axes[e].length),n.fn.getNodeListForActualLevel(e,o,p,m),i.debug&&(console.log("AdhocDataProcessor.getNodeListForDimensionLevelsMeasure: we9iuhf  LeafLevel nodeList for targetLevel="+p),console.log(m));var f=[],g=0;n.metadata.isOLAP&&(g=d);for(var _=0;_<m.length;_++){var v=m[_];if(v.isAll!==!0)for(var b=v.parent;null!=b;){if(b.level<=g){f.push(v);break}if(b.isAll===!0)break;b=b.parent}}o=f,i.debug&&(console.log("AdhocDataProcessor.getNodeListForDimensionLevelsMeasure:  er83   qualifiedChildren"),console.log(o))}else{var p=r[c+1];n.metadata.isOLAP&&(p=c+1),1===t.length&&0===p?m.push(s):o&&n.fn.getNodeListForActualLevel(e,o,p,m);for(var y=[],_=0;_<m.length;_++){var v=m[_],T=!1;if(v.level<=0)throw"dataprocessor.getNodeListForDimensionLevelsMeasure  leaf  node.level is unexpectedly less or equal to zero !";if(0!==v.level&&v.isAll===!0&&(T=!0),T){if(!v.parent)throw"AdhocDataProcessor.getNodeListForDimensionLevelsMeasure Unexpected missing node.parent in axis "+e;var A=v.parent;if(a&&v.parent.level==n.measureLevelNumber&&n.measureLevelNumber>1){if(!v.parent.parent)throw"AdhocDataProcessor.getNodeListForDimensionLevelsMeasure Unexpected missing node.parent.parent in axis "+e;A=v.parent.parent}A.level>d&&A.isAll===!0&&(T=!1)}T&&(v.level===u?y.push(v):n.fn.chaseAllNodesToLeafToList(v.parent,v,u,y))}o=y,i.debug&&(console.log("AdhocDataProcessor.getNodeListForDimensionLevelsMeasure: 3w948h  non-LeafLevel qualified children    X"),console.log(o))}}return o},getNodeListForActualLevel:function(e,t,n,a){for(var r=i,s=0;s<t.length;s++){var o=t[s];o.level==n?a.push(o):o.children&&r.fn.getNodeListForActualLevel(e,o.children,n,a)}},chaseAllNodesToLeafToList:function(e,t,n,a){var r=i;if(t.level<n&&"children"in t&&t.children.length>0)for(var s=0;s<t.children.length;s++){var o=t.children[s],l=!1;if(o.isAll===!1?o.level==r.measureLevelNumber&&(l=!0):l=!0,l){var d=r.fn.chaseAllNodesToLeafToList(e,o,n,a);d.level===n&&a.push(d)}}return t},recurseLeafArrayFromSimpleNode:function(e,t){var n=i;if(e.children.length>0)for(var a=e.children,r=0;r<a.length;r++)n.fn.recurseLeafArrayFromSimpleNode(a[r],t);else t.push(e)},getDataFromRowColumn:function(e,t){if(!e)throw"dataprocessor.getDataFromRowColumn   NULL row object !";if(e.axisCoordinate<0)throw"dataprocessor.getDataFromRowColumn   row Coordinate < 0 !";if(!t)throw"dataprocessor.getDataFromRowColumn   NULL column object !";if(t.axisCoordinate<0)throw"dataprocessor.getDataFromRowColumn   column Coordinate < 0 !";var n=i.data[e.axisCoordinate][t.axisCoordinate];return"string"==typeof n&&(n=""===n?null:parseFloat(n)),n},getLabelNameArray:function(e,t){var n=i,a=[];if(null===t)return a;var r=t;if(n.metadata.isOLAP){var s=(t.level,n.dimensionLevels[e]),o=0;if(s)for(var l=0;l<s.length;l++)if(o=l,r.level>=s[l].startLevel&&r.level<=s[l].endLevel){for(;r.parent;){if(!r.isAll){a.push(r.label);break}if(!r.parent)break;if(r=r.parent,r.level<s[l].startLevel)break}break}for(var l=o-1;l>=0;l--){var d=s[l].startLevel,c=s[l].endLevel;for(r=t;r.parent;)if(r=r.parent,r.level<=c&&r.level>=d&&r.level>0&&!r.isAll){a.push(r.label);break}}}else{for(;null!=r.parent;)r.isAll!==!0&&a.push(r.label),r=r.parent;r.level>0&&a.push(r.label)}return a.length<=0&&a.push(this.getMessage("totalsLabelForChart")),a},isOLAP:function(){var e=i;return e.metadata.isOLAP},isMeasuresLastOnAxis:function(e){var t=i;if(e!==t.measureAxis)return!1;if(t.fn.isOLAP()){var n=t.dimensionMappings[e];if(n.length<=0)return!1;var a=n[n.length-1],r=a[0];return"Measures"===r.dimension?!0:!1}var s=t.metadata.axes[e];return"Measures"===s[s.length-1].label?!0:!1},doPathsMatch:function(e,t){for(;e.parent;){if(0===e.parent.level)return 0===t.parent.level?!0:!1;if(!t.parent)return!1;if(e=e.parent,t=t.parent,e.level!==t.level)return!1;if(e.label!==t.label)return!1}return t.parent?!1:!0},getLevelsWithoutMeasures:function(i){return e.chain(i).filter(function(e){return"Measures"!=e.dimension}).map(function(e){return e.name=t.unescape(e.name),e.label=t.unescape(e.label),e}).value();
},getLevelIndex:function(e,t){for(var i=0;i<e.length;i++)if(e[i].name===t.name)return i;throw"Specified level was not found."},levelsToLevelNumbers:function(e,t){var n=i.fn,a=[];if(n.isOLAP()){var r=n.getOLAPDimensionInfo();a=n._getOlapLevelNumbers(e,r[t])}else a=n._getNonOlapDataProcessorLevelNumber(e,i.metadata.axes[t]);return a},_getOlapLevelNumbers:function(t,n){var a=i.fn;return e.map(t,function(t){var i=e.find(n,function(e){return e.dimension===t.dimension});return{level:a._getOlapDataProcessorLevelNumber(t,i)}})},_getOlapDataProcessorLevelNumber:function(e,t){for(var i=0;i<t.levels.length;i++)if(t.levels[i].levelName===e.name)return t.levels[i].levelNumber;throw"No olap info found for specified level = "+e.name},_getNonOlapDataProcessorLevelNumber:function(e,t){var n=i.fn;if(0===e.length)return 0;var a=n.getLevelsWithoutMeasures(t);return n.getLevelIndex(a,e[0])+1}}};return{messages:{},getMessage:i.fn.getMessage,load:i.fn.load,levelsToLevelNumbers:i.fn.levelsToLevelNumbers,getLevelIndex:i.fn.getLevelIndex,getLevelsWithoutMeasures:i.fn.getLevelsWithoutMeasures,getOLAPDimensionInfo:i.fn.getOLAPDimensionInfo,getDataFromRowColumn:i.fn.getDataFromRowColumn,getLabelNameArray:i.fn.getLabelNameArray,isMeasuresLastOnAxis:i.fn.isMeasuresLastOnAxis,getDataStyle:i.fn.getDataStyle,getNodeListForDimLevelRadio:i.fn.getNodeListForDimLevelRadio,getNodeListForSliderLevel:i.fn.getNodeListForSliderLevel,getColumnSliderLevelCount:function(){return i.colSliderLevelCount},getRowSliderLevelCount:function(){return i.rowSliderLevelCount},getMeasureLevelNumber:i.fn.getMeasureLevelNumber}},this),function(e,t){"use strict";"function"==typeof define&&define.amd?define("adhoc/api/chart/adhocToHighchartsAdapter/palette/defaultPalette",e):t.hcDefaultPalette=e()}(function(){"use strict";return{colors:["#0d233a","#2f7ed8","#910000","#8bbc21","#492970","#ff7f27","#ffc90e","#1aadce","#c42525","#158349","#77a1e5","#c40062","#dbaa00","#4572a7","#aa4643","#89a54e","#80699b","#74462e","#c03c03","#b58c00"],rgbColors:[[13,35,58],[47,126,216],[145,0,0],[139,188,33],[73,41,112],[255,127,39],[255,201,14],[26,173,206],[196,37,37],[21,131,73],[119,161,229],[196,0,98],[219,170,0],[69,114,167],[170,70,67],[137,165,78],[128,105,155],[61,150,174],[219,132,61],[146,168,205],[164,125,124],[181,202,146]],colorAxis:{stops:[[.1,"#F6365F"],[.5,"#FFD961"],[.9,"#50C463"]]}}},this),function(e,t){"use strict";"function"==typeof define&&define.amd?define("adhoc/api/chart/adhocToHighchartsAdapter/enum/dateTimeFormats",e):t.hcDateTimeFormats=e()}(function(){"use strict";return{dateTimeLabelFormatsMap:{day:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%b %e, %Y",week:"%b %e, %Y",month:"%b %e, %Y",year:"%b %e, %Y"},hour_by_day:{millisecond:"%b %e, %Y %H:%M:%S.%L",second:"%b %e, %Y %H:%M:%S",minute:"%b %e, %Y %H:%M",hour:"%b %e, %Y %H:%M",day:"%b %e, %Y %H:%M",week:"%b %e, %Y %H:%M",month:"%b %e, %Y %H:%M",year:"%b %e, %Y %H:%M"},minute_by_day:{millisecond:"%b %e, %Y %H:%M:%S.%L",second:"%b %e, %Y %H:%M:%S",minute:"%b %e, %Y %H:%M",hour:"%b %e, %Y %H:%M",day:"%b %e, %Y %H:%M",week:"%b %e, %Y %H:%M",month:"%b %e, %Y %H:%M",year:"%b %e, %Y %H:%M"},second_by_day:{millisecond:"%b %e, %Y %H:%M:%S.%L",second:"%b %e, %Y %H:%M:%S",minute:"%b %e, %Y %H:%M:%S",hour:"%b %e, %Y %H:%M:%S",day:"%b %e, %Y %H:%M:%S",week:"%b %e, %Y %H:%M:%S",month:"%b %e, %Y %H:%M:%S",year:"%b %e, %Y %H:%M:%S"},millisecond_by_day:{millisecond:"%b %e, %Y %H:%M:%S.%L",second:"%b %e, %Y %H:%M:%S.%L",minute:"%b %e, %Y %H:%M:%S.%L",hour:"%b %e, %Y %H:%M:%S.%L",day:"%b %e, %Y %H:%M:%S.%L",week:"%b %e, %Y %H:%M:%S.%L",month:"%b %e, %Y %H:%M:%S.%L",year:"%b %e, %Y %H:%M:%S.%L"},hour:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%H:%M",week:"%b %e, %Y",month:"%b %e, %Y",year:"%b %e, %Y"},minute:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%H:%M",week:"%b %e, %Y",month:"%b %e, %Y",year:"%b %e, %Y"},second:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M:%S",hour:"%H:%M:%S",day:"%H:%M:%S",week:"%b %e, %Y",month:"%b %e, %Y",year:"%b %e, %Y"},millisecond:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S.%L",minute:"%H:%M:%S.%L",hour:"%H:%M:%S.%L",day:"%H:%M:%S.%L",week:"%b %e, %Y",month:"%b %e, %Y",year:"%b %e, %Y"}},dateTimeTooltipFormatsMap:{day:"%b %e, %Y",hour_by_day:"%b %e, %Y %H:%M",minute_by_day:"%b %e, %Y %H:%M",second_by_day:"%b %e, %Y %H:%M:%S",millisecond_by_day:"%b %e, %Y %H:%M:%S.%L",hour:"%H:%M",minute:"%H:%M",second:"%H:%M:%S",millisecond:"%H:%M:%S.%L"}}},this),function(e,t){"use strict";"function"==typeof define&&define.amd?define("adhoc/api/chart/adhocToHighchartsAdapter/enum/adhocToHighchartsTypes",e):t.adhocToHighchartsTypes=e()}(function(){"use strict";return{column:"column",stacked_column:"column",percent_column:"column",bar:"bar",stacked_bar:"bar",percent_bar:"bar",spider_column:"column",line:"line",spline:"spline",spline_area:"areaspline",area:"area",stacked_area:"area",percent_area:"area",spider_line:"line",spider_area:"area",pie:"pie",semi_pie:"pie",dual_level_pie:"pie",line_time_series:"line",spline_time_series:"spline",area_time_series:"area",spline_area_time_series:"areaspline",column_line:"",column_spline:"",stacked_column_line:"",stacked_column_spline:"",multi_axis_line:"",multi_axis_spline:"",multi_axis_column:"",scatter:"scatter",bubble:"bubble",heat_map:"heatmap",heat_map_time_series:"heatmap",dual_measure_tree_map:"treemap",tree_map:"treemap",one_parent_tree_map:"treemap"}},this),function(e,t){"use strict";"function"==typeof define&&define.amd?define("adhoc/api/chart/adhocToHighchartsAdapter/highchartsDataMapper",["underscore","jquery","adhoc/api/chart/adhocToHighchartsAdapter/adhocDataProcessor","adhoc/api/chart/adhocToHighchartsAdapter/palette/defaultPalette","adhoc/api/chart/adhocToHighchartsAdapter/enum/dateTimeFormats","adhoc/api/chart/adhocToHighchartsAdapter/enum/adhocToHighchartsTypes","highcharts"],e):t.highchartsDataMapper=e(_,jQuery,AdhocDataProcessor,hcDefaultPalette,hcDateTimeFormats,adhocToHighchartsTypes,Highcharts)}(function(e,t,i,n,a,r,s){"use strict";var o=e.chain({}).extend(e.cloneDeep(n)).extend(a).value();return e.extend(o,{SeriesType:{COMMON:0,PIE:1,DUAL_LEVEL_PIE:2,HEAT_MAP:3,HEAT_MAP_TIME_SERIES:4,SEMI_PIE:5,DUAL_MEASURE_TREE_MAP:6,TREE_MAP:7,ONE_PARENT_TREE_MAP:8},chartType:null,fullGroupHierarchyNames:!0,defaultPiesPerRow:8,maxPieRows:4,HEATMAP_LEGEND_TICK_INTERVAL:150,categories:[],categoryNames:{},groupedCategories:!1,highchartsCategories:[],measureMin:null,measureMax:null,extendDefaultPalette:function(i){var a,r;if(a=e.find(i.chartState.advancedProperties,function(e){return"colors"===e.name}))try{r=JSON.parse(a.value),o.colors=t.extend(e.clone(n.colors),r)}catch(s){o.colors=e.clone(n.colors)}else o.colors=e.clone(n.colors)},getSeriesByType:function(e,t,n,a){var r,s;this.extendDefaultPalette(a),a.metadata.isOLAP?(r=i.getNodeListForDimLevelRadio(0,t),s=i.getNodeListForDimLevelRadio(1,n)):(r=i.getNodeListForSliderLevel(0,t),s=i.getNodeListForSliderLevel(1,n));var l;switch(e){case o.SeriesType.COMMON:l=o.getCommonSeries(r,s,a);break;case o.SeriesType.PIE:l=o.getPieSeries(r,s,t,n,a);break;case o.SeriesType.SEMI_PIE:l=o.getSemiPieSeries(r,s,t,n,a);break;case o.SeriesType.DUAL_LEVEL_PIE:l=o.getDualLevelPieSeries(r,s,t,n,a);break;case o.SeriesType.HEAT_MAP:l=o.getHeatMapOptions(r,s,a);break;case o.SeriesType.HEAT_MAP_TIME_SERIES:l=o.getHeatMapTimeSeriesOptions(r,s,a);break;case o.SeriesType.DUAL_MEASURE_TREE_MAP:l=o.getDualMeasureSingleFieldTreeMapOptions(r,s,a);break;case o.SeriesType.TREE_MAP:l=o.getTreeMapOptions(r,s,a);break;case o.SeriesType.ONE_PARENT_TREE_MAP:l=o.getTreeMapOptions(r,s,a);break;default:throw"Unknown series type!"}return l},getColor:function(e){return o.colors[e%o.colors.length]},getColorWithAlpha:function(e,t){var i=o.rgbColors[e%o.colors.length];return"rgba("+i[0]+", "+i[1]+", "+i[2]+", "+t+")"},generateXAxisLabelsOptions:function(t){var i={step:t.step,maxStaggerLines:1,style:{fontSize:"1em"}};return 0!==t.rotation&&(e.extend(i,{rotation:t.rotation}),t.adjustPosition&&90===t.rotation?i.x=-4:270===t.rotation&&(i.x=4)),i},doAxisSwap:function(e){return-1!=e.indexOf("bar")},getLegendOptions:function(e){var t={borderWidth:e.chartState.legendBorder?1:0,itemStyle:{fontWeight:"normal",fontSize:"1em"}};switch("none"===e.chartState.legend?t.enabled=!1:o.isScatterOrBubbleChart(e.chartState.chartType)?t.enabled=!o.isTotalSelectedOnly(e,1):t.enabled=!0,e.chartState.legend){case"top":t.align="center",t.verticalAlign="top";break;case"left":case"right":t.align=e.chartState.legend,t.verticalAlign="middle",t.layout="vertical"}return t},getGeneralOptions:function(e){return{chart:{renderTo:"chartContainer",zoomType:"xy",type:o.adHocToHighchartsChartTypeMap[e.chartState.chartType],polar:o.isSpiderChart(e.chartState.chartType),style:{fontSize:"1em"}},credits:{enabled:!1},title:{text:null},tooltip:{valueDecimals:2,useHTML:!0,style:{fontSize:"1em"}}}},getCommonSeriesGeneralOptions:function(t){var i=o.doAxisSwap(t.chartState.chartType),n=e.extend(o.getGeneralOptions(t),{xAxis:o.getXAxisOptions(i,t),yAxis:o.isDualOrMultiAxisChart(t.chartState.chartType)?[]:o.getYAxisOptions(i,t),plotOptions:{series:{marker:{enabled:t.chartState.showDataPoints},tooltip:{dateTimeLabelFormats:t.isTimeSeries?o.getDateTimeLabelFormats(t.chartState.timeSeriesCategorizerName):void 0,xDateFormat:t.isTimeSeries?o.getDateTimeTooltipFormats(t.chartState.timeSeriesCategorizerName):void 0}}},series:[],legend:o.getLegendOptions(t)});return o._isTooltipFollowPointerEnabled(t.chartState.chartType)&&(n.tooltip.followPointer=!0),o.isDualOrMultiAxisChart(t.chartState.chartType)||o.isSpiderChart(t.chartState.chartType)?n.tooltip.shared=!0:n.tooltip.shared=!1,n},isTotalSelectedOnly:function(t,i){var n=0===i?t.chartState.rowsSelectedLevels:t.chartState.columnsSelectedLevels,a=!0;return t.metadata.isOLAP?e.each(n,function(e){"(All)"!=e.name&&(a=!1)}):a=0===n.length,a},getXAxisOptions:function(e,t){var i={categories:[],title:{text:o.isScatterOrBubbleChart(t.chartState.chartType)?t.metadata.measures[0]:""}};return o.isSpiderChart(t.chartState.chartType)&&(i.tickmarkPlacement="on",i.lineWidth=0),i.labels=o.generateXAxisLabelsOptions({rotation:e?t.chartState.yAxisRotation:t.chartState.xAxisRotation,adjustPosition:!e,step:e?t.chartState.yAxisStep:t.chartState.xAxisStep}),e&&Math.abs(t.chartState.xAxisRotation)>=75&&(i.labels.align="right"),i.offset=Math.abs(t.chartState.xAxisRotation)>60?5:0,t.isTimeSeries&&(i.dateTimeLabelFormats=o.getDateTimeLabelFormats(t.chartState.timeSeriesCategorizerName),i.type="datetime"),i},getYAxisOptions:function(e,t){var i={title:{text:" "},labels:{rotation:e?t.chartState.xAxisRotation:t.chartState.yAxisRotation,step:e?t.chartState.xAxisStep:t.chartState.yAxisStep,style:{fontSize:"1em"}}};return o.isScatterOrBubbleChart(t.chartState.chartType)?i.title.text=t.metadata.measures[1]:t.chartState.showMeasureOnValueAxis&&1==t.metadata.measures.length&&(i.title.text=t.metadata.measures[0]),o.isSpiderChart(t.chartState.chartType)&&(i.gridLineInterpolation="polygon",i.lineWidth=0,i.min=0,i.labels.rotation>0&&(i.labels.x=-(i.labels.rotation/90*10))),i},getDateTimeLabelFormats:function(e){return o.dateTimeLabelFormatsMap[e]},getDateTimeTooltipFormats:function(e){return o.dateTimeTooltipFormatsMap[e]},getCommonSeries:function(e,t,i){var n=i.isTimeSeries,a=i.chartState.chartType;o.groupedCategories=!1,o.highchartsCategories=[],o.measureMin=null,o.measureMax=null;var r=this.getCommonSeriesGeneralOptions(i);return o.setupOptionsSeries(t,r,a,i),o.setupOptionsYAxis(t,r,a,i),o.populateOptionsDataAndCategories(e,t,r,a,n,i),o.setCategories(r,n||o.isScatterOrBubbleChart(a),a),r},setupOptionsSeries:function(e,t,i,n){for(var a=o.isScatterOrBubbleChart(i),r=n.metadata.measures.length,s=a?e.length/r:e.length,l=0;s>l;l++){var d,c=a&&!o._isMeasureFirst(n.metadata)?e[l*r]:e[l],u=o.assembleFullGroupLinearName(1,c,n),h=l==s-1;if(o.isScatterOrBubbleChart(i)){var m=(n.chartState.columnsSelectedLevels.length>0,n.chartState.rowsSelectedLevels.length>0);d={headerFormat:m?"{point.key}<br/>":"",pointFormat:o.constructTooltipPointFormat(i,n),followPointer:!0}}t.series.push({name:u,data:[],color:a?o.getColorWithAlpha(l,.75):o.getColor(l),type:o.isDualOrMultiAxisChart(i)?o.getDualOrMultiAxisHighchartsType(i,h):void 0,yAxis:o.isMultiAxisChart(i)?l:0,tooltip:d,columnsOutputParams:o.createOutputParameters(c,1,n)})}},createOutputParameters:function(e,t,n){var a=n.metadata.measures,r=n.chartState.chartType,s=o.getActiveAxisLevels(t,n),l=i.getLabelNameArray(t,e).reverse();l.splice(0,l.length-s.length);for(var d=[],c=0;c<s.length;c++)d.push({name:s[c],value:o._isMeasuresDimension(s[c].dimension)&&o.isScatterOrBubbleChart(r)?a:l[c]});return d},getActiveAxisLevels:function(t,n){var a,r=n.metadata.axes[t];if(n.metadata.isOLAP){var s=0===t?n.chartState.rowsSelectedLevels:n.chartState.columnsSelectedLevels;a=e.filter(s,function(e){return"(All)"!=e.name})}else{for(var o=0===t?n.chartState.rowsSelectedLevels[0]:n.chartState.columnsSelectedLevels[0],l=o?1:0;o&&(r[l-1].dimension!=o.dimension||r[l-1].name!=o.name);)l++;a=[].concat(r),a.splice(l,a.length-l)}if(n.metadata.measureAxis==t){var d=i.getMeasureLevelNumber(n.metadata),c=r[d-1];n.metadata.isOLAP?d>a.length?a.push(c):a.splice(d-1,0,c):d>a.length&&a.push(c)}return a},constructTooltipPointFormat:function(e,t){var i=t.chartState.columnsSelectedLevels.length>0,n=o.isTotalSelectedOnly(t,1),a="";return i&&!n&&(a+='<span style="color:{series.color}">{series.name}</span> <br/>'),a+=t.metadata.measures[0]+" : <b>{point.x:,.2f}</b><br/>"+t.metadata.measures[1]+" : <b>{point.y:,.2f}</b>"+(o.isBubbleChart(e)?"<br/>"+t.metadata.measures[2]+" : <b>{point.z:,.2f}</b> ":"")},setupOptionsYAxis:function(e,t,i,n){if(o.isDualAxisChart(i)){t.series[e.length-1].yAxis=1;var a=n.chartState.showMeasureOnValueAxis&&2==t.series.length?t.series[0].name:"";t.yAxis.push(o.getYAxisForDualOrMultiAxisChart(n,0,a)),t.yAxis.push(o.getYAxisForDualOrMultiAxisChart(n,e.length-1,t.series[e.length-1].name))}else if(o.isMultiAxisChart(i))for(var r=0;r<e.length;r++)t.yAxis.push(o.getYAxisForDualOrMultiAxisChart(n,r,t.series[r].name))},populateOptionsDataAndCategories:function(t,i,n,a,r,s){for(var l=o.isScatterOrBubbleChart(a),d=s.metadata.measures.length,c=l?i.length/d:i.length,u=0;u<t.length;u++){for(var h=t[u],m=0;c>m;m++){var p=n.series[m];if(l){var f=[];if(s.chartState.showScatterLine&&(p.lineWidth=1),o._isMeasureFirst(s.metadata))for(var g=0;d>g;g++){var _=o.getDataValue(h,i[m+g*c],!0);f.push(_)}else for(var v=0;d>v;v++)f.push(o.getDataValue(h,i[m*d+v],!0));var b=e.every(f,function(e){return null==e});if(!b){f=e.map(f,function(e){return null==e?0:e}),o.measureMinMax(f[0]),o.measureMinMax(f[1]);var y;if(o.isScatterChart(a))y={x:f[0],y:f[1],name:o.assembleFullGroupHierarchyName(0,h,s),rowsOutputParams:o.createOutputParameters(h,0,s)};else{if(!o.isBubbleChart(a))throw"Unexpected chart type";y={x:f[0],y:f[1],z:f[2],name:o.assembleFullGroupHierarchyName(0,h,s),rowsOutputParams:o.createOutputParameters(h,0,s)}}p.data.push(y)}}else{var T=o.getDataValue(h,i[m],!0);if(r){if(null!=T.value&&null!=T.timestamp){o.measureMinMax(T.value);var A=o.createOutputParameters(h,0,s);A[0].value=T.timestamp,p.data.push({x:T.timestamp,y:T.value,rowsOutputParams:A})}}else o.measureMinMax(T),p.data.push({y:T,rowsOutputParams:o.createOutputParameters(h,0,s)})}}if(!r&&!l){var M=o.assembleFullGroupHierarchyName(0,h,s);n.xAxis.categories.push({name:M})}}o.isBubbleChart(a)&&1===c&&(n.xAxis.startOnTick=!0,n.xAxis.endOnTick=!0)},getYAxisForDualOrMultiAxisChart:function(e,t,i){var n=o.getYAxisOptions(o.doAxisSwap(e.chartState.chartType),e);return n.opposite=0!==t,n.labels.style={color:o.getColor(t),fontSize:"1em"},n.title={text:i,style:{color:o.getColor(t)}},n.opposite===!1&&(n.offset=Math.abs(e.chartState.yAxisRotation)>60?5:0),n},setCategories:function(e,t,i){t?e.xAxis.categories=void 0:o.groupedCategories&&this.areCategoriesSupported(i)&&(e.xAxis.categories=o.highchartsCategories)},areCategoriesSupported:function(e){return-1==e.indexOf("spider")&&(e.indexOf("column")>=0||e.indexOf("area")>=0||e.indexOf("line")>=0||e.indexOf("spline")>=0)},getPieSeries:function(t,n,a,r,s){o.measureMin=null,o.measureMax=null;var l,d=(e.isArray(r)?r.length:r)+s.metadata.measureAxis,c=15,u=10,h=c*d+u,m=s.width,p=s.height,f=(s.chartState.chartType,i.getDataStyle()),g=e.extend(o.getGeneralOptions(s),{xAxis:{categories:[]},plotOptions:{pie:{slicedOffset:0,point:{events:{legendItemClick:o._getLegendItemClickHandler}}}},series:[],labels:{items:[]},legend:o.getLegendOptions(s)});if(0===f)if(s.metadata.axes[0].length>0){var _=n[0],v=1,b=v+1,y=100/b,T=y,A=50,M=[],S=T+"%",L=A+"%";M.push(S),M.push(L);var C=i.getMessage("totalsLabelForChart");s.metadata.measures[0].name&&(C=s.metadata.measures[0].name),g.series.push({type:"pie",name:C,data:[],center:M,size:2*y+"%",showInLegend:!0,dataLabels:{enabled:!1},columnsOutputParams:o.createOutputParameters(_,1,s)});for(var D=0;D<t.length;D++){var x=t[D],E=o.getDataValue(x,_);o.measureMinMax(E),l=o.assembleFullGroupLinearName(0,x,s),g.series[0].data.push({name:l,y:E,rowsOutputParams:o.createOutputParameters(x,0,s)})}}else{var w=t[0],O=s.metadata.axes[1].length<=1?!0:!1,I=i.isMeasuresLastOnAxis(1),R=s.metadata.measures.length,v=1;O||(v=I?n.length/R:n.length);for(var N=o.getSquareSideLength(v,m,p),k=0;v>k;k++){var H=o.computePieParams(k+1,N,m,p,h,v),P=k;if(l=i.getMessage("allLabelForChart"),!O)if(I){P=k*R;var F=n[P];l=F.parent.label}else l=n[k].label;var M=[],S=H.xAxisPositionPercent+"%",L=H.yAxisPositionPercent+"%";M.push(S),M.push(L);var P=k;I&&(O||(P=k*R));var Y=k>0?!1:!0;g.series.push({type:"pie",name:n[P].label,data:[],center:M,size:H.pieSizePercent+"%",showInLegend:Y,dataLabels:{enabled:!1},title:{text:l,verticalAlign:"top",y:-h},columnsOutputParams:o.createOutputParameters(n[P],1,s)})}if(O)for(var D=0;D<n.length;D++){var j=n[D],E=o.getDataValue(w,j);o.measureMinMax(E),l=o.assembleFullGroupLinearName(1,j,s),g.series[0].data.push({x:l,y:E,rowsOutputParams:o.createOutputParameters(w,0,s)})}else if(I)for(var B=(n[0].label,0),V=0,D=0;D<n.length;D++){var j=n[D];if(V++,V>R){if(B++,B>=v)throw"highchart.datamapper getPieSeries: exceeded numberOfPies="+numberOfPies;V=1}var E=o.getDataValue(w,j);o.measureMinMax(E),l=j.label,g.series[B].data.push({name:l,y:E,rowsOutputParams:o.createOutputParameters(w,0,s)})}else for(var D=0;D<n.length;D++){var j=n[D],E=o.getDataValue(w,j);o.measureMinMax(E),l=o.assembleFullGroupHierarchyName(1,j,s),g.series[D].data.push({name:l,y:E,rowsOutputParams:o.createOutputParameters(w,0,s)})}}if(2==f||1==f){for(var N=o.getSquareSideLength(n.length,m,p),k=0;k<n.length;k++){var H=o.computePieParams(k+1,N,m,p,h,n.length),U=n[k].label,l=o.assembleFullGroupHierarchyName(1,n[k],s),G=U,M=[],S=H.xAxisPositionPercent+"%",L=H.yAxisPositionPercent+"%";M.push(S),M.push(L);var Y=k>0?!1:!0;g.series.push({type:"pie",name:G,data:[],center:M,size:H.pieSizePercent+"%",showInLegend:Y,dataLabels:{enabled:!1},title:{text:l,verticalAlign:"top",y:-h},columnsOutputParams:o.createOutputParameters(n[k],1,s)})}for(var D=0;D<n.length;D++)for(var j=n[D],z=0;z<t.length;z++){var x=t[z],E=o.getDataValue(x,j);o.measureMinMax(E),l=o.assembleFullGroupLinearName(0,x,s),g.series[D].data.push({name:l,y:E,rowsOutputParams:o.createOutputParameters(x,0,s)})}}return g},getSemiPieSeries:function(e,t,i,n,a){var r,s,o=this.getPieSeries(e,t,i,n,a);o.plotOptions.pie.startAngle=-90,o.plotOptions.pie.endAngle=90;for(var l=0;l<o.series.length;l++)s=parseFloat(o.series[l].size),r=parseFloat(o.series[l].center[1]),r+=r*s/100/2,o.series[l].center[1]=r+"%";return o},getDualLevelPieSeries:function(t,n,a,r,l){o.measureMin=null,o.measureMax=null;var d,c,u,h,m,p=[],f=n[0],g="(empty axis)"===f.label?"Value":f.label,_=o.colors,v=_.length,b=0,y=-1,T=!1;l.chartState.chartType;l.metadata.isOLAP?"(All)"!==l.metadata.axes[0][0].name&&(a[0].level-=1,p=i.getNodeListForDimLevelRadio(0,a)):o._isMeasureFirst(l.metadata)&&(p=i.getNodeListForSliderLevel(0,a-1));var A=e.extend(o.getGeneralOptions(l),{xAxis:{categories:[]},plotOptions:{pie:{dataLabels:{style:{fontWeight:"normal",textShadow:"none"}},slicedOffset:0,point:{events:{legendItemClick:o._getLegendItemClickHandlerDisabled}}}},series:[],labels:{items:[]},legend:o.getLegendOptions(l)});A.series.push({name:g,data:[],center:["50%","50%"],size:"60%",showInLegend:!1,dataLabels:{color:"white",distance:-50,style:{fontSize:"1em"}},columnsOutputParams:o.createOutputParameters(f,1,l)});for(var M=0;M<p.length;M++)h=p[M],c=o.getDataValue(h,n[0]),d=o.assembleFullGroupLinearName(0,h,l),h.parent.color=_[M%v],A.series[0].data.push({name:d,y:c,color:_[M%v],rowsOutputParams:o.createOutputParameters(h,0,l)});0===A.series[0].data.length&&(T=!0),A.series.push({name:g,data:[],center:["50%","50%"],size:"90%",innerSize:"60%",showInLegend:!0,dataLabels:{enabled:!1,style:{fontSize:"1em"}},columnsOutputParams:o.createOutputParameters(f,1,l)});for(var M=0;M<t.length;M++)u=t[M],u===u.parent.children[0]||l.metadata.isOLAP&&u===u.parent.children[0].children[0]?(b=0,y++,T&&(A.series[0].data.push({name:o.assembleFullGroupLinearName(0,u.parent,l),y:0,color:_[y%v],rowsOutputParams:o.createOutputParameters(u,0,l)}),u.parent.color=_[y%v])):b++,c=o.getDataValue(u,f),d=o.assembleFullGroupLinearName(0,u,l),m=.2-b/u.parent.children.length/5,A.series[1].data.push({name:d,y:c,color:s.Color(u.parent.color||_[0]).brighten(m).get(),rowsOutputParams:o.createOutputParameters(u,0,l)}),T&&(A.series[0].data[y].y+=c);return t.length||(A.series[0].data=[]),A},getCommonHeatMapOptions:function(t,i,n,a){var r=o.getCommonSeriesGeneralOptions(n);e.include(["bottom","top"],n.chartState.legend);return r=e.extend(r,{colorAxis:e.extend(e.clone(o.colorAxis),{labels:{style:{fontSize:"1em"}},tickPixelInterval:o.HEATMAP_LEGEND_TICK_INTERVAL}),series:[{borderWidth:1,data:[],dataLabels:{enabled:!1},chartType:"heatmap",columnsOutputParams:o.createOutputParameters(i[0],1,n)}],tooltip:{valueDecimals:2,formatter:function(){return this.series.yAxis.categories[this.point.y]+", "+this.series.xAxis.categories[this.point.x]+"<br/>"+i[0].label+": <b>"+(a&&null===this.point.value?null:s.numberFormat(this.point.value,2))+"</b>"},useHTML:!0,style:{fontSize:"1em"}}}),r.yAxis.title=null,r.xAxis.gridLineWidth=r.yAxis.gridLineWidth=a?0:1,r},getHeatMapOptions:function(e,t,i){var n=!0;o.measureMin=null,o.measureMax=null;var a=o.getCommonHeatMapOptions(e,t,i,n);a.legend.padding=15;var r=o.computeHeatMapMatrixData(e,t,n,i);return a.series[0].data=r.data,a.series[0].heatmapXCategories=r.xCategories,a.xAxis.categories=r.xCategories,a.yAxis.categories=r.yCategories,1!==r.xCategories.length&&(a.xAxis.minRange=1),1!==r.yCategories.length&&(a.yAxis.minRange=1),a.colorAxis.min=o.measureMin,a.colorAxis.max=o.measureMax,a},computeHeatMapMatrixData:function(t,i,n,a){var r,s,l=!1,d={data:[],xCategories:[],yCategories:[]};return e.each(i,function(i,c){s=i.parent,d.xCategories.push(s.label),e.each(t,function(e,t){l||d.yCategories.push(e.label),r=o.getDataValue(e,s.children[0],!0),(null!==r||n)&&(o.measureMinMax(r),d.data.push({x:c,y:t,value:r,rowsOutputParams:o.createOutputParameters(e,0,a)}))}),l=!0}),d},getHeatMapTimeSeriesOptions:function(t,i,n){var a=!0,r=o.getCommonHeatMapOptions(t,i,n,a);if(r.series[0].chartType="timeseries_heatmap",r.legend.padding=15,!t.length)return r;var l,d,c,u,h={},m=new Date,p={},f=864e5,g=o.getDataValue(t[0],i[0]);o.measureMin=o.measureMax=g.value,l=d=g.timestamp,e.each(t,function(e){var t=o.getDataValue(e,i[0],!0),n=t.value;h[t.timestamp]=n,l=Math.min(l,t.timestamp),d=Math.max(d,t.timestamp),o.measureMinMax(n)});var _=o.createOutputParameters(t[0],0,n),v=new Date(d);m.setTime(l);do{if(h.hasOwnProperty(m.getTime()))c=h[m.getTime()];else{if(!a){m.setUTCHours(m.getUTCHours()+1);continue}c=null}u=m.getUTCHours(),p[u]=!0,m.setUTCHours(0),_[0].value=m.getTime(),r.series[0].data.push({x:m.getTime(),y:u,value:c,rowsOutputParams:e.cloneDeep(_)}),m.setUTCHours(u+1)}while(v>=m);r.colorAxis.min=o.measureMin,r.colorAxis.max=o.measureMax,p=e.map(p,function(e,t){return parseInt(t,10)}),r.yAxis=e.extend(r.yAxis,{startOnTick:!1,endOnTick:!1,reversed:!0,tickPositioner:function(e,t){return p.slice(Math.round(e),Math.round(t)+1)},minRange:8,labels:e.extend(r.yAxis.labels,{format:"{value}:00"})}),r.series[0].name=i[0].label,r.series[0].colsize=f,r.series[0].borderWidth=0,m.setTime(l),m.setUTCHours(0),r.xAxis.min=m.getTime(),m.setTime(d),m.setUTCHours(0),r.xAxis.max=m.getTime(),r.xAxis.minRange=30*f,r.xAxis.type="datetime",r.xAxis.categories=null,r.xAxis.endOnTick=!1,r.xAxis.labels=e.extend(r.xAxis.labels,{format:"{value:%B}"}),r.xAxis.tickPositions=[],m.setTime(l);do r.xAxis.tickPositions.push(m.getTime()),1!==m.getUTCDate()&&m.setUTCDate(1),m.setUTCMonth(m.getUTCMonth()+1);while(m.getTime()<=d);return r.tooltip=e.extend(r.tooltip,{backgroundColor:null,borderWidth:0,shadow:!1,useHTML:!0,style:{padding:0,color:"black",fontSize:"1em"},formatter:function(){return'<span style="color:{series.color}">\u25cf</span> '+i[0].label+"<br/>"+s.dateFormat("%e %b %Y",this.point.x)+" "+this.point.y+":00 <b>"+(a&&null===this.point.value?null:s.numberFormat(this.point.value,2))+"</b>"}}),r.chart.isHeatMapTimeSeriesChart=!0,r},getDualMeasureSingleFieldTreeMapOptions:function(t,i,n){var a=o.getCommonSeriesGeneralOptions(n);delete a.xAxis,delete a.yAxis,delete a.legend,delete a.plotOptions;var r=[];e.each(t,function(e,t){var n,a=o.getDataValue(e,i[0],!0),s=o.getDataValue(e,i[1],!0);n=e.label,""===n&&(n=" "),r.push({id:"row_"+t,name:n,measure1Name:i[0].label,measure2Name:i[1].label,value:a,colorValue:s})});var l=function(){var e=this.point.value,t=this.point.colorValue,i=this.point.measure1Name,n=this.point.measure2Name;return e=null===e?null:s.numberFormat(e,2),t=null===t?null:s.numberFormat(t,2),this.key+"</br>"+i+": <b>"+e+"</b></br>"+n+": <b>"+t+"</b>"},d=!0,c="center",u="bottom",h="horizontal";switch(n.chartState.legend){case"top":c="center",u="top",h="horizontal";break;case"right":c="right",u="middle",h="vertical";break;case"bottom":c="center",u="bottom",h="horizontal";break;case"left":c="left",u="middle",h="vertical";break;case"none":d=!1}return e.extend(a,{plotOptions:{treemap:{}},legend:{title:{text:i[1].label},enabled:d,align:c,layout:h,borderWidth:n.chartState.legendBorder?1:0,backgroundColor:"rgba(255,255,255,0.85)",verticalAlign:u,padding:15},colorAxis:{minColor:"#FFFFFF",maxColor:s.getOptions().colors[0],maxPadding:2,tickWidth:1},series:[{borderWidth:1,data:r,dataLabels:{enabled:!1},layoutAlgorithm:"squarified",chartType:"treemap",allowDrillToNode:!0,levels:[{level:1,dataLabels:{enabled:!0},borderWidth:3}]}],tooltip:{valueDecimals:2,formatter:l,useHTML:!0,style:{fontSize:"1em"}}})},getTreeMapOptions:function(t,n,a){var r=!1;"one_parent_tree_map"===a.chartState.chartType&&(r=!0);var l=n[0].label,d=[],c={},u=function(t,i){return"/@#/"+e.clone(t).slice(i).reverse().join("/@#/")},h=function(e,t){var i,n;for(i=t;i<e.length;i++)if(n=e[i]," "!==n)return n;return" "};e.each(t,function(t){var a,s,m,p,f,g,_,v=i.getLabelNameArray(null,t),b=o.getDataValue(t,n[0],!0);for(e.each(v,function(e,t){""===e&&(v[t]=" ")}),s=u(v,0),m=u(v,1),a=1;a<v.length&&(_=h(v,a),p=u(v,a),f=u(v,a+1),c[p]||(c[p]={id:p,name:_,value:0,measureName:l,tooltipLabel:e.clone(v).slice(a).join(", ")},r===!1&&"/@#/"!==f&&(c[p].parent=f)),c[p].value+=b,!r);a++);g={id:s,name:v[0],value:b,measureName:l,tooltipLabel:e.clone(v).join(", ")},"/@#/"!==m&&(g.parent=m),d.push(g)}),e.each(c,function(e){d.push(e)});for(var m,p=0,f=s.getOptions().colors,g=0,_=d.length;_>g;g++)m=d[g],m.parent||(m.color=f[p%f.length],p++);var v=o.getCommonSeriesGeneralOptions(a);delete v.xAxis,delete v.yAxis,delete v.legend,delete v.plotOptions,0!==Object.keys(c).length&&(v.chart.marginTop=50);var b=function(){var e=this.point.tooltipLabel?this.point.tooltipLabel+"</br>":"",t=this.point.value,i=this.point.measureName;return t=null===t?null:s.numberFormat(t,2),e+i+": <b>"+t+"</b>"};return e.extend(v,{plotOptions:{treemap:{},series:{dataLabels:{overflow:"none"}}},series:[{borderWidth:1,data:d,dataLabels:{enabled:!1},layoutAlgorithm:"squarified",chartType:"treemap",allowDrillToNode:!0,drillUpButton:{relativeTo:"plotBox",position:{y:-45}},levels:[{level:1,dataLabels:{enabled:!0},borderWidth:3}],levelIsConstant:!1}],tooltip:{valueDecimals:2,formatter:b,useHTML:!0,style:{fontSize:"1em"}}})},_getLegendItemClickHandler:function(t){t.preventDefault();var i=e.flatten(e.pluck(this.series.chart.series,"data")),n=this;e.each(i,function(e){e.name==n.name&&e.setVisible(!e.visible)})},_getLegendItemClickHandlerDisabled:function(e){e.preventDefault()},getSquareSideLength:function(e,t,i){if(e>t*i)return 0;var n=i/t,a=Math.sqrt(e/n),r=a*n,s=Math.max(1,Math.floor(a)),o=Math.max(1,Math.floor(r)),l=Math.floor(t/s),d=Math.floor(i/o),c=Math.min(l,d);if(s=Math.floor(t/c),o=Math.floor(i/c),e>s*o)if(e>(s+1)*o&&e>s*(o+1))l=Math.floor(t/(s+1)),d=Math.floor(i/(o+1)),c=Math.min(l,d);else{var u=Math.ceil(e/o),h=Math.ceil(e/s);l=Math.min(Math.floor(t/u),Math.floor(i/o)),d=Math.min(Math.floor(t/s),Math.floor(i/h)),c=Math.max(l,d)}return c},computePieParams:function(e,t,i,n,a,r){var s=10,o=5,l=Math.min(Math.floor(i/t),r),d=Math.min(Math.floor(n/t),r),c=(i-t*l)/l,u=(n-t*d)/d,h=e%l===0?l:e%l,m=Math.floor(e/l)+(e%l===0?0:1),p=t*h-t/2+c*h/2,f=t*m-t/2+u*m/2,g=a+s;return{xAxisPositionPercent:100*(p-g/2)/i,yAxisPositionPercent:100*(f+g/2+o)/n,pieSizePercent:100*(t-g)/(n>i?i:n)}},measureMinMax:function(e){null!==e&&(null===o.measureMin?(o.measureMin=e,o.measureMax=e):(o.measureMin=Math.min(e,o.measureMin),o.measureMax=Math.max(e,o.measureMax)))},yAxisTickAdjust:function(t){if(!(o.measureMin<0)&&t.yAxis){var i=e.isArray(t.yAxis)?t.yAxis:[t.yAxis];0!==o.measureMin&&o.measureMin--,e.each(i,function(e){e.min||(e.min=o.measureMin,e.startOnTick=!0)})}},assembleFullGroupName:function(e,t,n,a){var r=a.chartState.chartType,s="",l=i.getLabelNameArray(e,t),d=a.metadata;if(1==e&&o.isScatterOrBubbleChart(r)&&(o._isMeasureFirst(d)?l.pop():l.shift()),!a.chartState.showSingleMeasuresLabels&&1===d.measures.length&&d.measureAxis===e){l=l.reverse();for(var c=d.axes[d.measureAxis],u=0,h=c.length;h>u;u++)"Measures"===c[u].dimension&&(u<l.length?l.splice(u,1):l.pop());l=l.reverse(),l.length||l.push("\xa0")}var m="<br>";o.isBarChart(r)?(l=l.reverse(),m=", "):o.isScatterOrBubbleChart(r)&&(m=", ");for(var p=l.length,f=0;p>f;f++)s+=l[f],p-1>f&&(s+=n?m:", ");return 0===e&&p>1&&(o.groupedCategories=!0,o.addLeaf2HighchartsCategory(l)),s},assembleFullGroupHierarchyName:function(e,t,i){return o.assembleFullGroupName(e,t,!0,i)},assembleFullGroupLinearName:function(e,t,i){return o.assembleFullGroupName(e,t,!1,i)},addLeaf2HighchartsCategory:function(e){if(null==o.highchartsCategories&&(o.highchartsCategories=[]),e.length<=1)return void o.highchartsCategories.push(e[0]);for(var t=o.highchartsCategories,i=e.length-1;i>=0;i--){var n=e[i];if(0===i)return void t.push(n);for(var a=null,r=0;r<t.length;r++)t[r].name===e[i]&&(a=t[r]);null==a&&(a={name:e[i],categories:[]},t.push(a)),t=a.categories}},getDataValue:function(e,t,n){var a=i.getDataFromRowColumn(e,t);return"object"!=typeof a&&isNaN(a)&&(a=null),n?a:null==a?0:a}}),e.extend(o,{_isTooltipFollowPointerEnabled:function(t){return!e.contains(["line","spline","area","stacked_area","percent_area","spline_area","line_time_series","spline_time_series","area_time_series","spline_area_time_series","pie","semi_pie","dual_level_pie","heat_map","heat_map_time_series","dual_measure_tree_map","tree_map","one_parent_tree_map"],t)},_isMeasureFirst:function(e){var t=e.axes[e.measureAxis];return t.length>0&&o._isMeasuresDimension(t[0].dimension)},_isMeasuresDimension:function(e){return"Measures"===e}}),e.extend(o,{isDualOrMultiAxisChart:function(e){return o.isDualAxisChart(e)||o.isMultiAxisChart(e)},isDualLevelPieChart:function(e){return"dual_level_pie"===e},isSpiderChart:function(t){return e.contains(["spider_column","spider_line","spider_area"],t);
},isDualAxisChart:function(t){return e.contains(["column_line","column_spline","stacked_column_line","stacked_column_spline"],t)},isMultiAxisChart:function(t){return e.contains(["multi_axis_line","multi_axis_spline","multi_axis_column"],t)},isScatterChart:function(t){return e.contains(["scatter"],t)},isBubbleChart:function(t){return e.contains(["bubble"],t)},isScatterOrBubbleChart:function(e){return o.isScatterChart(e)||o.isBubbleChart(e)},isBarChart:function(e){return-1!=e.indexOf("bar")},isHeatMapChart:function(e){return"heat_map"===e},isHeatMapTimeSeriesChart:function(e){return"heat_map_time_series"===e},isDualMeasureTreeMapChart:function(e){return"dual_measure_tree_map"===e},isTreeMapChart:function(e){return"tree_map"===e},isOneParentTreeMapChart:function(e){return"one_parent_tree_map"===e}}),e.extend(o,{getHighchartsOptions:function(t,i,n,a){var r=o.typeToOptionsMap[t](i,n,a);o.setTurboThreshold(r),o.defaultPlotShadow(r,!(o.isDualLevelPieChart(t)||o.isHeatMapChart(t)||o.isBubbleChart(t)||o.isDualMeasureTreeMapChart(t)||o.isTreeMapChart(t)||o.isOneParentTreeMapChart(t)));var s=function(i){var n=(o.isSpiderChart(t)||o.isBarChart(t),150);if(i.length>0)if(e.isObject(i[0]))e.each(i,function(e){e.name=l(e.name,n),e.categories&&s(e.categories)});else for(var a=0;a<i.length;a++)i[a]=l(i[a],n)},l=function(e,t){return e?(e=e.substring(0,t),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/&lt;br&gt;/g,"<br>")):e="",e};return e.each(["xAxis","yAxis"],function(t){var i=e.isArray(r[t])?r[t]:[r[t]];e.each(i,function(e){e&&(e.categories&&s(e.categories),e.title&&e.title.text&&(e.title.text=e.title.text.replace(/</g,"&lt;").replace(/>/g,"&gt;")))})}),o.isSpiderChart(t)&&(r.chart.spacingTop=1.8*(r.xAxis.categories[0].name.split("<br>").length-1),r.chart.spacingTop*=8*(1+Math.abs(Math.sin((r.xAxis.labels.rotation||0)*Math.PI/180)))),o.isTreeMapChart(t)||(r.colors=o.colors),r=o.correctEmptySeriesNames(r)},setTurboThreshold:function(t){if(t.plotOptions){var i=-(1/0);e.each(t.series,function(e){i=Math.max(e.data.length,i)}),i>1e3&&((t.plotOptions.series||t.plotOptions.pie||t.plotOptions.treemap).turboThreshold=i+1)}},defaultPlotShadow:function(t,i){var n=t.plotOptions,a=t.chart?t.chart.type:void 0,r=a?[a]:[];0===r.length&&(r=e.pluck(t.series,"type")),n||(n={}),e.each(r,function(e){n[e]||(n[e]={}),n[e].shadow=i})},typeToOptionsMap:{column:function(e,t,i){return o.getSeriesByType(o.SeriesType.COMMON,e,t,i)},stacked_column:function(e,t,i){var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return n.plotOptions.series.stacking="normal",n},percent_column:function(e,t,i){var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return n.plotOptions.series.stacking="percent",n},bar:function(e,t,i){return o.getSeriesByType(o.SeriesType.COMMON,e,t,i)},stacked_bar:function(e,t,i){var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return n.plotOptions.series.stacking="normal",n},percent_bar:function(e,t,i){var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return n.plotOptions.series.stacking="percent",n},spider_column:function(e,t,i){var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return n.plotOptions.series.pointPlacement="on",n},line:function(e,t,i){var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return o.yAxisTickAdjust(n),n},area:function(e,t,i){return o.getSeriesByType(o.SeriesType.COMMON,e,t,i)},spline_area:function(e,t,i){return o.getSeriesByType(o.SeriesType.COMMON,e,t,i)},stacked_area:function(e,t,i){var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return n.plotOptions.series.stacking="normal",n},percent_area:function(e,t,i){var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return n.plotOptions.series.stacking="percent",n},spider_line:function(e,t,i){var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return n.plotOptions.series.pointPlacement="on",n},spider_area:function(e,t,i){var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return n.plotOptions.series.pointPlacement="on",n},pie:function(e,t,i){return o.getSeriesByType(o.SeriesType.PIE,e,t,i)},semi_pie:function(e,t,i){return o.getSeriesByType(o.SeriesType.SEMI_PIE,e,t,i)},dual_level_pie:function(e,t,i){return o.getSeriesByType(o.SeriesType.DUAL_LEVEL_PIE,e,t,i)},spline:function(e,t,i){var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return o.yAxisTickAdjust(n),n},line_time_series:function(e,t,i){i.isTimeSeries=!0;var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return o.yAxisTickAdjust(n),n},spline_time_series:function(e,t,i){i.isTimeSeries=!0;var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return o.yAxisTickAdjust(n),n},area_time_series:function(e,t,i){return i.isTimeSeries=!0,o.getSeriesByType(o.SeriesType.COMMON,e,t,i)},spline_area_time_series:function(e,t,i){return i.isTimeSeries=!0,o.getSeriesByType(o.SeriesType.COMMON,e,t,i)},column_line:function(e,t,i){var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return o.yAxisTickAdjust(n),n},column_spline:function(e,t,i){var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return o.yAxisTickAdjust(n),n},stacked_column_line:function(e,t,i){var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return n.plotOptions.series.stacking="normal",o.yAxisTickAdjust(n),n},stacked_column_spline:function(e,t,i){var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return n.plotOptions.series.stacking="normal",o.yAxisTickAdjust(n),n},multi_axis_line:function(e,t,i){var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return o.yAxisTickAdjust(n),n},multi_axis_spline:function(e,t,i){var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return o.yAxisTickAdjust(n),n},multi_axis_column:function(e,t,i){return o.getSeriesByType(o.SeriesType.COMMON,e,t,i)},scatter:function(e,t,i){var n=o.getSeriesByType(o.SeriesType.COMMON,e,t,i);return o.yAxisTickAdjust(n),n},bubble:function(e,t,i){return o.getSeriesByType(o.SeriesType.COMMON,e,t,i)},heat_map:function(e,t,i){return o.getSeriesByType(o.SeriesType.HEAT_MAP,e,t,i)},heat_map_time_series:function(e,t,i){return o.getSeriesByType(o.SeriesType.HEAT_MAP_TIME_SERIES,e,t,i)},dual_measure_tree_map:function(e,t,i){return o.getSeriesByType(o.SeriesType.DUAL_MEASURE_TREE_MAP,e,t,i)},tree_map:function(e,t,i){return o.getSeriesByType(o.SeriesType.TREE_MAP,e,t,i)},one_parent_tree_map:function(e,t,i){return o.getSeriesByType(o.SeriesType.ONE_PARENT_TREE_MAP,e,t,i)}},adHocToHighchartsChartTypeMap:r,getDualOrMultiAxisHighchartsType:function(e,t){var i,n={column_line:"column",column_spline:"column",stacked_column_line:"column",stacked_column_spline:"column"},a={column_line:"line",column_spline:"spline",stacked_column_line:"line",stacked_column_spline:"spline"},r={multi_axis_line:"line",multi_axis_spline:"spline",multi_axis_column:"column"};if(o.isDualAxisChart(e))i=t?a[e]:n[e];else{if(!o.isMultiAxisChart(e))throw"Unsupported chart type [chartType="+e+"]";i=r[e]}return i},correctEmptySeriesNames:function(t){return e.each(t.series,function(e){""===e.name&&(e.name=" ")}),t}}),{getHighchartsOptions:o.getHighchartsOptions,isDualOrMultiAxisChart:o.isDualOrMultiAxisChart,isDualAxisChart:o.isDualAxisChart,isMultiAxisChart:o.isMultiAxisChart,isScatterChart:o.isScatterChart,isBubbleChart:o.isBubbleChart,isScatterOrBubbleChart:o.isScatterOrBubbleChart,isBarChart:o.isBarChart,isSpiderChart:o.isSpiderChart,isDualLevelPieChart:o.isDualLevelPieChart,isHeatMapChart:o.isHeatMapChart,isHeatMapTimeSeriesChart:o.isHeatMapTimeSeriesChart,isDualMeasureTreeMapChart:o.isDualMeasureTreeMapChart,isTreeMapChart:o.isTreeMapChart,isOneParentTreeMapChart:o.isOneParentTreeMapChart,_getLegendItemClickHandler:o._getLegendItemClickHandler,_getLegendItemClickHandlerDisabled:o._getLegendItemClickHandlerDisabled,_HDM:o}},this),function(e,t){"use strict";"function"==typeof define&&define.amd?define("adhoc/api/chart/adhocToHighchartsAdapter",["underscore","jquery","json3","bundle!all","adhoc/api/chart/adhocToHighchartsAdapter/Highcharts","adhoc/api/chart/adhocToHighchartsAdapter/highchartsDataMapper","adhoc/api/chart/adhocToHighchartsAdapter/adhocDataProcessor"],e):t.AdhocHighchartsAdapter=e(t._,t.jQuery,t.JSON,{},t.Highcharts,t.highchartsDataMapper,t.AdhocDataProcessor)}(function(e,t,i,n,a,r,s){"use strict";var o={generateOptions:function(e,t,o){t=i.parse(i.stringify(t)),e=i.parse(i.stringify(e)),s.load(e),s.messages=o.messages;var l=[n["months.label.january"]||"January",n["months.label.february"]||"February",n["months.label.march"]||"March",n["months.label.april"]||"April",n["months.label.may"]||"May",n["months.label.june"]||"June",n["months.label.july"]||"July",n["months.label.august"]||"August",n["months.label.september"]||"September",n["months.label.october"]||"October",n["months.label.november"]||"November",n["months.label.december"]||"December"],d=[n["week.days.label.sunday"]||"Sunday",n["week.days.label.monday"]||"Monday",n["week.days.label.tuesday"]||"Tuesday",n["week.days.label.wednesday"]||"Wednesday",n["week.days.label.thursday"]||"Thursday",n["week.days.label.friday"]||"Friday",n["week.days.label.saturday"]||"Saturday"];a.setOptions({lang:{contextButtonTitle:n["highcharts.contextButtonTitle"]||"Chart context menu",decimalPoint:".",downloadJPEG:n["highcharts.downloadJPEG"]||"Download JPEG image",downloadPDF:n["highcharts.downloadPDF"]||"Download PDF document",downloadPNG:n["highcharts.downloadPNG"]||"Download PNG image",downloadSVG:n["highcharts.downloadSVG"]||"Download SVG vector image",drillUpButton:n["highcharts.drillUpButton"]||"Back",drillUpText:(n["highcharts.drillUpText"]||"Back to")+" {series.name}",invalidDate:n["highcharts.invalidDate"]||"",loading:(n["highcharts.loading"]||"Loading")+"...",months:l,noData:n["highcharts.noData"]||"No data to display",printChart:n["highcharts.printChart"]||"Print chart",resetZoom:n["highcharts.resetZoom"]||"Reset zoom",resetZoomTitle:n["highcharts.resetZoomTitle"]||"Reset zoom level 1:1",shortMonths:t.shortMonths,thousandsSep:",",weekdays:d}});var c=s.levelsToLevelNumbers(t.rowsSelectedLevels,0),u=s.levelsToLevelNumbers(t.columnsSelectedLevels,1);o.chartState=t,o.metadata=e.metadata;var h=r.getHighchartsOptions(t.chartType,c,u,o);return t.advancedProperties.length&&this._applyAdvancedProperties(h,t.advancedProperties),h},_applyAdvancedProperties:function(t,i){return e.each(i,function(e){this._setAdvancedProperty(t,e)},this),t.chart&&"waterfall"===t.chart.type&&t.plotOptions&&t.plotOptions.series&&delete t.plotOptions.series.stacking,t},_setAdvancedProperty:function(i,n){var a=n.name.split("."),r={},s=a.length-1,o=r;e.each(a,function(e,t){t==s?r[e]=this._parseAdvancedPropertyValue(n.value):(r[e]={},r=r[e])},this),i[a[0]]&&i[a[0]].length?e(i[a[0]]).each(function(e){t.extend(!0,e,o[a[0]])}):t.extend(!0,i,o)},_parseAdvancedPropertyValue:function(e){var t;try{t=i.parse(e)}catch(n){t=e}return t}};return o},this),define("adhoc/intelligentChart/formattingDialog/model/FormattingDialogModel",["require","underscore","backbone","backbone.validation"],function(e){"use strict";var t=e("underscore"),i=e("backbone"),n=e("backbone.validation"),a=i.Model.extend({validation:{xAxisStep:{xRegExpPattern:/^[0-9]+$/,min:1,msg:"Please enter correct values"},yAxisStep:{xRegExpPattern:/^[0-9]+$/,min:1,msg:"Please enter correct values"},xAxisRotation:{xRegExpPattern:/^[-0-9]+$/,range:[-90,90],msg:"Please enter correct values"},yAxisRotation:{xRegExpPattern:/^[-0-9]+$/,range:[-90,90],msg:"Please enter correct values"},legend:{oneOf:["bottom","left","right","top","none"],msg:"Please enter correct values"}},formattingOptions:["xAxisStep","yAxisStep","xAxisRotation","yAxisRotation","legend","legendBorder","showDataPoints","showScatterLine","showSingleMeasuresLabels","showMeasureOnValueAxis","autoScaleFonts"],parse:function(e){var i={};return t.each(this.formattingOptions,function(t){i[t]=e[t]}),i},initialize:function(e,t){this._savedAttributes=e,this.callUpdateState=t.updateState,this.on("invalid",function(e,t){}),this.on("change",function(e,t){this.modelChanged=!0})},applyModel:function(){this.modelChanged&&(this.callUpdateState(this.attributes),this._savedAttributes=this.attributes,this.modelChanged=!1)}});return t.extend(a.prototype,n.mixin),a}),define("text!common/component/tooltip/template/tooltipTemplate.htm",[],function(){return'<div class="{{- cssClasses }}" style="position: absolute; z-index: 100000;">\n    <div class="content">\n        <div class="body"></div>\n    </div>\n</div>\n'}),define("common/component/tooltip/Tooltip",["require","jquery","underscore","backbone","text!./template/tooltipTemplate.htm"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=e("backbone"),a=e("text!./template/tooltipTemplate.htm");return n.View.extend({template:i.template(a),delay:500,offset:{x:10,y:10},attribute:"data-tooltip",cssClasses:"panel info tooltip",contentSelector:".body",triggerEvents:!1,el:function(){return this.template({cssClasses:this.cssClasses})},constructor:function(e){if(e||(e={}),!e.attachTo||0===t(e.attachTo).length)throw new Error("Tooltip should be attached to an element");if(!e.contentTemplate)throw new Error("Tooltip should have contentTemplate");this._shown=!1,this.$attachTo=t(e.attachTo),this.$attachTo[0].tooltip=this,e.delay&&(this.delay=e.delay),e.offset&&(this.offset=e.offset),e.attribute&&(this.attribute=e.attribute),e.cssClasses&&(this.cssClasses=e.cssClasses),this.contentTemplate=e.contentTemplate,this.i18n=e.i18n||{},!i.isUndefined(e.triggerEvents)&&(this.triggerEvents=e.triggerEvents),this.selector="["+this.attribute+"]",i.bindAll(this,"show","_onMouseMove","_onMouseLeave"),this.$attachTo.on("mousemove touchmove",this.selector,this._onMouseMove),this.$attachTo.on("mouseleave touchend",this.selector,this._onMouseLeave),n.View.prototype.constructor.apply(this,arguments)},_render:function(e,t,a){if(this._event){e=e instanceof n.Model?e.toJSON():e;var r=i.template(this.contentTemplate)({model:e,i18n:this.i18n,options:t||{}});this.$el.find(".body").empty().append(r),this._showTooltip()}a.resolve()},show:function(e,n){var a=new t.Deferred;return this._timer=setTimeout(i.bind(this._render,this,e,n,a),this.delay),a},_showTooltip:function(){t("body").append(this.$el),this._updatePosition(),this._shown=!0,this.triggerEvents&&this.trigger("show",this)},hide:function(){this.contentTemplate&&this._timer&&clearTimeout(this._timer),this.$el.detach(),this._shown=!1,this.triggerEvents&&this.trigger("hide",this)},_updatePosition:function(){var e=this.$el.innerHeight(),i=this.$el.innerWidth(),n=t(window).height(),a=t(window).width(),r=this.offset.y,s=this.offset.x;e+this._event.pageY+this.offset.y+3>=n&&(r=-this.offset.y-e),i+this._event.pageX+this.offset.x+3>=a&&(s=-this.offset.x-i),this.$el.css({top:this._event.pageY+r,left:this._event.pageX+s})},_onMouseMove:function(e){this._event=e},_onMouseLeave:function(){this._shown&&this.hide(),this._timer&&clearTimeout(this._timer),this._event=null},remove:function(){this._shown&&this.hide(),this._timer&&clearTimeout(this._timer),this.$attachTo.off("mousemove touchmove",this.selector,this._onMouseMove),this.$attachTo.off("mouseleave touchend",this.selector,this._onMouseLeave),n.View.prototype.remove.apply(this,arguments)}},{attachTo:function(e,t){var i=this;return t||(t={}),t.attachTo=e||"body",new i(t)},detachFrom:function(e){e=t(e)[0],e.tooltip&&e.tooltip.remove()}})}),define("adhoc/intelligentChart/formattingDialog/model/AdvancedPropertyModel",["require","underscore","jquery","bundle!adhoc_messages","backbone","backbone.validation"],function(e){"use strict";var t=e("underscore"),i=e("jquery"),n=e("bundle!adhoc_messages"),a=e("backbone"),r=e("backbone.validation"),s=a.Model.extend({idAttribute:"name",defaults:{name:"",value:null},validation:{name:function(e){return i.trim(e)?void 0:n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_REQUIRED_FIELD},value:function(e){return i.trim(e)?void 0:n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_REQUIRED_FIELD}}});return t.extend(s.prototype,r.mixin),s}),define("text!adhoc/intelligentChart/formattingDialog/template/AdvancedPropertyTooltipTemplate.htm",[],function(){return'{{ if (options.name) { }}\r\n<p class="message">{{- model.name }}</p>\r\n{{ } else if (options.value) { }}\r\n<p class="message">{{- model.value }}</p>\r\n{{ } }}'}),define("text!adhoc/intelligentChart/formattingDialog/template/AdvancedPropertyTemplate.htm",[],function(){return'<td class="name" data-tooltip="true" data-bind="name">\r\n    {{- name }}\r\n</td>\r\n<td class="value" data-tooltip="true" data-bind="value">\r\n    {{- value }}\r\n</td>\r\n<td class="actions">\r\n    <button name="editButton" class="button action simple edit"></button>\r\n    <button name="deleteButton" class="button action simple delete"></button>\r\n</td>'}),define("adhoc/intelligentChart/formattingDialog/view/AdvancedPropertyView",["require","underscore","jquery","backbone","common/component/tooltip/Tooltip","bundle!adhoc_messages","adhoc/intelligentChart/formattingDialog/model/AdvancedPropertyModel","text!adhoc/intelligentChart/formattingDialog/template/AdvancedPropertyTooltipTemplate.htm","text!adhoc/intelligentChart/formattingDialog/template/AdvancedPropertyTemplate.htm"],function(e){"use strict";var t=e("underscore"),i=e("jquery"),n=e("backbone"),a=e("common/component/tooltip/Tooltip"),r=e("bundle!adhoc_messages"),s=(e("adhoc/intelligentChart/formattingDialog/model/AdvancedPropertyModel"),e("text!adhoc/intelligentChart/formattingDialog/template/AdvancedPropertyTooltipTemplate.htm")),o=e("text!adhoc/intelligentChart/formattingDialog/template/AdvancedPropertyTemplate.htm");return n.View.extend({template:t.template(o),tagName:"tr",initialize:function(){this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"change",this.render),this.render()},events:{"click .edit.button":"_edit","click .delete.button":"_delete","mouseover [data-tooltip]":"showTooltip"},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.tooltip=new a({attachTo:this.$el,i18n:r,contentTemplate:s}),this},showTooltip:function(e){var t={};t[i(e.target).data("bind")]=!0,this.tooltip.show(this.model,t)},_edit:function(){this.trigger("edit",this)},_delete:function(){n.trigger("advancedProperty:delete",this,this.model)},remove:function(){this.tooltip&&this.tooltip.remove(),n.View.prototype.remove.apply(this,arguments)}})}),define("text!adhoc/intelligentChart/formattingDialog/template/EditAdvancedPropertyTemplate.htm",[],function(){return'<td class="name">\r\n    <input type="text" name=name value="{{- name }}"/>\r\n    <span class="message warning hidden">{{- i18n[\'ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_REQUIRED_FIELD\'] }}</span>\r\n</td>\r\n<td class="value">\r\n    <textarea name="value">{{- value }}</textarea>\r\n    <span class="message warning hidden">{{- i18n[\'ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_REQUIRED_FIELD\'] }}</span>\r\n</td>\r\n<td class="actions">\r\n    <button name="editButton" class="button action simple save"></button>\r\n    <button name="deleteButton" class="button action simple cancel"></button>\r\n</td>'}),define("adhoc/intelligentChart/formattingDialog/view/EditAdvancedPropertyView",["require","underscore","backbone","bundle!adhoc_messages","text!adhoc/intelligentChart/formattingDialog/template/EditAdvancedPropertyTemplate.htm"],function(e){"use strict";var t=e("underscore"),i=e("backbone"),n=e("bundle!adhoc_messages"),a=e("text!adhoc/intelligentChart/formattingDialog/template/EditAdvancedPropertyTemplate.htm");return i.View.extend({template:t.template(a),tagName:"tr",className:"edit",initialize:function(e,t){t=t||{},this.editMode=t.editMode,this.render(),this.originalModelValues=this.model.toJSON(),this.listenTo(this.model,"validated",this._onValidated)},events:{"click .save.button":"_save","click .cancel.button":"_cancel"},render:function(){return this.$el.html(this.template(t.extend({},this.model.attributes,{i18n:n}))),this},_save:function(){var e=this._getValues();this.model.set(e,{validate:!0}),this.model.isValid()&&this.trigger(this.editMode?"edit":"add",this,this.model)},_onValidated:function(){this.model.validationError&&this.model.validationError.name?(this.$("td.name").addClass("error"),this.$("td.name .warning").removeClass("hidden")):(this.$("td.name").removeClass("error"),this.$("td.name .warning").addClass("hidden")),this.model.validationError&&this.model.validationError.value?(this.$("td.value").addClass("error"),this.$("td.value .warning").removeClass("hidden")):(this.$("td.value").removeClass("error"),this.$("td.value .warning").addClass("hidden"))},_getValues:function(){return{name:this.$("input").val(),value:this.$("textarea").val()}},_cancel:function(){this.trigger("cancel",this,this.model,this.originalModelValues)}})}),define("adhoc/intelligentChart/formattingDialog/collection/AdvancedPropertiesCollection",["require","underscore","adhoc/intelligentChart/formattingDialog/model/AdvancedPropertyModel","backbone"],function(e){"use strict";var t=e("underscore"),i=e("adhoc/intelligentChart/formattingDialog/model/AdvancedPropertyModel"),n=e("backbone"),a=n.Collection.extend({model:i,validationMessages:{DUPLICATE_MODEL_ADD:"DUPLICATE_MODEL_ADD",DUPLICATE_MODEL_EDIT:"DUPLICATE_MODEL_EDIT"},add:function(e,t){return this._validateSingleModelAddition(e,t)?n.Collection.prototype.add.apply(this,arguments):void 0},_validateSingleModelAddition:function(e,i){var n=!0;if(!t.isArray(e)){var a=this.find(function(t){return t===e}),r=this.filter(function(t){return t.id===e.id});a||!(r.length>0)||i&&i.silent?!(a&&r.length>1)||i&&i.silent||(n=!1,this.trigger("validation:invalid",this,e,{message:this.validationMessages.DUPLICATE_MODEL_EDIT}),e.set(e.previousAttributes())):(n=!1,this.trigger("validation:invalid",this,e,{message:this.validationMessages.DUPLICATE_MODEL_ADD})),!n||i&&i.silent||this.trigger("validation:valid",this,e)}return n}});return a}),define("text!adhoc/intelligentChart/formattingDialog/template/AdvancedSectionTemplate.htm",[],function(){return'<div class="header-container"></div>\r\n<div class="table-container">\r\n    <table>\r\n        <thead>\r\n        <tr>\r\n            <th class="name">\r\n                {{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_PROPERTY }}\r\n                <div>{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_PROPERTY }}</div>\r\n            </th>\r\n            <th class="value">\r\n                {{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_VALUE }}\r\n                <div>{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_VALUE }}</div>\r\n            </th>\r\n            <th class="actions"></th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n\r\n        </tbody>\r\n    </table>\r\n</div>\r\n<div class="button-container">\r\n    <a href="#" class="addNewItem">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_ADD_NEW_PROPERTY }}</a>\r\n</div>\r\n<a href="http://community.jaspersoft.com/wiki/advanced-chart-formatting" target="_blank" class="information-link">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_MORE_INFORMATION }}</a>'}),define("adhoc/intelligentChart/formattingDialog/view/AdvancedSectionView",["require","underscore","jquery","backbone","bundle!adhoc_messages","adhoc/intelligentChart/formattingDialog/view/AdvancedPropertyView","adhoc/intelligentChart/formattingDialog/model/AdvancedPropertyModel","adhoc/intelligentChart/formattingDialog/view/EditAdvancedPropertyView","common/component/dialog/ConfirmationDialog","common/component/dialog/AlertDialog","adhoc/intelligentChart/formattingDialog/collection/AdvancedPropertiesCollection","text!adhoc/intelligentChart/formattingDialog/template/AdvancedSectionTemplate.htm","css!attributes.css"],function(e){"use strict";var t=e("underscore"),i=e("jquery"),n=e("backbone"),a=e("bundle!adhoc_messages"),r=e("adhoc/intelligentChart/formattingDialog/view/AdvancedPropertyView"),s=e("adhoc/intelligentChart/formattingDialog/model/AdvancedPropertyModel"),o=e("adhoc/intelligentChart/formattingDialog/view/EditAdvancedPropertyView"),l=e("common/component/dialog/ConfirmationDialog"),d=e("common/component/dialog/AlertDialog"),c=e("adhoc/intelligentChart/formattingDialog/collection/AdvancedPropertiesCollection"),u=e("text!adhoc/intelligentChart/formattingDialog/template/AdvancedSectionTemplate.htm");return e("css!attributes.css"),n.View.extend({className:"advancedSection",template:t.template(u),initialize:function(){this._subviews=[],this.collection=new c,this.confirmationDialog=new l,this.listenTo(this.collection,"add",this.addAdvancedPropertyView),this.listenTo(this.collection,"reset",this.onCollectionReset),this.listenTo(this.collection,"validation:invalid",this.onCollectionValidationError),this.listenTo(this.collection,"validation:valid",this.onCollectionValid),this.listenTo(n,"advancedProperty:delete",this.onDelete),this.render()},events:{"click .addNewItem":"addNewItem"},render:function(){return this.$el.html(this.template({i18n:a})),this},calculateZIndexes:function(){setTimeout(function(){i("#chartFormatDialog").css("z-index",+i("#dialogDimmer").css("z-index")-1),i("#chartTypeSelector").css("z-index",+i("#dialogDimmer").css("z-index")-2)},0)},reset:function(e){this.collection.reset(e)},toJSON:function(){return this.collection.toJSON()},resetState:function(){this.isEditing=!1,this.showAddBtn(),this._currentPropertyView&&this._currentPropertyView.$el.show(),this._currentPropertyView=null,this._currentEditPropertyView&&this._currentEditPropertyView.remove(),this._currentEditPropertyView=null},renderAdvancedProperty:function(e){var t=new r({model:e});return this.$("tbody").append(t.$el),this.listenTo(t,"edit",this.onEdit),t},addAdvancedPropertyView:function(e){var t=this.renderAdvancedProperty(e);this._subviews.push(t)},showAddBtn:function(){this.$(".addNewItem").show()},hideAddBtn:function(){this.$(".addNewItem").hide()},onEdit:function(e){var t=this;this.isEditing?(this.confirmationDialog.setContent(a.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_STOP_EDITING),this.confirmationDialog.open(),this.calculateZIndexes(),this.listenToOnce(this.confirmationDialog,"button:yes",function(){t.showEditAdvancedPropertyView(e)})):this.showEditAdvancedPropertyView(e)},onCancel:function(e,t,i){t.set(i),this.removeEditAdvancedPropertyView()},onCollectionReset:function(){t.invoke(this._subviews,"remove"),this.collection.each(this.addAdvancedPropertyView,this)},onCollectionValid:function(){this.removeEditAdvancedPropertyView()},onCollectionValidationError:function(e,t,i){var n,r=this;i.message===e.validationMessages.DUPLICATE_MODEL_EDIT?(n=new d({message:a.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_PROPERTY_ALREADY_EXISTS_NO_OVERRIDE.replace("{0}",t.get("name"))}),this.listenToOnce(n,"button:close",function(){n.remove()}),n.open(),this.calculateZIndexes()):i.message===e.validationMessages.DUPLICATE_MODEL_ADD&&(this.confirmationDialog.setContent(a.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_PROPERTY_ALREADY_EXISTS.replace("{0}",t.get("name"))),this.confirmationDialog.open(),this.calculateZIndexes(),this.listenToOnce(this.confirmationDialog,"button:yes",function(){e.get(t).set({value:t.get("value")}),r.removeEditAdvancedPropertyView()}).listenToOnce(this.confirmationDialog,"button:no",function(){r.stopListening(r.confirmationDialog)}))},onSaveItem:function(e,t){this.collection.add(t)},onDelete:function(e,i){var n=this;this.confirmationDialog.setContent(a.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_CONFIRM_DELETE_PROPERTY.replace("{0}",i.get("name"))),this.confirmationDialog.open(),this.calculateZIndexes(),this.listenToOnce(this.confirmationDialog,"button:yes",function(){i.trigger("destroy",i),n._subviews=t.reject(n._subviews,function(t){return e===t})}),this.listenToOnce(this.confirmationDialog,"button:no",function(){n.stopListening(n.confirmationDialog)})},addNewItem:function(){this.showEditAdvancedPropertyView()},scrollTo:function(e){var t=i(".table-container");t.animate({scrollTop:e.position().top+t.scrollTop()-29},1e3),e.find("input:first").focus()},showEditAdvancedPropertyView:function(e){var t=e?new o({model:e.model},{editMode:!0}):new o({model:new s});this.listenTo(t,"add edit",this.onSaveItem).listenTo(t,"cancel",this.onCancel),this._currentEditPropertyView&&this._currentEditPropertyView.remove(),this.isEditing=!0,this.hideAddBtn(),this._currentEditPropertyView=t,e?(this._currentPropertyView&&this._currentPropertyView.$el.show(),this._currentPropertyView=e,t.$el.insertAfter(e.$el),e.$el.hide()):this.$("tbody").append(t.$el),this.scrollTo(t.$el)},removeEditAdvancedPropertyView:function(){this._currentEditPropertyView&&(this.stopListening(this._currentEditPropertyView),this._currentEditPropertyView.remove(),this._currentEditPropertyView=null),this.showAddBtn(),this.isEditing=!1,this._currentPropertyView&&(this._currentPropertyView&&this._currentPropertyView.$el.show(),this._currentPropertyView=null)},remove:function(){t.invoke(this._subviews,"remove"),n.View.prototype.remove.call(this)}})}),define("text!adhoc/intelligentChart/formattingDialog/template/FormattingDialogTemplate.htm",[],function(){return'<div class="content hasFooter ">\r\n\r\n    <div class="header mover">\r\n        <div class="title">\r\n            {{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_TITLE }}\r\n        </div>\r\n    </div>\r\n\r\n    <div class="body">\r\n        <div class="content tabbed">\r\n\r\n            <div class="header">\r\n                <ul class="control tabSet reverse buttons horizontal ">\r\n                    <li tabid="" class="tab first selected" id="axisTab">\r\n                        <a class="button">\r\n                            <span class="wrap">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_AXIS_OPTIONS }}</span>\r\n                        </a>\r\n                    </li>\r\n                    <li tabid="" class="tab" id="labelsTab">\r\n                        <a class="button">\r\n                            <span class="wrap">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_LABELS_OPTIONS }}</span>\r\n                        </a>\r\n                    </li>\r\n                    <li tabid="" class="tab" id="dataTab">\r\n                        <a class="button">\r\n                            <span class="wrap">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_DATA_OPTIONS }}</span>\r\n                        </a>\r\n                    </li>\r\n                    <li tabid="" class="tab" id="advancedTab">\r\n                        <a class="button">\r\n                            <span class="wrap">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_ADVANCED }}</span>\r\n                        </a>\r\n                    </li>\r\n                    <!--\r\n                    <li tabid="" class="tab" id="rangesTab">\r\n                        <a class="button">\r\n                            <span class="wrap">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_RANGES_OPTIONS }}</span>\r\n                        </a>\r\n                    </li>-->\r\n                </ul>\r\n            </div>\r\n\r\n            <div class="body section noTitle" id="axisSection"></div>\r\n            <div class="body section noTitle hidden" id="labelsSection"></div>\r\n            <div class="body section noTitle hidden" id="dataSection"></div>\r\n            <div class="body section noTitle hidden" id="advancedSection"></div>\r\n            <!--\r\n            <div class="body section noTitle hidden" id="rangesSection"></div>\r\n            -->\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div class="footer ">\r\n        <button class="button action primary up applyButton">\r\n            <span class="wrap">\r\n                {{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_BUTTON_APPLY }}\r\n                <span class="icon"></span>\r\n            </span>\r\n        </button>\r\n        <button class="button action up okButton">\r\n            <span class="wrap">\r\n                {{- i18n.ADH_016_BUTTON_OK }}\r\n                <span class="icon"></span>\r\n            </span>\r\n        </button>\r\n        <button class="button action up cancelButton">\r\n            <span class="wrap">\r\n                {{- i18n.ADH_010_BUTTON_CANCEL }}\r\n                <span class="icon"></span>\r\n            </span>\r\n        </button>\r\n    </div>\r\n\r\n</div>';
}),define("text!adhoc/intelligentChart/formattingDialog/template/AxisSectionTemplate.htm",[],function(){return'<div class="group">\r\n    <div class="groupName">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_GROUP_X_AXIS }}</div>\r\n    <!--<div class="control checkBox">\r\n        <input id="showXAxisLabels" name="showXAxisLabels" type="checkbox" value="true"/>\r\n        <label for="showXAxisLabels">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_SHOW_X_AXIS_LABEL }}</label>\r\n    </div>-->\r\n    <div class="control">\r\n        <label for="xAxisStep">\r\n            {{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_INTERVAL_BETWEEN_X_AXIS_LABELS }}\r\n            <input id="xAxisStep" name="xAxisStep" type="text"/>\r\n        </label>\r\n    </div>\r\n    <div class="control">\r\n        <label for="xAxisRotation">\r\n            {{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_ROTATION_OF_X_AXIS_LABELS }}\r\n            <input id="xAxisRotation" name="xAxisRotation" type="text"/>\r\n        </label>\r\n    </div>\r\n</div>\r\n    <!--<div class="control checkBox">\r\n        <label for="rotateAllLevels">\r\n            {{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_ROTATE_ALL_LEVELS }}\r\n            <input id="rotateAllLevels" name="rotateAllLevels" type="checkbox"/>\r\n        </label>\r\n    </div>\r\n    <div class="control checkBox">\r\n        <input id="showYAxisLabels" name="showYAxisLabels" type="checkbox" value="true"/>\r\n        <label for="showYAxisLabels">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_SHOW_Y_AXIS_LABEL }}</label>\r\n    </div>-->\r\n<div class="group">\r\n    <div class="groupName">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_GROUP_Y_AXIS }}</div>\r\n    <div class="control">\r\n        <label for="yAxisStep">\r\n            {{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_INTERVAL_BETWEEN_Y_AXIS_LABELS }}\r\n            <input id="yAxisStep" name="yAxisStep" type="text"/>\r\n        </label>\r\n    </div>\r\n    <div class="control">\r\n        <label for="yAxisRotation">\r\n            {{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_ROTATION_OF_Y_AXIS_LABELS }}\r\n            <input id="yAxisRotation" name="yAxisRotation" type="text"/>\r\n        </label>\r\n    </div>\r\n    <!--<div class="control">\r\n        <label for="labelOffset">\r\n            {{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_LABEL_OFFSET }}\r\n            <input id="labelOffset" name="labelOffset" type="text"/>\r\n        </label>\r\n    </div>\r\n    <div class="control">\r\n        <label for="thousandSeparator">\r\n            {{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_THOUSAND_SEPARATOR }}\r\n            <select id="thousandSeparator" name="thousandSeparator">\r\n                <option value="None">None</option>\r\n                <option value="," selected>,(Comma)</option>\r\n                <option value=".">.(Point)</option>\r\n            </select>\r\n        </label>\r\n    </div>\r\n    <div class="control">\r\n        <label for="decimalPoint">\r\n            {{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_DECIMAL_POINT }}\r\n            <select id="decimalPoint" name="decimalPoint">\r\n                <option value=",">,(Comma)</option>\r\n                <option value="." selected>.(Point)</option>\r\n            </select>\r\n        </label>\r\n    </div>\r\n    <div class="control checkBox">\r\n        <label for="invertedAxis">\r\n            {{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_INVERTED_AXIS }}\r\n            <input id="invertedAxis" name="invertedAxis" type="checkbox"/>\r\n        </label>\r\n    </div>-->\r\n</div>'}),define("text!adhoc/intelligentChart/formattingDialog/template/LabelsSectionTemplate.htm",[],function(){return'<div class="group">\r\n    <!--Is not needed in Amber release. Uncomment if needed-->\r\n    <!--\r\n    <div class="control checkBox">\r\n        <label for="singleAxisComboChart">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_SINGLE_AXIS_COMBO_CHART\r\n            }}</label>\r\n        <input id="singleAxisComboChart" name="singleAxisComboChart" type="checkbox"/>\r\n    </div>\r\n    <div class="control">\r\n        <label for="donnutInnerSize">\r\n            {{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_DONNUT_INNER_SIZE }}\r\n            <input id="donnutInnerSize" name="donnutInnerSize" type="text"/>\r\n        </label>\r\n    </div>\r\n    -->\r\n    <div class="groupName">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_GROUP_LEGEND }}</div>\r\n    <div class="control">\r\n        <label for="legend">\r\n            {{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_LEGEND_POSITION }}\r\n            <select id="legend" name="legend">\r\n                <option value="bottom" selected>{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_LEGEND_POSITION_BOTTOM }}</option>\r\n                <option value="top">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_LEGEND_POSITION_TOP }}</option>\r\n                <option value="right">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_LEGEND_POSITION_RIGHT }}</option>\r\n                <option value="left">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_LEGEND_POSITION_LEFT }}</option>\r\n                <option value="none">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_LEGEND_POSITION_NONE }}</option>\r\n            </select>\r\n        </label>\r\n    </div>\r\n    <div class="control checkBox">\r\n        <label for="legendBorder">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_SHOW_LEGEND_BORDER }}</label>\r\n        <input id="legendBorder" name="legendBorder" type="checkbox" value="true"/>\r\n    </div>\r\n</div>\r\n<div class="group">\r\n    <div class="groupName">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_GROUP_MEASURES }}</div>\r\n    <div class="control checkBox">\r\n        <label for="showSingleMeasuresLabels">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_SHOW_SINGLE_MEASURE_LABELS\r\n            }}</label>\r\n        <input id="showSingleMeasuresLabels" name="showSingleMeasuresLabels" type="checkbox"/>\r\n    </div>\r\n    <div class="control checkBox child">\r\n        <input id="showMeasureOnValueAxis" name="showMeasureOnValueAxis" type="checkbox" value="true"/>\r\n        <label for="showMeasureOnValueAxis">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_SHOW_MEASURE_NAME }}</label>\r\n    </div>\r\n    </div>\r\n<div class="group">\r\n    <div class="groupName">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_GROUP_GENERAL }}</div>\r\n    <div class="control checkBox">\r\n        <label for="autoScaleFonts"> {{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_AUTO_SCALE_LABEL_FONT_SIZE }}</label>\r\n        <input id="autoScaleFonts" name="autoScaleFonts" type="checkbox" value="true"/>\r\n    </div>\r\n</div>'}),define("text!adhoc/intelligentChart/formattingDialog/template/DataSectionTemplate.htm",[],function(){return'<div class="group">\r\n    <div class="groupName">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_GROUP_NAME_LINE_AND_AREA }}</div>\r\n    <div class="control checkBox">\r\n        <label for="showDataPoints">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_SHOW_DATA_POINTS }}</label>\r\n        <input id="showDataPoints" name="showDataPoints" type="checkbox" value="true"/>\r\n    </div>\r\n</div>\r\n<div class="group">\r\n    <div class="groupName">{{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_GROUP_NAME_SCATTER_AND_BUBBLE }}</div>\r\n    <div class="control checkBox">\r\n        <label for="showScatterLine"> {{- i18n.ADH_1214_ICHARTS_CHART_FORMAT_DIALOG_SHOW_SCATTER_LINE }}</label>\r\n        <input id="showScatterLine" name="showScatterLine" type="checkbox" value="true"/>\r\n    </div>\r\n</div>'}),define("adhoc/intelligentChart/formattingDialog/view/FormattingDialogView",["require","underscore","jquery","backbone","bundle!adhoc_messages","adhoc/intelligentChart/formattingDialog/model/FormattingDialogModel","adhoc/intelligentChart/formattingDialog/view/AdvancedSectionView","text!adhoc/intelligentChart/formattingDialog/template/FormattingDialogTemplate.htm","text!adhoc/intelligentChart/formattingDialog/template/AxisSectionTemplate.htm","text!adhoc/intelligentChart/formattingDialog/template/LabelsSectionTemplate.htm","text!adhoc/intelligentChart/formattingDialog/template/DataSectionTemplate.htm"],function(e){"use strict";var t=e("underscore"),i=e("jquery"),n=e("backbone"),a=e("bundle!adhoc_messages"),r=(e("adhoc/intelligentChart/formattingDialog/model/FormattingDialogModel"),e("adhoc/intelligentChart/formattingDialog/view/AdvancedSectionView")),s=e("text!adhoc/intelligentChart/formattingDialog/template/FormattingDialogTemplate.htm"),o=e("text!adhoc/intelligentChart/formattingDialog/template/AxisSectionTemplate.htm"),l=e("text!adhoc/intelligentChart/formattingDialog/template/LabelsSectionTemplate.htm"),d=e("text!adhoc/intelligentChart/formattingDialog/template/DataSectionTemplate.htm");return n.View.extend({template:t.template(s),el:"#chartFormatDialog",initialize:function(){this._subviews=[],this.render(),this.model.on("change",this._renderFields,this)},events:{"click .applyButton":"_apply","click .okButton":"_ok","click .cancelButton":"_cancel","click ul.tabSet .tab":"_switchTab","change select#legend":"_disableLegendBorderControl","change input#showSingleMeasuresLabels":"_disableMeasureNamesControl"},render:function(){return this.$el.empty(),this.$el.html(this.template({i18n:a})),this.advancedSectionView=new r,this.$el.find("#axisSection").html(t.template(o)({i18n:a})),this.$el.find("#labelsSection").html(t.template(l)({i18n:a})),this.$el.find("#dataSection").html(t.template(d)({i18n:a})),this.$el.find("#advancedSection").html(this.advancedSectionView.$el),this._subviews.push(this.advancedSectionView),this._renderFields(),this},_renderFields:function(){this.inputFields={},t.each(this.model.attributes,function(e,t){var i=this.$el.find("#"+t);"checkbox"==i.attr("type")?(this.inputFields[t]=i.prop("checked",e),"showMeasureOnValueAxis"===t&&(this.model.get("showSingleMeasuresLabels")?this.inputFields[t].prop("disabled",!1).parent().removeClass("disabled"):this.inputFields[t].prop("disabled",!0).parent().addClass("disabled"))):"advancedProperties"===t?this.advancedSectionView.reset(e):this.inputFields[t]=i.val(e)},this)},_updateModel:function(){var e=this._extractData();return this.model.set(e,{validate:!0}),this.$el.find(".error").removeClass("error"),this.model.isValid()?!0:(t.each(this.model.validationError,function(e,t){this.$el.find("#"+t).val(this.model.get(t))},this),this._updateModel())},_apply:function(){this._updateModel(),this.model.applyModel()},_ok:function(){this._updateModel(),this.model.applyModel(),this._switchToFirstTab(),dialogs.popup.hide(this.el)},_cancel:function(){this.model.set(this.model._savedAttributes,{silent:!0}),this._renderFields(),this._switchToFirstTab(),dialogs.popup.hide(this.el)},_switchTab:function(e){if(this._updateModel()){var t=this.$el.find("ul.tabSet li.tab");t.removeClass("selected");var i=this.$el.find(e.currentTarget);i.addClass("selected"),i.children("a").removeClass("over");var n=i.attr("id"),a=n.substring(0,n.indexOf("Tab"));this.$el.find("div.body.section.noTitle").addClass("hidden"),this.$el.find("#"+a+"Section").removeClass("hidden")}this._resetAdvancedTab()},_resetAdvancedTab:function(){this.advancedSectionView.resetState()},_switchToFirstTab:function(){var e=this.$el.find("ul.tabSet li.tab");e.removeClass("selected");var t=this.$el.find("ul.tabSet li.tab.first");t.addClass("selected");var i=t.attr("id"),n=i.substring(0,i.indexOf("Tab"));this.$el.find("div.body.section.noTitle").addClass("hidden"),this.$el.find("#"+n+"Section").removeClass("hidden")},_extractData:function(){var e={};return t.each(this.model.attributes,function(t,i){var n=this.inputFields[i];return"advancedProperties"===i?void(e[i]=this.advancedSectionView.toJSON()):void(n.length&&("checkbox"==n.attr("type")?e[i]=n.prop("checked"):e[i]=n.val()))},this),e},_disableMeasureNamesControl:function(e){var t=this.$el.find("input#showMeasureOnValueAxis");i(e.currentTarget).is(":checked")?t.prop("checked",this._tmpPreviousStateShowMeasureOnValueAxis).prop("disabled",!1).parent().removeClass("disabled"):(this._tmpPreviousStateShowMeasureOnValueAxis=t.prop("checked"),t.prop("checked",!1).prop("disabled",!0).parent().addClass("disabled"))},_disableLegendBorderControl:function(e){var t=this.$el.find("input#legendBorder");"none"===i(e.currentTarget).val()?t.prop("disabled",!0).parent().addClass("disabled"):t.prop("disabled",!1).parent().removeClass("disabled")},remove:function(){t.invoke(this._subviews,"remove"),n.View.prototype.remove.call(this)}})}),define("jquery-ui/jquery.ui.position",["require","jquery"],function(e){function t(e,t,i){return[parseFloat(e[0])*(m.test(e[0])?t/100:1),parseFloat(e[1])*(m.test(e[1])?i/100:1)]}function i(e,t){return parseInt(a.css(e,t),10)||0}function n(e){var t=e[0];return 9===t.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:a.isWindow(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var a=e("jquery");a.ui=a.ui||{};var r,s=Math.max,o=Math.abs,l=Math.round,d=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,m=/%$/,p=a.fn.position;return a.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,t,i=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=i.children()[0];return a("body").append(i),e=n.offsetWidth,i.css("overflow","scroll"),t=n.offsetWidth,e===t&&(t=i[0].clientWidth),i.remove(),r=e-t},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth,r="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:r?a.position.scrollbarWidth():0,height:n?a.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=a(e||window),i=a.isWindow(t[0]),n=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:i,isDocument:n,offset:t.offset()||{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:i?t.width():t.outerWidth(),height:i?t.height():t.outerHeight()}}},a.fn.position=function(e){if(!e||!e.of)return p.apply(this,arguments);e=a.extend({},e);var r,m,f,g,_,v,b=a(e.of),y=a.position.getWithinInfo(e.within),T=a.position.getScrollInfo(y),A=(e.collision||"flip").split(" "),M={};return v=n(b),b[0].preventDefault&&(e.at="left top"),m=v.width,f=v.height,g=v.offset,_=a.extend({},g),a.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=d.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=d.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",t=u.exec(n[0]),i=u.exec(n[1]),M[this]=[t?t[0]:0,i?i[0]:0],e[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===A.length&&(A[1]=A[0]),"right"===e.at[0]?_.left+=m:"center"===e.at[0]&&(_.left+=m/2),"bottom"===e.at[1]?_.top+=f:"center"===e.at[1]&&(_.top+=f/2),r=t(M.at,m,f),_.left+=r[0],_.top+=r[1],this.each(function(){var n,d,c=a(this),u=c.outerWidth(),h=c.outerHeight(),p=i(this,"marginLeft"),v=i(this,"marginTop"),S=u+p+i(this,"marginRight")+T.width,L=h+v+i(this,"marginBottom")+T.height,C=a.extend({},_),D=t(M.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?C.left-=u:"center"===e.my[0]&&(C.left-=u/2),"bottom"===e.my[1]?C.top-=h:"center"===e.my[1]&&(C.top-=h/2),C.left+=D[0],C.top+=D[1],a.support.offsetFractions||(C.left=l(C.left),C.top=l(C.top)),n={marginLeft:p,marginTop:v},a.each(["left","top"],function(t,i){a.ui.position[A[t]]&&a.ui.position[A[t]][i](C,{targetWidth:m,targetHeight:f,elemWidth:u,elemHeight:h,collisionPosition:n,collisionWidth:S,collisionHeight:L,offset:[r[0]+D[0],r[1]+D[1]],my:e.my,at:e.at,within:y,elem:c})}),e.using&&(d=function(t){var i=g.left-C.left,n=i+m-u,a=g.top-C.top,r=a+f-h,l={target:{element:b,left:g.left,top:g.top,width:m,height:f},element:{element:c,left:C.left,top:C.top,width:u,height:h},horizontal:0>n?"left":i>0?"right":"center",vertical:0>r?"top":a>0?"bottom":"middle"};u>m&&o(i+n)<m&&(l.horizontal="center"),h>f&&o(a+r)<f&&(l.vertical="middle"),s(o(i),o(n))>s(o(a),o(r))?l.important="horizontal":l.important="vertical",e.using.call(this,t,l)}),c.offset(a.extend(C,{using:d}))})},a.ui.position={fit:{left:function(e,t){var i,n=t.within,a=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,o=e.left-t.collisionPosition.marginLeft,l=a-o,d=o+t.collisionWidth-r-a;t.collisionWidth>r?l>0&&0>=d?(i=e.left+l+t.collisionWidth-r-a,e.left+=l-i):d>0&&0>=l?e.left=a:l>d?e.left=a+r-t.collisionWidth:e.left=a:l>0?e.left+=l:d>0?e.left-=d:e.left=s(e.left-o,e.left)},top:function(e,t){var i,n=t.within,a=n.isWindow?n.scrollTop:n.offset.top,r=t.within.height,o=e.top-t.collisionPosition.marginTop,l=a-o,d=o+t.collisionHeight-r-a;t.collisionHeight>r?l>0&&0>=d?(i=e.top+l+t.collisionHeight-r-a,e.top+=l-i):d>0&&0>=l?e.top=a:l>d?e.top=a+r-t.collisionHeight:e.top=a:l>0?e.top+=l:d>0?e.top-=d:e.top=s(e.top-o,e.top)}},flip:{left:function(e,t){var i,n,a=t.within,r=a.offset.left+a.scrollLeft,s=a.width,l=a.isWindow?a.scrollLeft:a.offset.left,d=e.left-t.collisionPosition.marginLeft,c=d-l,u=d+t.collisionWidth-s-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,m="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];0>c?(i=e.left+h+m+p+t.collisionWidth-s-r,(0>i||i<o(c))&&(e.left+=h+m+p)):u>0&&(n=e.left-t.collisionPosition.marginLeft+h+m+p-l,(n>0||o(n)<u)&&(e.left+=h+m+p))},top:function(e,t){var i,n,a=t.within,r=a.offset.top+a.scrollTop,s=a.height,l=a.isWindow?a.scrollTop:a.offset.top,d=e.top-t.collisionPosition.marginTop,c=d-l,u=d+t.collisionHeight-s-l,h="top"===t.my[1],m=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];0>c?(n=e.top+m+p+f+t.collisionHeight-s-r,e.top+m+p+f>c&&(0>n||n<o(c))&&(e.top+=m+p+f)):u>0&&(i=e.top-t.collisionPosition.marginTop+m+p+f-l,e.top+m+p+f>u&&(i>0||o(i)<u)&&(e.top+=m+p+f))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var e,t,i,n,r,s=document.getElementsByTagName("body")[0],o=document.createElement("div");e=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&a.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(r in i)e.style[r]=i[r];e.appendChild(o),t=s||document.documentElement,t.insertBefore(e,t.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",n=a(o).offset().left,a.support.offsetFractions=n>10&&11>n,e.innerHTML="",t.removeChild(e)}(),a}),define("jquery-ui/jquery.ui.droppable",["require","./jquery.ui.core","./jquery.ui.mouse","./jquery.ui.widget","./jquery.ui.draggable"],function(e){function t(e,t,i){return e>t&&t+i>e}e("./jquery.ui.core"),e("./jquery.ui.mouse"),e("./jquery.ui.widget");var i=e("./jquery.ui.draggable");return i.widget("ui.droppable",{version:"@VERSION",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,t=this.options,n=t.accept;this.isover=!1,this.isout=!0,this.accept=i.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},i.ui.ddmanager.droppables[t.scope]=i.ui.ddmanager.droppables[t.scope]||[],i.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,t=i.ui.ddmanager.droppables[this.options.scope];e<t.length;e++)t[e]===this&&t.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,t){"accept"===e&&(this.accept=i.isFunction(t)?t:function(e){return e.is(t)}),i.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var t=i.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),t&&this._trigger("activate",e,this.ui(t))},_deactivate:function(e){var t=i.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),t&&this._trigger("deactivate",e,this.ui(t))},_over:function(e){var t=i.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(t)))},_out:function(e){var t=i.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(t)))},_drop:function(e,t){var n=t||i.ui.ddmanager.current,a=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=i.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&i.ui.intersect(n,i.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(a=!0,!1):void 0}),a?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),i.ui.intersect=function(e,i,n){if(!i.offset)return!1;var a,r,s=(e.positionAbs||e.position.absolute).left,o=(e.positionAbs||e.position.absolute).top,l=s+e.helperProportions.width,d=o+e.helperProportions.height,c=i.offset.left,u=i.offset.top,h=c+i.proportions().width,m=u+i.proportions().height;switch(n){case"fit":return s>=c&&h>=l&&o>=u&&m>=d;case"intersect":return c<s+e.helperProportions.width/2&&l-e.helperProportions.width/2<h&&u<o+e.helperProportions.height/2&&d-e.helperProportions.height/2<m;case"pointer":return a=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,r=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,t(r,u,i.proportions().height)&&t(a,c,i.proportions().width);case"touch":return(o>=u&&m>=o||d>=u&&m>=d||u>o&&d>m)&&(s>=c&&h>=s||l>=c&&h>=l||c>s&&l>h);default:return!1}},i.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,t){var n,a,r=i.ui.ddmanager.droppables[e.options.scope]||[],s=t?t.type:null,o=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||e&&!r[n].accept.call(r[n].element[0],e.currentItem||e.element))){for(a=0;a<o.length;a++)if(o[a]===r[n].element[0]){r[n].proportions().height=0;continue e}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===s&&r[n]._activate.call(r[n],t),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(e,t){var n=!1;return i.each((i.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&i.ui.intersect(e,this,this.options.tolerance)&&(n=this._drop.call(this,t)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,t)))}),n},dragStart:function(e,t){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||i.ui.ddmanager.prepareOffsets(e,t)})},drag:function(e,t){e.options.refreshPositions&&i.ui.ddmanager.prepareOffsets(e,t),i.each(i.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,a,r,s=i.ui.intersect(e,this,this.options.tolerance),o=!s&&this.isover?"isout":s&&!this.isover?"isover":null;o&&(this.options.greedy&&(a=this.options.scope,r=this.element.parents(":data(ui-droppable)").filter(function(){return i.data(this,"ui-droppable").options.scope===a}),r.length&&(n=i.data(r[0],"ui-droppable"),n.greedyChild="isover"===o)),n&&"isover"===o&&(n.isover=!1,n.isout=!0,n._out.call(n,t)),this[o]=!0,this["isout"===o?"isover":"isout"]=!1,this["isover"===o?"_over":"_out"].call(this,t),n&&"isout"===o&&(n.isout=!1,n.isover=!0,n._over.call(n,t)))}})},dragStop:function(e,t){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||i.ui.ddmanager.prepareOffsets(e,t)}},i}),define("jquery-ui/jquery.ui.sortable",["require","./jquery.ui.core","./jquery.ui.mouse","./jquery.ui.widget"],function(e){function t(e,t,i){return e>t&&t+i>e}function i(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e("./jquery.ui.core"),e("./jquery.ui.mouse");var n=e("./jquery.ui.widget");return n.widget("ui.sortable",n.ui.mouse,{version:"@VERSION",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,t){"disabled"===e?(this.options[e]=t,this.widget().toggleClass("ui-sortable-disabled",!!t)):n.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,t){var i=null,a=!1,r=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),n(e.target).parents().each(function(){return n.data(this,r.widgetName+"-item")===r?(i=n(this),!1):void 0}),n.data(e.target,r.widgetName+"-item")===r&&(i=n(e.target)),i&&(!this.options.handle||t||(n(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(a=!0)}),a))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,t,i){var a,r,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",s.cursor),this.storedStylesheet=n("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(r)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("activate",e,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!s.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var t,i,a,r,s=this.options,o=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-n(document).scrollTop()<s.scrollSensitivity?o=n(document).scrollTop(n(document).scrollTop()-s.scrollSpeed):n(window).height()-(e.pageY-n(document).scrollTop())<s.scrollSensitivity&&(o=n(document).scrollTop(n(document).scrollTop()+s.scrollSpeed)),e.pageX-n(document).scrollLeft()<s.scrollSensitivity?o=n(document).scrollLeft(n(document).scrollLeft()-s.scrollSpeed):n(window).width()-(e.pageX-n(document).scrollLeft())<s.scrollSensitivity&&(o=n(document).scrollLeft(n(document).scrollLeft()+s.scrollSpeed))),o!==!1&&n.ui.ddmanager&&!s.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t=this.items.length-1;t>=0;t--)if(i=this.items[t],a=i.item[0],r=this._intersectsWithPointer(i),r&&i.instance===this.currentContainer&&a!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==a&&!n.contains(this.placeholder[0],a)&&("semi-dynamic"===this.options.type?!n.contains(this.element[0],a):!0)){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),n.ui.ddmanager&&n.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,t){if(e){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,e),this.options.revert){var i=this,a=this.placeholder.offset(),r=this.options.axis,s={};r&&"x"!==r||(s.left=a.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(s.top=a.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,n(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,t);
return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n(t).each(function(){var t=(n(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&i.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t.each(function(){i.push(n(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,a=n+this.helperProportions.height,r=e.left,s=r+e.width,o=e.top,l=o+e.height,d=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||n+d>o&&l>n+d,h="y"===this.options.axis||t+c>r&&s>t+c,m=u&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?m:r<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&o<n+this.helperProportions.height/2&&a-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var i="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),a=i&&n,r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return a?this.floating?s&&"right"===s||"down"===r?2:1:r&&("down"===r?2:1):!1},_intersectsWithSides:function(e){var i=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),a=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:a&&("down"===a&&i||"up"===a&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){function t(){o.push(this)}var i,a,r,s,o=[],l=[],d=this._connectWith();if(d&&e)for(i=d.length-1;i>=0;i--)for(r=n(d[i]),a=r.length-1;a>=0;a--)s=n.data(r[a],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([n.isFunction(s.options.items)?s.options.items.call(s.element):n(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(t);return n(o)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var t,i,a,r,s,o,l,d,c=this.items,u=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):n(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(t=h.length-1;t>=0;t--)for(a=n(h[t]),i=a.length-1;i>=0;i--)r=n.data(a[i],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(u.push([n.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):n(r.options.items,r.element),r]),this.containers.push(r));for(t=u.length-1;t>=0;t--)for(s=u[t][1],o=u[t][0],i=0,d=o.length;d>i;i++)l=n(o[i]),l.data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var t,i,a,r;for(t=this.items.length-1;t>=0;t--)i=this.items[t],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(a=this.options.toleranceElement?n(this.options.toleranceElement,i.item):i.item,e||(i.width=a.outerWidth(),i.height=a.outerHeight()),r=a.offset(),i.left=r.left,i.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;t>=0;t--)r=this.containers[t].element.offset(),this.containers[t].containerCache.left=r.left,this.containers[t].containerCache.top=r.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var t,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(t=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),a=n("<"+i+">",e.document[0]).addClass(t||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?e.currentItem.children().each(function(){n("<td>&#160;</td>",e.document[0]).attr("colspan",n(this).attr("colspan")||1).appendTo(a)}):"img"===i&&a.attr("src",e.currentItem.attr("src")),t||a.css("visibility","hidden"),a},update:function(n,a){(!t||i.forcePlaceholderSize)&&(a.height()||a.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),a.width()||a.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=n(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var a,r,s,o,l,d,c,u,h,m,p=null,f=null;for(a=this.containers.length-1;a>=0;a--)if(!n.contains(this.currentItem[0],this.containers[a].element[0]))if(this._intersectsWith(this.containers[a].containerCache)){if(p&&n.contains(this.containers[a].element[0],p.element[0]))continue;p=this.containers[a],f=a}else this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",e,this._uiHash(this)),this.containers[a].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(s=1e4,o=null,m=p.floating||i(this.currentItem),l=m?"left":"top",d=m?"width":"height",c=this.positionAbs[l]+this.offset.click[l],r=this.items.length-1;r>=0;r--)n.contains(this.containers[f].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(!m||t(this.positionAbs.top+this.offset.click.top,this.items[r].top,this.items[r].height))&&(u=this.items[r].item.offset()[l],h=!1,Math.abs(u-c)>Math.abs(u+this.items[r][d]-c)&&(h=!0,u+=this.items[r][d]),Math.abs(u-c)<s&&(s=Math.abs(u-c),o=this.items[r],this.direction=h?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var t=this.options,i=n.isFunction(t.helper)?n(t.helper.apply(this.element[0],[e,this.currentItem])):"clone"===t.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||n("parent"!==t.appendTo?t.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||t.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||t.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),n.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&n.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,i,a=this.options;"parent"===a.containment&&(a.containment=this.helper[0].parentNode),("document"===a.containment||"window"===a.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n("document"===a.containment?document:window).width()-this.helperProportions.width-this.margins.left,(n("document"===a.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(a.containment)||(e=n(a.containment)[0],t=n(a.containment).offset(),i="hidden"!==n(e).css("overflow"),this.containment=[t.left+(parseInt(n(e).css("borderLeftWidth"),10)||0)+(parseInt(n(e).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(n(e).css("borderTopWidth"),10)||0)+(parseInt(n(e).css("paddingTop"),10)||0)-this.margins.top,t.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(n(e).css("borderLeftWidth"),10)||0)-(parseInt(n(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(n(e).css("borderTopWidth"),10)||0)-(parseInt(n(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(a[0].tagName);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:a.scrollTop())*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:a.scrollLeft())*i}},_generatePosition:function(e){var t,i,a=this.options,r=e.pageX,s=e.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),a.grid&&(t=this.originalPageY+Math.round((s-this.originalPageY)/a.grid[1])*a.grid[1],s=this.containment?t-this.offset.click.top>=this.containment[1]&&t-this.offset.click.top<=this.containment[3]?t:t-this.offset.click.top>=this.containment[1]?t-a.grid[1]:t+a.grid[1]:t,i=this.originalPageX+Math.round((r-this.originalPageX)/a.grid[0])*a.grid[0],r=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-a.grid[0]:i+a.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:o.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:o.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var a=this.counter;this._delay(function(){a===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,a=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&a.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||a.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(a.push(function(e){this._trigger("remove",e,this._uiHash())}),a.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),a.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||a.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(a.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;n<a.length;n++)a[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;n<a.length;n++)a[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||n([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}}),n}),define("reportViewer/jquery.ui.custom",["require","jquery-ui/jquery.ui.position","jquery-ui/jquery.ui.datepicker","jquery-ui/jquery.ui.timepicker","jquery-ui/jquery.ui.draggable","jquery-ui/jquery.ui.droppable","jquery-ui/jquery.ui.resizable","jquery-ui/jquery.ui.sortable","jquery"],function(e){return e("jquery-ui/jquery.ui.position"),e("jquery-ui/jquery.ui.datepicker"),e("jquery-ui/jquery.ui.timepicker"),e("jquery-ui/jquery.ui.draggable"),e("jquery-ui/jquery.ui.droppable"),e("jquery-ui/jquery.ui.resizable"),e("jquery-ui/jquery.ui.sortable"),e("jquery")}),define("adhoc/intelligentChart/adhocIntelligentChart",["require","exports","module","jquery","underscore","xssUtil","bundle!all","highcharts","adhoc/api/chart/adhocToHighchartsAdapter","adhoc/api/chart/adhocToHighchartsAdapter/adhocDataProcessor","adhoc/api/chart/adhocToHighchartsAdapter/highchartsDataMapper","adhoc/intelligentChart/formattingDialog/model/FormattingDialogModel","adhoc/intelligentChart/formattingDialog/view/FormattingDialogView","logger","jquery.ui","prototype","utils.common","designer.base"],function(e,t,i){"use strict";var n=e("jquery"),a=e("underscore"),r=e("xssUtil"),s=e("bundle!all"),o=e("highcharts"),l=e("adhoc/api/chart/adhocToHighchartsAdapter"),d=e("adhoc/api/chart/adhocToHighchartsAdapter/adhocDataProcessor"),c=e("adhoc/api/chart/adhocToHighchartsAdapter/highchartsDataMapper"),u=e("adhoc/intelligentChart/formattingDialog/model/FormattingDialogModel"),h=e("adhoc/intelligentChart/formattingDialog/view/FormattingDialogView"),m=e("logger").register(i);e("jquery.ui"),e("prototype"),e("utils.common"),e("designer.base");var p={},f=p;return a.extend(f,{debug:!1,mode:null,controller:"ich",state:{},cache:[],initd:!1,hasAllData:!1,groupLevel:{column:0,row:0},firstRendering:!0,chartContainerSelector:"#chartContainer",reset:function(){f.isDesignerInitialized=!1},setMode:function(e){this.mode=e},getMode:function(){return this.mode},flush:function(){this.hasAllData=!1,this.cache=[]},setUp:function(){},isOLAP:function(){return this.getMode()===designerBase.OLAP_ICHART},isOlapMode:function(){return this.getMode()===designerBase.OLAP_ICHART},isNonOlapMode:function(){return this.getMode()===designerBase.ICHART},update:function(e){try{f.setUp(),a.extend(this.state,e)}catch(t){f.debug&&console.log("AIC.update:   caught error "+t+" restore state to previous"),adhocDesigner.undo(),dialogs.systemConfirm.show("The previous request encountered an error '"+t+"' restoring chart to previous state")}return this},render:function(){var e=f.state.queryData.data.length>0,t=f.state.unresolvedReferences&&f.state.unresolvedReferences.length>0,i=t?adhocDesigner.getMissingFieldsCanvasMessage(f.state):adhocDesigner.getMessage("ADH_1214_ICHARTS_NO_DATA");return n("#nothingToDisplayMessage").html(i),adhocDesigner.setNothingToDisplayVisibility(!e||t),f.chart&&f.state.isRedrawRequired===!0&&(f.chart.destroy(),f.chart=void 0),f.ui.update(f.state),f.ui.render(),e=f.renderChart(e),f.isDesignerInitialized=!0,n("[action='chart-format']").removeClass("disabled"),e},checkChartDataOnClientSide:function(){if(f.state.queryData.metadata.canRender){var e=f.state.queryData.metadata,t=1===e.measureAxis?0:1,i=1===e.measureAxis?1:0,n=f.state.chartState.chartType,a=e.measures.length,r=e.axes[t].length,s=e.axes[i].length,o=0===e.measureAxis?"row":"column",l=(1===e.measureAxis?"row":"column",!0),d="olap_ichart"===f.state.viewType;"dual_measure_tree_map"===n?(l="column"===o&&2===a&&1===r&&!d,l=l&&1===s):"tree_map"===n?(l="column"===o&&1===a&&r>=1&&!d,l=l&&1===s):"one_parent_tree_map"===n&&(l="column"===o&&1===a&&r>=2&&!d,l=l&&1===s),l||(f.state.queryData.metadata.canRender=l)}},renderChart:function(e){if(!f.firstRendering&&f.state.queryData.data.length){f.debug&&console.info(f.state),this.checkChartDataOnClientSide();var t;if(f.state.queryData.metadata.canRender===!1){var i=f.state.chartState.chartType;t=f._isTimeSeries()&&!c.isHeatMapTimeSeriesChart(i)?adhocDesigner.getMessage("ADH_1214_ICHARTS_NO_TIME_SERIES_DATA"):c.isDualOrMultiAxisChart(i)||c.isScatterChart(i)||c.isBubbleChart(i)?adhocDesigner.messages["ADH_1214_ICHARTS_NO_DATA_"+i.toUpperCase()]:c.isDualLevelPieChart(i)?adhocDesigner.messages.ADH_1214_ICHARTS_NO_DATA_DUAL_LEVEL_PIE:c.isHeatMapChart(i)&&!adhocDesigner.isOlapMode()?adhocDesigner.messages.ADH_1214_ICHARTS_NO_DATA_HEAT_MAP_NON_OLAP:c.isHeatMapChart(i)&&adhocDesigner.isOlapMode()?adhocDesigner.messages.ADH_1214_ICHARTS_NO_DATA_HEAT_MAP_OLAP:c.isHeatMapTimeSeriesChart(i)?adhocDesigner.messages.ADH_1214_ICHARTS_NO_DATA_TIME_SERIES_HEAT_MAP:c.isDualMeasureTreeMapChart(i)?s.ADH_1214_ICHARTS_NO_DATA_DUAL_MEASURE_TREE_MAP:c.isTreeMapChart(i)?s.ADH_1214_ICHARTS_NO_DATA_TREE_MAP:c.isOneParentTreeMapChart(i)?s.ADH_1214_ICHARTS_NO_DATA_ONE_PARENT_TREE_MAP:"Unknown chart type group.",n("#nothingToDisplayMessage").text(t),adhocDesigner.setNothingToDisplayVisibility(!0),f.chart&&(f.chart.destroy(),f.chart=void 0)}else{var u=n(f.chartContainerSelector);f.ichWidth=u.width(),f.ichHeight=u.height();var h=l.generateOptions(f.state.queryData,f.state.chartState,{width:f.ichWidth,height:f.ichHeight,messages:adhocDesigner.messages});if(f._checkHasData(h)){if(e=!0,f.state.isRedrawRequired===!0||!f.chart){f._setAutoScaleFonts();try{f.chart=new o.Chart(h)}catch(p){m.error(p),t=/\#12/.test(p)?s.ADH_1214_ICHARTS_ERROR_12:/\#13/.test(p)?s.ADH_1214_ICHARTS_ERROR_13:/\#14/.test(p)?s.ADH_1214_ICHARTS_ERROR_14:/\#15/.test(p)?s.ADH_1214_ICHARTS_ERROR_15:/\#16/.test(p)?s.ADH_1214_ICHARTS_ERROR_16:/\#17/.test(p)?s.ADH_1214_ICHARTS_ERROR_17:/\#18/.test(p)?s.ADH_1214_ICHARTS_ERROR_18:/\#19/.test(p)?adhocDesigner.messages.ADH_1214_ICHARTS_ERROR_TOO_MANY_VALUES:/\#20/.test(p)?s.ADH_1214_ICHARTS_ERROR_20:/\#21/.test(p)?s.ADH_1214_ICHARTS_ERROR_21:/\#22/.test(p)?s.ADH_1214_ICHARTS_ERROR_22:/\#23/.test(p)?s.ADH_1214_ICHARTS_ERROR_23:adhocDesigner.messages.ADH_1214_ICHARTS_ERROR_UNCAUGHT,a.each(o.charts,function(e){e&&e.destroy()}),f.state.canSave=!1,adhocDesigner.enableRunAndSave(!1),n("#nothingToDisplayMessage").text(t),adhocDesigner.setNothingToDisplayVisibility(!0),f.chart&&(f.chart.destroy(),f.chart=void 0),e=!1}}}else e=!1,n("#nothingToDisplayMessage").html(r.escape(adhocDesigner.getMessage("ADH_1214_ICHARTS_NO_CHART_DATA"),{softHTMLEscape:!0})),adhocDesigner.setNothingToDisplayVisibility(!e);f.isOLAP()&&(f.state.olapDimensionInfo=d.getOLAPDimensionInfo()),isDesignView&&f._renderDataLevelSelector()}}return e},redraw:function(){var e=n(f.chartContainerSelector);if(f.ichWidth!=e.width()||f.ichHeight!=e.height()){var t=f.ichHeight==e.height();f.ichWidth=e.width(),f.ichHeight=e.height(),f._setAutoScaleFonts()?f.render():f.chart.setSize(f.ichWidth,f.ichHeight,t)}},_setAutoScaleFonts:function(){var e=n(f.chartContainerSelector);if(!f.state.chartState.autoScaleFonts)return"undefined"!=typeof f.autoScaleFontsSize&&e.css("font-size",f.autoScaleFontsSize),!1;"undefined"==typeof f.autoScaleFontsSize&&(f.autoScaleFontsSize=parseInt(e.css("font-size")));var t=1;return f.ichWidth<=100?t=.4:f.ichWidth>100&&f.ichWidth<=200?t=.5:f.ichWidth>200&&f.ichWidth<=300?t=.6:f.ichWidth>300&&f.ichWidth<=400?t=.7:f.ichWidth>400&&f.ichWidth<=500?t=.8:f.ichWidth>500&&f.ichWidth<=600&&(t=.9),parseInt(e.css("font-size"))!==Math.round(f.autoScaleFontsSize*t)?(e.css("font-size",f.autoScaleFontsSize*t),!0):!1},_isTimeSeries:function(){return-1!=f.state.chartState.chartType.indexOf("time_series")},_isDualMeasureTreeMap:function(){return-1!=f.state.chartState.chartType.indexOf("dual_measure_tree_map")},_isTimeSeriesHeatMap:function(){return c.isHeatMapTimeSeriesChart(f.state.chartState.chartType)},cleanupOnSwitch:function(){f.ui.controls.chartTypeSelector.hide(),f.ui.dialogs.groupSelector.hide()},resize:function(){("pie"==f.state.chartState.chartType||c.isHeatMapTimeSeriesChart(f.state.chartState.chartType))&&f.render()},fixFirstRendering:function(){f.firstRendering&&(f.firstRendering=!1,f.renderChart())},initAll:function(){},_checkHasData:function(e){if(!e)return!1;if(!e.series)return!1;if(e.series.length<=0)return!1;for(var t=!1,i=0;i<e.series.length;i++)if(null!=e.series[i].data&&e.series[i].data.length>0){t=!0;break}return t},_isPivotAllowed:function(){var e=f;return e.getDimensions("row").length>0||e.isOLAP()&&e.getDimensions("column").length>0},_renderDataLevelSelector:function(){var e=f.ui.controls.dataLevelSelector;e.render(),(f._isTimeSeries()||f._isDualMeasureTreeMap())&&e.hideRowsSlider()}}),a.extend(f,{serviceBus:{_listenersMap:{},_allEventsListeners:[],_incorrectEventTypeMsg:"Service bus supports only string events. Received event is not a string.",fireEvent:function(e){var t=f.serviceBus;if("string"!=typeof e)throw t._incorrectEventTypeMsg;var i=t._listenersMap,n=i[e];n&&a.each(n,function(t){t(e)}),a.each(t._allEventsListeners,function(t){t(e)})},registerListener:function(e,t){var i=f.serviceBus;if("string"!=typeof e)throw i._incorrectEventTypeMsg;var n=i._listenersMap,a=n[e];a||(a=[],n[e]=a),a.push(t)},registerAllEventsListener:function(e){f.serviceBus._allEventsListeners.push(e)}}}),a.extend(f,{mediator:{_isListenerRegistered:!1,eventToAction:{"chart:typeChanged":function(){f.state.chartState.chartType=f.ui.controls.chartTypeSelector.getType(),f.updateChartState()},"chart:levelChanged":function(){f.state.chartState.columnsSelectedLevels=f.ui.controls.dataLevelSelector.getColumnSelectedLevels(),f.state.chartState.rowsSelectedLevels=f.ui.controls.dataLevelSelector.getRowsSelectedLevels(),f.updateChartState()}},listener:function(e){if("string"!=typeof e)throw"Mediator supports only string events. Received event is not a string.";var t=f.mediator.eventToAction[e];t&&t()},register:function(){f.serviceBus._isListenerRegistered||(f.serviceBus.registerAllEventsListener(f.mediator.listener),f.serviceBus._isListenerRegistered=!0)}}}),a.extend(f,{ui:{controls:{dataLevelSelector:{_container:null,_column:null,_row:null,init:function(){var e=f.ui.controls.dataLevelSelector;e._container=n("#dataLevelSelector")},render:function(){if(c.isDualLevelPieChart(f.state.chartState.chartType))return void f.ui.controls.dataLevelSelector.hide();var e=f.ui.controls.dataLevelSelector;f.ui.selectorTables.column.show().find("td.select-header").parent().siblings().remove(),f.ui.selectorTables.row.show().find("td.select-header").parent().siblings().remove(),f.isOLAP()?e._renderOlapSlider():e._renderNonOlapSliders(),adhocDesigner.resetFilterPanelState()},_renderOlapSlider:function(){var e=f.ui.controls.dataLevelSelector;e._column=[],e._row=[],n.each(["row","column"],function(t,i){f.state.olapDimensionInfo[t].length?(n.each(f.state.olapDimensionInfo[t],function(t,n){var a=f.state.chartState[i+"sSelectedLevels"][t];e["_"+i].push(f.ui.create.slider(f.ui.selectorTables[i],n.levels,n.dimension,{max:n.levels.length-1,value:e._levelToLevelPosition(a,n),stop:function(e,t){f.serviceBus.fireEvent("chart:levelChanged")}}))}),f.ui.selectorTables[i].show()):f.ui.selectorTables[i].hide()})},_renderNonOlapSliders:function(){var e=f.ui.controls.dataLevelSelector;e._row=e._renderNonOlapSlider(0),e._column=e._renderNonOlapSlider(1)},_renderNonOlapSlider:function(e){var t=f.ui.controls.dataLevelSelector,i=[];n.each(f.state.queryData.metadata.axes[e],function(e,t){"Measures"!=t.name&&i.push(t.label)});var a=0===e?f.ui.selectorTables.row:f.ui.selectorTables.column,r=0===e?d.getRowSliderLevelCount():d.getColumnSliderLevelCount(),s=0===e?f.state.chartState.rowsSelectedLevels:f.state.chartState.columnsSelectedLevels;return a.find("td.select-header").parent().siblings().remove(),1==r?a.hide():a.show(),f.ui.create.slider(a,i,"",{max:r-1,value:t._getSliderPositionForNonOlap(s,e),stop:function(e,t){f.serviceBus.fireEvent("chart:levelChanged")}})},hide:function(){f.ui.selectorTables.column.hide(),f.ui.selectorTables.row.hide()},hideRowsSlider:function(){f.ui.selectorTables.row.hide()},hideColumnsSlider:function(){f.ui.selectorTables.column.hide()},_levelToLevelPosition:function(e,t){for(var i=0;i<t.levels.length;i++)if(t.levels[i].levelName===e.name)return i;throw"No OLAP level info found for specified level = "+e},getRowsSelectedLevels:function(){var e=f.ui.controls.dataLevelSelector;return e._getSelectedLevels(e._row,e._row,0)},getColumnSelectedLevels:function(){var e=f.ui.controls.dataLevelSelector;return e._getSelectedLevels(e._column,e._column,1)},_getSelectedLevels:function(e,t,i){var n=f.ui.controls.dataLevelSelector;return f.isOLAP()?n._extractOlapSelectedLevels(t,i):n._extractNonOlapSelectedLevels(e,i)},_extractOlapSelectedLevels:function(e,t){var i=f.ui.controls.dataLevelSelector,a=[];return n(e).each(function(e){var s=i._extractSliderPosition(n(this)),o=f.state.olapDimensionInfo[t][e],l=o.levels[s];a.push({name:r.unescape(l.levelName),label:r.unescape(l.label),dimension:o.dimension})}),a},_extractNonOlapSelectedLevels:function(e,t){var i=f.ui.controls.dataLevelSelector,n=i._extractSliderPosition(e);if(0===n)return[];var a=d.getLevelsWithoutMeasures(f.state.queryData.metadata.axes[t]);return[a[n-1]]},_getSliderPositionForNonOlap:function(e,t){if(0===e.length)return 0;var i=d.getLevelsWithoutMeasures(f.state.queryData.metadata.axes[t]);return d.getLevelIndex(i,e[0])+1},_extractSliderPosition:function(e){return e.slider("option","value")},dock:function(){var e=f.ui.controls.dataLevelSelector;e._container.find("div.pod-body").eq(0).appendTo(n("#level-container")),dialogs.popup.hide(e._container[0])},undock:function(){var e=f.ui.controls.dataLevelSelector;n("#level-container").children("div.pod-body").eq(0).appendTo(e._container.find("div.body").eq(0)),dialogs.popup.show(e._container[0])}},chartTypeSelector:{_type:null,_container:null,_DISABLED_CLASS:"disabled",_patternsDisabledForOlap:["[name$='_time_series']","[name$='tree_map']"],init:function(){var e=f.ui.controls.chartTypeSelector;if(e._container=n("#chartTypeSelector"),e._container.on("click","div.cell",e._typeSelectedHandler),f.isOLAP())for(var t=0;t<e._patternsDisabledForOlap.length;t++)n(e._patternsDisabledForOlap[t]).addClass(e._DISABLED_CLASS)},update:function(e){var t=f.ui.controls.chartTypeSelector;t._type=e},render:function(){var e=f.ui.controls.chartTypeSelector;e._container.find("div.cell").removeClass("selected"),e._container.find('div.cell[name="'+e._type+'"]').eq(0).addClass("selected")},hide:function(){var e=f.ui.controls.chartTypeSelector;dialogs.popup.hide(e._container[0])},_typeSelectedHandler:function(){var e=f.ui.controls.chartTypeSelector;n(this).hasClass(e._DISABLED_CLASS)||(e._type=this.getAttribute("name"),e.render(),f.serviceBus.fireEvent("chart:typeChanged"))},getType:function(){var e=f.ui.controls.chartTypeSelector;return e._type}}},update:function(e){f.ui.controls.chartTypeSelector.update(e.chartState.chartType)},render:function(){var e=n("#titleCaption");f.state.titleBarShowing?e.show():e.hide(),e.text(f.state.title),adhocDesigner.enableXtabPivot(f._isPivotAllowed()),
f.ui.controls.chartTypeSelector.render(),f.ui.dialogs.formatDialog.model.set(f.state.chartState),f.ui.controls.dataLevelSelector.hide()},create:{sliderTable:function(e){var t=n("#level-container").show().children(".pod-body").eq(0),i=Mustache.to_html(n("#levelSelectorTemplate").html(),{id:(e?"row":"column")+"LevelSelector",colspan:f.isOLAP()?2:1,name:e?layoutManagerLabels.row[f.mode]:layoutManagerLabels.column[f.mode]}),a=n(i).appendTo(t);return a.on("mouseover","div.tickOverlay",function(e){var t=n(this).parent();f.dataLevelTooltip.text(t.attr("level-name")),f.dataLevelTooltip.show().position({of:t,at:"center top",my:"center bottom",offset:"0 -6",collision:"fit"}),"block"==f.ui.selectorTables.column.css("display")&&f.ui.selectorTables.column.hide().show(),"block"==f.ui.selectorTables.row.css("display")&&f.ui.selectorTables.row.hide().show()}),a.on("mouseover","a.ui-slider-handle",function(e){var t=n(this).parent(),i=t.children("div.sliderTick").eq(t.slider("option","value"));f.dataLevelTooltip.text(i.attr("level-name")),f.dataLevelTooltip.show().position({of:i,at:"center top",my:"center bottom",offset:"0 -6",collision:"fit"}),"block"==f.ui.selectorTables.column.css("display")&&f.ui.selectorTables.column.hide().show(),"block"==f.ui.selectorTables.row.css("display")&&f.ui.selectorTables.row.hide().show()}),a.on("mouseout","a.ui-slider-handle, div.tickOverlay",function(e){f.dataLevelTooltip.hide(),"block"==f.ui.selectorTables.column.css("display")&&f.ui.selectorTables.column.hide().show(),"block"==f.ui.selectorTables.row.css("display")&&f.ui.selectorTables.row.hide().show()}),a},slider:function(e,t,i,a){var s={label:f.isOLAP()?{name:i}:!1,marginLeft:f.isOLAP()?"24px":0};e.find("tbody").eq(0).append(Mustache.to_html(n("#dataLevelSelectorTemplate").html(),s));var o=e.find("div.jrs-slider").last();o.slider({value:a.value,min:0,max:a.max,step:1,range:"min",stop:a.stop,slide:function(e,t){var i=n(t.handle).parent().children("div.sliderTick").eq(t.value);f.dataLevelTooltip.text(i.attr("level-name")),f.dataLevelTooltip.show().position({of:i,at:"center top",my:"center bottom",offset:"0 -6",collision:"fit"}),"block"==f.ui.selectorTables.column.css("display")&&f.ui.selectorTables.column.hide().show(),"block"==f.ui.selectorTables.row.css("display")&&f.ui.selectorTables.row.hide().show()}});var l=a.max>0?100/a.max:0;f.isOLAP()||(t.unshift("All"),a.max++);for(var d=0;d<a.max+1;d++)if(t[d]){var s={label:t[d].label||t[d],width:d*l};"All"==s.label&&(s.label="Total"),s.label=r.unescape(s.label);var c=Mustache.to_html(n("#sliderTickTemplate").html(),s);o.append(c)}return o}}},init:function(e){if(f.mediator.register(),f.dataLevelTooltip=n("#dataLevelTooltip"),n("#chartOptions").appendTo(adhocDesigner.ui.canvas).show(),n("#chartMenu").appendTo(adhocDesigner.ui.canvas),n(Mustache.to_html(n("#titleCaptionTemplate").html()),{}).appendTo(adhocDesigner.ui.canvas).show(),n("#chartContainer").appendTo(adhocDesigner.ui.canvas).show(),!f.initd&&(n("#chartOptions").on("mouseenter",function(){n(this).addClass("over"),n("#chartMenu").show().position({of:n("#chartOptions"),at:"left bottom",my:"left top",offset:"0 -1"})}),n("#chartMenu").on("mouseleave",function(){n("#chartOptions").removeClass("over"),n("#chartMenu").hide()}),n("#chartMenu").on("mouseenter","p.wrap",function(){n(this).addClass("over")}),n("#chartMenu").on("mouseleave","p.wrap",function(){n(this).removeClass("over")}),n("#chartMenu").on("click","li",function(){if(n(this).is('[action="chart-types"]'))dialogs.popup.show(f.ui.dialogs.typeSelector[0]),f.ui.controls.chartTypeSelector.render();else if(n(this).is('[action="chart-format"]')){if(n(this).hasClass("disabled"))return;f.ui.dialogs.formatDialog.model.set(f.state.chartState),dialogs.popup.show(f.ui.dialogs.formatDialog.el),adhocDesigner.initEnableBrowserSelection($("designer"))}}),n("#chartTypeSelector .closeIcon").on(isIPad()?"touchstart":"click",function(){f.ui.dialogs.typeSelector.hide()}),n("#dataLevelSelector .closeIcon").on(isIPad()?"touchstart":"click",function(){f.ui.dialogs.groupSelector.hide()}),f.ui.dialogs={typeSelector:n("#chartTypeSelector"),groupSelector:n("#dataLevelSelector")},f.ui.selectorTables={column:f.ui.create.sliderTable(!1),row:f.ui.create.sliderTable(!0)},f.ui.controls.chartTypeSelector.init(),f.ui.controls.dataLevelSelector.init(),!f.ui.dialogs.formatDialog)){var t=new u(f.state.chartState,{parse:!0,updateState:a.bind(f.updateChartState,f)});f.ui.dialogs.formatDialog=new h({model:t})}f.ui.dialogs.typeSelector.hide(),f.ui.dialogs.groupSelector.hide(),n("#level-container").show(),f.initd=!0},hide:function(){n("#chartOptions").appendTo("#highChartsRepo").hide(),n("#chartMenu").appendTo("#highChartsRepo").hide(),n("#titleCaption").remove(),n("#chartContainer").appendTo("#highChartsRepo").hide()}}),a.extend(f,{mouseUpHandler:function(e){},mouseDownHandler:function(e){},mouseOverHandler:function(e){},mouseOutHandler:function(e){},mouseClickHandler:function(e){},treeMenuHandler:function(e){var t,i=e.memo.node;"dimensionsTree"===i.treeId?t=i.isParent()?adhocDesigner.DIMENSION_TREE_DIMENSION_CONTEXT:adhocDesigner.DIMENSION_TREE_LEVEL_CONTEXT:"measuresTree"===i.treeId&&(t=i.isParent()?adhocDesigner.MEASURE_TREE_GROUP_CONTEXT:adhocDesigner.MEASURE_TREE_CONTEXT),adhocDesigner.showDynamicMenu(e.memo.targetEvent,t,null)},lmHandlersMap:{addItems:function(e,t,i){var n=a.uniq(a.map(e,function(e){return e.extra.dimensionId})),r=a.pluck(e,"id"),s=e[0].extra.isMeasure,o=localContext.isOlapMode();f.insertDimensionInAxisWithChild({dim:s?n.slice(0,1):n,axis:i,pos:t,child:o||s?r:null,hierarchyName:e[0].extra.hierarchyName})},measureReorder:function(e,t){f.moveMeasure(e,t)},column:{addItem:function(e,t,i,n,a,r,s){f.insertDimensionInAxisWithChild({dim:e,axis:"column",pos:t,child:localContext.isOlapMode()||a?i:null,measure_pos:n,isMeasure:a,uri:r,hierarchyName:s})},removeItem:function(e,t){e.isMeasure?f.removeMeasure(t):f.hideColumnLevel(e.dimensionId,e.level)},moveItem:function(e,t,i){f.moveDimension(e,"column","column",t,i)},switchItem:function(e,t,i){f.moveDimension(e,"row","column",t,i)},contextMenu:function(e,t){f.selectFromDisplayManager(t.targetEvent,t.extra,designerBase.COLUMN_GROUP_MENU_LEVEL),actionModel.setSelected([t.extra]),f.showMenu(t.targetEvent,"displayManagerColumn")}},row:{addItem:function(e,t,i,n,a,r,s){f.insertDimensionInAxisWithChild({dim:e,axis:"row",pos:t,child:localContext.isOlapMode()||a?i:null,measure_pos:n,isMeasure:a,uri:r,hierarchyName:s})},removeItem:function(e,t){e.isMeasure?f.removeMeasure(t):f.hideRowLevel(e.dimensionId,e.level)},moveItem:function(e,t,i){f.moveDimension(e,"row","row",t,i)},switchItem:function(e,t,i){f.moveDimension(e,"column","row",t,i)},contextMenu:function(e,t){f.selectFromDisplayManager(t.targetEvent,t.extra,designerBase.ROW_GROUP_MENU_LEVEL),actionModel.setSelected([t.extra]),f.showMenu(t.targetEvent,"displayManagerRow")}}}}),a.extend(f,{insertDimensionInAxisWithChild:function(e){e&&(e.dim&&(e.dim=designerBase.encodeParam(e.dim)),e.child&&(e.child=designerBase.encodeParam(e.child)),e.hierarchyName&&(e.hierarchyName=designerBase.encodeParam(e.hierarchyName)),e.uri&&(e.uri=designerBase.encodeParam(e.uri))),f.flush(),designerBase.sendRequest("ich_insertDimensionInAxisWithChild",e,f.standardOpCallback,{bPost:!0})},removeMeasure:function(e){designerBase.sendRequest("ich_removeMeasure",new Array("i="+e),f.standardOpCallback,null)},moveDimension:function(e,t,i,n,a){designerBase.sendRequest("ich_moveDimension",{dim:encodeURIComponent(e),axisFrom:t,axisTo:i,f:n,t:a},f.standardOpCallback,null)},hideRowLevel:function(e,t){designerBase.sendRequest("ich_hideRowLevel",new Array("f="+encodeText(e),"level="+encodeText(t)),f.standardOpCallback,null)},hideColumnLevel:function(e,t){var i=function(i){f.standardOpCallback(i);var n=f.getLevelObject(t,e,"column");n&&n.propertyMap&&"true"==n.propertyMap.lastFilteredLevel&&dialogs.systemConfirm.show(adhocDesigner.getMessage("ADH_CROSSTAB_LAST_FILTERED_LEVEL"),5e3)};designerBase.sendRequest("ich_hideColumnLevel",new Array("f="+encodeText(e),"level="+encodeText(t)),i,null)},expandAllLevels:function(){f.debug&&console.log("AIC.expandAllLevels:  sending expandAll query, this may take some time"),f.cache=[],f.hasAllData=!0,designerBase.sendRequest("ich_expandAllLevels",null,f.standardOpCallback,null)},switchToColumnGroup:function(e){var t=adhocDesigner.getSelectedColumnOrGroup(),i=a.isNumber(e)?e:t.groupIndex;designerBase.sendRequest("ich_switchToColumnGroup",new Array("i="+i),f.standardOpCallback,null)},switchToRowGroup:function(e){var t=adhocDesigner.getSelectedColumnOrGroup(),i=a.isNumber(e)?e:t.groupIndex;designerBase.sendRequest("ich_switchToRowGroup",new Array("i="+i),f.standardOpCallback,null)},moveRowGroup:function(e,t,i){var n=function(e){f.standardOpCallback(e),i&&i()};designerBase.sendRequest("ich_moveRowGroup",new Array("f="+e,"t="+t),n,null)},moveColumnGroup:function(e,t,i){var n=function(e){f.standardOpCallback(e),i&&i()};designerBase.sendRequest("ich_moveColumnGroup",new Array("f="+e,"t="+t),n,null)},moveMeasure:function(e,t){designerBase.sendRequest("ich_moveMeasureByName",["measure="+encodeText(e),"to="+t],f.standardOpCallback,null)},updateChartState:function(e){n.extend(f.state.chartState,e);var t=function(e){if(!e)throw"No response received on save chart state request";f.standardOpCallback(e)};designerBase.sendRequest("ich_updateChartState",["chartState="+encodeURIComponent(Object.toJSON(f.state.chartState))],t,null)},setCategoryForRowGroup:function(e,t){var i=function(e){f.standardOpCallback(e)};designerBase.sendRequest("ich_setRowGroupCategorizer",new Array("cat="+encodeText(e),"i="+t),i,null)},setCategoryForColumnGroup:function(e,t){var i=function(e){f.standardOpCallback(e)};designerBase.sendRequest("ich_setColumnGroupCategorizer",new Array("cat="+encodeText(e),"i="+t),i,null)},setSummaryFunction:function(e,t){designerBase.sendRequest("ich_setSummaryFunction",new Array("f="+encodeText(e),"i="+t),f.standardOpCallback,null)},setSummaryFunctionAndMask:function(e,t,i){designerBase.sendRequest("cr_setSummaryFunctionAndDataMask",new Array("f="+encodeText(e),"m="+encodeText(t),"i="+i),f.standardOpCallback,null)},setSummaryTimeFunction:function(e,t){designerBase.sendRequest("ich_setSummaryTimeFunction",new Array("f="+encodeText(e),"i="+t),f.standardOpCallback,null)},setHideEmptyRows:function(){designerBase.sendRequest("ich_setProperty",new Array("name=hideEmptyRows","value=true"),f.standardOpCallback,null)},setUnhideEmptyRows:function(){designerBase.sendRequest("ich_setProperty",new Array("name=hideEmptyRows","value=false"),f.standardOpCallback,null)},updateViewCallback:function(e){f.standardOpCallback(e)}}),a.extend(f,{canSaveReport:function(){return f.state.canSave},hideEmptyRowsEquals:function(e){return f.state.crosstabState.hideEmptyRows===e},canAddFilter:function(e,t){var i,n;if(localContext.isOlapMode()&&(i=isNotNullORUndefined(e.isMeasure)?e.isMeasure:e.param.extra&&e.param.extra.isMeasure,n=localContext._isAddingFilterDuplicate(e)),i)return t&&t.push(addFilterErrorMessageMeasureAdd),!1;var a=e.param?e.param.extra&&e.param.extra.id:e.level,r=a&&0===a.indexOf(localContext.ALL_LEVEL_NAME);return r?(t&&t.push(addFilterErrorMessageAllLevelAdd),!1):e.isParent&&e.isParent()?(t&&t.push(addFilterErrorMessageGroupAdd),!1):e.param&&localContext.fromSiblingHierarchy(e.param.extra.hierarchyName,e.param.extra.dimensionId)?(t&&t.push(addFilterErrorMessageAnotherHierarchy),!1):adhocDesigner.isSpacerSelected(e)?(t&&t.push(addFilterErrorMessageSpacerAdd),!1):adhocDesigner.isPercentOfParentCalcSelected(e)?(t&&t.push(addFilterErrorMessagePercentOfParentCalcFieldAdd),!1):adhocDesigner.isConstantSelected(e)?(t&&t.push(addFilterErrorMessageConstantAdd),!1):n?(t&&t.push(addFilterErrorMessage),!1):!0},canAddSliceFilter:function(){var e=selObjects.find(function(e){return!e.isSliceable});return selObjects.first()&&!e},_isAddingFilterDuplicate:function(e){var t;return t=e.param?"["+e.param.extra.dimensionId+"].["+e.param.extra.id+"]":"["+e.dimensionId+"].["+e.level+"]",adhocDesigner.filtersController.hasFilterForField(t)},isDateType:function(){return f.isDateTimeType("date")},isTimestampType:function(){return f.isDateTimeType("timestamp")},isTimeType:function(){return f.isDateTimeType("time")},isDateTimeType:function(e){var t=adhocDesigner.getSelectedColumnOrGroup();if(t){var i=f.isGroupSelected(t),n=AdHocCrosstab.getSelectedGroup(t);if(n){var a=n.canReBucket===!0,r=n.type===e;return i&&a&&r}}return!1},isGroupSelected:function(e){return!e.isMeasure},isCurrentDateType:function(e){var t=AdHocCrosstab.getSelectedGroup(adhocDesigner.getSelectedColumnOrGroup());return t?t.categorizerName==e:!1},canMoveUpOrLeft:function(){var e=adhocDesigner.getSelectedColumnOrGroup(),t=f.getSelectedDimensionIndex(e);return t>0},canMoveDownOrRight:function(){var e=adhocDesigner.getSelectedColumnOrGroup(),t=f.getSelectedDimensionIndex(e);return t<f.getDimensions(e.axis).length-1},canAddSiblingLevels:function(){return!0},canSwitchToRow:function(){var e=adhocDesigner.getSelectedColumnOrGroup();return!f.isOLAP()||f.getDimensions(e.axis).length>1},canAddDimensionAsRowGroup:function(){var e=selObjects.first();if(e.hasChilds()||(e=e.parent),f.isOLAP()){if(0===f.getDimensions("column").length)return!1;var t=e.param.id,i=e.param.extra.isHierarchy&&e.param.extra.id,n=f.getLevelsFromDimension(t,"column"),r=f.getLevelsFromDimension(t,"row"),s=localContext.fromSiblingHierarchy(i,t);return 0===n.length&&(e.param.extra.isHierarchy&&s||r.length<e.getChildCount())}var o=dynamicTree.trees[e.getTreeId()],l=adhocDesigner.getAllLeaves(e,o),d=adhocDesigner.getAllLeaves(e,o).collect(function(e){return e.param.extra.id});if(l[0].param.extra.isMeasure){var c=f.getFilteredMeasureList("column");return 0===c.length}var u=a.pluck(f.getFilteredList(),"name");return a.difference(d,u).length>0},canAddDimensionAsColumnGroup:function(){var e=selObjects.first();if(e.hasChilds()||(e=e.parent),f.isOLAP()){var t=e.param.id,i=e.param.extra.isHierarchy&&e.param.extra.id,n=f.getLevelsFromDimension(t,"column"),r=f.getLevelsFromDimension(t,"row"),s=localContext.fromSiblingHierarchy(i,t);return 0===r.length&&(e.param.extra.isHierarchy&&s||n.length<e.getChildCount())}var o=dynamicTree.trees[e.getTreeId()],l=adhocDesigner.getAllLeaves(e,o),d=adhocDesigner.getAllLeaves(e,o).collect(function(e){return e.param.extra.id});if(l[0].param.extra.isMeasure){var c=f.getFilteredMeasureList("row");return 0===c.length}var u=a.pluck(f.getFilteredList(),"name");return a.difference(d,u).length>0},canAddLevelAsColumnGroup:function(){var e=selObjects.first(),t=f.isOLAP()?[e.param.extra.dimensionId]:adhocDesigner.getAllLeaves(e).map(function(e){return e.param.extra.dimensionId}),i=t.inject([],function(e,t){return e.concat(f.getLevelsFromDimension(t,"column")||[])}),n=t.inject([],function(e,t){return e.concat(f.getLevelsFromDimension(t,"row")||[])});return 0===n.length&&(0===i.length||!f.isOLAP()&&(e.param.extra.isMeasure||f.isDateField(e.param.extra))||!i.find(function(e){return a.contains(a.map(designerBase.getSelectedObjects(),function(e){return e.param.extra.id}),e)}))},canAddLevelAsRowGroup:function(){if(0===f.getDimensions("column").length&&f.isOLAP())return!1;var e=selObjects.first(),t=f.isOLAP()?[e.param.extra.dimensionId]:adhocDesigner.getAllLeaves(e).map(function(e){return e.param.extra.dimensionId}),i=t.inject([],function(e,t){return e.concat(f.getLevelsFromDimension(t,"column")||[])}),n=t.inject([],function(e,t){return e.concat(f.getLevelsFromDimension(t,"row")||[])});return e.param.extra?0===i.length&&(0===n.length||!f.isOLAP()&&(e.param.extra.isMeasure||f.isDateField(e.param.extra))||!n.find(function(t){return e.param.extra.id===t})):!1},isRowGroupSelected:function(e){return"row"===e.axis&&!e.isMeasure},isColumnGroupSelected:function(e){return"column"===e.axis&&!e.isMeasure},showAddHierarchyConfirm:function(e,t,i){return f.fromSiblingHierarchy(e,t)?(adhocDesigner.addConfirmDialog.show({ok:function(){return f.isFiltersApplied(t)?void dialogs.systemConfirm.show(adhocDesigner.getMessage("ADH_CROSSTAB_LAST_FILTERED_LEVEL"),5e3):void i()}}),!0):!1},isFiltersApplied:function(e,t){var i=a.pluck(f.getLevelObjectsFromDimension(e,t),"levelUniqueName"),n=a.pluck(f.state.existingFilters,"name");return!a.isEmpty(a.intersection(i,n))},isDateField:function(e){return"Timestamp"===e.type||"Date"===e.type||"Time"===e.type}}),a.extend(f,{removeLevelFromColumn:function(){var e=selObjects.first();n("#"+adhocDesigner.DISPLAY_MANAGER_ID).trigger("lm:removeItem",{axis:"column",index:e.index,item:{level:e.level,dimensionId:e.dimensionId,isMeasure:e.isMeasure}})},removeLevelFromRow:function(){var e=selObjects.first();n("#"+adhocDesigner.DISPLAY_MANAGER_ID).trigger("lm:removeItem",{axis:"row",index:e.index,item:{level:e.level,dimensionId:e.dimensionId,isMeasure:e.isMeasure}})},moveRowGroupLeft:function(e){var t=adhocDesigner.getSelectedColumnOrGroup(),i=f.getSelectedDimensionIndex(t),n=i-1;f.moveRowGroup(i,n,e)},moveRowGroupRight:function(e){var t=adhocDesigner.getSelectedColumnOrGroup(),i=f.getSelectedDimensionIndex(t),n=i+1;f.moveRowGroup(i,n,e)},moveColumnGroupLeft:function(e){var t=adhocDesigner.getSelectedColumnOrGroup(),i=f.getSelectedDimensionIndex(t),n=i-1;f.moveColumnGroup(i,n,e)},moveColumnGroupRight:function(e){var t=adhocDesigner.getSelectedColumnOrGroup(),i=f.getSelectedDimensionIndex(t),n=i+1;f.moveColumnGroup(i,n,e)},appendDimensionWithLevel:function(e,t){var i=e?f.getAvailableFieldsNodeBySelection(e.id,e.groupId):f.getAvailableFieldsNodeBySelection();i.axis=t,f.showAddHierarchyConfirm(i.hierarchyName,i.dimensionId,function(){n("#"+adhocDesigner.DISPLAY_MANAGER_ID).trigger("lm:addItem",i)})||n("#"+adhocDesigner.DISPLAY_MANAGER_ID).trigger("lm:addItem",i)},appendDimensionToRowAxisWithLevel:function(e){f.appendDimensionWithLevel(e,"row")},appendDimensionToColumnAxisWithLevel:function(e){f.appendDimensionWithLevel(e,"column")},appendMeasureToRow:function(e){var t=e?f.getAvailableFieldsNodesBySelection(e):f.getAvailableFieldsNodesBySelection();n("#"+adhocDesigner.DISPLAY_MANAGER_ID).trigger("lm:addItems",{axis:"row",levels:t,index:t[0].index})},appendMeasureToColumn:function(e){var t=e?f.getAvailableFieldsNodesBySelection(e):f.getAvailableFieldsNodesBySelection();n("#"+adhocDesigner.DISPLAY_MANAGER_ID).trigger("lm:addItems",{axis:"column",levels:t,index:t[0].index})},showMenu:function(e,t){var i,n=null;switch(t){case"displayManagerRow":i="displayManagerRow",n=f.generateAvailableSummaryCalculationsMenu;break;case"displayManagerColumn":i="displayManagerColumn",n=f.generateAvailableSummaryCalculationsMenu;break;case"groupMember":i=designerBase.MEMBER_GROUP_MENU_LEVEL,n=f.updateContextMenuWithSiblingLevels;break;case"measuresDimensionRow":i="measuresDimensionInRows";break;case"measuresDimensionColumn":i="measuresDimensionInColumns";break;case"rowGroup":i=designerBase.ROW_GROUP_MENU_LEVEL;break;case"columnGroup":i=designerBase.COLUMN_GROUP_MENU_LEVEL;break;case"measureRow":i="measureRow";break;case"measureColumn":i="measureColumn"}adhocDesigner.showDynamicMenu(e,i,null,n)},generateAvailableSummaryCalculationsMenu:function(e,t){if(!actionModel.selObjects[0].isMeasure)return t;var i=a.find(t,function(e){return"AdHocCrosstab.selectedMeasureShowsSummaryOptions"===e.clientTest});if(i){var n=actionModel.selObjects[0],r=a.findWhere(f.state.measures,{name:n.name});r&&adhocDesigner.generateAvailableSummaryCalculationsMenu(r.fieldName,i,{action:p.selectFunction,isSelectedTest:AdHocCrosstab.isSelectedSummaryFunction})}return t},setCatForColumnGroup:function(e){var t=adhocDesigner.getSelectedColumnOrGroup();t&&f.isColumnGroupSelected(t)&&f.setCategoryForColumnGroup(e,t.groupIndex)},setCatForRowGroup:function(e){var t=adhocDesigner.getSelectedColumnOrGroup();t&&f.isRowGroupSelected(t)&&f.setCategoryForRowGroup(e,t.groupIndex)},selectFunction:function(e){var t=AdHocCrosstab.getSelectedMeasure();if(t){var i=selObjects.first().index,n=adhocDesigner.getSuperType(t.type),a=AdHocCrosstab.getMeasureTypeByFunction(e);n!==a?f.setSummaryFunctionAndMask(e,defaultMasks[a],i):f.setSummaryFunction(e,i)}},selectTimeFunction:function(e){var t=AdHocCrosstab.getSelectedMeasure();if(t){var i=selObjects.first().index;adhocDesigner.getSuperType(t.type),AdHocCrosstab.getMeasureTypeByFunction(e);f.setSummaryTimeFunction(e,i)}}}),a.extend(f,{getDimensions:function(e){var t=f.state.crosstabState;return e?t[e+"Groups"]:a.chain(t).filter(function(e,t){return t.search(/Groups$/)>=0}).flatten().value()},getLevelsFromDimension:function(e,t){return a.pluck(this.getLevelObjectsFromDimension(e,t),"name")},getLevelObjectsFromDimension:function(e,t){var i=this.getDimensions(t);return e=a.find(i,function(t){return t.name===e}),e?a.chain(e.levels).filter(function(e){return e.visible}).map(function(e){return a.isEmpty(e.members)?e:e.members}).flatten().filter(function(e){return!e.isSpacer}).value():[]},getLevelObject:function(e,t,i){function n(e,t){return a.find(e,function(e){return e.name==t})}var r=this.getDimensions(i),s=n(r,t);return s?n(s.levels,e):null},getFilteredList:function(e,t){var i=e||null,n=t||{};return 1===arguments.length&&a.isObject(e)&&(n=e,i=null),n.visible=!0,a.chain(f.getDimensions(i)).pluck("levels").flatten().map(function(e){return a.isEmpty(e.members)?e:e.members}).flatten().filter(function(e){return a.all(n,function(t,i){return void 0===e[i]||e[i]===t})}).value()},getFilteredMeasureList:function(e,t){var i=e||null,n=t||{};return 1===arguments.length&&a.isObject(e)&&(n=e,i=null),f.getFilteredList(i,a.extend(n,{measure:!0,measuresLevel:!0}))},fromSiblingHierarchy:function(e,t,i){if(!e)return!1;var n=this.getLevelsFromDimension(t,i);return n.length>0&&-1===n[0].indexOf("["+e+"]")},getHierarchy:function(e){var t=e.param.extra;return e.hasChilds()?(e.getFirstChild().hasChilds()&&(t=e.getFirstChild().param.extra),t&&t.isHierarchy?t.id:void 0):t.hierarchyName},getAvailableFieldsNodeBySelection:function(e,t,i){var n={};if(i||(i=selObjects.first()),selectionCategory.area==designerBase.AVAILABLE_FIELDS_AREA)i.hasChilds()?(n.isMeasure="measuresTree"===i.treeId,n.dimensionId=n.isMeasure?i.treeId:i.param.id,n.uri=localContext.isNonOlapMode()?i.param.uri:void 0,n.level=null):(n.isMeasure=!!i.param.extra.isMeasure,n.level=i.param.extra.dimensionId&&i.param.id,n.dimensionId=i.param.extra.dimensionId||i.param.extra.id),n.hierarchyName=this.getHierarchy(i),n.index=-1;else if(selectionCategory.area==designerBase.ROW_GROUP_MENU_LEVEL||selectionCategory.area==designerBase.COLUMN_GROUP_MENU_LEVEL)if(e||t){var a=/.*\[(.*)\]/.exec(e),r=a&&a[1];n.isMeasure=!t,n.level=e,n.dimensionId=n.isMeasure?adhocDesigner.MEASURES:t,n.index=-1,n.hierarchyName=r}else{if(!i.axis)return void alert("Need a way to get dimension name for clicked level from crosstab");n=i}return n},getAvailableFieldsNodesBySelection:function(e,t){for(var i=[],n=0;n<selObjects.length;n++)i.push(f.getAvailableFieldsNodeBySelection(e,t,selObjects[n])),i[n].extra=i[n],i[n].dimensionId=i[n].dimensionId,i[n].id=i[n].level;return i},updateContextMenuWithSiblingLevels:function(e,t){if(!adhocDesigner.ui.display_manager)return t;var i=t.find(function(e){return"AdHocCrosstab.canAddSiblingLevels"===e.clientTest});if(!i)return t;var n=null,r=null,s=null,o=selObjects[0],l=/.*\[(.*)\]/.exec(o.level),d=l&&l[1];if(selObjects.first().isMeasure)r=adhocDesigner.measuresTree.getRootNode(),s="row"===selObjects.first().axis?"AdHocCrosstab.appendMeasureToRow":"AdHocCrosstab.appendMeasureToColumn";else{if(!f.isOLAP())return selObjects.first().index=0,t;r=adhocDesigner.dimensionsTree.getRootNode().childs.find(function(e){return e.param.extra.id===selObjects.first().dimensionId}),r.childs[0].param.extra.isHierarchy&&(r=a.find(r.childs,function(e){return e.param.extra.id===d})),s="row"===selObjects.first().axis?"AdHocCrosstab.appendDimensionToRowAxisWithLevel":"AdHocCrosstab.appendDimensionToColumnAxisWithLevel"}if(void 0===selObjects.first().allLevels){var c=selObjects.first();c.allLevels=AdHocCrosstab.state.getLevelsFromDimension(selObjects.first().dimensionId,c.axis),c.index=c.allLevels.indexOf(c.level)}return selObjects.first().allLevels&&(n=f.isOLAP()?r.childs.findAll(function(e){return!selObjects.first().allLevels.include(e.param.extra.id)}):adhocDesigner.getAllLeaves(r,adhocDesigner.measuresTree).findAll(function(e){return!selObjects.first().allLevels.include(e.param.extra.id)})),n&&0!==n.length?(i.text=adhocDesigner.getMessage(selObjects.first().isMeasure?"addMeasures":"addLevels"),i.children=n.collect(function(e){return actionModel.createMenuElement("optionAction",{text:e.name,action:s,actionArgs:selObjects.first().isMeasure?[e.param.extra.id]:[{id:e.param.extra.id,groupId:e.param.extra.dimensionId,isMeasure:!1}]})}),t):t},getSelectedDimensionIndex:function(e){var t;if(e){var i=e.isMeasure?adhocDesigner.MEASURES:e.dimensionId;t=-1,a.find(f.getDimensions(e.axis),function(e,n){return e.name===i?(t=n,!0):void 0})}return t}}),a.extend(f,{selectFromDisplayManager:function(e,t,i){designerBase.unSelectAll();var n=adhocDesigner.isMultiSelect(e,i);selectionCategory.area=i;var a=adhocDesigner.isAlreadySelected(t);adhocDesigner.addSelectedObject(e,t,n,a),Event.stop(e)},deselectAllSelectedOverlays:function(){}}),a.extend(f,{standardOpCallback:function(e){e?adhocDesigner.updateStateAndRender(e):window.console&&console.log("Internal server error occurred")}}),n(window).on("resizeEnd",function(){(localContext.getMode()==designerBase.ICHART||localContext.getMode()==designerBase.OLAP_ICHART)&&localContext.resize()}),n("#designer").bind({"rendering:done":function(){(localContext.getMode()==designerBase.ICHART||localContext.getMode()==designerBase.OLAP_ICHART)&&f.fixFirstRendering()}}),window.AdhocIntelligentChart=p,window.AIC=p,p});var AdHocCrosstab={DRILL_THROUGH_PATTERN:"tbody#detailRows tr td.value span",ROW_GROUP_MEMBER_PATTERN:"tbody#detailRows tr td.member",COLUMN_GROUP_MEMBER_PATTERN:"thead#headerAxis th.member",GROUP_LEVEL_PATTERN:"thead#headerAxis tr th.level",MEASURE_PATTERN:"table#canvasTable .measure",GROUP_MEMBER_DISCLOSURE_PATTERN:".olap span.button.disclosure",GROUP_LEVEL_DISCLOSURE_PATTERN:"th.level span.button.disclosure",SORT_ICON_PATTERN:".olap .icon.sort",MEASURE_LABEL_PATTERN:"#measureLabel.label.measure UL.measures LI.leaf a span.xm",XTAB_LABEL_PATTERN:"th.label.group",ROW_GROUP_OVERFLOW_PATTERN:"td.rowOverflow",COLGROUP_GROUP_OVERFLOW_PATTERN:"th.colOverflow",COLGROUP_PLACEHOLDER:"th#columnGroupsPlaceHolder",ROW_GROUP_PLACEHOLDER:"td#rowGroupsPlaceHolder",MEASURES_PLACEHOLDER:"td#measuresPlaceHolder",TREE_CONTEXT_MENU_PATTERN:["ul#dimensionsTree li.leaf .button","ul#dimensionsTree li.node .button","ul#measuresTree li.leaf .button","ul#measuresTree li.node .button"],SHOWING_DISPLAY_MANAGER_CLASS:"showingDisplayManager",OLAP_COLUMNS_ID:"olap_columns",OLAP_ROWS_ID:"olap_rows",DM_AXIS_LIST_PATTERN:"ul.tokens.sortable",NULL_DIMENSION:"NULL Dimension",DIMENSION_TREE_DIMENSION_CONTEXT:"dimensionsTree_dimension",DIMENSION_TREE_LEVEL_CONTEXT:"dimensionsTree_level",MEASURE_TREE_GROUP_CONTEXT:"measuresTree_group",MEASURE_TREE_CONTEXT:"measuresTree",DISPLAY_MANAGER_ROW_CONTEXT:"displayManagerRow",DISPLAY_MANAGER_COLUMN_CONTEXT:"displayManagerColumn",MEASURES_DIMENSION_ROW_MENU_CONTEXT:"measuresDimensionInRows",MEASURES_DIMENSION_COLUMN_MENU_CONTEXT:"measuresDimensionInColumns",MEASURE_ROW_MENU_CONTEXT:"measureRow",MEASURE_COLUMN_MENU_CONTEXT:"measureColumn",ENDS_WITH_A_NUMBER_REGEX:new RegExp("\\d+$"),ALL_LEVEL_NAME:"(All)",MEASURE:"measure",ROW_GROUP_MEMBER:"rgMember",COLUMN_GROUP_MEMBER:"cgMember",ROW_GROUP_PREFIX:"rowGroup",HACK_PADDING:1,VISUAL_CUE_HACK_PADDING:2,TRUNCATED_LABEL_LEN:100,requestsInProgress:0,DROP_TARGET_CLASS:"dropTarget",draggingMoveOverIndex:-1,currentlyDraggingIndex:-1,getMode:function(){return this.mode},setMode:function(e){this.mode=e},reset:function(){},render:function(){var e=this.state,t=e.crosstab,i="OK"===t.queryStatus,n=this[this.getMode()+"Template"](e);if(isIE9()&&(n=removeWhitespacesFromTable(n)),adhocDesigner.ui.canvas.html(n),adhocDesigner.setNothingToDisplayVisibility(!i||e.isShowingNoData),adhocDesigner.enableXtabPivot(this.isPivotAllowed()),this.state.isShowingNoData)jQuery("#nothingToDisplayMessage").html(adhocDesigner.getMessage("noDataMode"));else if(e.unresolvedReferences&&e.unresolvedReferences.length>0){var a=adhocDesigner.getMissingFieldsCanvasMessage(e);jQuery("#nothingToDisplayMessage").html(a)}else jQuery("#nothingToDisplayMessage").html(adhocDesigner.getMessage(t.queryStatusMessagePrefix+t.queryStatus));return i},isPivotAllowed:function(){return this.state.getDimensionsCount("row")>0||(localContext.isNonOlapMode()?this.state.getDimensionsCount("column")>0:!1)},initAll:function(){new Truncator($$(AdHocCrosstab.MEASURE_LABEL_PATTERN),AdHocCrosstab.TRUNCATED_LABEL_LEN),new Truncator($$(AdHocCrosstab.XTAB_LABEL_PATTERN),AdHocCrosstab.TRUNCATED_LABEL_LEN)},isOlapMode:function(){return this.getMode()===designerBase.OLAP_CROSSTAB},isNonOlapMode:function(){return this.getMode()===designerBase.CROSSTAB},fromSiblingHierarchy:function(e,t,i){if(!e)return!1;var n=this.state.getLevelsFromDimension(t,i);return n.length>0&&-1===n[0].indexOf("["+e+"]")}};AdHocCrosstab.State={getDimensions:function(e){return e?this.crosstabState[e+"Groups"]:_.chain(this.crosstabState).filter(function(e,t){return t.search(/Groups$/)>=0}).flatten().value()},getDimension:function(e,t){return _.find(this.getDimensions(t),function(t){return t.name===e})},getDimensionsCount:function(e){return this.getDimensions(e).length},getLevelsFromDimension:function(e,t){return _.pluck(this.getLevelObjectsFromDimension(e,t),"name")},getLevelObjectsFromDimension:function(e,t){var i=this.getDimensions(t);return e=_.find(i,function(t){return t.name===e}),e?_.chain(e.levels).filter(function(e){return e.visible}).map(function(e){return _.isEmpty(e.members)?e:e.members}).flatten().filter(function(e){return!e.isSpacer}).value():[]},getLevelObject:function(e,t,i){function n(e,t){return _.find(e,function(e){return e.name==t})}var a=this.getDimensions(i),r=n(a,t);return r?n(r.levels,e):null},getFilteredList:function(e,t){var i=e||null,n=t||{};return 1===arguments.length&&_.isObject(e)&&(n=e,i=null),n.visible=!0,_.chain(this.getDimensions(i)).pluck("levels").flatten().map(function(e){return _.isEmpty(e.members)?e:e.members}).flatten().filter(function(e){return _.all(n,function(t,i){return void 0===e[i]||e[i]===t})}).value()},getFilteredMeasureList:function(e,t){var i=e||null,n=t||{};return 1===arguments.length&&_.isObject(e)&&(n=e,i=null),this.getFilteredList(i,_.extend(n,{measure:!0,measuresLevel:!0}))}},define("adhoc/crosstab",["jquery","underscore","prototype","designer.base","utils.common","tools.truncator"],function(e){return function(){var t;return t||e.AdHocCrosstab}}(this)),define("common/component/dialog/DialogWithModelInputValidation",["require","jquery","underscore","./Dialog","backbone.validation"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=e("./Dialog"),a=e("backbone.validation");return n.extend({events:i.extend({"keyup input[type=text], textarea, select":"updateModelProperty","change input[type=text], input:checkbox, textarea, select":"updateModelProperty"},n.prototype.events),initialize:function(){this._bindEvents(),n.prototype.initialize.apply(this,arguments)},_bindEvents:function(){this.on("resize",this._getBaseHeight)},_unbindEvents:function(){this.off("resize",this._getBaseHeight)},updateModelProperty:function(e){var i={},n=t(e.target);"input"===n[0].tagName.toLowerCase()&&"text"===n.attr("type")||"select"===n[0].tagName.toLowerCase()&&"true"!==n.attr("multiple")||"textarea"===n[0].tagName.toLowerCase()?i[n.attr("name")]=t.trim(n.val()):"input"===n[0].tagName.toLowerCase()&&"checkbox"===n.attr("type")&&(i[n.attr("name")]=n.is(":checked")),this.beforeModelPropertySet&&this.beforeModelPropertySet(i),this.model.set(i),this.model.validate(i)},bindValidation:function(){a.bind(this,{valid:this.fieldIsValid,invalid:this.fieldIsInvalid,
forceUpdate:!0,selector:"name"})},unbindValidation:function(){a.unbind(this)},fieldIsValid:function(e,t,i){var n=e.$("["+i+'="'+t+'"]').parent();n.removeClass("error"),n.find(".message.warning").text(""),e._updateHeight()},fieldIsInvalid:function(e,t,i,n){var a=e.$("["+n+'="'+t+'"]').parent();a.addClass("error"),a.find(".message.warning").text(i.toString()),e._updateHeight()},validField:function(e){var t=this.$(e).parent();t.removeClass("error"),t.find(".message.warning").text("")},invalidField:function(e,t){var i=this.$(e).parent();i.addClass("error"),i.find(".message.warning").text(t.toString())},clearValidationErrors:function(){this.$("label").removeClass("error"),this.$(".message.warning").text(""),this._updateHeight()},remove:function(){this.unbindValidation(),this._unbindEvents(),n.prototype.remove.apply(this,arguments)},_updateHeight:function(){var e=this._getBaseHeight(this.$el.height()),t=this._getAllErrorsHeight();0!==t?this.$el.height(t+e):this.$el.height(e)},_getBaseHeight:function(e){var t=this._getAllErrorsHeight();return i.isNumber(e)&&i.isUndefined(this._previousHeight)?this._previousHeight=e:i.isObject(e)&&e.timeStamp&&(this._previousHeight=t?this.$el.height()-t:this.$el.height()),this._previousHeight},_getAllErrorsHeight:function(){var e=0;return this.$(".message.warning").each(function(){e+=t(this).height()}),e}})}),define("text!adhoc/template/topBottomFilterDialogTemplate.htm",[],function(){return'<div>\n    <div class="leaf">\n        <label class="control input text"  title="{{- model.type === \'top\' ? i18n[\'ADH_1236_DIALOG_AMOUNT_TOP\'] : i18n[\'ADH_1236_DIALOG_AMOUNT_BOTTOM\'] }}">\n            <span class="wrap">{{- model.type === \'top\' ? i18n[\'ADH_1236_DIALOG_AMOUNT_TOP\'] : i18n[\'ADH_1236_DIALOG_AMOUNT_BOTTOM\'] }}:</span>\n            <input class="" name="limit" type="text" value="{{- model.limit}}" />\n            <span class="message warning"></span>\n        </label>\n    </div>\n\n    <div class="leaf">\n        <label class="control input checkBox" title="{{-i18n[\'ADH_1236_DIALOG_AGGREGATE_UNRANKED\']}}">\n            <span class="wrap">{{-i18n[\'ADH_1236_DIALOG_AGGREGATE_UNRANKED\']}}</span>\n            <input name="aggregateUnranked" type="checkbox" {{ if (model.aggregateUnranked) { }} checked {{ } }}/>\n        </label>\n    </div>\n\n    <div class="leaf">\n        <label class="control input checkBox" title="{{-i18n[\'ADH_1236_DIALOG_APPLY_FOR_ALL_GROUPS\']}}">\n            <span class="wrap">{{-i18n[\'ADH_1236_DIALOG_APPLY_FOR_ALL_GROUPS\']}}</span>\n            <input name="applyAcrossGroups" type="checkbox" {{ if (model.applyAcrossGroups) { }} checked {{ } }} />\n        </label>\n    </div>\n</div>'}),define("adhoc/TopBottomFilterDialog",["require","underscore","bundle!adhoc_messages","common/util/browserDetection","common/component/dialog/DialogWithModelInputValidation","text!adhoc/template/topBottomFilterDialogTemplate.htm"],function(e){"use strict";var t=e("underscore"),i=e("bundle!adhoc_messages"),n=(e("common/util/browserDetection"),e("common/component/dialog/DialogWithModelInputValidation")),a=e("text!adhoc/template/topBottomFilterDialogTemplate.htm");return n.extend({constructor:function(e){e||(e={}),this.options=e;var r=this.extendModel(this.options.model);n.prototype.constructor.call(this,{modal:!0,model:r,resizable:!1,title:i["top"===r.get("type")?"ADH_1236_DIALOG_TITLE_TOP":"ADH_1236_DIALOG_TITLE_BOTTOM"],content:t.template(a,{i18n:i,model:t.extend({},r.attributes)}),buttons:[{label:i.ADH_1236_DIALOG_OK,action:"ok",primary:!0},{label:i.ADH_1236_DIALOG_CANCEL,action:"cancel",primary:!1}]}),this.on("button:ok",t.bind(this._onOk,this)),this.on("button:cancel",t.bind(this._onCancel,this))},extendModel:function(e){return e.validation=t.extend({},{limit:[{required:!0,msg:i.ADH_1236_DIALOG_ERROR_AMOUNT_REQUIRED},{range:[1,999],msg:i.ADH_1236_DIALOG_ERROR_AMOUNT_RANGE}]}),e},open:function(){this.bindValidation(),n.prototype.open.apply(this,arguments)},close:function(){this.unbindValidation(),this.clearValidationErrors(),n.prototype.close.apply(this,arguments)},_onCancel:function(){this.close(),this.remove()},_onOk:function(){this.model.isValid(!0)&&(this.close(),this.remove(),this.options.ok&&this.options.ok(this.model.toJSON()))}})});var TopBottomFilterDialog,Backbone;require(["adhoc/TopBottomFilterDialog","backbone"],function(e,t){TopBottomFilterDialog=e,Backbone=t}),AdHocCrosstab.showCrosstabMenu=function(e,t){adhocDesigner.showDynamicMenu(e,t,null,function(e,t){return e=AdHocCrosstab.updateContextMenuWithSiblingLevels(e,t),AdHocCrosstab.generateAvailableSummaryCalculationsMenu(e,t)})},AdHocCrosstab.addFieldToXtab=function(e,t,i){var n=i.element();if(n){var a=matchMeOrUp(n,localContext.DM_AXIS_LIST_PATTERN);if(a){var r=$(a).identify();r.startsWith(localContext.OLAP_COLUMNS_ID)?AdHocCrosstab.appendDimensionToColumnAxisWithLevel():r.startsWith(localContext.OLAP_ROWS_ID)&&AdHocCrosstab.appendDimensionToRowAxisWithLevel()}}},AdHocCrosstab.processFieldAsColumnGroup=function(e,t,i){var n=i,a=null,r=e.identify();if(r.startsWith("colGroupHeaderRow_")||r.startsWith("colGroupHeader_"))try{a=t.exec(r)[0],n=parseInt(a)+1}catch(s){}AdHocCrosstab.addFieldAsColumnGroup(n)},AdHocCrosstab.processFieldAsMeasure=function(e,t,i){var n=i,a=null,r=e.identify();if(r.startsWith("measureHeader_"))try{a=t.exec(r)[0],n=parseInt(a)+1}catch(s){}else("A"==e.nodeName||"LI"==e.nodeName)&&("A"==e.nodeName&&(e=e.up("li.leaf")),e&&(n=$(e).previousSiblings().length));addFieldAsMeasure(n,!0)},AdHocCrosstab.processFieldAsRowGroup=function(e,t,i){var n=i,a=null,r=e.identify();if(r.startsWith("rowGroup_")||r.startsWith("rowGroupHeader_"))try{a=t.exec(r)[0],n=parseInt(a)+1}catch(s){}AdHocCrosstab.addFieldAsRowGroup(n)},AdHocCrosstab.moveRowGroupLeft=function(e){var t=adhocDesigner.getSelectedColumnOrGroup(),i=AdHocCrosstab.getSelectedDimensionIndex(t),n=i-1;AdHocCrosstab.moveRowGroup(i,n,e)},AdHocCrosstab.moveRowGroupRight=function(e){var t=adhocDesigner.getSelectedColumnOrGroup(),i=AdHocCrosstab.getSelectedDimensionIndex(t),n=i+1;AdHocCrosstab.moveRowGroup(i,n,e)},AdHocCrosstab.moveColumnGroupLeft=function(e){var t=adhocDesigner.getSelectedColumnOrGroup(),i=AdHocCrosstab.getSelectedDimensionIndex(t),n=i-1;AdHocCrosstab.moveColumnGroup(i,n,e)},AdHocCrosstab.moveColumnGroupRight=function(e){var t=adhocDesigner.getSelectedColumnOrGroup(),i=AdHocCrosstab.getSelectedDimensionIndex(t),n=i+1;AdHocCrosstab.moveColumnGroup(i,n,e)},AdHocCrosstab.moveMeasureLeft=function(){var e=adhocDesigner.getSelectedColumnOrGroup();AdHocCrosstab.moveMeasure(e.level,e.index-1)},AdHocCrosstab.moveMeasureRight=function(){var e=adhocDesigner.getSelectedColumnOrGroup();AdHocCrosstab.moveMeasure(e.level,e.index+1)},AdHocCrosstab.moveRowGroupOnDrag=function(){draggingMoveOverIndex=parseInt(draggingMoveOverIndex),currentlyDraggingIndex=parseInt(currentlyDraggingIndex),currentlyDraggingIndex!=draggingMoveOverIndex&&(currentlyDraggingIndex>=0&&draggingMoveOverIndex>=0?AdHocCrosstab.moveRowGroup(currentlyDraggingIndex,draggingMoveOverIndex):-1==draggingMoveOverIndex&&AdHocCrosstab.removeRowGroup(currentlyDraggingIndex))},AdHocCrosstab.hideLevel=function(e){var t=getDimensionWithLevelFromSelection();selectionCategory.area===designerBase.COLUMN_GROUP_MENU_LEVEL?AdHocCrosstab.hideColumnLevel(t.dimensionId,t.level):selectionCategory.area===designerBase.ROW_GROUP_MENU_LEVEL&&AdHocCrosstab.hideRowLevel(t.dimensionId,t.level)},AdHocCrosstab.showLevel=function(e){var t=AdHocCrosstab.getDimensionWithLevelFromSelection();selectionCategory.area===designerBase.COLUMN_GROUP_MENU_LEVEL?AdHocCrosstab.showColumnLevel(t.dimensionId,t.level):selectionCategory.area===designerBase.ROW_GROUP_MENU_LEVEL&&AdHocCrosstab.showRowLevel(t.dimensionId,t.level)},AdHocCrosstab.moveColumnGroupDown=function(e){var t=adhocDesigner.getSelectedColumnOrGroup(),i=AdHocCrosstab.getSelectedDimensionIndex(t),n=i+1;AdHocCrosstab.moveColumnGroup(i,n,e)},AdHocCrosstab.moveColumnGroupUp=function(e){var t=adhocDesigner.getSelectedColumnOrGroup(),i=AdHocCrosstab.getSelectedDimensionIndex(t),n=i-1;AdHocCrosstab.moveColumnGroup(i,n,e)},AdHocCrosstab.moveColumnGroupOnDrag=function(){draggingMoveOverIndex=parseInt(draggingMoveOverIndex),currentlyDraggingIndex=parseInt(currentlyDraggingIndex),currentlyDraggingIndex!=draggingMoveOverIndex&&(currentlyDraggingIndex>=0&&draggingMoveOverIndex>=0?AdHocCrosstab.moveColumnGroup(currentlyDraggingIndex,draggingMoveOverIndex):-1==draggingMoveOverIndex&&AdHocCrosstab.removeColumnGroup(currentlyDraggingIndex))},AdHocCrosstab.moveMeasureOnDrag=function(){draggingMoveOverIndex=parseInt(draggingMoveOverIndex),currentlyDraggingIndex=parseInt(currentlyDraggingIndex),currentlyDraggingIndex!=draggingMoveOverIndex&&(currentlyDraggingIndex>=0&&draggingMoveOverIndex>=0?AdHocCrosstab.moveMeasure(currentlyDraggingIndex,draggingMoveOverIndex):-1==draggingMoveOverIndex&&AdHocCrosstab.removeMeasure(currentlyDraggingIndex))},AdHocCrosstab.retrieveOverflowRowGroups=function(){var e=confirm(adhocDesigner.getMessage("overflowConfirmMessage"));e&&AdHocCrosstab.getOverflowRowGroups()},AdHocCrosstab.retrieveOverflowColumnGroups=function(){var e=confirm(adhocDesigner.getMessage("overflowConfirmMessage"));e&&AdHocCrosstab.getOverflowColumnGroups()},AdHocCrosstab.selectMeasureMask=function(e){var t=AdHocCrosstab.getSelectedMeasure();if(t){var i=selObjects.first().index;AdHocCrosstab.setMask(e,i)}},AdHocCrosstab.selectFunction=function(e){var t=AdHocCrosstab.getSelectedMeasure(),i=selObjects.first();if(t){var n=adhocDesigner.getSuperType(t.type),a=AdHocCrosstab.getMeasureTypeByFunction(e);n!==a?AdHocCrosstab.setSummaryFunctionAndMask(e,defaultMasks[a],i.index):AdHocCrosstab.setSummaryFunction(e,i.index)}},AdHocCrosstab.selectTimeFunction=function(e){var t=AdHocCrosstab.getSelectedMeasure(),i=selObjects.first();if(t){adhocDesigner.getSuperType(t.type),AdHocCrosstab.getMeasureTypeByFunction(e);AdHocCrosstab.setSummaryTimeFunction(e,i.index)}},AdHocCrosstab.selectedMeasureShowsSummaryOptions=function(){return!!AdHocCrosstab.getSelectedMeasure()},AdHocCrosstab.selectedMeasureShowsNumericSummaryOptions=function(){return localContext.selectedMeasureShowsSummaryOptions()&&localContext.isSelectedMeasureNumeric()},AdHocCrosstab.setCatForColumnGroup=function(e){var t=adhocDesigner.getSelectedColumnOrGroup();t&&AdHocCrosstab.isColumnGroupSelected(t)&&AdHocCrosstab.setCategoryForColumnGroup(e,t.groupIndex)},AdHocCrosstab.setCatForRowGroup=function(e){var t=adhocDesigner.getSelectedColumnOrGroup();t&&AdHocCrosstab.isRowGroupSelected(t)&&AdHocCrosstab.setCategoryForRowGroup(e,t.groupIndex)},AdHocCrosstab.appendDimensionWithLevel=function(e,t){var i=e?localContext.getAvailableFieldsNodeBySelection(e.id,e.groupId):localContext.getAvailableFieldsNodeBySelection();i.axis=t,AdHocCrosstab.showAddHierarchyConfirm(i.hierarchyName,i.dimensionId,function(){jQuery("#"+adhocDesigner.DISPLAY_MANAGER_ID).trigger("lm:addItem",i)})||jQuery("#"+adhocDesigner.DISPLAY_MANAGER_ID).trigger("lm:addItem",i)},AdHocCrosstab.appendDimensionToRowAxisWithLevel=function(e){AdHocCrosstab.appendDimensionWithLevel(e,"row")},AdHocCrosstab.appendDimensionToColumnAxisWithLevel=function(e){AdHocCrosstab.appendDimensionWithLevel(e,"column")},AdHocCrosstab.appendMeasureToRow=function(e){var t=e?localContext.getAvailableFieldsNodesBySelection(e):localContext.getAvailableFieldsNodesBySelection();jQuery("#"+adhocDesigner.DISPLAY_MANAGER_ID).trigger("lm:addItems",{axis:"row",levels:t,index:t[0].index})},AdHocCrosstab.appendMeasureToColumn=function(e){var t=e?localContext.getAvailableFieldsNodesBySelection(e):localContext.getAvailableFieldsNodesBySelection();jQuery("#"+adhocDesigner.DISPLAY_MANAGER_ID).trigger("lm:addItems",{axis:"column",levels:t,index:t[0].index})},AdHocCrosstab.removeLevelFromRow=function(){var e=localContext.getSelectedObject();jQuery("#"+adhocDesigner.DISPLAY_MANAGER_ID).trigger("lm:removeItem",{axis:"row",index:e.index,item:{level:e.level,dimensionId:e.dimensionId,isMeasure:e.isMeasure}})},AdHocCrosstab.removeLevelFromColumn=function(){var e=localContext.getSelectedObject();jQuery("#"+adhocDesigner.DISPLAY_MANAGER_ID).trigger("lm:removeItem",{axis:"column",index:e.index,item:{level:e.level,dimensionId:e.dimensionId,isMeasure:e.isMeasure}})},AdHocCrosstab.selectedGroupCanShowSummary=function(){var e=AdHocCrosstab.getSelectedGroup(adhocDesigner.getSelectedColumnOrGroup()),t=AdHocCrosstab.getGroupParent(e);return t?t.expanded===!0&&!AdHocCrosstab.selectedGroupHasSummary():!AdHocCrosstab.selectedGroupHasSummary()},AdHocCrosstab.selectedColumnGroupCanHideSummary=function(){var e=AdHocCrosstab.canHideSummariesForColumnGroup(),t=AdHocCrosstab.getSelectedGroup(adhocDesigner.getSelectedColumnOrGroup()),i=AdHocCrosstab.getGroupParent(t);return e?i?i.expanded===!0&&AdHocCrosstab.selectedGroupHasSummary():AdHocCrosstab.selectedGroupHasSummary():!1},AdHocCrosstab.selectedRowGroupCanHideSummary=function(){var e=AdHocCrosstab.canHideSummariesForRowGroup();return e?AdHocCrosstab.selectedGroupHasSummary():!1},AdHocCrosstab.getGroupParent=function(e){var t,i=-1;return localContext.state.columnGroups.detect(function(t,n){return t.name===e.name?i=n-1:void 0}),i>=0&&(t=localContext.state.columnGroups[i]),t},AdHocCrosstab.selectedGroupHasSummary=function(){var e=AdHocCrosstab.getSelectedGroup(adhocDesigner.getSelectedColumnOrGroup());return e?e.isShowingSummary===!0:!1},AdHocCrosstab.selectedRowGroupIsCollapsible=function(){var e=adhocDesigner.getSelectedColumnOrGroup();return e&&e.expandable},AdHocCrosstab.selectedColumnGroupIsCollapsible=function(){var e=adhocDesigner.getSelectedColumnOrGroup();return e&&e.expandable},AdHocCrosstab.topBottomNFilteringClicked=function(e){var t=selObjects[0],i=AdHocCrosstab.getTopBottomFilter(),n=i&&t.path===i.path,a={type:e,limit:n?i.limit:5,aggregateUnranked:n?i.aggregateUnranked:!0,applyAcrossGroups:n?i.applyAcrossGroups:!1};"none"!==e?new TopBottomFilterDialog({model:new Backbone.Model(a),ok:function(t){AdHocCrosstab.applyTopBottomNFiltering({type:"top"===e?"desc":"asc",limit:t.limit,aggregateUnranked:t.aggregateUnranked,applyAcrossGroups:t.applyAcrossGroups})}}).open():n&&e!==i.type&&AdHocCrosstab.applyTopBottomNFiltering({type:e,limit:0,aggregateUnranked:!1,applyAcrossGroups:!1})},define("adhoc/crosstab.actions",["adhoc/crosstab","adhoc/TopBottomFilterDialog","backbone"],function(e){return function(){var t;return t||e.AdHocCrosstab}}(this)),AdHocCrosstab.insertDimensionInAxisWithChild=function(e){e&&(e.dim&&(e.dim=designerBase.encodeParam(e.dim)),e.child&&(e.child=designerBase.encodeParam(e.child)),e.hierarchyName&&(e.hierarchyName=designerBase.encodeParam(e.hierarchyName)),e.uri&&(e.uri=designerBase.encodeParam(e.uri))),designerBase.sendRequest("cr_insertDimensionInAxisWithChild",e,localContext.standardCrosstabOpCallback,{bPost:!0})},AdHocCrosstab.insertDimensionInRowAxisWithLevel=function(e,t,i,n){AdHocCrosstab.insertDimensionInAxisWithChild({dim:e,axis:"row",pos:i,child:t,measure_pos:n})},AdHocCrosstab.insertDimensionInColumnAxisWithLevel=function(e,t,i,n){AdHocCrosstab.insertDimensionInAxisWithChild({dim:e,axis:"column",pos:i,child:t,measure_pos:n})},AdHocCrosstab.insertDimensionInRowAxisWithAllLevels=function(e,t){AdHocCrosstab.insertDimensionInAxisWithChild({dim:e,axis:"row",pos:t})},AdHocCrosstab.insertDimensionInColumnAxisWithAllLevels=function(e,t){AdHocCrosstab.insertDimensionInAxisWithChild({dim:e,axis:"column",pos:t})},AdHocCrosstab.moveDimension=function(e,t,i,n,a){var r=function(e){localContext.standardCrosstabOpCallback(e),designerBase.unSelectAll()};designerBase.sendRequest("cr_moveDimension",["dim="+encodeText(e),"axisFrom="+t,"axisTo="+i,"f="+n,"t="+a],r,null)},AdHocCrosstab.removeDimension=function(e,t){var i=function(e){localContext.standardCrosstabOpCallback(e),designerBase.unSelectAll()};designerBase.sendRequest("cr_removeDimension",new Array("axis="+e,"pos="+t),i,null)},AdHocCrosstab.showRowLevel=function(e,t){var i=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_showRowLevel",new Array("f="+encodeText(e),"level="+encodeText(t)),i,null)},AdHocCrosstab.hideRowLevel=function(e,t){var i=function(i){localContext.standardCrosstabOpCallback(i);var n=localContext.state.getLevelObject(t,e,"row");n&&n.propertyMap&&"true"==n.propertyMap.lastFilteredLevel&&dialogs.systemConfirm.show(adhocDesigner.getMessage("ADH_CROSSTAB_LAST_FILTERED_LEVEL"),5e3)};designerBase.sendRequest("cr_hideRowLevel",new Array("f="+encodeText(e),"level="+encodeText(t)),i,null)},AdHocCrosstab.showColumnLevel=function(e,t){var i=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_showColumnLevel",new Array("f="+encodeText(e),"level="+encodeText(t)),i,null)},AdHocCrosstab.hideColumnLevel=function(e,t){var i=function(i){localContext.standardCrosstabOpCallback(i);var n=localContext.state.getLevelObject(t,e,"column");n&&n.propertyMap&&"true"==n.propertyMap.lastFilteredLevel&&dialogs.systemConfirm.show(adhocDesigner.getMessage("ADH_CROSSTAB_LAST_FILTERED_LEVEL"),5e3)};designerBase.sendRequest("cr_hideColumnLevel",new Array("f="+encodeText(e),"level="+encodeText(t)),i,null)},AdHocCrosstab.pivot=function(){designerBase.sendRequest("cr_pivot",[],localContext.standardCrosstabOpCallback,null)},AdHocCrosstab.insertMeasure=function(e,t,i){var n=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_insertMeasure",["measure="+encodeText(e),"pos="+t,"axis="+i],n,null)},AdHocCrosstab.moveMeasure=function(e,t){var i=function(e){localContext.standardCrosstabOpCallback(e),designerBase.unSelectAll()};designerBase.sendRequest("cr_moveMeasureByName",["measure="+encodeText(e),"to="+t],i,null)},AdHocCrosstab.removeMeasure=function(e){if(!Object.isNumber(e)){var t=adhocDesigner.getSelectedColumnOrGroup();e=t.index}var i=function(e){localContext.standardCrosstabOpCallback(e),designerBase.unSelectAll()};designerBase.sendRequest("cr_removeMeasure",new Array("i="+e),i,null)},AdHocCrosstab.expandLevel=function(e,t,i){if(!e||!t){var n=adhocDesigner.getSelectedColumnOrGroup();e=n.dimensionId,t=n.level}var a=new Array("f="+encodeText(e),"level="+encodeText(t),"isRow="+i);designerBase.sendRequest("cr_expandLevel",a,localContext.standardCrosstabOpCallback,null)},AdHocCrosstab.collapseLevel=function(e,t,i){if(!e||!t){var n=adhocDesigner.getSelectedColumnOrGroup();e=n.dimensionId,t=n.level}var a=new Array("f="+encodeText(e),"level="+encodeText(t),"isRow="+i);designerBase.sendRequest("cr_collapseLevel",a,localContext.standardCrosstabOpCallback,null)},AdHocCrosstab.insertColumnGroup=function(e,t){var i=function(e){localContext.standardCrosstabOpCallback(e)};canAddAsGroup()&&designerBase.sendRequest("cr_insertColumnGroup",new Array("f="+encodeText(e),"i="+t),i,null)},AdHocCrosstab.insertRowGroup=function(e,t){var i=function(e){localContext.standardCrosstabOpCallback(e)};canAddAsGroup()&&designerBase.sendRequest("cr_insertRowGroup",new Array("f="+encodeText(e),"i="+t),i,null)},AdHocCrosstab.removeColumnGroup=function(e){if(!e){var t=adhocDesigner.getSelectedColumnOrGroup();e=AdHocCrosstab.getSelectedDimensionIndex(t)}var i=function(e){localContext.standardCrosstabOpCallback(e),designerBase.unSelectAll()};designerBase.sendRequest("cr_removeColumnGroup",new Array("i="+e),i,null)},AdHocCrosstab.removeRowGroup=function(e){if(!e){var t=adhocDesigner.getSelectedColumnOrGroup();e=AdHocCrosstab.getSelectedDimensionIndex(t)}var i=function(e){localContext.standardCrosstabOpCallback(e),designerBase.unSelectAll()};designerBase.sendRequest("cr_removeRowGroup",new Array("i="+e),i,null)},AdHocCrosstab.moveRowGroup=function(e,t,i){var n=function(e){localContext.standardCrosstabOpCallback(e),i&&i(),designerBase.unSelectAll()};designerBase.sendRequest("cr_moveRowGroup",new Array("f="+e,"t="+t),n,null)},AdHocCrosstab.moveColumnGroup=function(e,t,i){var n=function(e){localContext.standardCrosstabOpCallback(e),i&&i(),designerBase.unSelectAll()};designerBase.sendRequest("cr_moveColumnGroup",new Array("f="+e,"t="+t),n,null)},AdHocCrosstab.toggleExpandCollapseForColumn=function(e,t){var i=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_toggleExpandCollapseForColumn",new Array("nodePath="+encodeText(e),"i="+t),i,null)},AdHocCrosstab.toggleExpandCollapseForRow=function(e,t){var i=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_toggleExpandCollapseForRow",new Array("nodePath="+encodeText(e),"i="+t),i,null)},AdHocCrosstab.switchToRowGroup=function(e){var t=adhocDesigner.getSelectedColumnOrGroup(),i=_.isNumber(e)?e:t.groupIndex;designerBase.sendRequest("cr_switchToRowGroup",new Array("i="+i),localContext.standardCrosstabOpCallback,null)},AdHocCrosstab.switchToColumnGroup=function(e){var t=adhocDesigner.getSelectedColumnOrGroup(),i=_.isNumber(e)?e:t.groupIndex;designerBase.sendRequest("cr_switchToColumnGroup",new Array("i="+i),localContext.standardCrosstabOpCallback,null)},AdHocCrosstab.deleteRowGroupSummary=function(){var e=adhocDesigner.getSelectedColumnOrGroup(),t=AdHocCrosstab.getSelectedDimensionIndex(e),i=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setIncludeAllOnRows",new Array("pos="+t,"value=false"),i,null)},AdHocCrosstab.addRowGroupSummary=function(){var e=adhocDesigner.getSelectedColumnOrGroup(),t=AdHocCrosstab.getSelectedDimensionIndex(e),i=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setIncludeAllOnRows",new Array("pos="+t,"value=true"),i,null)},AdHocCrosstab.deleteColumnGroupSummary=function(){var e=adhocDesigner.getSelectedColumnOrGroup(),t=AdHocCrosstab.getSelectedDimensionIndex(e),i=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setIncludeAllOnColumns",new Array("pos="+t,"value=false"),i,null)},AdHocCrosstab.addColumnGroupSummary=function(){var e=adhocDesigner.getSelectedColumnOrGroup(),t=AdHocCrosstab.getSelectedDimensionIndex(e),i=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setIncludeAllOnColumns",new Array("pos="+t,"value=true"),i,null)},AdHocCrosstab.sortControlClicked=function(e){if(AdHocCrosstab.requestsInProgress<1){AdHocCrosstab.requestsInProgress++;var t=function(e){AdHocCrosstab.requestsInProgress--,localContext.standardCrosstabOpCallback(e),designerBase.unSelectAll()};designerBase.sendRequest("cr_sortControlClicked",new Array("i="+e),t,null)}},AdHocCrosstab.sortingChosen=function(e,t){var i=designerBase.getSelectedObject();i.type=e;var n=function(e){localContext.standardCrosstabOpCallback(e),designerBase.unSelectAll()};designerBase.sendRequest("cr_"+t,["axis="+i.axis,"dimension="+encodeText(i.dimensionId||""),"level="+encodeText(i.level||""),"path="+encodeText(i.path||""),"sortType="+e],n,null)},AdHocCrosstab.applyTopBottomNFiltering=function(e){var t=designerBase.getSelectedObject(),i=function(e){localContext.standardCrosstabOpCallback(e),designerBase.unSelectAll()};designerBase.sendRequest("cr_groupSortControlClicked",["level="+encodeText(t.level||""),"path="+encodeText(t.path||""),"sortType="+e.type,"limit="+e.limit,"otherBucket="+e.aggregateUnranked,"limitAllLevels="+e.applyAcrossGroups],i,null)},AdHocCrosstab.updateViewCallback=function(e){localContext.standardCrosstabOpCallback(e)},AdHocCrosstab.setCategoryForRowGroup=function(e,t){var i=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setRowGroupCategorizer",new Array("cat="+encodeText(e),"i="+t),i,null)},AdHocCrosstab.setCategoryForColumnGroup=function(e,t){var i=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setColumnGroupCategorizer",new Array("cat="+encodeText(e),"i="+t),i,null)},AdHocCrosstab.setMask=function(e,t){var i=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setDataMask",new Array("m="+encodeText(e),"i="+t),i,null)},AdHocCrosstab.setSummaryFunction=function(e,t){var i=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setSummaryFunction",new Array("f="+encodeText(e),"i="+t),i,null)},AdHocCrosstab.setSummaryTimeFunction=function(e,t){var i=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setSummaryTimeFunction",new Array("f="+encodeText(e),"i="+t),i,null)},AdHocCrosstab.setSummaryFunctionAndMask=function(e,t,i){var n=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setSummaryFunctionAndDataMask",new Array("f="+encodeText(e),"m="+encodeText(t),"i="+i),n,null)},AdHocCrosstab.getOverflowRowGroups=function(){var e=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_showInUnsafeRowMode",[],e,null)},AdHocCrosstab.getOverflowColumnGroups=function(){var e=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_showInUnsafeColumnMode",[],e,null)},AdHocCrosstab.getDrillUrl=function(){var e=removeTrailingPound(document.location.href),t=e.toQueryParams();return t=_.pick(t,"realm","_flowExecutionKey","_eventId"),_.extend(t,{_flowId:"adhocFlow",reportType:"table",usePreparedState:"true",clientKey:Math.floor(9999999999999*Math.random())}),"flow.html?"+jQuery.param(t)},AdHocCrosstab.createJSONDrillThrough=function(e,t){return encodeURIComponent(JSON.stringify({type:"path_expression",pathList:[e,t]}))},AdHocCrosstab.drill=function(e,t){if(AdHocCrosstab.allowDrill!==!1){AdHocCrosstab.allowDrill=!1,isIPad()&&(JRS.vars.win=window.open());var i=function(e){if(AdHocCrosstab.allowDrill=!0,e.success){var t=function(){if(isIPad())JRS.vars.win.location=AdHocCrosstab.getDrillUrl();else{var e="width=1000,left=200,top=100,height="+Math.round(.8*jQuery(window).height())+",resizable=yes";window.name="",runPopup=window.open(AdHocCrosstab.getDrillUrl(),"drillTable",e),runPopup&&runPopup.focus()}};setTimeout(t,0)}},n=function(){AdHocCrosstab.allowDrill=!0},a=AdHocCrosstab.createJSONDrillThrough(localContext.state.rowNodeList[e],localContext.state.columnNodeList[t]);if(!isIPad()||!JRS.vars.element_scrolled){var r=["drillThroughAdhocFilter="+a];window.isEmbeddedDesigner&&r.push("embeddedDesigner=true"),designerBase.sendRequest("cr_prepareDrillTableState",r,i,{bPost:!0},n)}return!1}},AdHocCrosstab.getDrillOlapUrl=function(e){return"flow.html?_flowId=viewAdhocReportFlow&clientKey="+clientKey+"&reportUnit="+e+"&noReturn=true"},AdHocCrosstab.drillOLAP=function(e,t){if(AdHocCrosstab.allowDrill!==!1){AdHocCrosstab.allowDrill=!1;var i=function(e){if(AdHocCrosstab.allowDrill=!0,e.tempARUName)if(localContext.tempARUName=e.tempARUName,isIPad());else{var t="width=1000,left=200,top=100,height="+Math.round(.8*jQuery(window).height());windowPopUp=window.open("","jr",t),windowPopUp.location=localContext.getDrillOlapUrl(e.tempARUName)}},n=function(){AdHocCrosstab.allowDrill=!0},a=AdHocCrosstab.createJSONDrillThrough(localContext.state.rowNodeList[e],localContext.state.columnNodeList[t]);if(!isIPad()||!JRS.vars.element_scrolled){var r=["drillThroughAdhocFilter="+a];window.isEmbeddedDesigner&&r.push("embeddedDesigner=true"),designerBase.sendRequest("cr_prepareDrillTableStateOLAP",r,i,{bPost:!0},n)}return!1}},AdHocCrosstab.getIsHideEmptyRows=function(){return AdHocCrosstab.state.crosstabState.hideEmptyRows},AdHocCrosstab.hideEmptyRowsEquals=function(e){return localContext.getIsHideEmptyRows()===e},AdHocCrosstab.setHideEmptyRows=function(){var e=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setProperty",new Array("name=hideEmptyRows","value=true"),e,null)},AdHocCrosstab.setUnhideEmptyRows=function(){var e=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setProperty",new Array("name=hideEmptyRows","value=false"),e,null)},AdHocCrosstab.standardOpCallback=function(e){e?localContext.standardCrosstabOpCallback(e):window.console&&console.log("Internal server error occurred")},AdHocCrosstab.getCallbacksForPivot=function(){localContext.standardOpCallback()},AdHocCrosstab.undoAndRedoCallback=function(){adhocDesigner.undoAndRedoCallback(),localContext.standardCrosstabOpCallback()},AdHocCrosstab.updateCustomFieldCallback=function(){this.standardCrosstabOpCallback()},AdHocCrosstab.reInitOverlayCallback=function(){},AdHocCrosstab.standardCrosstabOpCallback=function(e){adhocDesigner.updateStateAndRender(e)},define("adhoc/crosstab.ajax",["adhoc/crosstab"],function(e){return function(){var t;return t||e.AdHocCrosstab}}(this)),AdHocCrosstab.deselectAllSelectedOverlays=function(){},AdHocCrosstab.deselectAllColumnGroupOverlays=function(){},AdHocCrosstab.deselectAllRowGroupOverlays=function(){},AdHocCrosstab.deselectAllMeasureOverlays=function(){},AdHocCrosstab.removeFromSelectObjects=function(e){var t=null;selObjects.each(function(i){i.id==e&&(t=i)}),selObjects=selObjects.without(t)},AdHocCrosstab.getSelectedDimensionIndex=function(e){var t,i=-1;return e?_.isNumber(e.groupIndex)?e.groupIndex:(t=e.isMeasure?adhocDesigner.MEASURES:e.dimensionId,_.find(localContext.state.getDimensions(e.axis),function(e,n){return e.name===t?(i=n,!0):void 0}),i):i},AdHocCrosstab.getSelectedMeasure=function(){if(selObjects&&selObjects.length>0){var e=selObjects[0];if(e.isMeasure){var t=AdHocCrosstab.getRefinedMeasuresFromState();return t[e.index]}}return null},AdHocCrosstab.getRefinedMeasuresFromState=function(){return _.filter(localContext.state.measures,function(e){return!e.isSpacer})},AdHocCrosstab.getSelectedGroup=function(e){return e?"row"===e.axis?localContext.state.rowGroups[e.groupIndex]:localContext.state.columnGroups[e.groupIndex]:null},AdHocCrosstab.getMeasureTypeByFunction=function(e){var t=AdHocCrosstab.getSelectedMeasure();if(t){var i=adhocDesigner.getSuperType(t.type);return"Average"===e?"dec":"Count"===e||"DistinctCount"===e?"int":i}return null},AdHocCrosstab.updateContextMenuWithSiblingLevels=function(e,t){if(!adhocDesigner.ui.display_manager)return t;var i=t.find(function(e){return"AdHocCrosstab.canAddSiblingLevels"===e.clientTest});if(!i)return t;var n=null,a=null,r=null,s=selObjects[0],o=/.*\[(.*)\]/.exec(s.level),l=o&&o[1];if(s.isMeasure)a=adhocDesigner.measuresTree.getRootNode(),r="row"===s.axis?"AdHocCrosstab.appendMeasureToRow":"AdHocCrosstab.appendMeasureToColumn";else{if(!localContext.isOlapMode())return s.index=0,t;a=adhocDesigner.dimensionsTree.getRootNode().childs.find(function(e){return e.param.extra.id===s.dimensionId}),a.childs[0].param.extra.isHierarchy&&(a=_.find(a.childs,function(e){return e.param.extra.id===l})),r="row"===s.axis?"AdHocCrosstab.appendDimensionToRowAxisWithLevel":"AdHocCrosstab.appendDimensionToColumnAxisWithLevel"}if(void 0===s.allLevels){var d=s;d.allLevels=AdHocCrosstab.state.getLevelsFromDimension(s.dimensionId,d.axis),d.index=d.allLevels.indexOf(d.level)}return s.allLevels&&(n=localContext.isOlapMode()?a.childs.findAll(function(e){return!s.allLevels.include(e.param.extra.id)}):adhocDesigner.getAllLeaves(a,adhocDesigner.measuresTree).findAll(function(e){return!s.allLevels.include(e.param.extra.id)})),n&&0!==n.length?(i.text=adhocDesigner.getMessage(s.isMeasure?"addMeasures":"addLevels"),i.children=n.collect(function(e){return actionModel.createMenuElement("optionAction",{text:e.name,action:r,actionArgs:s.isMeasure?[e.param.extra.id]:[{id:e.param.extra.id,groupId:e.param.extra.dimensionId,isMeasure:!1}]})}),t):t},AdHocCrosstab.generateAvailableSummaryCalculationsMenu=function(e,t){var i=_.find(t,function(e){return"AdHocCrosstab.selectedMeasureShowsSummaryOptions"===e.clientTest});if(i){var n=actionModel.selObjects[0],a=_.findWhere(localContext.state.measures,{name:n.name});a&&adhocDesigner.generateAvailableSummaryCalculationsMenu(a.fieldName,i,{action:AdHocCrosstab.selectFunction,isSelectedTest:AdHocCrosstab.isSelectedSummaryFunction})}return t},AdHocCrosstab.getTopBottomFilter=function(){if("undefined"==typeof localContext.state.crosstab.topBottomFilter){localContext.state.crosstab.topBottomFilter=null;var e=localContext.state.crosstab.axisTransforms,t=e&&e.ROWS;
if(t&&t.length>0)for(var i=0;i<t.length;i++){var n=t[i];if(n&&"com.jaspersoft.commons.dimengine.axistransform.TopOrBottomN"===n.type){localContext.state.crosstab.topBottomFilter={path:"/"+n.path.join("/"),type:n.asc?"bottom":"top",aggregateUnranked:n.createOtherBucket,applyAcrossGroups:n.limitAllLevels,limit:n.limit};break}}}return localContext.state.crosstab.topBottomFilter},define("adhoc/crosstab.helpers",["adhoc/crosstab"],function(e){return function(){var t;return t||e.AdHocCrosstab}}(this)),AdHocCrosstab.mouseDownHandler=function(e){},AdHocCrosstab.mouseUpHandler=function(e){var t,i,n,a,r=e.element(),s=(new RegExp("\\d+$"),null);if(Draggables.dragging!=designerBase.AVAILABLE_FIELDS_AREA){if(matchAny(r,[localContext.GROUP_LEVEL_DISCLOSURE_PATTERN],!1)){if(a=r.up()){var o=a.readAttribute("data-dimension"),l=a.readAttribute("data-level"),d=r.hasClassName("closed");n=a.identify().startsWith("rowGroup"),d?AdHocCrosstab.expandLevel(o,l,n):AdHocCrosstab.collapseLevel(o,l,n)}return}if(matchAny(r,[localContext.GROUP_MEMBER_DISCLOSURE_PATTERN],!1)){if(a=r.up(),$(a)){t=a.identify(),n=t.startsWith("rowGroup_");var c=new RegExp(/\B\d+\B/);i=c.exec(t)[0];var u=$(a).readAttribute("data-path");n?localContext.toggleExpandCollapseForRow(u,i):localContext.toggleExpandCollapseForColumn(u,i)}return}if(s=matchAny(r,[localContext.COLUMN_GROUP_MEMBER_PATTERN,localContext.ROW_GROUP_MEMBER_PATTERN],!0),s&&!isRightClick(e)&&(AdHocCrosstab.deselectAllSelectedOverlays(),crossTabMultiSelect.selectXtabGroupMember(s,e)),s=matchAny(r,[localContext.ROW_GROUP_OVERFLOW_PATTERN,localContext.COLGROUP_GROUP_OVERFLOW_PATTERN],!0))if($(s).hasClassName("colOverflow")){var h=$(s).readAttribute("data-canShowMore");"true"===h&&AdHocCrosstab.retrieveOverflowColumnGroups()}else AdHocCrosstab.retrieveOverflowRowGroups()}},AdHocCrosstab.mouseOverHandler=function(e){},AdHocCrosstab.mouseOutHandler=function(e){},AdHocCrosstab.mouseClickHandler=function(e){var t=null,i=e.element(),n=new RegExp("\\d+","g");if(i.match(AdHocCrosstab.DRILL_THROUGH_PATTERN)&&(crossTabMultiSelect.deselectAllGroupMembers(),i=i.parentNode,$(i)&&(t=i.identify(),localContext.state.inDesignView))){if(t.startsWith("measureBucketDrill_")){var a=n.exec(t)[0],r=n.exec(t)[0];return void(AdHocCrosstab.isOlapMode()?AdHocCrosstab.drillOLAP(a,r):AdHocCrosstab.drill(a,r))}if(t.startsWith("measureBucketNoDrillParentChild_")&&dialogs.systemConfirm.show(adhocDesigner.getMessage("ADH_1213_DRILLTHROUGH_NOT_SUPPORTED_PARENT_CHILD",15e3)),t.startsWith("measureBucketInvalidDrill_"))return}},AdHocCrosstab.contextMenuHandler=function(e){var t,i,n,a=e.element(),r=a.identify();if(matchAny(a,[AdHocCrosstab.COLUMN_GROUP_MEMBER_PATTERN,AdHocCrosstab.ROW_GROUP_MEMBER_PATTERN],!0)){if(a){if(0===r.indexOf("anonymous"))return;designerBase.isObjectInSelection({id:r},"id")||crossTabMultiSelect.selectXtabGroupMember(a,e),adhocDesigner.showDynamicMenu(e,designerBase.MEMBER_GROUP_MENU_LEVEL)}}else if(matchAny(a,[AdHocCrosstab.GROUP_LEVEL_PATTERN],!1)){for(;$(a).hasClassName("dummy");)a=a.nextSiblings()[0];r=a.identify(),n=r.startsWith("rowGroup"),t=parseInt(AdHocCrosstab.ENDS_WITH_A_NUMBER_REGEX.exec(r)[0]);var s=localContext.state,o=n?"row":"column",l=a.readAttribute("data-dimension"),d=_.indexOf(s.getDimensions(o),s.getDimension(l,o));$(a)&&(i={id:(n?"rowGroup_":"colGroup_")+t,name:a.readAttribute("data-level"),level:a.readAttribute("data-level"),dimensionId:l,expandable:"true"===a.readAttribute("data-expanable"),axis:o,isMeasure:l===adhocDesigner.MEASURES,groupIndex:AdHocCrosstab.isOlapMode()?d:t,index:t,sorting:a.readAttribute("data-sorting")},i.dimensionId!==AdHocCrosstab.NULL_DIMENSION&&(crossTabMultiSelect.selectXtabGroupLabel(i),i.isMeasure?AdHocCrosstab.showCrosstabMenu(e,localContext[n?"MEASURES_DIMENSION_ROW_MENU_CONTEXT":"MEASURES_DIMENSION_COLUMN_MENU_CONTEXT"]):AdHocCrosstab.showCrosstabMenu(e,designerBase[n?"ROW_GROUP_MENU_LEVEL":"COLUMN_GROUP_MENU_LEVEL"])))}else if(matchAny(a,[AdHocCrosstab.MEASURE_PATTERN],!1)){for(;$(a).hasClassName("dummy");)a=a.nextSiblings()[0];t=parseInt(AdHocCrosstab.ENDS_WITH_A_NUMBER_REGEX.exec(r)[0]),n=r.startsWith("rowGroup");var c=AdHocCrosstab.getRefinedMeasuresFromState(),u=c.length,h=t%u,m=c[h].fieldName,p=a.readAttribute("data-path"),f=AdHocCrosstab.getTopBottomFilter();$(a)&&(i={id:(n?"rowGroup_":"colGroup_")+t,name:m,level:m,dimensionId:adhocDesigner.MEASURES,expandable:"true"===a.readAttribute("data-expanable"),axis:n?"row":"column",isMeasure:!0,index:h,path:a.readAttribute("data-path"),isInner:a.hasClassName("inner"),sorting:a.readAttribute("data-sorting"),topBottomFilter:f&&f.path===p?f.type:"none"},crossTabMultiSelect.selectXtabGroupLabel(i),AdHocCrosstab.showCrosstabMenu(e,localContext[n?"MEASURE_ROW_MENU_CONTEXT":"MEASURE_COLUMN_MENU_CONTEXT"]))}},AdHocCrosstab.lmHandlersMap={addItems:function(e,t,i){var n=_.uniq(_.map(e,function(e){return e.extra.dimensionId})),a=_.pluck(e,"id"),r=e[0].extra.isMeasure,s=AdHocCrosstab.isOlapMode();AdHocCrosstab.insertDimensionInAxisWithChild({dim:r?n.slice(0,1):n,axis:i,pos:t,child:s||r?a:null,hierarchyName:e[0].extra.hierarchyName})},measureReorder:function(e,t){AdHocCrosstab.moveMeasure(e,t)},column:{addItem:function(e,t,i,n,a,r,s){AdHocCrosstab.insertDimensionInAxisWithChild({dim:e,axis:"column",pos:t,child:AdHocCrosstab.isOlapMode()||a?i:null,measure_pos:n,isMeasure:a,uri:r,hierarchyName:s})},removeItem:function(e,t){e.isMeasure?AdHocCrosstab.removeMeasure(t):AdHocCrosstab.hideColumnLevel(e.dimensionId,e.level)},moveItem:function(e,t,i){AdHocCrosstab.moveDimension(e,"column","column",t,i)},switchItem:function(e,t,i){AdHocCrosstab.moveDimension(e,"row","column",t,i)},contextMenu:function(e,t){AdHocCrosstab.selectFromDisplayManager(t.targetEvent,t.extra,designerBase.COLUMN_GROUP_MENU_LEVEL),AdHocCrosstab.showCrosstabMenu(t.targetEvent,localContext.DISPLAY_MANAGER_COLUMN_CONTEXT)}},row:{addItem:function(e,t,i,n,a,r,s){AdHocCrosstab.insertDimensionInAxisWithChild({dim:e,axis:"row",pos:t,child:AdHocCrosstab.isOlapMode()||a?i:null,measure_pos:n,isMeasure:a,uri:r,hierarchyName:s})},removeItem:function(e,t){e.isMeasure?AdHocCrosstab.removeMeasure(t):AdHocCrosstab.hideRowLevel(e.dimensionId,e.level)},moveItem:function(e,t,i){AdHocCrosstab.moveDimension(e,"row","row",t,i)},switchItem:function(e,t,i){AdHocCrosstab.moveDimension(e,"column","row",t,i)},contextMenu:function(e,t){AdHocCrosstab.selectFromDisplayManager(t.targetEvent,t.extra,designerBase.ROW_GROUP_MENU_LEVEL),AdHocCrosstab.showCrosstabMenu(t.targetEvent,localContext.DISPLAY_MANAGER_ROW_CONTEXT)}}},AdHocCrosstab.treeMenuHandler=function(e){var t,i=e.memo.node;"dimensionsTree"===i.treeId?t=i.isParent()?adhocDesigner.DIMENSION_TREE_DIMENSION_CONTEXT:adhocDesigner.DIMENSION_TREE_LEVEL_CONTEXT:"measuresTree"===i.treeId&&(t=i.isParent()?adhocDesigner.MEASURE_TREE_GROUP_CONTEXT:adhocDesigner.MEASURE_TREE_CONTEXT),adhocDesigner.showDynamicMenu(e.memo.targetEvent,t,null)},AdHocCrosstab.selectFromDisplayManager=function(e,t,i){designerBase.unSelectAll();var n=adhocDesigner.isMultiSelect(e,i);selectionCategory.area=i;var a=adhocDesigner.isAlreadySelected(t);actionModel.setSelected([t]),adhocDesigner.addSelectedObject(e,t,n,a),Event.stop(e)},define("adhoc/crosstab.observers",["adhoc/crosstab"],function(e){return function(){var t;return t||e.AdHocCrosstab}}(this)),AdHocCrosstab.canMoveToDimensions=function(){var e=selObjects.find(function(e){return localContext.isInUse(e.param.extra.id,e.param.extra.isMeasure)});return!e},AdHocCrosstab.canMoveToMeasures=function(){return AdHocCrosstab.canMoveToDimensions()},AdHocCrosstab.canSaveReport=function(){return localContext.isNonOlapMode()?localContext.state.hasMeasures:localContext.state.hasMeasures&&localContext.state.columnGroups.first()&&localContext.state.columnGroups.first().dimensionName!==localContext.NULL_DIMENSION},AdHocCrosstab.isGroupSelected=function(e){return!e.isMeasure},AdHocCrosstab.isRowGroupSelected=function(e){return"row"===e.axis&&!e.isMeasure},AdHocCrosstab.isColumnGroupSelected=function(e){return"column"===e.axis&&!e.isMeasure},AdHocCrosstab.isCurrentDateType=function(e){var t=AdHocCrosstab.getSelectedGroup(adhocDesigner.getSelectedColumnOrGroup());return t?t.categorizerName==e:!1},AdHocCrosstab.isSelectedMeasureNumeric=function(){var e=AdHocCrosstab.getSelectedMeasure();if(e){var t=adhocDesigner.getSuperType(e.type);return"int"==t||"dec"==t}return!1},AdHocCrosstab.isDateType=function(){return AdHocCrosstab.isDateTimeType("date")},AdHocCrosstab.isTimestampType=function(){return AdHocCrosstab.isDateTimeType("timestamp")},AdHocCrosstab.isTimeType=function(){return AdHocCrosstab.isDateTimeType("time")},AdHocCrosstab.isDateTimeType=function(e){var t=adhocDesigner.getSelectedColumnOrGroup();if(t){var i=AdHocCrosstab.isGroupSelected(t),n=AdHocCrosstab.getSelectedGroup(t);if(n){var a=n.canReBucket===!0,r=n.type===e;return i&&a&&r}}return!1},AdHocCrosstab.isSelectedMeasureItemType=function(e){var t=AdHocCrosstab.getSelectedMeasure();if(t){var i=adhocDesigner.getSuperType(t.type);return i===e}return!1},AdHocCrosstab.isSelectedMeasureMask=function(e){var t=AdHocCrosstab.getSelectedMeasure();return t?t.functionMaskOrDefault===e||!t.functionMaskOrDefault&&e===defaultMasks[adhocDesigner.INTEGER_TYPE_DISPLAY]:!1},AdHocCrosstab.isSelectedSummaryFunction=function(e){var t=AdHocCrosstab.getSelectedMeasure();return t?t.functionOrDefault===e:!1},AdHocCrosstab.isSelectedTimeSummaryFunction=function(e){var t=AdHocCrosstab.getSelectedMeasure();return t?t.aggregateFirstLevelFunction===e:!1},AdHocCrosstab.canSwitchToRow=function(){var e=adhocDesigner.getSelectedColumnOrGroup();return localContext.isNonOlapMode()||AdHocCrosstab.state.getDimensionsCount(e.axis)>1},AdHocCrosstab.canAddSliceFilter=function(){var e=selObjects.find(function(e){return!e.isSliceable});return selObjects.first()&&!e},AdHocCrosstab.canMoveUpOrLeft=function(){var e=adhocDesigner.getSelectedColumnOrGroup(),t=AdHocCrosstab.getSelectedDimensionIndex(e);return t>0},AdHocCrosstab.canMoveDownOrRight=function(){var e=adhocDesigner.getSelectedColumnOrGroup(),t=AdHocCrosstab.getSelectedDimensionIndex(e);return t<AdHocCrosstab.state.getDimensionsCount(e.axis)-1},AdHocCrosstab.canMoveMeasureUpOrLeft=function(){var e=adhocDesigner.getSelectedColumnOrGroup();return e.index>0},AdHocCrosstab.canMoveMeasureDownOrRight=function(){var e=adhocDesigner.getSelectedColumnOrGroup(),t=e.isMeasure?adhocDesigner.MEASURES:e.dimensionId,i=AdHocCrosstab.state.getLevelsFromDimension(t,e.axis).length;return e.index<i-1},AdHocCrosstab.canAddDimensionAsRowGroup=function(){var e=localContext.getSelectedObject();if(e.hasChilds()||(e=e.parent),localContext.isOlapMode()){var t=e.param.id,i=localContext.state.getDimensionsCount("column"),n=e.param.extra.isHierarchy,a=AdHocCrosstab.state.getLevelsFromDimension(t,"column"),r=n&&1===i&&!_.isEmpty(a);if(0===i||r)return!1;var s=n&&e.param.extra.id,o=AdHocCrosstab.state.getLevelsFromDimension(t,"row"),l=_.isEmpty(a),d=localContext.fromSiblingHierarchy(s,t);return(n||l)&&(n&&d||o.length<e.getChildCount())}var c=dynamicTree.trees[e.getTreeId()],u=adhocDesigner.getAllLeaves(e,c),h=adhocDesigner.getAllLeaves(e,c).collect(function(e){return e.param.extra.id});if(u[0].param.extra.isMeasure){var m=localContext.state.getFilteredMeasureList("column");return 0===m.length}var p=_.pluck(localContext.state.getFilteredList(),"name");return _.difference(h,p).length>0},AdHocCrosstab.canAddDimensionAsColumnGroup=function(){var e=localContext.getSelectedObject();if(e.hasChilds()||(e=e.parent),localContext.isOlapMode()){var t=e.param.id,i=e.param.extra.isHierarchy,n=i&&e.param.extra.id,a=AdHocCrosstab.state.getLevelsFromDimension(t,"column"),r=AdHocCrosstab.state.getLevelsFromDimension(t,"row"),s=0===r.length,o=localContext.fromSiblingHierarchy(n,t);return(i||s)&&(i&&o||a.length<e.getChildCount())}var l=dynamicTree.trees[e.getTreeId()],d=adhocDesigner.getAllLeaves(e,l),c=adhocDesigner.getAllLeaves(e,l).collect(function(e){return e.param.extra.id});if(d[0].param.extra.isMeasure){var u=localContext.state.getFilteredMeasureList("row");return 0===u.length}var h=_.pluck(localContext.state.getFilteredList(),"name");return _.difference(c,h).length>0},AdHocCrosstab.canAddLevelAsRowGroup=function(){if(0===localContext.state.getDimensionsCount("column")&&localContext.isOlapMode())return!1;var e=localContext.getSelectedObject();if(!e)return!1;var t=e.param.extra;if(!t)return!1;var i=localContext.isOlapMode()?[t.dimensionId]:adhocDesigner.getAllLeaves(e).map(function(e){return e.param.extra.dimensionId}),n=i.inject([],function(e,t){return e.concat(AdHocCrosstab.state.getLevelsFromDimension(t,"column")||[])}),a=i.inject([],function(e,t){return e.concat(AdHocCrosstab.state.getLevelsFromDimension(t,"row")||[])});return 0===n.length&&(0===a.length||localContext.isNonOlapMode()&&(t.isMeasure||AdHocCrosstab.isDateField(t))||!_.contains(a,t.name))},AdHocCrosstab.canAddLevelAsColumnGroup=function(){var e=localContext.getSelectedObject();if(!e)return!1;var t=e.param.extra,i=localContext.isOlapMode()?[t.dimensionId]:adhocDesigner.getAllLeaves(e).map(function(e){return e.param.extra.dimensionId}),n=i.inject([],function(e,t){return e.concat(AdHocCrosstab.state.getLevelsFromDimension(t,"column")||[])}),a=i.inject([],function(e,t){return e.concat(AdHocCrosstab.state.getLevelsFromDimension(t,"row")||[])});return 0===a.length&&(0===n.length||localContext.isNonOlapMode()&&(t.isMeasure||AdHocCrosstab.isDateField(t))||!n.find(function(e){return _.contains(_.map(designerBase.getSelectedObjects(),function(e){return e.param.extra.id}),e)}))},AdHocCrosstab.showAddHierarchyConfirm=function(e,t,i){return localContext.fromSiblingHierarchy(e,t)?(adhocDesigner.addConfirmDialog.show({ok:function(){return AdHocCrosstab.isFiltersApplied(t)?void dialogs.systemConfirm.show(adhocDesigner.getMessage("ADH_CROSSTAB_LAST_FILTERED_LEVEL"),5e3):void i()}}),!0):!1},AdHocCrosstab.isFiltersApplied=function(e,t){var i=_.pluck(localContext.state.getLevelObjectsFromDimension(e,t),"levelUniqueName"),n=_.pluck(localContext.state.existingFilters,"name");return!_.isEmpty(_.intersection(i,n))},AdHocCrosstab.canAddSiblingLevels=function(){return!0},AdHocCrosstab.canHideLevel=function(){return!0},AdHocCrosstab.canShowLevel=function(){return!0},AdHocCrosstab.canHideSummariesForColumnGroup=function(){return AdHocCrosstab.canHideSummariesForGroup(!1)},AdHocCrosstab.canHideSummariesForRowGroup=function(){return AdHocCrosstab.canHideSummariesForGroup(!0)},AdHocCrosstab.canHideSummariesForGroup=function(e){return!0},AdHocCrosstab.canAddFilter=function(e,t){if(localContext.isOlapMode())var i=isNotNullORUndefined(e.isMeasure)?e.isMeasure:e.param.extra&&e.param.extra.isMeasure,n=localContext._isAddingFilterDuplicate(e);if(i)return t&&t.push(addFilterErrorMessageMeasureAdd),!1;var a=e.param?e.param.extra&&e.param.extra.id:e.level,r=a&&0===a.indexOf(localContext.ALL_LEVEL_NAME);return r?(t&&t.push(addFilterErrorMessageAllLevelAdd),!1):e.isParent&&e.isParent()?(t&&t.push(addFilterErrorMessageGroupAdd),!1):e.param&&localContext.fromSiblingHierarchy(e.param.extra.hierarchyName,e.param.extra.dimensionId)?(t&&t.push(addFilterErrorMessageAnotherHierarchy),!1):adhocDesigner.isSpacerSelected(e)?(t&&t.push(addFilterErrorMessageSpacerAdd),!1):adhocDesigner.isPercentOfParentCalcSelected(e)?(t&&t.push(addFilterErrorMessagePercentOfParentCalcFieldAdd),!1):adhocDesigner.isConstantSelected(e)?(t&&t.push(addFilterErrorMessageConstantAdd),!1):n?(t&&t.push(addFilterErrorMessage),!1):!0},AdHocCrosstab._isAddingFilterDuplicate=function(e){var t;return t=e.param?"["+e.param.extra.dimensionId+"].["+e.param.extra.id+"]":"["+e.dimensionId+"].["+e.level+"]",adhocDesigner.filtersController.hasFilterForField(t)},AdHocCrosstab.getSelectedObject=function(){return selObjects.first()},AdHocCrosstab.getHierarchy=function(e){var t=e.param.extra;return e.hasChilds()?(e.getFirstChild().hasChilds()&&(t=e.getFirstChild().param.extra),t&&t.isHierarchy?t.id:void 0):t.hierarchyName},AdHocCrosstab._getAvailableFieldsNodeBySelection=function(e,t,i){var n={};if(selectionCategory.area==designerBase.AVAILABLE_FIELDS_AREA)i.hasChilds()?(n.isMeasure="measuresTree"===i.treeId,n.dimensionId=n.isMeasure?i.treeId:i.param.id,n.uri=localContext.isNonOlapMode()?i.param.uri:void 0,n.level=null):(n.isMeasure=!!i.param.extra.isMeasure,n.level=i.param.extra.dimensionId&&i.param.id,n.dimensionId=i.param.extra.dimensionId||i.param.extra.id),n.hierarchyName=AdHocCrosstab.getHierarchy(i),n.index=-1;else if(selectionCategory.area==designerBase.ROW_GROUP_MENU_LEVEL||selectionCategory.area==designerBase.COLUMN_GROUP_MENU_LEVEL)if(e||t){var a=/.*\[(.*)\]/.exec(e),r=a&&a[1];n.isMeasure=!t,n.level=e,n.dimensionId=n.isMeasure?adhocDesigner.MEASURES:t,n.index=-1,n.hierarchyName=r}else{if(!i.axis)return void alert("Need a way to get dimension name for clicked level from crosstab");n=i}return n},AdHocCrosstab.getAvailableFieldsNodeBySelection=function(e,t){return AdHocCrosstab._getAvailableFieldsNodeBySelection(e,t,selObjects.first())},AdHocCrosstab.getAvailableFieldsNodesBySelection=function(e,t){for(var i=[],n=0;n<selObjects.length;n++)i.push(AdHocCrosstab._getAvailableFieldsNodeBySelection(e,t,selObjects[n])),i[n].extra=i[n],i[n].dimensionId=i[n].dimensionId,i[n].id=i[n].level;return i},AdHocCrosstab.canShowSortOptions=function(){if(selObjects.length>1)return!1;var e="column"===selObjects[0].axis,t=localContext.state.crosstab.hasConcreteRowGroups;return selObjects[0].isInner&&(e?t:selObjects[0].isMeasure)},AdHocCrosstab.canShowTopBottomNFilterMenu=function(){var e=!localContext.isOlapMode()&&AdHocCrosstab.canShowSortOptions(),t=localContext.state.hasConcreteRowGroups,i=localContext.state.getDimensions("row"),n=t&&_.find(i,function(e){return"Measures"===e.name});return e&&!n},AdHocCrosstab.isSortOptionSelected=function(e){return selObjects[0].sorting===e},AdHocCrosstab.isDateField=function(e){return"Timestamp"===e.type||"Date"===e.type||"Time"===e.type},AdHocCrosstab.isTopBottomNOptionSelected=function(e){return selObjects[0].topBottomFilter===e},define("adhoc/crosstab.tests",["adhoc/crosstab","adhoc/crosstab.actions","adhoc/crosstab.ajax","adhoc/crosstab.helpers","adhoc/crosstab.observers"],function(e){return function(){var t;return t||e.AdHocCrosstab}}(this));var AdHocChart={CHART_ID:"chart",CHART_IMAGE_ID:"chart-image",BAR_CHART:"1_bar",PIE_CHART:"2_pie",LINE_CHART:"3_line",AREA_CHART:"4_area",SCATTER_CHART:"5_scatter",TIME_SERIES_CHART:"6_timeSeries",CHART_CANVAS_PATTERN:"table#canvasTable tbody td#chart",DRAGGABLE_PAPER_SIZE:"content",CONTENT_PAGE_SIZE:"content",CHART_DRAGGER_PATTERN:"div#dragger.sizer",MAX_DRAGGABLE_LEGEND_DELTA:25,MIN_CHART_WIDTH:50,MIN_CHART_HEIGHT:50,ZOOM_FACTOR:15,getMode:function(){return designerBase.CHART},reset:function(){},render:function(){return adhocDesigner.ui.canvas.html(this.chartTemplate(this.state)),adhocDesigner.setNothingToDisplayVisibility(!1),!0},initAll:function(){this.currentlyDragging=!1,this.currentlyDraggingLegend=!1,this.dragginInLegendArea=!1,this.containerMovePosition={x:0,y:0},this.draggableLegend=null,this.currentLegendIndex=null,this.documentEventSet=null,this.hoverLegendIndex=null,this.groupTarget=null,this.legendOverlays=[],this.draggableChart=null,adhocDesigner.overlayParent=$("chartBorder"),adhocDesigner.enableXtabPivot(!1),$("chartBorder")&&(designerBase.clearOverlaySet(AdHocChart.legendOverlays),localContext.state.displayLegend&&localContext.state.legendItems&&localContext.state.legendItems.each(function(e,t){var i=designerBase.createDomObject("DIV","overlay legend button");i.setStyle({left:e.left+"px",top:e.top+"px",width:e.width+"px",height:e.height+"px"});var n=localContext.state.measureNames[t];i.writeAttribute("id","legendOverlay_"+t),i.writeAttribute("data-legendName",n),i.writeAttribute("data-defaultName",e.defaultName),i.writeAttribute("data-userName",e.userName),i.writeAttribute("data-index",t),AdHocChart.legendOverlays.push(i),adhocDesigner.overlayParent.appendChild(i)}.bind(this))),document.getElementById("dragger").style.height="50px",document.getElementById("dragger").style.width="50px"}};define("adhoc/chart.init",["designer.base"],function(e){return function(){var t;return t||e.AdHocChart}}(this)),AdHocChart.canSaveReport=function(){return localContext.state.canSave},AdHocChart.canSetMask=function(){return"NaN"!=localContext.state.dataTypes[AdHocChart.getCurrentMeasure()]},AdHocChart.draggerListener=function(e){e.preventDefault(),localContext.currentlyDragging=!0;var t={x:e.pointerX()-localContext.containerMovePosition.x,y:e.pointerY()-localContext.containerMovePosition.y};localContext.containerMovePosition={x:e.pointerX(),y:e.pointerY()};var i=parseInt($("chartBorder").getStyle("width")),n=parseInt($("chartBorder").getStyle("height")),a=Math.abs(i+t.x),r=Math.abs(n+t.y);$("chartBorder").setStyle({width:a+"px",height:r+"px"})},AdHocChart.canMoveMeasureUp=function(){var e=!1;return selObjects[0]&&selObjects[0].index<localContext.state.measureNames.length-1&&(e=!0),e},AdHocChart.canMoveMeasureDown=function(){var e=!1;return selObjects[0]&&selObjects[0].index&&selObjects[0].index>0&&(e=!0),e},AdHocChart.supportsSeries=function(){return localContext.state.type!=AdHocChart.PIE_CHART},AdHocChart.isPie=function(){return localContext.state.type==AdHocChart.PIE_CHART},AdHocChart.isBar=function(){return localContext.state.type==AdHocChart.BAR_CHART},AdHocChart.isArea=function(){return localContext.state.type==AdHocChart.AREA_CHART},AdHocChart.isLine=function(){return localContext.state.type==AdHocChart.LINE_CHART},AdHocChart.isType=function(e){return localContext.state.type==e},AdHocChart.isMeasureNumeric=function(e){var t=0===arguments.length?AdHocChart.getCurrentMeasure():e;return localContext.state.isNumeric[t]},AdHocChart.isSelectedMeasureNumeric=function(){return isMeasureNumeric()},AdHocChart.isDataType=function(e,t){var i=arguments.length<2?AdHocChart.getCurrentMeasure():t;return localContext.state.dataTypes[i]==e},AdHocChart.isMask=function(e,t){var i=arguments.length<2?AdHocChart.getCurrentMeasure():t;return localContext.state.masks[i]==e},AdHocChart.isFunctionSelected=function(e,t){return t=t?t:AdHocChart.getCurrentMeasure(),localContext.state.summaryFunctions[t]==e},AdHocChart.isContentPageSize=function(){return localContext.state.paperSize==AdHocChart.CONTENT_PAGE_SIZE},AdHocChart.isInLegendArea=function(e,t){var i=20,n=$("chartBorder").cumulativeOffset(),a=$("chartBorder").cumulativeScrollOffset(),r={left:n[0]+a[0],top:n[1]+a[1]},s={left:r.left+localContext.state.legendLeft,top:r.top+localContext.state.legendTop};return e<s.left+localContext.state.legendWidth+i&&e>=s.left-i&&t<s.top+localContext.state.legendHeight+i&&t>=s.top-i},AdHocChart.getChartWidth=function(){return $("chartBorder").getWidth()},AdHocChart.getChartHeight=function(){return $("chartBorder").getHeight()},AdHocChart.getHasMargins=function(){return localContext.state.hasMargins},AdHocChart.getTitleHeight=function(){var e=0,t=$("titleCaption");return t?t.getHeight():e},AdHocChart.getTitleBottom=function(){var e=getTitleHeight();if(0===e)return e;var t=$("titleCaption").positionedOffset();return e+t[1]},AdHocChart.canAddAsMeasure=function(){var e=selObjects.length>1;return!localContext.state.hasMeasures&&!e||localContext.state.seriesEnabled&&AdHocChart.supportsSeries()},AdHocChart.selectedMeasureShowsSummaryOptions=function(){return!!localContext.state.measureNames[AdHocChart.getCurrentMeasure()]},AdHocChart.canReplaceMeasure=function(){if(1==selObjects.length){var e,t=designerBase.getSelectedObject();return t?(e=t.isParent(),localContext.state.hasMeasures&&(!localContext.state.seriesEnabled||!AdHocChart.supportsSeries())&&!e):!1}return!1},AdHocChart.canAddAsGroup=function(e){if(selObjects[0]&&"measuresTree"==selObjects[0].parent.treeId)return!1;if(1==selObjects.length){var t,i=designerBase.getSelectedObject();return i?(t=i.isParent(),(e||!localContext.state.hasGroup)&&!t&&!adhocDesigner.isPercentOfParentCalcSelected(i)):!1}return!1},AdHocChart.canReplaceGroup=function(){if(selObjects[0]&&"measuresTree"==selObjects[0].parent.treeId)return!1;if(1==selObjects.length){var e,t=designerBase.getSelectedObject();return t?(e=t.isParent(),localContext.state.hasGroup&&!e&&!adhocDesigner.isPercentOfParentCalcSelected(t)):!1}return!1},define("adhoc/chart.helpers",["adhoc/chart.init"],function(e){return function(){var t;return t||e.AdHocChart}}(this)),_.extend(AdHocChart,{addAsMeasure:function(e,t){designerBase.sendRequest("ch_insertMeasure",{fs:e,i:t})},addAsLastMeasure:function(e){designerBase.sendRequest("ch_insertMeasureLast",{fs:e})},replaceMeasure:function(e){designerBase.sendRequest("ch_replaceMeasures",{f:e})},moveMeasure:function(e,t){designerBase.sendRequest("ch_moveMeasure",["f="+e,"t="+t])},moveMeasureUp:function(){var e=parseInt(selObjects[0].index);designerBase.sendRequest("ch_moveMeasure",["f="+e,"t="+(e+1)])},moveMeasureDown:function(){var e=parseInt(selObjects[0].index);designerBase.sendRequest("ch_moveMeasure",["f="+e,"t="+(e-1)])},switchToMeasure:function(e,t,i){designerBase.sendRequest("ch_switchToMeasure",{fs:e,to:i})},setGroup:function(e){designerBase.sendRequest("ch_setGroup",["g="+encodeText(e)])},removeMeasure:function(e){e||0===e||(e=AdHocChart.getCurrentMeasure()),designerBase.sendRequest("ch_removeMeasure",["i="+e])},removeGroup:function(){designerBase.sendRequest("ch_removeGroup",[])},switchToGroup:function(e,t){designerBase.sendRequest("ch_switchToGroup",["fs="+encodeText(e),"from="+t])},changeChartType:function(e){designerBase.sendRequest("ch_changeType",["t="+e])},toggle3D:function(){designerBase.sendRequest("ch_toggle3D",[])},toggleStack:function(){designerBase.sendRequest("ch_toggleStack",[])},toggleOrientation:function(){designerBase.sendRequest("ch_toggleChartOrientation",[])},togglePoints:function(){designerBase.sendRequest("ch_togglePoints",[])},toggleLines:function(){designerBase.sendRequest("ch_toggleLines",[])},toggleGradient:function(){designerBase.sendRequest("ch_toggleGradient",[])},toggleBackground:function(){designerBase.sendRequest("ch_toggleBackground",[])},toggleLegend:function(){designerBase.sendRequest("ch_toggleLegend",[])},toggleXAxisLabel:function(){designerBase.sendRequest("ch_toggleXAxisLabel",[])},toggleYAxisLabel:function(){designerBase.sendRequest("ch_toggleYAxisLabel",[])},updateLegendLabel:function(e,t){e.blank()&&(e=" "),designerBase.sendRequest("ch_setLegendLabel",["l="+encodeText(e),"i="+t])},setSummaryFunction:function(e,t){designerBase.sendRequest("ch_setSummaryFunction",["f="+e,"i="+t])},setSummaryFunctionAndMask:function(e,t,i){designerBase.sendRequest("ch_setSummaryFunctionAndMeasureMask",["f="+e,"m="+encodeText(t),"i="+i])},setMask:function(e,t){designerBase.sendRequest("ch_setMeasureMask",["m="+encodeText(e),"i="+t])},moveChart:function(e,t){designerBase.sendRequest("ch_moveChart",["x="+e,"y="+t])},resizeChart:function(e,t){var i=AdHocChart.computeDimensions(e,t);i&&designerBase.sendRequest("ch_resizeChart",["w="+i[0],"h="+i[1]])}}),AdHocChart.updateViewCallback=function(e){adhocDesigner.updateStateAndRender(e)},AdHocChart.standardOpCallback=function(e){localContext.standardChartOpCallback(e)},AdHocChart.standardChartOpCallback=function(e){adhocDesigner.updateStateAndRender(e)},define("adhoc/chart.ajax",["underscore","adhoc/chart.init"],function(e){return function(){var t;return t||e.AdHocChart}}(this)),AdHocChart.showChartMenu=function(e,t){isIPad()?adhocDesigner.showDynamicMenu(e,t,{menuLeft:e.changedTouches[0].clientX,menuTop:e.changedTouches[0].clientY-100}):adhocDesigner.showDynamicMenu(e,t,{menuLeft:e.clientX,menuTop:e.clientY-100})},AdHocChart.getCurrentMeasure=function(){if(1==localContext.state.numberOfMeasures||AdHocChart.isPie())return 0;var e=designerBase.getSelectedObject(),t=e.index;return isNaN(t)?-1:parseInt(t)},AdHocChart.addFieldAsMeasure=function(e,t){var i="";if(_.isNumber(t)||(t=AdHocChart.hoverLegendIndex),selObjects.length>0){var n=adhocDesigner.getSelectedTreeNodes();i=adhocDesigner.collectFields(n,e),AdHocChart.supportsSeries()?_.isNumber(t)&&t>-1?AdHocChart.addAsMeasure(i,t):AdHocChart.addAsLastMeasure(i):AdHocChart.replaceMeasure(i)}},AdHocChart.addFieldAsGroup=function(){var e=designerBase.getSelectedObject();if(e){var t=adhocDesigner.getNameForSelected(e);AdHocChart.setGroup(t)}},AdHocChart.functionSelected=function(e,t){t||(t=AdHocChart.getCurrentMeasure());var i=AdHocChart.getUpdatedMeasureType(e);i?AdHocChart.setSummaryFunctionAndMask(e,defaultMasks[i],t):AdHocChart.setSummaryFunction(e,t)},AdHocChart.getUpdatedMeasureType=function(e){var t=localContext.getMeasureType(e);return t!=localContext.state.dataTypes[AdHocChart.getCurrentMeasure()]?t:null},AdHocChart.getMeasureType=function(e){return"Count"==e||"DistinctCount"==e?"int":localContext.state.dataTypes[AdHocChart.getCurrentMeasure()]},AdHocChart.maskSelected=function(e,t){t||(t=AdHocChart.getCurrentMeasure()),AdHocChart.setMask(e,t)},AdHocChart.deselectAllSelectedOverlays=function(){var e=$$(adhocDesigner.LEGEND_OVERLAY_PATTERN);e.each(function(e){$(e)&&(buttonManager.unSelect($(e)),isIPad()&&($(e).removeClassName(layoutModule.HOVERED_CLASS),$(e).removeClassName(layoutModule.PRESSED_CLASS)))})},AdHocChart.getNewChartPositionAndMove=function(){var e=$("chartBorder"),t=null,i=null,n=null,a=null,r=!1;if(e){if(n=e.positionedOffset(),a=e.cumulativeScrollOffset(),AdHocChart.isContentPageSize())t=n[0]+a[0],i=n[1]+a[1],0>t&&(t=0),i<getTitleBottom()&&(i=getTitleBottom());else{var s=n[0]+getChartWidth(),o=n[1]+getChartHeight();s>localContext.state.availableChartWidth?(t=localContext.state.availableChartWidth-getChartWidth(),t+=a[0],r=!0):t=n[0]+a[0],o>localContext.state.availableChartHeight?(i=localContext.state.availableChartHeight-getChartHeight(),i+=a[1],r=!0):i=n[1]<0?getTitleBottom():n[1]+a[1],0>t&&(t=0),i<getTitleBottom()&&(i=getTitleBottom()),r&&moveTo(e,t,i,null)}moveChart(t,i)}},AdHocChart.computeDimensions=function(e,t){var i=null,n=null,a=$("chartBorder"),r=null;return a&&(i=isNaN(e)?parseInt(a.getStyle("width")):e,n=isNaN(t)?parseInt(a.getStyle("height")):t,AdHocChart.isContentPageSize()||(i>AdHocChart.state.availableChartWidth-AdHocChart.state.chartX&&(i=AdHocChart.state.availableChartWidth-AdHocChart.state.chartX),n>AdHocChart.state.availableChartHeight-AdHocChart.state.chartY&&(n=AdHocChart.state.availableChartHeight-AdHocChart.state.chartY)),i=i<AdHocChart.MIN_CHART_WIDTH?AdHocChart.MIN_CHART_WIDTH:i,n=n<AdHocChart.MIN_CHART_HEIGHT?AdHocChart.MIN_CHART_HEIGHT:n,r=[i,n]),r},define("adhoc/chart.actions",["adhoc/chart.init"],function(e){return function(){var t;return t||e.AdHocChart}}(this)),AdHocChart.mouseDownHandler=function(e){var t=e.element(),i=null;if(isIPad()&&(i=matchAny(t,["div#chartBorder"],!0),i&&$("dragger").removeClassName("hidden"),e.preventDefault()),"dragger"==t.identify()&&(this.containerMovePosition={x:e.pointerX(),y:e.pointerY()},Event.observe(document.body,isSupportsTouch()?"touchmove":"mousemove",this.draggerListener)),i=matchAny(t,[adhocDesigner.LEGEND_OVERLAY_PATTERN],!0),i&&!isRightClick(e)){var n=null;if(i.hasClassName("legend")){var a=i.readAttribute("data-legendName");"data-legendName"!==a&&(n={id:i.identify(),legendName:a,index:i.readAttribute("data-index"),defaultName:i.readAttribute("data-defaultName"),userName:i.readAttribute("data-userName")},selectionCategory.area=designerBase.LEGEND_MENU_LEVEL,localContext.draggableLegend&&localContext.draggableLegend.destroy(),designerBase.unSelectAll(),AdHocChart.deselectAllSelectedOverlays(),designerBase.addToSelected(n),buttonManager.select(i))}isIPad()&&$("dragger").addClassName("hidden")}isIPad()&&e.preventDefault()},AdHocChart.mouseUpHandler=function(e){var t=e.element(),i=null,n=null;if(this.currentlyDragging)Event.stopObserving(document.body,isSupportsTouch()?"touchmove":"mousemove",this.draggerListener),this.resizeChart(),this.currentlyDragging=!1;else{var a=$("dragger");isIPad()&&a&&!matchAny(t,["div#chartBorder"],!0)&&a.addClassName("hidden");
}i=matchAny(t,[adhocDesigner.LEGEND_OVERLAY_PATTERN],!0),i?(Draggables.dragging==designerBase.AVAILABLE_FIELDS_AREA?(n=i.readAttribute("data-index"),AdHocChart.hoverLegendIndex=parseInt(n)):(AdHocChart.deselectAllSelectedOverlays(),$(i).addClassName("selected")),isIPad()&&(it.clickid==t.identify()&&e.timeStamp-it.clicktime<700&&document.fire(layoutModule.ELEMENT_CONTEXTMENU,{targetEvent:e,node:t}),it.clicktime=e.timeStamp,it.clickid=t.identify())):isIPad()&&AdHocChart.deselectAllSelectedOverlays()},AdHocChart.mouseOverHandler=function(e){var t=e.element(),i=null;if(i=matchAny(t,["div#chartBorder"],!0)){var n=$("dragger");n.removeClassName("hidden")}if(i=matchAny(t,[AdHocChart.CHART_DRAGGER_PATTERN,adhocDesigner.LEGEND_OVERLAY_PATTERN],!0),i&&(AdHocChart.draggableChart&&AdHocChart.draggableChart.destroy(),i.match(adhocDesigner.LEGEND_OVERLAY_PATTERN))){var a=$(i).readAttribute("data-index");localContext.currentlyDraggingLegend&&(localContext.currentLegendIndex=a),localContext.state.inDesignView&&(localContext.draggableLegend=new Draggable(i.identify(),{ghosting:!0,onStart:function(e,t){Draggables.dragging=designerBase.CHART_LEGEND_AREA,localContext.currentlyDraggingLegend=!0,localContext.currentLegendIndex=$(e.element).readAttribute("data-index"),$(e.element).update($(e.element).readAttribute("data-defaultname")),$(e.element).setStyle({color:"#000","white-space":"nowrap"}),AdHocChart.draggableChart&&AdHocChart.draggableChart.destroy()},onEnd:function(e,t){var i=null;i=$(e.element).readAttribute("data-index"),$(e.element).update(),localContext.currentlyDraggingLegend=!1,localContext.dragginInLegendArea?isNaN(i)||isNaN(localContext.currentLegendIndex)||null==i||null==localContext.currentLegendIndex||AdHocChart.moveMeasure(i,localContext.currentLegendIndex):AdHocChart.removeMeasure(i),localContext.currentLegendIndex=null,localContext.dragginInLegendArea=!1},onDrag:function(e,t){var i=Event.pointer(t);if(AdHocChart.isInLegendArea(i.x,i.y)){localContext.dragginInLegendArea=!0;var n=$$("#chartBorder .overlay");n.each(function(t,n){if(t!==e.element){var a=Element.cumulativeOffset(t)[0],r=+t.style.width.replace("px","")+a;a<=i.x&&i.x<=r?(localContext.currentLegendIndex=t.readAttribute("data-index"),buttonManager.over(t)):buttonManager.out(t)}}),$(e.element).removeClassName("outside")}else localContext.dragginInLegendArea=!1,$(e.element).addClassName("outside")}}))}},AdHocChart.mouseOutHandler=function(e){var t=e.element(),i=null;if(i=matchAny(t,["div#chartBorder"],!0)){var n=$("dragger");n.addClassName("hidden")}AdHocChart.draggableChart&&AdHocChart.draggableChart.destroy()},AdHocChart.mouseClickHandler=function(e){},AdHocChart.contextMenuHandler=function(e){var t=e.element(),i=!0,n=matchAny(t,[AdHocChart.CHART_CANVAS_PATTERN,adhocDesigner.LEGEND_OVERLAY_PATTERN],!0);if(n){var a=null;if(n.hasClassName("legend")){var r=n.readAttribute("data-legendName");"data-legendName"!==r?(a={id:n.identify(),legendName:r,index:n.readAttribute("data-index"),defaultName:n.readAttribute("data-defaultName"),userName:n.readAttribute("data-userName")},selectionCategory.area=designerBase.LEGEND_MENU_LEVEL):i=!1}else selectionCategory.area=designerBase.CHART_LEVEL,a=n;i&&(localContext.draggableLegend&&localContext.draggableLegend.destroy(),designerBase.unSelectAll(),AdHocChart.deselectAllSelectedOverlays(),designerBase.addToSelected(a),buttonManager.select(n),AdHocChart.showChartMenu(e,selectionCategory.area)),Event.stop(e)}},AdHocChart.lmHandlersMap={addItems:function(e,t,i){this[i].addItems(e,t)},group:{addItem:function(e,t,i){AdHocChart.setGroup(i)},addItems:AdHocChart.addFieldAsGroup,removeItem:function(e,t){AdHocChart.removeGroup(t)},switchItem:function(e,t,i){AdHocChart.switchToGroup(e,t)},contextMenu:function(e,t){var i=t.extra.name,n={legendName:i,index:0};designerBase.unSelectAll(),localContext.deselectAllSelectedOverlays(),designerBase.addToSelected(n),selectionCategory.area=designerBase.LEGEND_MENU_LEVEL,actionModel.setSelected(t.extra),adhocDesigner.showDynamicMenu(t.targetEvent,"displayManagerRow",null,null)}},measures:{addItem:function(e,t,i){AdHocChart.addFieldAsMeasure(!0,t)},addItems:function(e,t){AdHocChart.addFieldAsMeasure(!0,t)},removeItem:function(e,t){AdHocChart.removeMeasure(t)},moveItem:function(e,t,i){AdHocChart.moveMeasure(t,i)},switchItem:function(e,t,i){AdHocChart.switchToMeasure(e,t,i)},contextMenu:function(e,t){var i=t.extra.index,n=t.extra.name,a=AdHocChart.state.legendItems[i],r={id:"legendOverlay_"+i,legendName:n,index:i,defaultName:a?a.defaultName:"",userName:a?a.userName:"",chartMeasureId:n};designerBase.unSelectAll(),AdHocChart.deselectAllSelectedOverlays(),designerBase.addToSelected(r),selectionCategory.area=designerBase.LEGEND_MENU_LEVEL,actionModel.setSelected(t.extra),adhocDesigner.showDynamicMenu(t.targetEvent,"displayManagerColumn")}}},define("adhoc/chart.observers",["adhoc/chart.init","adhoc/chart.helpers","adhoc/chart.ajax","adhoc/chart.actions"],function(e){return function(){var t;return t||e.AdHocChart}}(this));var AdHocTable={render_mode:"table",state:{},FETCH_MORE_ROWS:"fetchMoreRows",ALMOST_IN_VIEW_OFFSET:100,MINIMUM_COL_WIDTH:0,DEFAULT_GROUP_LABEL_OVERLAY_LEN:200,digitRegex:/\d+/,columnHeaderRow:null,theRows:null,theCols:null,lastRow:null,existingRowCount:null,hoverColumn:-1,reset:function(){this.groupOverlays=[],this.columnResizers={},this.columnOverlays={},this.summaryOverlays={},this.groupLabelOverlays=[],this.draggingColumnSizer=!1,this.draggingColumnOverlay=!1,this.draggingGroupOverlay=!1,this.fetchingRows=!1,this.draggingMoveOverColumnIndex=-1,this.draggingMoveOverGroupIndex=-1},setMode:function(e){this.mode=e},getMode:function(){return this.mode},init:function(){this.Rendering.infinitiveHorizontalScroll=_.bind(_.throttle(this.Rendering.infinitiveHorizontalScroll,250),this.Rendering)},initAll:function(){adhocDesigner.overlayParent=isSupportsTouch()?$("mainTableContainer").down():$("mainTableContainer"),adhocDesigner.enableXtabPivot(!1),AdHocTable.theRows=$("canvasTable").rows,AdHocTable.existingRowCount=AdHocTable.theRows.length,AdHocTable.columnHeaderRow=$("columnHeaderRow"),AdHocTable.state.endOfFile=!1,AdHocTable.shouldFetchMoreRows()&&AdHocTable.fetchMoreRows(),AdHocTable.initRowDependentDimensions(),AdHocTable.initOverlays(),AdHocTable.initKeyEvents(),jQuery("#mainTableContainer > #tableOptions").remove(),jQuery("#tableOptions").appendTo("#mainTableContainer").position({of:jQuery("#mainTableContainer .caption"),at:"left top",my:"left top",offset:"11 10"}).on("mouseover",function(e){var t=jQuery(this);t.addClass("over").css("z-index",1e5),actionModel.showDropDownMenu(e,this,this.id+AdHocTable.ACTION_MODEL_CONTEXT_SUFFIX,AdHocTable.GRID_SELECTOR_MENU_CLASS,localContext.state.actionmodel)}),jQuery("body").on("actionmodel-mouseout",function(){jQuery("#tableOptions").removeClass("over").css("z-index",9)})},Rendering:{me:!1,fullDataSet:!1,data:{containerLeftOffset:0,amountOfDisplayedCols:0,isFirstRender:0,forceShowNCols:!1},init:function(){this.data.isFirstRender=!0,this.data.containerLeftOffset=adhocDesigner.ui.canvas.scrollLeft()+adhocDesigner.ui.canvas.width()-1,this.data.amountOfDisplayedCols>0&&(this.data.forceShowNCols=this.data.amountOfDisplayedCols),this.data.amountOfDisplayedCols=0},infinitiveHorizontalScroll:function(){var e=0,t=function(){console.log.apply(console,arguments)},i=adhocDesigner.ui.canvas.scrollLeft()+adhocDesigner.ui.canvas.width();if(this.data.containerLeftOffset==i)return void(e&&t("there was no change to horizontal scroll - skipping this round...."));var n=adhocDesigner.ui.canvas.find("table tr:first"),a=n.find("th:last");if(0!==a.length){var r,s=a.position().left,o=s-i,l=0;for(e&&t("gap is: ",o);800>o;){if(this.partialRender(),r=n.find("th:last").position().left-i,r==o){e&&t("gap was not changed...");break}if(l++>10){e&&t("something bad is going on...");break}o=r;break}this.data.containerLeftOffset=i}},addMoreDataToFullState:function(e){var t=0,i=function(){console.log.apply(console,arguments)},n=this;t&&i("data to add to full dataset: ",e);var a,r;for(r=e.table.flattenedData,a=0;a<r.length;a++)this.fullDataSet.table.flattenedData.push(r[a]);_.each(["endOfFile","hitMaxRows","inDesignView","isShowingFullData"],function(t){n.fullDataSet[t]=e[t]}),t&&i("compiled full dataset: ",this.fullDataSet)},getPartialDataFromFullState:function(e,t,i){var n=0,a=function(){console.log.apply(console,arguments)};n&&a("getPartialDataFromFullState: SOURCE: ",e),i=i||0;var r,s,o=t+i,l={columns:[],table:{hasColumns:e.table.hasColumns,hasSummaryRow:e.table.hasSummaryRow,showTableTotals:e.table.showTableTotals,showTableDetails:e.table.showTableDetails,columns:[],columnHeaderRow:{members:[]},summaryRow:{members:[]},flattenedData:[]}};for(n&&a("data getter: reading from: ",t," up to ",o),s=e.columns,r=t;o>r&&r<s.length;r++)l.columns.push(s[r]);for(s=e.table.columns,r=t;o>r&&r<s.length;r++)l.table.columns.push(s[r]);for(s=e.table.columnHeaderRow.members,r=t;o>r&&r<s.length;r++)l.table.columnHeaderRow.members.push(s[r]);if(e.table.summaryRow)for(s=e.table.summaryRow.members,r=t;o>r&&r<s.length;r++)l.table.summaryRow.members.push(s[r]);return _.each(e.table.flattenedData,function(e,t){var i={id:e.id,isRow:e.isRow,isFooter:e.isFooter,isGroupMember:e.isGroupMember,rowClass:e.rowClass,formattedValue:e.formattedValue,members:[]};e.groupSummaryRow&&(i.groupSummaryRow={members:[]}),e.group&&(i.group={mask:e.group&&e.group.mask||void 0,numericType:e.group&&e.group.numericType||void 0,defaultDisplayName:e.group&&e.group.defaultDisplayName||void 0,currentDisplayName:e.group&&e.group.currentDisplayName||void 0,name:e.group&&e.group.name||void 0}),l.table.flattenedData.push(i)}),_.each(e.table.flattenedData,function(e,i){for(e=e.members,r=t;o>r&&r<e.length;r++)l.table.flattenedData[i].members.push(e[r])}),_.each(e.table.flattenedData,function(e,i){if(e.groupSummaryRow)for(e=e.groupSummaryRow.members,r=t;o>r&&r<e.length;r++)l.table.flattenedData[i].groupSummaryRow.members.push(e[r])}),n&&a("RESULT: ",l),l},partialRender:function(){var e=0,t=function(){console.log.apply(console,arguments)},i=100;this.data.forceShowNCols&&(i=this.data.forceShowNCols,this.data.forceShowNCols=!1);var n=this.getPartialDataFromFullState(this.fullDataSet,this.data.amountOfDisplayedCols,i),a={columns:this.fullDataSet.columns,groups:this.fullDataSet.groups,partial:n,hasNoData:this.fullDataSet.hasNoData,endOfFile:this.fullDataSet.endOfFile,title:this.fullDataSet.title,titleBarShowing:this.fullDataSet.titleBarShowing};e&&t("dataForRender: ",a);var r=this.me.tableTemplate(a);isIE9()&&(r=removeWhitespacesFromTable(r));var s=!(0===a.partial.columns.length&&0===a.groups.length);if(this.data.isFirstRender)return e&&t("doing full display: ",i," records to display"),adhocDesigner.ui.canvas.html(r),this.data.isFirstRender=!1,this.data.amountOfDisplayedCols=i,s;e&&t("doing partial display: ",i," records to display");var o=jQuery(r),l=adhocDesigner.ui.canvas.find("table tr"),d=o.find("tr"),c=0;return _.each(l,function(e,t){if(d[t])for(var i=0,n=d[t].childNodes.length;n>i;i++)child=d[t].childNodes[0],child.parentNode.removeChild(child),child.hasAttribute&&child.hasAttribute("colspan")||"#text"!=child.nodeName.toLowerCase()&&(l[t].appendChild(child),0===t&&c++)}),e&&t("Added: ",c," columns"),this.data.amountOfDisplayedCols+=c,s},addMoreRows:function(e){var t=0,i=function(){console.log.apply(console,arguments)};adhocDesigner.registerTemplate(this.me,"tableRowsTemplate","tableRowsTemplate"),this.addMoreDataToFullState(e),t&&i("add more rows: moreRowsState: ",e);var n=this.getPartialDataFromFullState(e,0,this.data.amountOfDisplayedCols);t&&i("add more rows: partialData: ",n);var a={columns:this.fullDataSet.columns,groups:this.fullDataSet.groups,partial:n,hasNoData:this.fullDataSet.hasNoData,endOfFile:this.fullDataSet.endOfFile,title:this.fullDataSet.title,titleBarShowing:this.fullDataSet.titleBarShowing};t&&i("add more rows: dataForRender: ",a);var r=this.me.tableRowsTemplate(a).replace(/^[\s]*<tbody id="tableDetails" class="copyTo">/g,"").replace(/<\/tbody>[\s]*/g,"");isIE9()&&(r=removeWhitespacesFromTable(r)),jQuery("#canvasTable > tbody.copyTo").append(r),this.me.initNewRows()}},render:function(){this.Rendering.me=this,this.Rendering.init(),this.Rendering.fullDataSet=this.state;var e=this.Rendering.partialRender();this.Rendering.infinitiveHorizontalScroll();var t=jQuery("#titleCaption").children().eq(0),i=t.width(),n=jQuery("#titleCaption").width();n>i&&t.width(n);var a=this.state.unresolvedReferences&&this.state.unresolvedReferences.length>0;adhocDesigner.setNothingToDisplayVisibility(!e||this.state.isShowingNoData||a),adhocDesigner.ui.canvas.unbind("scroll",this.Rendering.infinitiveHorizontalScroll).bind("scroll",this.Rendering.infinitiveHorizontalScroll);var r=jQuery("#nothingToDisplayMessage");if(this.state.isShowingNoData||a){var s=a?adhocDesigner.getMissingFieldsCanvasMessage(this.state):adhocDesigner.getMessage("noDataMode");r.html(s),this.hideDataTable()}else r.html(this.nothingToDisplayMessage),this.showDataTable();return e||this.hideDataTable(),e},hideDataTable:function(){jQuery("#columnHeaderRow").hide(),jQuery("#canvasTable").css("border","none")},showDataTable:function(){jQuery("#columnHeaderRow").show(),jQuery("#canvasTable").css("border-width","1px"),jQuery("#canvasTable").css("border-style","solid")}};AdHocTable._getTableHeaders=function(){return $$("tr#columnHeaderRow.labels.column th.label")},AdHocTable.canSaveReport=function(){return $("canvasTableCols")&&(AdHocTable.theCols=$("canvasTableCols").getElementsByTagName("col"),AdHocTable.theCols)?AdHocTable.theCols.length>0:!1},AdHocTable.deselectAllSelectedOverlays=function(){AdHocTable.deselectAllTableColumns(),AdHocTable.deselectAllSummaryCells(),AdHocTable.deselectAllColumnGroupRows()},AdHocTable.removeFromSelectObjects=function(e){var t;selObjects.each(function(i){i.index==e&&(t=i)}),selObjects=selObjects.without(t)},define("adhoc/table",["jquery","underscore","prototype","designer.base","utils.common","jquery-ui/jquery.ui.position"],function(e){return function(){var t;return t||e.AdHocTable}}(this)),AdHocTable.GRID_SELECTOR_MENU_CLASS="menu vertical dropDown",AdHocTable.ACTION_MODEL_CONTEXT_SUFFIX="_mutton",AdHocTable.mouseDownHandler=function(){},AdHocTable.mouseUpHandler=function(e){if(Draggables.dragging!=designerBase.COLUMN_LEVEL&&Draggables.dragging!=designerBase.GROUP_LEVEL&&!TouchController.element_scrolled){var t=isSupportsTouch()?getTouchedElement(e):e.element(),i=null,n=null,a=null;if(("dimensionsTree"==Draggables.dragging||"measuresTree"==Draggables.dragging)&&(i=matchAny(t,[adhocDesigner.COLUMN_OVERLAY_PATTERN],!0),i&&(a=t.identify(),n=n?n:AdHocTable.digitRegex.exec(a)[0],isSupportsTouch()||(AdHocTable.hoverColumn=n),AdHocTable.deactivateVisualDropCue(e,n),AdHocTable.isHoverGreaterThan50Percent(e,n)&&AdHocTable.hoverColumn++),i=matchAny(t,[adhocDesigner.COLUMN_SIZER_PATTERN],!0),i&&(a=t.identify(),n=parseInt(AdHocTable.digitRegex.exec(a)[0]),AdHocTable.hoverColumn=n+1,AdHocTable.deactivateVisualDropCue(e,n))),!isSupportsTouch()||!TouchController.element_scrolled){if(i=matchAny(t,[adhocDesigner.COLUMN_OVERLAY_PATTERN],!0),i&&!isRightClick(e)){a=t.identify(),n=AdHocTable.digitRegex.exec(a)[0];var r=localContext._getTableHeaders()[n],s={};s.header=r,s.index=n,s.model=localContext.state.table.columns[n],localContext.selectTableColumn(e,s)}if(t.match(adhocDesigner.GROUP_OVERLAY_PATTERN)&&!isRightClick(e)&&t){var o={id:t.identify(),fieldName:t.readAttribute("data-fieldName"),mask:t.readAttribute("data-mask"),dataType:t.readAttribute("data-dataType"),index:t.readAttribute("data-index"),label:t.readAttribute("data-label")};localContext.selectGroup(e,o)}t.match(adhocDesigner.SUMMARY_OVERLAY_PATTERN)&&!isRightClick(e)&&(a=t.identify(),localContext.selectGrandRowCell(e,AdHocTable.digitRegex.exec(a)[0]))}}},AdHocTable.mouseOutHandler=function(e){var t,i,n=e.targetElement?e.targetElement:e.element(),a=matchAny(n,[adhocDesigner.COLUMN_OVERLAY_PATTERN],!0);a&&(n.removeClassName("over"),Draggables.dragging&&!Draggables.activeDraggable.element.hasClassName("columnSizer")&&(t=n.identify(),i=parseInt(AdHocTable.digitRegex.exec(t)[0]),AdHocTable.deactivateVisualDropCue(e,i),AdHocTable.deactivateVisualDropCue(e,i-1))),a=matchAny(n,[adhocDesigner.SUMMARY_OVERLAY_PATTERN,adhocDesigner.GROUP_OVERLAY_PATTERN],!0),a&&n.removeClassName("over"),n.match("#designer .columnSizer")&&(theBody.style.cursor="default",adhocDesigner.overlayDraggedColumn&&adhocDesigner.overlayDraggedColumn.destroy())},AdHocTable.mouseOverHandler=function(e){var t=e.targetElement?e.targetElement:e.element(),i=Draggables.dragging==designerBase.GROUP_LEVEL;if(AdHocTable.updateColumnWhileDrag(e,t,function(t,i){AdHocTable.deactivateVisualDropCue(e,i?t-1:t),AdHocTable.activateVisualDropCue(e,i?t:t-1)}),Draggables.dragging!=designerBase.AVAILABLE_FIELDS_AREA&&!AdHocTable.draggingColumnSizer){if(matched=matchAny(t,[adhocDesigner.SUMMARY_OVERLAY_PATTERN,adhocDesigner.GROUP_OVERLAY_PATTERN,"th.label"],!0),matched){var n=jQuery(matched),a=n.attr("data-index");"th"==n.get(0).tagName.toLowerCase()&&a?jQuery("#columnOverlay_"+a).addClass("over"):matched.addClassName("over")}i&&(AdHocTable.draggingMoveOverGroupIndex=t.match(adhocDesigner.GROUP_OVERLAY_PATTERN)?t.getAttribute("data-index"):-1),AdHocTable.resizeColumnWhenSizerDrag(t)}},AdHocTable.mouseClickHandler=function(e){},AdHocTable.contextMenuHandler=function(e){var t,i=e.element(),n=i.identify();if(matchAny(i,[adhocDesigner.COLUMN_OVERLAY_PATTERN],!0)){t=AdHocTable.digitRegex.exec(n)[0];var a=localContext._getTableHeaders()[t],r={};r.header=a,r.index=t,r.model=localContext.state.table.columns[t],designerBase.isInSelection(r)||localContext.selectTableColumn(e,r);var s=_.chain(selObjects).pluck("model").pluck("name").value();actionModel.setSelected(_.filter(localContext.state.columns,function(e){return _.contains(s,e.name)})),a.readAttribute("data-fieldname")!==designerBase.ARTIFICIAL_NAME&&adhocDesigner.showDynamicMenu(e,designerBase.COLUMN_LEVEL,null,AdHocTable.generateAvailableSummaryCalculationsMenu)}if(i.match(adhocDesigner.SUMMARY_OVERLAY_PATTERN)){t=AdHocTable.digitRegex.exec(n)[0];var o=$("grandSummaryRow").cells,l=o[t];designerBase.isInSelection(l)||localContext.selectGrandRowCell(e,t),actionModel.setSelected(_.map(selObjects,function(e){return e.model})),adhocDesigner.showDynamicMenu(e,designerBase.SUMMARY_LEVEL,null,AdHocTable.generateAvailableSummaryCalculationsMenu)}if(i.match(adhocDesigner.GROUP_OVERLAY_PATTERN)&&i){var d=i.readAttribute("data-index"),c={id:n,fieldName:i.readAttribute("data-fieldName"),mask:i.readAttribute("data-mask"),dataType:i.readAttribute("data-dataType"),index:d,label:i.readAttribute("data-label"),model:localContext.state.table.groups[d]};designerBase.isInSelection(c)||localContext.selectGroup(e,c),actionModel.setSelected(_.map(selObjects,function(e){return e.model})),adhocDesigner.showDynamicMenu(e,designerBase.GROUP_LEVEL)}},AdHocTable.treeMenuHandler=function(e){var t,i=e.memo.node;t=designerBase[i.isParent()||!adhocDesigner.isOnlyFieldsSelected()?"FIELDSET_MENU_LEVEL":"FIELD_MENU_LEVEL"],adhocDesigner.showDynamicMenu(e.memo.targetEvent,t,null)},AdHocTable.initKeyEvents=function(){function e(e){return null!=e.target.up(".dialog")}document.stopObserving("key:right"),document.observe("key:right",function(t){if(localContext.getMode()==designerBase.TABLE&&!e(t)){var i=Object.clone(t.memo.targetEvent),n=adhocDesigner.getSelectedColumnOrGroup();n&&designerBase.isInSelection(n)&&AdHocTable.canMoveColumnsRight()&&AdHocTable.moveColumnRight(function(){AdHocTable.updateSelectedIndexes(1),localContext.selectTableColumn(i,n)})}}),document.stopObserving("key:left"),document.observe("key:left",function(t){if(localContext.getMode()==designerBase.TABLE&&!e(t)){var i=Object.clone(t.memo.targetEvent),n=adhocDesigner.getSelectedColumnOrGroup();n&&designerBase.isInSelection(n)&&AdHocTable.canMoveColumnsLeft()&&AdHocTable.moveColumnLeft(function(){AdHocTable.updateSelectedIndexes(-1),localContext.selectTableColumn(i,n)})}})},AdHocTable.generateAvailableSummaryCalculationsMenu=function(e,t){var i=_.find(t,function(e){return"AdHocTable.selectedColumnShowsSummaryOptions"===e.clientTest});if(i){var n=actionModel.selObjects[0],a=_.findWhere(localContext.state.columns,{name:n.name});a&&adhocDesigner.generateAvailableSummaryCalculationsMenu(a.fieldName,i,{action:AdHocTable.functionSelected,isSelectedTest:AdHocTable.isSelectedSummaryFunction})}return t},AdHocTable.lmHandlersMap={addItems:function(e,t,i){this[i].addItems(_.pluck(e,"id"),t)},group:{addItem:function(e,t,i){AdHocTable.addFieldAsGroup(i,t)},addItems:function(e,t){AdHocTable.addFieldAsGroup(e,t)},removeItem:function(e,t){AdHocTable.removeGroup(t)},moveItem:function(e,t,i){AdHocTable.moveGroup(t,i)},switchItem:function(e,t,i){AdHocTable.switchToGroup(e,t,i)},contextMenu:function(e,t){var i=t.extra.name,n=_.find(localContext.state.groups,function(e){return e.name===i});localContext.selectGroup(t.targetEvent,{id:"group"+n.level+"HeaderRow0",fieldName:n.name,mask:n.mask,dataType:n.numericType,index:n.level,label:n.currentDisplayName}),actionModel.setSelected([n]),adhocDesigner.showDynamicMenu(t.targetEvent,"displayManagerRow",null,null)}},column:{addItem:function(e,t,i){AdHocTable.addFieldAsColumnAtPosition(i,t)},addItems:function(e,t){AdHocTable.addFieldAsColumnAtPosition(e,t)},removeItem:function(e,t){AdHocTable.removeColumn(t)},moveItem:function(e,t,i){AdHocTable.moveColumn(t,i,null,!0)},switchItem:function(e,t,i){AdHocTable.switchToColumn(e,t,i)},contextMenu:function(e,t){var i=t.extra,n=localContext._getTableHeaders()[i.index];localContext.selectTableColumn(t.targetEvent,{header:n,index:i.index,ftype:i.isMeasure?"measure":"dimension",model:localContext.state.table.columns[i.index]}),actionModel.setSelected([localContext.state.columns[i.index]]),adhocDesigner.showDynamicMenu(t.targetEvent,"displayManagerColumn",null,null)}}},define("adhoc/table.observers",["adhoc/table"],function(e){return function(){var t;return t||e.AdHocTable}}(this)),AdHocTable.addFieldAsColumnAtPosition=function(e,t){if(AdHocTable.canAddFieldAsColumn(e)){var i=adhocDesigner.isNoDataToDisplay(),n=function(e){AdHocTable.hoverColumn=-1,localContext.standardTableOpCallback(e),i&&!adhocDesigner.isNoDataToDisplay()&&adhocDesigner.checkMaxRowsLimit()};designerBase.sendRequest("ta_insertColumn",{"f[]":designerBase.encodeParam(e),i:t},n,{bPost:!0})}},AdHocTable.moveColumn=function(e,t,i,n){var a=n?e:_.pluck(selObjects,"index").join(","),r=t-e,s=function(e){localContext.standardTableOpCallback(e),i&&i(e)};designerBase.sendRequest("ta_moveColumn",["indexes="+a,"offset="+r],s)},AdHocTable.switchToColumn=function(e,t,i){!e&&selObjects.length>0&&(e=selObjects[0].fieldName,t=selObjects[0].index,i=-1),designerBase.sendRequest("ta_switchToColumn",["item="+encodeText(e),"from="+t,"to="+i],localContext.standardTableOpCallback)},AdHocTable.removeColumn=function(e,t){var i=_.isNumber(e)?e:_.pluck(selObjects,"index").join(","),n=t||localContext.standardTableOpCallback;designerBase.sendRequest("ta_removeColumn",["indexes="+i],n)},AdHocTable.tableColumnResize=function(e,t){var i=function(e){localContext.standardTableOpCallback(e)};designerBase.sendRequest("ta_resizeColumn",["i="+t,"w="+e],i)},AdHocTable.setColumnHeaderToNull=function(e){var t=function(e){localContext.standardTableOpCallback(e)};designerBase.sendRequest("ta_setColumnHeader",["i="+e,"l=_null","w=-1"],t)},AdHocTable.updateColumnHeaderRequest=function(e,t,i){var n=function(e){localContext.standardTableOpCallback(e)};0===e.length?localContext.removeColumnHeaderRequest():designerBase.sendRequest("ta_setColumnHeader",["i="+t,"l="+encodeText(e),"w="+i],n)},AdHocTable.setMask=function(e,t){var i=function(e){localContext.standardTableOpCallback(e),designerBase.unSelectAll()};designerBase.sendRequest("ta_setColumnMask",["m="+encodeText(e),"i="+t],i)},AdHocTable.updateViewCallback=function(e){localContext.standardOpCallback(e)},AdHocTable.addFieldAsGroup=function(e,t){e||(t=-1,e=adhocDesigner.collectFields(adhocDesigner.getSelectedTreeNodes(),!0)),designerBase.sendRequest("ta_insertGroup",{"f[]":designerBase.encodeParam(e),i:t},localContext.standardTableOpCallback)},AdHocTable.moveGroup=function(e,t,i){var n=function(e){localContext.standardTableOpCallback(e),i&&i()};designerBase.sendRequest("ta_moveGroup",["i1="+e,"i2="+t],n)},AdHocTable.switchToGroup=function(e,t,i){!e&&selObjects.length>0&&(e=jQuery(selObjects[0].header).attr("data-fieldname"),t=selObjects[0].index,i=-1),designerBase.sendRequest("ta_switchToGroup",["item="+encodeText(e),"from="+t,"to="+i],localContext.standardTableOpCallback)},AdHocTable.removeGroup=function(e,t){var i,n=parseInt(e),a=t||localContext.standardTableOpCallback;isNaN(n)&&(n=(i=adhocDesigner.getSelectedColumnOrGroup())&&i.index),designerBase.sendRequest("ta_removeGroup",["i="+n],a)},AdHocTable.updateGroupLabel=function(e,t){if(!e||e.blank())return void localContext.setGroupLabelToNull(t);var i=function(e){localContext.standardTableOpCallback(e)};designerBase.sendRequest("ta_setGroupLabel",["g="+t,"l="+encodeText(e)],i)},AdHocTable.setGroupLabelToNull=function(e){var t=function(e){localContext.standardTableOpCallback(e)};designerBase.sendRequest("ta_setGroupLabel",["g="+e,"l=_null"],t)},AdHocTable.setGroupMask=function(e,t){var i=function(e){localContext.standardTableOpCallback(e)};designerBase.sendRequest("ta_setGroupMask",["m="+encodeText(e),"i="+t],i)},AdHocTable.fetchMoreRows=function(){AdHocTable.fetchingRows=!0,designerBase.sendRequest("ta_"+AdHocTable.FETCH_MORE_ROWS,[],this.Rendering.addMoreRows.bind(this.Rendering),null)},AdHocTable.addDefaultColumnSummary=function(){var e=adhocDesigner.getSelectedColumnOrGroup();e&&designerBase.sendRequest("ta_updateSummaryVisibility",["visible=true","i="+e.index],localContext.standardTableOpCallback)},AdHocTable.removeColumnSummary=function(){var e=adhocDesigner.getSelectedColumnOrGroup();e&&designerBase.sendRequest("ta_updateSummaryVisibility",["visible=false","i="+e.index],localContext.standardTableOpCallback)},AdHocTable.setSummaryFunction=function(e,t){var i=function(e){localContext.standardTableOpCallback(e)};designerBase.sendRequest("ta_setColumnSummaryFunction",["f="+encodeText(e),"i="+t],i)},AdHocTable.setTimeSummaryFunction=function(e,t){var i=function(e){localContext.standardTableOpCallback(e)};designerBase.sendRequest("ta_setColumnTimeSummaryFunction",["f="+encodeText(e),"i="+t],i)},AdHocTable.toggleGridMode=function(e){designerBase.sendRequest("ta_toggleGridMode",["mode="+e],localContext.standardTableOpCallback)},AdHocTable.updateCustomFieldCallback=function(){localContext.standardTableOpCallback(),localContext.state.inDesignView&&adhocDesigner.updateAllFieldLabels()},AdHocTable.getCallbacksForPivot=function(e){localContext.standardOpCallback(e)},AdHocTable.standardOpCallback=function(e){e?localContext.standardTableOpCallback(e,!0):window.console&&console.log("Internal server error occurred")},AdHocTable.standardTableOpCallback=function(e){adhocDesigner.updateStateAndRender(e)},define("adhoc/table.ajax",["adhoc/table.observers"],function(e){return function(){var t;return t||e.AdHocTable}}(this)),AdHocTable.addFieldAsColumn=function(e){var t=adhocDesigner.getSelectedTreeNodes(),i=adhocDesigner.collectFields(t,e,AdHocTable.canAddFieldAsColumn),n=AdHocTable.hoverColumn>-1?AdHocTable.hoverColumn:-1;AdHocTable.addFieldAsColumnAtPosition(i,n)},AdHocTable.addThisFieldAsColumn=function(e){var t=AdHocTable._getTableHeaders().length;AdHocTable.addFieldAsColumnAtPosition(e,t)},AdHocTable.moveColumnLeft=function(e){var t=localContext.getLeftMostPositionFromSelectedColumns(),i=t-1;localContext.moveColumn(t,i,e)},AdHocTable.moveColumnRight=function(e){var t=localContext.getLeftMostPositionFromSelectedColumns(),i=t+1;localContext.moveColumn(t,i,e)},AdHocTable.updateSelectedIndexes=function(e){for(var t=0;t<selObjects.length;t++)selObjects[t].index=(+selObjects[t].index+e).toString()},AdHocTable.resizeColumnWhenSizerDrag=function(e){if(e.match("#designer .columnSizer")){var t=e.readAttribute("id");theBody.style.cursor="col-resize";designerBase.TABLE_SELECT_AREA;adhocDesigner.overlayDraggedColumn=new Draggable(t,{constraint:"horizontal",onStart:function(){AdHocTable.draggingColumnSizer=!0,AdHocTable.activateColumnSizer(t)},onEnd:function(e,i){var n=e.element,a=$(n).readAttribute("id"),r=AdHocTable.digitRegex.exec(a)[0],s=AdHocTable.getNewColumnWidth(n,r),o=AdHocTable.setColumnWidth(r,s);AdHocTable.deactivateColumnSizer(t),localContext.tableColumnResize(jQuery(o).outerWidth(),r),AdHocTable.draggingColumnSizer=!1}})}},AdHocTable.selectTableColumn=function(e,t){AdHocTable.deselectAllSummaryCells(),AdHocTable.deselectAllColumnGroupRows();var i=adhocDesigner.isMultiSelect(e,designerBase.COLUMN_LEVEL),n=adhocDesigner.isAlreadySelected(t),a=t.index,r="columnOverlay_"+a;$(r)||AdHocTable.initOverlayById(a),n?i?$(r)&&($(r).removeClassName("selected").removeClassName("over"),AdHocTable.removeFromSelectObjects(a)):(!isIPad()&&AdHocTable.deselectAllTableColumns(),$(r).addClassName("selected"),adhocDesigner.addSelectedObject(e,t,i,n),selectionCategory.area=designerBase.COLUMN_LEVEL,!isIPad()&&AdHocTable.createDraggableColumn($(r).identify())):(i||_.each(AdHocTable.columnOverlays,function(e){$(e).removeClassName("selected").removeClassName("over")}),$(r)&&$(r).addClassName("selected"),adhocDesigner.addSelectedObject(e,t,i,n),selectionCategory.area=designerBase.COLUMN_LEVEL,!isIPad()&&isDesignView&&AdHocTable.createDraggableColumn($(r).identify()))},AdHocTable.deselectTableColumn=function(e,t){var i={},n="columnOverlay_"+t;$(n)&&($(n).removeClassName("selected"),$(n).removeClassName("over"),i.header=localContext._getTableHeaders()[t],i.index=t)},AdHocTable.deselectAllTableColumns=function(){for(var e=localContext._getTableHeaders(),t=e.length,i=0;t>i;i++)AdHocTable.deselectTableColumn(null,i),AdHocTable.removeFromSelectObjects(i)},AdHocTable.columnMaskSelected=function(e){var t=adhocDesigner.getSelectedColumnOrGroup();t&&localContext.setMask(e,t.index)},AdHocTable.removeColumnHeaderRequest=function(){var e=adhocDesigner.getSelectedColumnOrGroup();e&&localContext.setColumnHeaderToNull(e.index)},AdHocTable.launchSortingDialogForColumn=function(e){var t=selObjects;if(!t&&adhocDesigner.getSelectedTreeNodes().length&&(t=adhocDesigner.getSelectedTreeNodes()),t){var i=[];jQuery(t).each(function(){i.push(adhocDesigner.getNameForSelected(this))}),adhocSort.launchDialog(i)}},AdHocTable.cleanupOnSwitch=function(){adhocSort.hideDialog()},AdHocTable.moveGroupUp=function(e){function t(){AdHocTable.updateSelectedIndexes(-1),e&&e()}var i=adhocDesigner.getSelectedColumnOrGroup();if(i){var n=parseInt(i.index),a=n-1;localContext.moveGroup(n,a,t)}},AdHocTable.moveGroupDown=function(e){function t(){AdHocTable.updateSelectedIndexes(1),e&&e()}var i=adhocDesigner.getSelectedColumnOrGroup();if(i){var n=parseInt(i.index),a=n+1;localContext.moveGroup(n,a,t)}},AdHocTable.selectGroup=function(e,t){var i=t.id,n=(t.index,adhocDesigner.isMultiSelect(e,designerBase.GROUP_LEVEL));selectionCategory.area=designerBase.GROUP_LEVEL;var a=adhocDesigner.isAlreadySelected(t);a?(AdHocTable.deselectAllColumnGroupRows(),$(i)&&$(i).addClassName("selected"),adhocDesigner.addSelectedObject(e,t,n,a)):(AdHocTable.deselectAllColumnGroupRows(),AdHocTable.deselectAllTableColumns(),AdHocTable.deselectAllSummaryCells(),$(i)&&($(i).addClassName("selected"),!isIPad()&&AdHocTable.createDraggableGroup(i)),adhocDesigner.addSelectedObject(e,t,n,a))},AdHocTable.deselectAllColumnGroupRows=function(){designerBase.deselectOverlaySet(AdHocTable.groupOverlays,"selected"),designerBase.deselectOverlaySet(AdHocTable.groupOverlays,"pressed")},AdHocTable.editGroupLabel=function(){adhocDesigner.getSelectedColumnOrGroup()&&adhocDesigner.editDataHeader(null,"tableGroup")},AdHocTable.removeGroupLabel=function(){var e=adhocDesigner.getSelectedColumnOrGroup();if(e){var t=e.index;localContext.setGroupLabelToNull(t);
}},AdHocTable.groupMaskSelected=function(e){var t=adhocDesigner.getSelectedColumnOrGroup(),i=t.index;t&&localContext.setGroupMask(e,i)},AdHocTable.selectGrandRowCell=function(e,t){AdHocTable.deselectAllTableColumns(),AdHocTable.deselectAllColumnGroupRows(),selectionCategory.area=designerBase.SUMMARY_LEVEL;var i=$("grandSummaryRow").cells,n={element:i[t],index:t,model:localContext.state.table.columns[t]},a="grandSummaryOverlay_"+t,r=adhocDesigner.isAlreadySelected(n);r||(AdHocTable.deselectAllSummaryCells(),$(a)&&$(a).addClassName("selected"),adhocDesigner.addSelectedObject(e,n,!1,r))},AdHocTable.deselectAllSummaryCells=function(){designerBase.deselectOverlaySet(AdHocTable.summaryOverlays,"selected")},define("adhoc/table.actions",["adhoc/table"],function(e){return function(){var t;return t||e.AdHocTable}}(this)),AdHocTable.canAddFieldAsColumn=function(e){return!0},AdHocTable.isSpacer=function(e){return e==designerBase.SPACER_NAME},AdHocTable.canAddAsColumn=function(){return _.all(selObjects,function(e){return e.param?AdHocTable.canAddFieldAsColumn(e.param.id):!1})},AdHocTable.canMoveColumnsLeft=function(){return AdHocTable.getLeftMostPositionFromSelectedColumns()>0},AdHocTable.canMoveColumnsRight=function(){return AdHocTable.getRightMostPositionFromSelectedColumns()<AdHocTable._getTableHeaders().length-1},AdHocTable.canAddFilter=function(e,t){return adhocDesigner.isSpacerSelected(e)?(t&&t.push(addFilterErrorMessageSpacerAdd),!1):adhocDesigner.isPercentOfParentCalcSelected(e)?(t&&t.push(addFilterErrorMessagePercentOfParentCalcFieldAdd),!1):adhocDesigner.isConstantSelected(e)?(t&&t.push(addFilterErrorMessageConstantAdd),!1):adhocDesigner.isMeasureSelected(e)?(t&&t.push(addFilterErrorMessageMeasureAdd),!1):!0},AdHocTable.getLeftMostPositionFromSelectedColumns=function(){var e=selObjects.length;if(e>0){for(var t=adhocDesigner.getSelectedColumnOrGroup(),i=t.index,n=1;e>n;n++){var a=selObjects[n].index;i>a&&(i=a)}return parseInt(i)}return-1},AdHocTable.getRightMostPositionFromSelectedColumns=function(){var e=selObjects.length;if(e>0){for(var t=adhocDesigner.getSelectedColumnOrGroup(),i=t.index,n=1;e>n;n++){var a=selObjects[n].index;a>i&&(i=a)}return parseInt(i)}return-1},AdHocTable.getNewColumnWidth=function(e,t){var i=jQuery(e),n=jQuery(localContext._getTableHeaders()[t]),a=i.offset().left,r=n.offset().left;return Math.max(a-r,AdHocTable.MINIMUM_COL_WIDTH)},AdHocTable.setColumnWidth=function(e,t){var i=jQuery("#canvasTableCols col").eq(e);i.width(t);var n=jQuery(localContext._getTableHeaders()[e]);return n.css({minWidth:Number(t)}),n[0]},AdHocTable.isSelectedColumnType=function(e){return localContext.getSelectedColumnType()==e},AdHocTable.getSelectedColumnType=function(){var e=adhocDesigner.getSelectedColumnOrGroup();return e?e.model.numericType:adhocDesigner.NaN},AdHocTable.hasColumns=function(){var e=!1;return AdHocTable.theCols=$("canvasTableCols").getElementsByTagName("col"),AdHocTable.theCols&&(e=AdHocTable.theCols.length>0),e},AdHocTable.hasGroups=function(){return localContext.state.groups.length>0},AdHocTable.isFetchingRows=function(){return AdHocTable.fetchingRows},AdHocTable.shouldFetchMoreRows=function(){return(AdHocTable.hasColumns()||AdHocTable.hasGroups())&&localContext.state.isShowingFullData&&!localContext.state.endOfFile&&AdHocTable.theRows.length<adhocDesigner.ROW_SIZE_TO_TRIGGER_SCROLLBAR},AdHocTable.tableScrolled=function(){if(localContext.getMode()===designerBase.TABLE&&localContext.state.isShowingFullData&&!localContext.state.endOfFile&&!AdHocTable.isFetchingRows()){var e=isIPad()?adhocDesigner._touchController.isBottom():isAlmostInView(AdHocTable.theRows[AdHocTable.lastRow],AdHocTable.ALMOST_IN_VIEW_OFFSET);e&&localContext.fetchMoreRows()}},AdHocTable.isTotalsOnly=function(){var e=localContext.state.table;return e.showTableTotals&&!e.showTableDetails},AdHocTable.selectedColumnCanAddSummary=function(){return!AdHocTable.isTotalsOnly()&&!adhocDesigner.hasSpacerInSelection()&&!AdHocTable.selectedColumnHasSummary()},AdHocTable.selectedColumnCanRemoveSummary=function(){return!AdHocTable.isTotalsOnly()&&AdHocTable.selectedColumnHasSummary()},AdHocTable.selectedColumnHasSummary=function(){if(1!==selObjects.length)return!1;var e=localContext.state.columns[designerBase.getSelectedObject().index];return e.showSummary},AdHocTable.selectedColumnShowsSummaryOptions=function(){return AdHocTable.selectedColumnHasSummary()&&AdHocTable.selectedMeasureShowsSummaryOptions()},AdHocTable.selectedMeasureShowsSummaryOptions=function(){var e=adhocDesigner.getSelectedColumnOrGroup();return e?!!localContext.state.columns[e.index]:!1},AdHocTable.isSelectedMeasureNumeric=function(){return AdHocTable.isSelectedColumnType("int")||AdHocTable.isSelectedColumnType("dec")},AdHocTable.isSelectedSummaryFunction=function(e){var t=actionModel.selObjects[0];return t&&t.summaryFunction===e},AdHocTable.isSelectedTimeSummaryFunction=function(e){var t=actionModel.selObjects[0];return t&&t.summaryTimeFunction===e},AdHocTable.functionSelected=function(e){if(selObjects.length>0){var t=designerBase.getSelectedObject().index;localContext.setSummaryFunction(e,t)}},AdHocTable.timeFunctionSelected=function(e){if(selObjects.length>0){var t=designerBase.getSelectedObject().index;localContext.setTimeSummaryFunction(e,t)}},AdHocTable.selectedFieldUsedForSorting=function(){var e=designerBase.getSelectedObject(),t=adhocDesigner.getNameForSelected(e);return AdHocTable.usedInSorting(t)},AdHocTable.selectedFieldCouldBeUsedForSorting=function(){return!(adhocDesigner.hasSpacerInSelection()||adhocDesigner.hasGroupInSelection()||AdHocTable.selectedFieldUsedForSorting()||designerBase.isSelectedNodeAFolder()||adhocDesigner.isAggregateSelected())},AdHocTable.selectedColumnUsedForSorting=function(){return localContext.state.inDesignView?selObjects.any(function(e){return AdHocTable.usedInSorting(e.model.name)}):!1},AdHocTable.selectedColumnCouldBeUsedForSorting=function(){return localContext.state.inDesignView?!AdHocTable.selectedColumnUsedForSorting()&&!adhocDesigner.hasSpacerInSelection()&&!adhocDesigner.isAggregateSelected():!1},AdHocTable.usedInSorting=function(e){if(null!=localContext.state.sortFields)for(var t=localContext.state.sortFields,i=0;i<t.length;i++)if(t[i].name==e)return!0;return!1},AdHocTable.canAddAsGroup=function(){return selObjects[0]&&selObjects[0].parent&&"measuresTree"==selObjects[0].parent.treeId?!1:!(adhocDesigner.hasSpacerInSelection()||adhocDesigner.multiSelect||adhocDesigner.isSelectedTreeNodeAFolder()||adhocDesigner.isPercentOfParentCalcSelected())},AdHocTable.canSwitchToGroup=function(){var e=adhocDesigner.getSelectedColumnOrGroup();return e&&"dimension"===e.ftype},AdHocTable.canMoveGroupUp=function(){var e=adhocDesigner.getSelectedColumnOrGroup();return e&&e.index>0},AdHocTable.canMoveGroupDown=function(){var e=adhocDesigner.getSelectedColumnOrGroup(),t=localContext.state.groups.length;return e&&e.index<t-1},AdHocTable.isSelectedGroupType=function(e){return AdHocTable.getSelectedGroupType()===e},AdHocTable.getSelectedGroupType=function(){var e=adhocDesigner.getSelectedColumnOrGroup();return e?e.dataType:adhocDesigner.NaN},AdHocTable.canAddGroupLabelToSelected=function(){var e=adhocDesigner.getSelectedColumnOrGroup();if(e){var t=e.label;return t.blank()}return!1},AdHocTable.canGroupSetMask=function(){return AdHocTable.getSelectedGroupType()!=adhocDesigner.NaN},AdHocTable.isGroupMaskSelected=function(e){return AdHocTable.getMaskForSelectedGroup()==e.unescapeHTML()},AdHocTable.isSelectedGridMode=function(e){var t=localContext.state.table;switch(e){case"d":return t.showTableDetails&&!t.showTableTotals;case"t":return!t.showTableDetails&&t.showTableTotals;case"dt":return t.showTableDetails&&t.showTableTotals;default:throw"Unknown Grid Selector Mode: "+e}},AdHocTable.getMaskForSelectedGroup=function(){var e=adhocDesigner.getSelectedColumnOrGroup();return e&&e.mask},AdHocTable.canColumnSetMask=function(){return localContext.getSelectedColumnType()!=adhocDesigner.NaN},AdHocTable.isColumnMaskSelected=function(e){return AdHocTable.getMaskForSelectedColumn()===e.unescapeHTML()},AdHocTable.getMaskForSelectedColumn=function(){return adhocDesigner.getSelectedColumnOrGroup().header.getAttribute("data-mask")},AdHocTable.canEditColumnHeaderForSelected=function(){return!AdHocTable.selectedHasNoColumnHeader()&&!adhocDesigner.hasSpacerInSelection()},AdHocTable.canAddColumnHeaderToSelected=function(){return AdHocTable.selectedHasNoColumnHeader()&&!adhocDesigner.hasSpacerInSelection()},AdHocTable.selectedHasNoColumnHeader=function(){var e=adhocDesigner.getSelectedColumnOrGroup();return e.header.hasClassName("deletedHeader")},AdHocTable.getTableTop=function(){var e=jQuery("#canvasTable"),t=e.find(".caption").height();return e.position().top+t+"px"},AdHocTable.getTableHeight=function(){var e=jQuery("#canvasTable"),t=e.find("tbody");return t.first().height()+t.last().height()+2+"px"},define("adhoc/table.helpers",["adhoc/table"],function(e){return function(){var t;return t||e.AdHocTable}}(this)),AdHocTable.createDraggableColumn=function(e){return new Draggable(e,{mouseOffset:!0,scroll:"mainTableContainer",onStart:function(e,t){if(selObjects.length){Draggables.dragging=designerBase.COLUMN_LEVEL,$(e.element).addClassName(layoutModule.DRAGGING_CLASS),AdHocTable.draggingColumnOverlay=!0;var i=selObjects.length;$(e.element).update(i-1?i+" "+itemsSelectedSuffix:xssUtil.escape(selObjects[0].header.getAttribute("data-label"),{softHTMLEscape:!0,whiteList:["img"]}))}},onEnd:function(e,t){Draggables.dragging=null,AdHocTable.draggingColumnOverlay=!1;var i=$(e.element).identify(),n=AdHocTable.digitRegex.exec(i)[0];if(-1==AdHocTable.draggingMoveOverColumnIndex)isDesignView&&AdHocTable.removeColumn();else if(n!=AdHocTable.draggingMoveOverColumnIndex){var a=n<AdHocTable.draggingMoveOverColumnIndex?[].max:[].min,r=a.call(selObjects,function(e){return e.index});localContext.moveColumn(r,AdHocTable.draggingMoveOverColumnIndex)}else AdHocTable.initOverlays();AdHocTable.draggingMoveOverColumnIndex=-1}})},AdHocTable.createDraggableGroup=function(e){return new Draggable(e,{constraint:"vertical",ghosting:!0,mouseOffset:!0,onStart:function(e,t){selObjects.length&&(Draggables.dragging=designerBase.GROUP_LEVEL,$(e.element).addClassName(layoutModule.DRAGGING_CLASS),AdHocTable.draggingGroupOverlay=!0,$(e.element).update(selObjects[0].label))},onEnd:function(e,t){Draggables.dragging=null,AdHocTable.draggingGroupOverlay=!1;var i=selObjects[0].index;-1==AdHocTable.draggingMoveOverGroupIndex?isDesignView&&AdHocTable.removeGroup():i!=AdHocTable.draggingMoveOverGroupIndex?localContext.moveGroup(i,AdHocTable.draggingMoveOverGroupIndex):AdHocTable.initOverlays(),AdHocTable.draggingMoveOverGroupIndex=-1}})},AdHocTable.updateColumnWhileDrag=function(e,t,i){var n,a,r="dimensionsTree"==Draggables.dragging||"measuresTree"==Draggables.dragging||Draggables.dragging==designerBase.COLUMN_LEVEL,s=matchAny(t,[adhocDesigner.COLUMN_OVERLAY_PATTERN,adhocDesigner.COLUMN_SIZER_PATTERN]);if(s)if(r){n=t.identify(),a=AdHocTable.digitRegex.exec(n)[0],AdHocTable.draggingMoveOverColumnIndex=a;var o=!0;("dimensionsTree"==Draggables.dragging||"measuresTree"==Draggables.dragging)&&(o=AdHocTable.isHoverGreaterThan50Percent(e,a)),i(parseInt(a),o)}else!AdHocTable.draggingColumnSizer&&t.match(adhocDesigner.COLUMN_OVERLAY_PATTERN)&&t.addClassName("over");!r||s||t.match(adhocDesigner.COLUMN_SIZER_PATTERN)||(AdHocTable.draggingMoveOverColumnIndex=-1)},AdHocTable.isHoverGreaterThan50Percent=function(e,t){var i=AdHocTable.theCols[t];if(i){var n=0;if(isWebKitEngine()){var a=localContext._getTableHeaders()[t];n=a.getWidth(),i=a}else n=i.getWidth();var r=$(i).cumulativeOffset(),s=i.cumulativeScrollOffset(),o=r[0]+s[0],l=e.pointerX(),d=l-o;return d/n*100>=50}return!1},AdHocTable.activateVisualDropCue=function(e,t){var i=$("columnSizer_"+t);AdHocTable.activateColumnSizer(i)},AdHocTable.deactivateVisualDropCue=function(e,t){var i=$("columnSizer_"+t);AdHocTable.deactivateColumnSizer(i)},AdHocTable.activateColumnSizer=function(e){e&&$(e).addClassName("over")},AdHocTable.deactivateColumnSizer=function(e){e&&$(e).removeClassName("over")},define("adhoc/table.dnd",["adhoc/table"],function(e){return function(){var t;return t||e.AdHocTable}}(this)),AdHocTable.initOverlays=function(){AdHocTable.columnLazyInitState={},designerBase.clearOverlaySet(AdHocTable.columnResizers),designerBase.clearOverlaySet(AdHocTable.columnOverlays),designerBase.clearOverlaySet(AdHocTable.summaryOverlays);var e=function(e){var t=jQuery(this).index();AdHocTable.columnLazyInitState[t]!==!0&&(AdHocTable.columnLazyInitState[t]=!0,AdHocTable.initOverlayById(t))};jQuery(adhocDesigner.overlayParent).on("mouseover","td",e),jQuery(adhocDesigner.overlayParent).on("mouseover","th",e)},AdHocTable.initOverlayById=function(e){AdHocTable.initColumnOverlay(e),AdHocTable.initColumnResizer(e),AdHocTable.initSummaryOverlay(e)},AdHocTable.initRowDependentDimensions=function(){AdHocTable.lastRow=AdHocTable.theRows.length-1,"NoDataRow"==AdHocTable.theRows[AdHocTable.lastRow].id&&(AdHocTable.lastRow=AdHocTable.lastRow-1),AdHocTable.columnHeaderRow=$("columnHeaderRow")},AdHocTable.initNewRows=function(){return AdHocTable.state.endOfFile=$("endOfFileRow")||AdHocTable.existingRowCount==AdHocTable.theRows.length,AdHocTable.theRows=$("canvasTable").rows,window.status="total rows = "+AdHocTable.theRows.length,this.shouldFetchMoreRows()?void setTimeout("localContext.fetchMoreRows()",100):(AdHocTable.initRowDependentDimensions(),AdHocTable.initOverlays(),AdHocTable.existingRowCount=AdHocTable.theRows.length,void(AdHocTable.fetchingRows=!1))},AdHocTable.initColumnResizer=function(e){var t=1,i=AdHocTable.columnHeaderRow.cells;if(!(i.length<=e||jQuery("#columnSizer_"+e).length>0)){var n=this.getTableTop(),a=this.getTableHeight(),r=i[e],s=$(r).cumulativeOffset()[0]-$("mainTableContainer").cumulativeOffset()[0]-t,o=s+r.offsetWidth+"px",l=designerBase.createDomObject("DIV","columnSizer");l.writeAttribute("id","columnSizer_"+e),l.setStyle({left:o,top:n,height:a}),AdHocTable.columnResizers[e]=l,adhocDesigner.overlayParent.appendChild(l)}},AdHocTable.initColumnOverlay=function(e){var t=AdHocTable.columnHeaderRow.cells;if(!(t.length<=e||jQuery("#columnOverlay_"+e).length>0)){var i=this.getTableTop(),n=this.getTableHeight(),a=t[e];if($(a).hasClassName("label")){var r=$(a).cumulativeOffset()[0]-$("mainTableContainer").cumulativeOffset()[0]+"px",s=a.offsetWidth+2+"px",o=designerBase.createDomObject("DIV","overlay col");o.writeAttribute("id","columnOverlay_"+e),o.setStyle({left:r,width:s,top:i,height:n}),AdHocTable.columnOverlays[e]=o,adhocDesigner.overlayParent.appendChild(o)}}},AdHocTable.initSummaryOverlay=function(e){if($("grandSummaryRow")){var t=$("grandSummaryRow").cells;if(t.length<=e)return;var i=$(t[e]),n=i.cellIndex;if(jQuery("#grandSummaryOverlay_"+n).length>0)return;var a=i.offsetTop+$("canvasTable").offsetTop,r=i.cumulativeOffset()[0]-$("mainTableContainer").cumulativeOffset()[0],s=i.offsetWidth-2,o=i.offsetHeight,l=designerBase.createDomObject("DIV","overlay summary button");l.writeAttribute("id","grandSummaryOverlay_"+n),l.writeAttribute("data-summaryIndex",n),l.setStyle({left:r+"px",width:s+"px",top:a+"px",height:o+"px"}),AdHocTable.summaryOverlays[e]=l,adhocDesigner.overlayParent.appendChild(l)}},define("adhoc/table.init",["adhoc/table","adhoc/table.ajax","adhoc/table.actions","adhoc/table.helpers","adhoc/table.observers","adhoc/table.dnd"],function(e){return function(){var t;return t||e.AdHocTable}}(this)),define("adhoc/calculatedFields/CalculatedFieldsService",["require","underscore","common/util/classUtil","jquery","requestSettings","components.dialogs","jrs.configs"],function(e){"use strict";var t=e("underscore"),i=e("common/util/classUtil"),n=e("jquery"),a=e("requestSettings"),r=e("components.dialogs"),s=e("jrs.configs"),o=i.extend({constructor:function(e){this.clientKey=e.clientKey},createRestUrl:function(e){return"rest_v2/metadata/_temp/"+this.clientKey+e},_request:function(e,i,s){i="undefined"==typeof i?!0:i,s=s||o.defaultCallbacks;var l=n.ajax(t.defaults(e,a)).done(s.done||o.defaultCallbacks.done).fail(s.fail||o.defaultCallbacks.fail).always(s.always||o.defaultCallbacks.always);return i&&setTimeout(function(){"pending"===l.state()&&r.popup.show(n("#loading")[0],!1)},o.SLOW_REQUEST_TIMEOUT),l},fetchFieldsList:function(){return this._request({url:this.createRestUrl("/fields"),type:"GET",dataType:"json"})},fetchFunctionsList:function(){return this._request({url:this.createRestUrl("/functions"),type:"GET",dataType:"json"})},validate:function(e){return this._request({url:this.createRestUrl("/action/validate"),type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(e)})},get:function(e){return this._request({url:this.createRestUrl("/fields/"+e),type:"GET",dataType:"json"})},add:function(e){return this._request({url:this.createRestUrl("/fields"),type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(e)})},update:function(e,t){return this._request({url:this.createRestUrl("/fields/"+t),type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify(e)})},remove:function(e){return this._request({url:this.createRestUrl("/fields/"+e),type:"DELETE",contentType:"application/json"})}});return o.defaultCallbacks={fail:function(e,t,i){if(401==e.status||e.getResponseHeader("LoginRequested"))document.location=s.urlContext;else if(e.getResponseHeader("adhocException"))r.errorPopup.show(e.getResponseHeader("adhocException"));else if(500==e.status||e.getResponseHeader("JasperServerError")&&!e.getResponseHeader("SuppressError")){var n=JSON.parse(e.responseText),a="<p>"+i+"</p><p>"+n.message+"</p><p>"+n.parameters[0]+"</p>";r.errorPopup.show(a)}},always:function(){r.popup.hide(n("#loading")[0])}},o.SLOW_REQUEST_TIMEOUT=2e3,window.CalculatedFieldsService=o,o}),define("adhoc/calculatedFields/model/CalculatedFieldModel",["require","underscore","backbone"],function(e){"use strict";var t=e("underscore"),i=e("backbone");return i.Model.extend({defaults:{fieldName:"",fieldLabel:"",kind:"",expression:"",summaryFunction:"",summaryExpression:"",summaryParameter:null,availableSummaryFunctions:[],availableFields:[],availableFunctions:[],operators:[]},populateFromField:function(e){this.set({fieldName:e.id,fieldLabel:e.label,expression:e.expression,kind:e.kind,summaryFunction:e.summaryFunction,summaryExpression:e.summaryExpression,summaryParameter:e.summaryParameter,availableSummaryFunctions:e.availableSummaries})},_checkForEmpty:function(e,t){return this.attributes[e]&&""!==this.attributes[e]?!0:(this.trigger("invalid:"+e,t),!1)},_checkForRestrictedChars:function(e,t){var i=/[<>"]/g;return i.test(this.attributes[e])?(this.trigger("invalid:"+e,t),!1):!0},_checkForReservedWords:function(e,i){return t.contains(["NOT","AND","IN","OR"],this.attributes[e].trim().toUpperCase())?(this.trigger("invalid:"+e,i),!1):!0},isLabelValid:function(){var e=!0;return e=this._checkForEmpty("fieldLabel",{errorCode:"adh.calculated.fields.name.empty"})&&e,e=this._checkForRestrictedChars("fieldLabel",{errorCode:"adh.calculated.fields.name.restrictedChars"})&&e,e=this._checkForReservedWords("fieldLabel",{errorCode:"adh.calculated.fields.name.reservedWords"})&&e},isExpressionValid:function(e){if(!e)throw"model.isExpressionValid(attr) requires an attribute!";var t=!0;return t=this._checkForEmpty(e,{errorCode:"adh.calculated.fields.formula.empty"})&&t},isSummaryFunctionValid:function(){var e=!0;return t.contains(this.attributes.availableSummaryFunctions,this.attributes.summaryFunction)||(e=!1),e},isSummaryParameterValid:function(){var e=!0;return e=this._checkForEmpty("summaryParameter",{errorCode:"adh.calculated.fields.summaryParameter.empty"})&&e},isValidField:function(){var e=!0;return e=this.isLabelValid()&&e,e=this.isExpressionValid("expression")&&e,"WeightedAverage"===this.attributes.summaryFunction&&(e=this.isSummaryParameterValid()&&e),"Custom"===this.attributes.summaryFunction&&(e=this.isExpressionValid("summaryExpression")&&e),e},toRequest:function(){var e={label:this.attributes.fieldLabel,display:this.attributes.fieldLabel,expression:this.attributes.expression,kind:this.attributes.kind},t=this.attributes.summaryFunction;return t&&""!==t&&(e.summaryFunction=t),"WeightedAverage"===t?e.summaryParameter=this.attributes.summaryParameter:"Custom"===t&&(e.summaryExpression=this.attributes.summaryExpression),e}})}),define("text!adhoc/calculatedFields/template/CalculatedFieldTemplate.htm",[],function(){return'<div class="section measureNameSection">\n    <div class="group noIndent">\n        <label class="control input">\n            <span class="wrap"> </span>\n            <input type="text" class="fieldLabelInput" value=""/>\n            <span class="message warning" data-field="fieldLabel"> </span>\n        </label>\n    </div>\n</div>\n\n<div class="section">\n    <div class="content tabbed">\n\n        <div class="header">\n            <ul class="control tabSet reverse buttons horizontal ">\n                <li tabid="" class="tab formulaBuilderTab first selected">\n                    <a class="button">\n                        <span class="wrap">{{- i18n.ADH_405_FORMULA_BUILDER }}</span>\n                    </a>\n                </li>\n                <li tabid="" class="tab summaryCalcTab">\n                    <a class="button">\n                        <span class="wrap">{{- i18n.ADH_405_SUMMARY_CALCULATION }}</span>\n                    </a>\n                </li>\n            </ul>\n        </div>\n\n        <div class="body section formulaBuilderSection noTitle"> </div>\n\n        <div class="body section summaryCalcSection noTitle hidden"> </div>\n\n    </div>\n</div>\n'}),define("adhoc/calculatedFields/factory/operatorsFactory",["require"],function(e){"use strict";return[{id:"add",value:"+"},{id:"subtract",value:"-"},{id:"multiply",value:"*"},{id:"divide",value:"/"},{id:"percent",value:"%"},{id:"parenLeft",value:"("},{id:"parenRight",value:")"},{id:"colon",value:":"},{id:"and",value:"AND"},{id:"or",value:"OR"},{id:"not",value:"NOT"},{id:"in",value:"IN"},{id:"equal",value:"=="},{id:"notEqual",value:"!="},{id:"greaterThan",value:">"},{id:"lessThan",value:"<"},{id:"greaterEqual",value:">="},{id:"lessEqual",value:"<="}]}),define("adhoc/calculatedFields/factory/codeExampleFactory",["require","underscore","bundle!adhoc_messages"],function(e){"use strict";var t=e("underscore"),i=e("bundle!adhoc_messages"),n=function(e){var t=i["ADH_425_ARGS_"+e];return t?t:e},a=[{functions:["IsNull"],code:'"'+n("FIELD")+'"'},{functions:["Absolute","Rank"],code:'"'+n("NUMBER_FIELD")+'"'},{functions:["DayName","DayNumber","MonthName","MonthNumber","Year"],code:'"'+n("DATE_FIELD")+'"'},{functions:["Length"],code:'"'+n("TEXT_FIELD")+'"'},{functions:["Mode","CountAll","CountDistinct"],code:'"'+n("FIELD")+"\", '"+n("LEVEL")+"'"},{functions:["PercentOf","Range","StdDevP","StdDevS","Sum","Average"],code:'"'+n("NUMBER_FIELD")+"\", '"+n("LEVEL")+"'"},{functions:["Round"],code:'"'+n("NUMBER_FIELD")+'", '+n("INTEGER")},{functions:["WeightedAverage"],code:'"'+n("NUMBER_FIELD")+'1", "'+n("NUMBER_FIELD")+"2\", '"+n("LEVEL")+"'"},{functions:["Max","Min","Median"],code:'"'+n("NUMBER_OR_DATE_FIELD")+"\", '"+n("LEVEL")+"'"},{functions:["ElapsedDays","ElapsedWeeks","ElapsedMonths","ElapsedQuarters","ElapsedSemis","ElapsedYears"],code:'"'+n("DATE_FIELD")+'1", "'+n("DATE_FIELD")+'2"'},{functions:["ElapsedHours","ElapsedMinutes","ElapsedSeconds"],code:'"'+n("DATETIME_FIELD")+'1", "'+n("DATETIME_FIELD")+'2"'},{functions:["Contains","EndsWith","StartsWith"],code:'"'+n("TEXT_FIELD")+"\", '"+n("TEXT_STRING")+"'"},{functions:["Concatenate"],code:'"'+n("TEXT_FIELD")+"\", '"+n("TEXT_STRING")+"', ..."},{functions:["Mid"],code:'"'+n("TEXT_FIELD")+'", '+n("START_POSITION")+", "+n("LENGTH")},{functions:["IF"],code:'"'+n("BOOLEAN_FIELD")+'", '+n("TRUE_CALC")+", "+n("FALSE_CALC")},{functions:["Today"],code:n("INTEGER_OFFSET")},{functions:["Case","CaseRange"],code:'"'+n("FIELD")+'", '+n("FIELD_VALUE")+"1, "+n("RETURN_VALUE")+"1, "+n("FIELD_VALUE")+"2, "+n("RETURN_VALUE")+"2, ..., "+n("ELSE_RETURN_VALUE")},{functions:["CaseWhen"],code:'"'+n("FIELD")+'1" >= '+n("FIELD_VALUE")+"1, "+n("RETURN_VALUE")+'1, "'+n("FIELD")+'2" in ('+n("FIELD_VALUE")+"21, "+n("FIELD_VALUE")+"22,...), "+n("RETURN_VALUE")+"2, ..., "+n("ELSE_RETURN_VALUE")},{functions:["Attribute"],code:"'"+n("NAME_STRING")+"', '"+n("CATEGORY_STRING")+"'"},{functions:["Boolean"],code:"'true'"},{functions:["Date","Decimal","Integer","Time","Timestamp"],code:"'"+n("TEXT_STRING")+"'"}];return function(e,i){var n="";if(i){var r=t.find(a,function(i){return t.contains(i.functions,e)});n=r?r.code:""}return e+"("+n+")"}}),define("common/extension/jQueryDoubletapExtension",["require","jquery"],function(e){"use strict";var t=e("jquery"),i=/android|iphone|ipad/i.test(navigator.userAgent.toLowerCase()),n=i?"touchend":"click";t.fn.doubletap=function(e,i){i=null==i?300:i,this.bind(n,function(n){var a=(new Date).getTime(),r=t(this).data("lastTouch")||a+1,s=a-r;i>s&&s>0?(t(this).data("lastTouch",null),null!==e&&"function"==typeof e&&e(n)):t(this).data("lastTouch",a)})}}),define("common/util/featureDetection",[],function(){"use strict";return{supportsTouch:function(){return"ontouchstart"in window||navigator.msMaxTouchPoints}()}}),define("text!adhoc/calculatedFields/template/SimpleSelectListTemplate.htm",[],function(){return'{{_.each(items, function(item) { }}\n    <li class="node {{- item.nodeClass }}" itemId=\'{{- item.name }}\' title=\'{{- item.tooltip}}\'><p class="wrap"><b class="icon {{- item.iconClass }}"></b>{{- item.label }}</p></li>\n{{ }); }}'}),define("adhoc/calculatedFields/view/SimpleSelectListView",["require","common/extension/jQueryDoubletapExtension","underscore","jquery","backbone","common/util/featureDetection","text!adhoc/calculatedFields/template/SimpleSelectListTemplate.htm"],function(e){"use strict";e("common/extension/jQueryDoubletapExtension");var t=e("underscore"),i=e("jquery"),n=e("backbone"),a=e("common/util/featureDetection"),r=e("text!adhoc/calculatedFields/template/SimpleSelectListTemplate.htm");return n.View.extend({template:t.template(r),events:{mousedown:"clickHandler"},initialize:function(){a.supportsTouch?this.$el.doubletap(t.bind(this.dblClickHandler,this)):this.events.dblclick="dblClickHandler"},render:function(e){this.$el.empty();var t={};return t.items=e,this.$el.html(this.template(t)),this},clickHandler:function(e){this.triggerEvent(e,"item:click")},dblClickHandler:function(e){this.triggerEvent(e,"item:dblClick")},triggerEvent:function(e,t){var n=e.target.match(".pickList li")?e.target:i(e.target).parents(".pickList li")[0];n&&(this.clearSelection(),i(n).addClass("selected"),this.trigger(t,n.readAttribute("itemId")))},clearSelection:function(){this.$el.find("li.selected").removeClass("selected")}})}),define("text!adhoc/calculatedFields/template/ExpressionEditorTemplate.htm",[],function(){return'<!-- Expression -->\n<div class="group">\n    <label class="control shorter textArea">\n        <span class="wrap">{{- title }}</span>\n        <textarea></textarea>\n    </label>\n</div>\n\n<!-- Available Operators -->\n<div class="group inputSet">\n    <ul class="expressionEditorOperators">\n        {{_.each(operators, function(item) { }}\n            <li class="button math" type="" value="{{- item.id }}" name=""><span class="icon icon-{{- item.id }}"></span></li>\n        {{ }); }}\n    </ul>\n</div>\n\n\n<ul class="list inputRow">\n\n    <!-- Available Fields -->\n    <li class="node">\n        <div class="group expressionEditorFieldsList">\n            <fieldset class="control standAlone pickList">\n                <label title="{{- i18n.ADH_421_AVAILABLE_FIELDS_TIP }}" class="control standAlone availableValues">\n                    <span class="wrap">{{- i18n.ADH_421_AVAILABLE_FIELDS }}</span>\n                    <ul class="list pickList" > </ul>\n                </label>\n            </fieldset>\n        </div>\n    </li>\n\n    <!-- Available Functions -->\n    <li class="node">\n        <div class="group expressionEditorFunctionsList">\n            <fieldset class="control standAlone pickList">\n                <label title="{{- i18n.ADH_421_AVAILABLE_FUNCTIONS_TIP }}" class="control standAlone availableValues">\n                    <span class="wrap">{{- i18n.ADH_421_AVAILABLE_FUNCTIONS }}</span>\n                    <ul class="list pickList" > </ul>\n                </label>\n            </fieldset>\n        </div>\n    </li>\n\n    <!-- Function Description -->\n    <li class="node">\n        <div class="group">\n            <span class="wrap label">{{- i18n.ADH_421_FUNCTION_DESCRIPTION }}</span>\n            <div class="description">\n                <p class="title"> </p>\n                <p class="text"> </p>\n                <p class="code"> </p>\n            </div>\n        </div>\n        <div class="group">\n            <div class="control checkBox">\n                <label title="{{- i18n.ADH_421_SHOW_ARGS_TIP }}" class="wrap">{{- i18n.ADH_421_SHOW_ARGS }}</label>\n                <input type="checkbox" checked="checked">\n            </div>\n        </div>\n    </li>\n</ul>\n\n<!-- Validate button -->\n<div class="group expressionEditorValidate">\n    <button type="button" class="button action">\n        <span class="wrap">{{- i18n["button.validate"] }}\n            <span class="icon"></span>\n        </span>\n    </button>\n    <span class="message warning"></span>\n</div>\n'}),function(e,t,i){var n=function(e){var n={text:"",start:0,end:0};if(!e.value)return n;try{if(t.getSelection)n.start=e.selectionStart,n.end=e.selectionEnd,n.text=e.value.slice(n.start,n.end);else if(i.selection){e.focus();var a=i.selection.createRange(),r=i.body.createTextRange();n.text=a.text;try{r.moveToElementText(e),r.setEndPoint("StartToStart",a)}catch(s){r=e.createTextRange(),r.setEndPoint("StartToStart",a)}n.start=e.value.length-r.text.length,n.end=n.start+a.text.length}}catch(s){}return n},a={getPos:function(e){var t=n(e);return{start:t.start,end:t.end}},setPos:function(e,i,n){n=this._caretMode(n),"start"==n?i.end=i.start:"end"==n&&(i.start=i.end),e.focus();try{if(e.createTextRange){var a=e.createTextRange();t.navigator.userAgent.toLowerCase().indexOf("msie")>=0&&(i.start=e.value.substr(0,i.start).replace(/\r/g,"").length,i.end=e.value.substr(0,i.end).replace(/\r/g,"").length),a.collapse(!0),a.moveStart("character",i.start),a.moveEnd("character",i.end-i.start),a.select()}else e.setSelectionRange&&e.setSelectionRange(i.start,i.end)}catch(r){}},getText:function(e){return n(e).text},_caretMode:function(e){switch(e=e||"keep",e===!1&&(e="end"),e){case"keep":case"start":case"end":break;default:e="keep"}return e},replace:function(t,i,a){var r=n(t),s=t.value,o=e(t).scrollTop(),l={start:r.start,end:r.start+i.length};t.value=s.substr(0,r.start)+i+s.substr(r.end),e(t).scrollTop(o),this.setPos(t,l,a)},insertBefore:function(t,i,a){var r=n(t),s=t.value,o=e(t).scrollTop(),l={start:r.start+i.length,end:r.end+i.length};t.value=s.substr(0,r.start)+i+s.substr(r.start),e(t).scrollTop(o),this.setPos(t,l,a)},insertAfter:function(t,i,a){var r=n(t),s=t.value,o=e(t).scrollTop(),l={start:r.start,end:r.end};t.value=s.substr(0,r.end)+i+s.substr(r.end),e(t).scrollTop(o),this.setPos(t,l,a)}};e.extend({selection:function(n){var a="text"==(n||"text").toLowerCase();try{if(t.getSelection){if(a)return t.getSelection().toString();var r,s=t.getSelection();return s.getRangeAt?r=s.getRangeAt(0):(r=i.createRange(),r.setStart(s.anchorNode,s.anchorOffset),r.setEnd(s.focusNode,s.focusOffset)),e("<div></div>").append(r.cloneContents()).html()}if(i.selection)return a?i.selection.createRange().text:i.selection.createRange().htmlText}catch(o){}return""}}),e.fn.extend({selection:function(e,t){switch(t=t||{},e){case"getPos":return a.getPos(this[0]);case"setPos":return this.each(function(){a.setPos(this,t)});case"replace":return this.each(function(){a.replace(this,t.text,t.caret);
});case"insert":return this.each(function(){"before"==t.mode?a.insertBefore(this,t.text,t.caret):a.insertAfter(this,t.text,t.caret)});case"get":default:return a.getText(this[0])}return this}})}(jQuery,window,window.document),define("jquery.selection",["jquery"],function(e){return function(){var t;return t||e.jQuery}}(this)),define("adhoc/calculatedFields/view/ExpressionEditorView",["require","underscore","jquery","backbone","bundle!jasperserver_messages","bundle!adhoc_messages","adhoc/calculatedFields/factory/codeExampleFactory","adhoc/calculatedFields/view/SimpleSelectListView","common/util/featureDetection","text!adhoc/calculatedFields/template/ExpressionEditorTemplate.htm","underscore.string","jquery.selection"],function(e){"use strict";var t=e("underscore"),i=e("jquery"),n=e("backbone"),a=t.extend(e("bundle!jasperserver_messages"),e("bundle!adhoc_messages")),r=e("adhoc/calculatedFields/factory/codeExampleFactory"),s=e("adhoc/calculatedFields/view/SimpleSelectListView"),o=e("common/util/featureDetection"),l=e("text!adhoc/calculatedFields/template/ExpressionEditorTemplate.htm");return e("underscore.string"),e("jquery.selection"),n.View.extend({template:t.template(l),events:{"keyup .control.textArea textarea":"onExpressionEdit","click .expressionEditorOperators li.button.math":"operatorClick","click .expressionEditorValidate .button":"validateButton"},initialize:function(e){this.assignedAttribute=e.assignedAttribute,this.title=e.title?e.title:"",this.lastSelectionPos={start:0,end:0},this.listenTo(this.model,"change:"+this.assignedAttribute,this.setExpression),this.listenTo(this.model,"change:availableFields",this.renderFields),this.listenTo(this.model,"change:availableFunctions",this.renderFunctions),this.listenTo(this.model,"invalid:"+this.assignedAttribute,this.setError)},render:function(){var e={i18n:a,title:this.title,operators:this.model.get("operators")};return this.$el.empty(),this.$el.html(this.template(e)),this.expressionInput=this.$(".control.textArea textarea"),enableSelection(this.expressionInput.parent()[0]),enableSelection(this.$(".inputRow .description p.text")[0]),this},renderFields:function(){var e=new s({el:this.$el.find(".expressionEditorFieldsList ul")});this.listenTo(e,"item:dblClick",this.fieldDblClick),!o.supportsModernSelection&&this.listenTo(e,"item:click",this.resetSelectionPos);var i=this.model.get("availableFields");i.length>0&&e.render(t.chain(i).map(function(e){return{name:e.id,label:e.label,tooltip:e.tooltip,nodeClass:e.expression?"calculated":"",iconClass:"DIMENSION"===e.kind?"field":"measure"}}).sortBy("label").value())},renderFunctions:function(){var e=new s({el:this.$el.find(".expressionEditorFunctionsList ul")});this.listenTo(e,"item:click",this.functionClick),this.listenTo(e,"item:dblClick",this.functionDblClick);var i=this.model.get("availableFunctions");i.length>0&&e.render(t.chain(i).map(function(e){return{name:e.name,label:e.name,iconClass:"function"}}).sortBy(function(e){return e.name.toUpperCase()}).value())},successMessage:function(){this.clearMessages(),this.$(".expressionEditorValidate.group span.message.warning").text(a["adh.calculated.fields.validation.successful"]),this.$(".expressionEditorValidate.group span.message.warning").addClass("success"),this.$(".expressionEditorValidate.group").addClass("error")},errorMessage:function(e){var t=e?e:"";this.clearMessages(),this.$(".expressionEditorValidate.group span.message.warning").text(t),this.$(".control.textArea").addClass("error"),this.$(".expressionEditorValidate.group").addClass("error")},clearMessages:function(){this.$(".control.textArea").removeClass("error"),this.$(".expressionEditorValidate.group").removeClass("error"),this.$(".expressionEditorValidate.group span.message.warning").removeClass("success")},operatorClick:function(e){var n=e.target.hasClassName("math")?e.target:i(e.target).parent("li.math")[0];if(n){var a=n.readAttribute("value"),r=t.find(this.model.get("operators"),function(e){return e.id===a});this.insertText(r.value)}},fieldDblClick:function(e){var i=t.find(this.model.get("availableFields"),function(t){return t.id===e});this.updateSelectionPos(),this.insertText(i.alias)},updateSelectionPos:function(){var e=this;!o.supportsModernSelection&&this.expressionInput.selection("setPos",{start:e.lastSelectionPos.start,end:e.lastSelectionPos.end})},resetSelectionPos:function(){o.supportsModernSelection||(this.lastSelectionPos=this.expressionInput.selection("getPos"))},functionClick:function(e){var t=a["adh.calculated.fields.function.description."+e];this.resetSelectionPos(),this.$(".inputRow .description p.title").text(e),this.$(".inputRow .description p.text").text(t?t:""),this.$(".inputRow .description p.code").text(r(e,!0))},functionDblClick:function(e){var t=this.$(".control.checkBox input")[0].checked,i=r(e,t);this.updateSelectionPos(),this.insertText(i)},insertText:function(e){var i=e,n=this.expressionInput.val()[this.expressionInput.selection("getPos").start-1],a=this.expressionInput.val()[this.expressionInput.selection("getPos").end];'"'===n&&'"'===a?i=t.trim(i,'"'):(n&&!t.contains([" ","("],n)&&")"!==i&&(i=" "+i),a&&!t.contains([" ",")",","],a)&&"("!==i&&(i+=" ")),this.clearMessages(),this.expressionInput.selection("replace",{text:i});var r=this.expressionInput.selection("getPos").end;this.expressionInput.selection("setPos",{start:r,end:r}),this.model.set(this.assignedAttribute,this.expressionInput.val(),{silent:!0})},setExpression:function(){var e=this.model.get(this.assignedAttribute);this.clearMessages(),this.expressionInput.val(e)},setError:function(e){this.errorMessage(e.errorCode?a[e.errorCode]:e.errorMessage)},onExpressionEdit:function(e){this.clearMessages(),this.model.set(this.assignedAttribute,i(e.target).val(),{silent:!0}),this.model.isExpressionValid(this.assignedAttribute)},validateButton:function(){this.model.trigger("validate:"+this.assignedAttribute,t.bind(this.successMessage,this))}})}),define("text!adhoc/calculatedFields/template/SummaryTabTemplate.htm",[],function(){return'<ul class="list inputRow">\n    <li class="node">\n        <div class="group">\n            <label title="{{- i18n.ADH_410_CALCULATION_TIP }}" class="control select">\n                <span class="wrap">{{- i18n.ADH_410_CALCULATION }}</span>\n                <select name="availableSummaries" class="availableSummaries">\n                </select>\n                <span class="message warning"> </span>\n            </label>\n        </div>\n    </li>\n\n    <li class="node">\n\n        <div class="weightedOnFieldsList group hidden">\n            <div class="control">\n                <label title="{{- i18n.ADH_410_WEIGHTED_ON_TIP }}" class="weightedOnInput control input">\n                    <span class="wrap">{{- i18n.ADH_410_WEIGHTED_ON }}</span>\n                    <input type="text" value="" disabled="disabled">\n                    <span class="message warning"> </span>\n                </label>\n            </div>\n\n            <fieldset class="control standAlone pickList">\n                <label title="{{- i18n.ADH_421_AVAILABLE_FIELDS_TIP }}" class="control availableValues">\n                    <span class="wrap">{{- i18n.ADH_421_AVAILABLE_FIELDS }}</span>\n                    <ul class="list pickList" > </ul>\n                </label>\n            </fieldset>\n        </div>\n    </li>\n</ul>\n\n<div class="customSummaryEditor hidden"> </div>\n'}),define("adhoc/calculatedFields/view/SummaryCalculationView",["require","underscore","jquery","backbone","bundle!adhoc_messages","adhoc/calculatedFields/view/ExpressionEditorView","adhoc/calculatedFields/view/SimpleSelectListView","text!adhoc/calculatedFields/template/SummaryTabTemplate.htm"],function(e){"use strict";var t=e("underscore"),i=e("jquery"),n=e("backbone"),a=e("bundle!adhoc_messages"),r=e("adhoc/calculatedFields/view/ExpressionEditorView"),s=e("adhoc/calculatedFields/view/SimpleSelectListView"),o=e("text!adhoc/calculatedFields/template/SummaryTabTemplate.htm");return n.View.extend({template:t.template(o),events:{"change .availableSummaries":"summaryFunctionsChange"},initialize:function(){this.customSummaryEditor=new r({assignedAttribute:"summaryExpression",model:this.model}),this.listenTo(this.model,"change:availableFields",this.renderWeightedOnFields),this.listenTo(this.model,"change:availableSummaryFunctions",this.renderAvailableSummaries),this.listenTo(this.model,"change:summaryFunction",this.updateSummaryFunction),this.listenTo(this.model,"change:summaryParameter",this.updateSummaryParameter),this.listenTo(this.model,"change:availableFields",this.updateSummaryParameter),this.listenTo(this.model,"invalid:summaryParameter",this.showSummaryParameterError)},summaryFunctionsChange:function(e){this.model.set("summaryFunction",i(e.target).val()),this.updateLayout()},render:function(){return this.$el.empty(),this.$el.html(this.template({i18n:a})),this.customSummaryEditor.setElement(".customSummaryEditor").render(),this},renderWeightedOnFields:function(){var e=new s({el:this.$el.find(".weightedOnFieldsList ul")}),i=this;this.listenTo(e,"item:click",function(e){i.model.set("summaryParameter",e)});var n=this.model.get("availableFields");if(n.length>0){var a=t.filter(n,function(e){return t.contains(["java.lang.Double","java.math.BigDecimal","java.lang.Long","java.lang.Integer","java.lang.Short","java.lang.Byte"],e.type)});e.render(t.map(a,function(e){return{name:e.id,label:e.label,tooltip:e.tooltip,nodeClass:e.expression?"calculated":"",iconClass:"DIMENSION"===e.kind?"field":"measure"}}).sortBy(function(e){return e.label}))}},renderAvailableSummaries:function(){var e=t.sortBy(this.model.get("availableSummaryFunctions"),function(e){return"None"===e?"AAA":e}),i=this.$(".availableSummaries").empty();t.each(e,function(e){i.append("<option value='"+e+"'>"+e+"</option>")}),i.val(this.model.get("summaryFunction")),this.updateLayout()},updateSummaryFunction:function(){this.renderAvailableSummaries()},updateSummaryParameter:function(){this.$("label.weightedOnInput.control").removeClass("error");var e=this.model.get("summaryParameter"),i=t.find(this.model.get("availableFields"),function(t){return t.id===e});i&&this.$(".weightedOnInput input").val(i.label)},showSummaryParameterError:function(e){var t=this.$(".weightedOnInput .message.warning"),i=e.errorCode?a[e.errorCode]:e.errorMessage;t.text(i?i:""),t.parent().addClass("error")},updateLayout:function(){var e=this.model.get("summaryFunction");"WeightedAverage"===e?(this.$(".weightedOnFieldsList").removeClass("hidden"),this.$(".customSummaryEditor").addClass("hidden")):"Custom"===e?(this.$(".weightedOnFieldsList").addClass("hidden"),this.$(".customSummaryEditor").removeClass("hidden")):(this.$(".weightedOnFieldsList").addClass("hidden"),this.$(".customSummaryEditor").addClass("hidden"))}})}),define("adhoc/calculatedFields/view/CalculatedFieldView",["require","jquery","underscore","backbone","bundle!adhoc_messages","adhoc/calculatedFields/model/CalculatedFieldModel","text!adhoc/calculatedFields/template/CalculatedFieldTemplate.htm","adhoc/calculatedFields/factory/operatorsFactory","adhoc/calculatedFields/view/SummaryCalculationView","adhoc/calculatedFields/view/ExpressionEditorView"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=e("backbone"),a=e("bundle!adhoc_messages"),r=e("adhoc/calculatedFields/model/CalculatedFieldModel"),s=e("text!adhoc/calculatedFields/template/CalculatedFieldTemplate.htm"),o=e("adhoc/calculatedFields/factory/operatorsFactory"),l=e("adhoc/calculatedFields/view/SummaryCalculationView"),d=e("adhoc/calculatedFields/view/ExpressionEditorView");return n.View.extend({template:i.template(s),events:{"click .formulaBuilderTab":"formulaTabClick","click .summaryCalcTab":"summaryTabClick","keyup .fieldLabelInput":"onFieldLabelChange"},initialize:function(){this.model=new r({operators:o}),this.formulaEditor=new d({assignedAttribute:"expression",title:a.ADH_421_FORMULA,model:this.model}),this.summaryTab=new l({model:this.model}),this.listenTo(this.model,"change:fieldLabel",this.updateFieldLabel),this.listenTo(this.model,"change:kind",this.setNameInputLabel),this.listenTo(this.model,"invalid:fieldLabel",this.showFieldLabelError),this.listenTo(this.model,"invalid:summaryExpression",this.showSummaryTab),this.listenTo(this.model,"invalid:summaryParameter",this.showSummaryTab)},render:function(){this.$el.empty(),this.$el.html(this.template({i18n:a})),this.formulaEditor.setElement(".formulaBuilderSection").render(),this.summaryTab.setElement(".summaryCalcSection").render();var e=this.$(".fieldLabelInput");return enableSelection(e.parent()[0]),setTimeout(function(){e.focus()},500),this},setNameInputLabel:function(){var e="MEASURE"===this.model.get("kind"),t=e?"ADH_402_MEASURE_NAME":"ADH_402_FIELD_NAME",i=e?"ADH_402_MEASURE_NAME_TIP":"ADH_402_FIELD_NAME_TIP";if(this.$(".measureNameSection label.control.input span.wrap").text(a[t]),this.$(".measureNameSection label.control.input").attr("title",a[i]),!this.isEdit){var n=e?a.ADH_403_NEW_MEASURE_DEFAULT_NAME:a.ADH_403_NEW_FIELD_DEFAULT_NAME;this.model.set("fieldLabel",n?n:"")}},updateFieldLabel:function(){var e=this.$(".fieldLabelInput");e.val(this.model.get("fieldLabel"));var t=e.val().length;e.selection("setPos",{start:t,end:t})},onFieldLabelChange:function(e){this.$(".measureNameSection label.control").removeClass("error"),this.model.set("fieldLabel",t(e.target).val(),{silent:!0}),this.model.isLabelValid()},showFieldLabelError:function(e){var t=this.$(".measureNameSection .message.warning"),i=e.errorCode?a[e.errorCode]:e.errorMessage;t.text(i?i:""),t.parent().addClass("error")},showFormulaTab:function(){this.$(".formulaBuilderTab").addClass("selected"),this.$(".formulaBuilderTab a").removeClass("over"),this.$(".summaryCalcTab").removeClass("selected"),this.$(".summaryCalcSection").addClass("hidden"),this.$(".formulaBuilderSection").removeClass("hidden")},showSummaryTab:function(){this.$(".summaryCalcTab").addClass("selected"),this.$(".summaryCalcTab a").removeClass("over"),this.$(".formulaBuilderTab").removeClass("selected"),this.$(".formulaBuilderSection").addClass("hidden"),this.$(".summaryCalcSection").removeClass("hidden")},formulaTabClick:function(){this.$(".formulaBuilderTab.selected")[0]||this.showFormulaTab()},summaryTabClick:function(){this.$(".summaryCalcTab.selected")[0]||this.model.trigger("validate:expression",i.bind(this.showSummaryTab,this))}})}),define("adhoc/calculatedFields/CalculatedFieldsController",["require","underscore","backbone","adhoc/calculatedFields/view/CalculatedFieldView"],function(e){"use strict";var t=e("underscore"),i=e("backbone"),n=e("adhoc/calculatedFields/view/CalculatedFieldView");return i.View.extend({initialize:function(e){this.service=e.service,this.view=new n({el:e.element}),this.view.listenTo(this.view.model,"validate:expression",t.bind(this._validateExpression,this)),this.view.listenTo(this.view.model,"validate:summaryExpression",t.bind(this._validateCustomSummary,this))},start:function(e){e=e||{},this.view.isEdit=e.editingMode,this.view.render(),this._fetchFieldsAndFunctions(),this._setFieldMetadata(e)},stop:function(){this.view.stopListening(this.view.model),this.view.undelegateEvents()},applyField:function(){if(this.view.model.isValidField()){var e=this.view.isEdit?this.service.update.bind(this.service):this.service.add.bind(this.service);return e(this.view.model.toRequest(),this.view.model.get("fieldName")).done(t.bind(function(e){this.trigger("field:applied",e)},this)).fail(t.bind(this._handleServerError,this))}},_setFieldMetadata:function(e){this.view.isEdit&&e.selectedFieldName?this.service.get(e.selectedFieldName).done(t.bind(function(e){var t=e;this.view.model.populateFromField(t),this.trigger("field:loaded","MEASURE"===t.kind,!0)},this)):(this.view.model.set("kind",e.kind),this.trigger("field:loaded","MEASURE"===e.kind,!1))},_fetchFieldsAndFunctions:function(){this.service.fetchFieldsList().done(t.bind(function(e){this.view.model.set("availableFields",e)},this)),this.service.fetchFunctionsList().done(t.bind(function(e){this.view.model.set("availableFunctions",e)},this))},_handleServerError:function(e){if(500!==e.status){var t=JSON.parse(e.responseText);if(t&&t.parameters&&t.parameters[0]){var i=t.parameters[0];i="label"==i?"fieldLabel":i,this.view.model.trigger("invalid:"+i,{errorMessage:t.message})}}},_validateExpression:function(e){if(this.view.model.isExpressionValid("expression")){var i={expression:this.view.model.get("expression"),kind:this.view.model.get("kind")};this.service.validate(i).done(t.bind(function(t){this.view.model.set("availableSummaryFunctions",t.availableSummaries),this.view.model.isSummaryFunctionValid()||this.view.model.set("summaryFunction",t.summaryFunction),e&&e()},this)).fail(t.bind(function(e){this._handleServerError(e)},this))}},_validateCustomSummary:function(e){if(this.view.model.isExpressionValid("summaryExpression")){var i={expression:this.view.model.get("expression"),summaryFunction:this.view.model.get("summaryFunction"),summaryExpression:this.view.model.get("summaryExpression")};this.service.validate(i).done(t.bind(function(t){e&&e(t)},this)).fail(t.bind(function(e){this._handleServerError(e)},this))}}})}),define("adhoc/designer.calculatedFields",["require","underscore","bundle!jasperserver_messages","bundle!adhoc_messages","adhoc/calculatedFields/CalculatedFieldsController","adhoc/calculatedFields/CalculatedFieldsService"],function(e){var t,i=e("underscore"),n=i.extend(e("bundle!jasperserver_messages"),e("bundle!adhoc_messages")),a=e("adhoc/calculatedFields/CalculatedFieldsController"),r=e("adhoc/calculatedFields/CalculatedFieldsService");return window.adhocCalculatedFields={DIALOG_ID:"calcFieldMeasure",FIELDS_CONTAINER_ID:"#calculatedFields-container",calcFieldsService:new r({clientKey:clientKey}),showDialog:function(e){t=$(this.DIALOG_ID),t.down("button.doneButton").observe("click",e.applyField.bind(e)),t.down("button.cancelButton").observe("click",function(){e.stop(),this.closeDialog()}.bind(this)),dialogs.popup.show(t),t.style.marginTop="0",t.style.top="15px"},closeDialog:function(){Event.stopObserving(t.down("button.doneButton")),Event.stopObserving(t.down("button.cancelButton")),dialogs.popup.hide(t)},setDialogLabels:function(e,i){var a=e?{dialogHeader:i?"ADH_401_DIALOG_HEADER_EDIT_CUSTOM_MEASURE":"ADH_401_DIALOG_HEADER_NEW_CUSTOM_MEASURE",okButtonLabel:i?"button.save":"ADH_430_BUTTON_CREATE_MEASURE"}:{dialogHeader:i?"ADH_401_DIALOG_HEADER_EDIT_CUSTOM_FIELD":"ADH_401_DIALOG_HEADER_NEW_CUSTOM_FIELD",okButtonLabel:i?"button.save":"ADH_430_BUTTON_CREATE_FIELD"};$(t.down(".header.mover > .title")).update(n[a.dialogHeader]),$(t.down(".footer button.doneButton span.wrap")).update(n[a.okButtonLabel])},createField:function(e){var t=new a({element:this.FIELDS_CONTAINER_ID,service:this.calcFieldsService});t.listenTo(t,"field:loaded",this.setDialogLabels.bind(this)),t.listenTo(t,"field:applied",function(e){t.stop(),this.closeDialog(),this.createCustomFieldCallback(e)}.bind(this)),this.showDialog(t),t.start({editingMode:!1,kind:e})},updateField:function(){var e=designerBase.getSelectedObject(),t=e.model?e.model.fieldName:adhocDesigner.getNameForSelected(e);if(null==t)throw'The field "'+t+'" is not found.';var i=new a({element:this.FIELDS_CONTAINER_ID,service:this.calcFieldsService});i.listenTo(i,"field:loaded",this.setDialogLabels.bind(this)),i.listenTo(i,"field:applied",function(e){i.stop(),this.closeDialog(),this.updateCustomFieldCallback(e)}.bind(this)),this.showDialog(i),i.start({editingMode:!0,selectedFieldName:t})},deleteField:function(){var e=designerBase.getSelectedObject(),t=adhocDesigner.getNameForSelected(e);if(adhocDesigner.isInUse(t))throw"The field in use.";var n=function(i){this.deleteCustomFieldCallback(t,e,i),adhocDesigner.enableCanUndoRedo()}.bind(adhocCalculatedFields);this.calcFieldsService.remove(t).done(i.bind(function(e,t,i){if(204===i.status)throw"Field not found.";adhocCalculatedFields._updateState(n)},this))},createCustomFieldCallback:function(e){var t="MEASURE"===e.kind;dialogs.systemConfirm.show(n[t?"ADH_435_CALCULATED_MEASURE_ADDED":"ADH_435_CALCULATED_FIELD_ADDED"],5e3),adhocCalculatedFields._updateState(function(i){var n=localContext.state.allColumns.length;if(adhocDesigner.updateState(i),adhocDesigner.enableCanUndoRedo(),localContext.state.allColumns.length>n){var a=e.name,r=adhocDesigner.getFieldIndexByName(a),s=adhocDesigner.findFieldByName(a).type,o={id:a,label:e.display,type:"com.jaspersoft.jasperserver.api.metadata.common.domain.NewNode",uri:"/"+a,cssClass:"calculatedField",order:r,extra:{id:a,name:a,isMeasure:t,dimensionId:t?adhocDesigner.MEASURES:a,dataType:s}},l=t?"measuresTree":"dimensionsTree";adhocDesigner.addNodeToTree(o,adhocDesigner[l]),adhocDesigner.updateAllFieldLabels(),adhocDesigner[l+"Search"].setKeyword("")}})},updateCustomFieldCallback:function(e){var t="MEASURE"===e.kind;dialogs.systemConfirm.show(n[t?"ADH_435_CALCULATED_MEASURE_UPDATED":"ADH_435_CALCULATED_FIELD_UPDATED"],5e3),adhocCalculatedFields._updateState(function(t){adhocDesigner.updateState(t),adhocDesigner.enableCanUndoRedo(),adhocDesigner.isInUse(e.name)&&(localContext.updateViewCallback(t),adhocDesigner.filtersController.setFilters(t,{reset:!0})),adhocDesigner.updateAllFieldLabels()})},deleteCustomFieldCallback:function(e,t,i){var a=t.param.extra.isMeasure;dialogs.systemConfirm.show(n[a?"ADH_435_CALCULATED_MEASURE_DELETED":"ADH_435_CALCULATED_FIELD_DELETED"],5e3);var r=localContext.state.allColumns.length;adhocDesigner.updateState(i),adhocDesigner.enableCanUndoRedo(),localContext.state.allColumns.length<r&&t&&(adhocDesigner.removeNodeFromTree(t),adhocDesigner.updateAllFieldLabels())},_updateState:function(e){designerBase.sendRequest(adhocDesigner.getControllerPrefix()+"_recompileQueryAndLoadState",[],function(t){e(t)})}},window.adhocCalculatedFields});var adhocSort={TEMPLATE_ID:"sortDialog",SORT_FIELDS_LIST_TEMPLATE_ID:"list_fields_hideRoot_column_simple",SORT_FIELDS_ITEM_TEMPLATE_ID:"list_fields_hideRoot_column_simple:leaf",AVAILABLE_ID:"sortDialogAvailable",AVAILABLE_FIELDS_PROVIDER_ID:"availableFieldsTreeDataProvider",SORT_FIELDS_ID:"sortDialogSortFields",OK_PATTERN:"#sortDialogOk",CANCEL_PATTERN:"#sortDialogCancel",ADD_PATTERN:"#sortDialogAddToSort",TO_TOP_PATTERN:"#sortDialogToTop",TO_BOTTOM_PATTERN:"#sortDialogToBottom",UP_PATTERN:"#sortDialogUpward",DOWN_PATTERN:"#sortDialogDownward",REMOVE_PATTERN:"#sortDialogRemoveFromSort",BUTTON_PATTERN:"#sortDialogSortFields .icon.button",DROP_CLASS:"dragging",SORT_DRAG_CLASS:".draggable",EVENT:{SORT:"sort:sort"},initialize:function(){this.originalSortFields=[],this.preselectedFieldNames=null,this._dialog=$(this.TEMPLATE_ID),this._add=$$(this.ADD_PATTERN)[0],this._remove=$$(this.REMOVE_PATTERN)[0],this._ok=$$(this.OK_PATTERN)[0],this._cancel=$$(this.CANCEL_PATTERN)[0],this._toTop=$$(this.TO_TOP_PATTERN)[0],this._toBottom=$$(this.TO_BOTTOM_PATTERN)[0],this._up=$$(this.UP_PATTERN)[0],this._down=$$(this.DOWN_PATTERN)[0],this.tree=this.createAvailableFieldsTree(),this.list=this.createSortFieldsList(),this.actionHash={"#sortDialogOk":function(e){this.hideDialog()},"#sortDialogCancel":function(e){this.fire(this.EVENT.SORT,{fields:this.originalSortFields,hide:!0})},"#sortDialogAddToSort":function(e){this._addToSort()},"#sortDialogRemoveFromSort":function(e){this._removeFromSort()},"#sortDialogUpward":function(e){this._oneStepMoveTo(!0)},"#sortDialogDownward":function(e){this._oneStepMoveTo(!1)},"#sortDialogToTop":function(e){this._moveTo(!0)},"#sortDialogToBottom":function(e){this._moveTo(!1)},"li .icon.button":function(e){this._toggleSortOrder(this.list.getItemByEvent(e))}},this.actionHash.getAction=function(e){for(var t in this)if(e.match(t)&&"getAction"!=t)return this[t];return doNothing},this.observe("sort:sort",function(e){adhocDesigner.setSorting(e.memo.fields,function(){e.memo.hide&&adhocSort.hideDialog()})}),this._dialog.observe(isSupportsTouch()?"touchend":"mouseup",function(e){var t=e.element(),i=matchAny(t,[this.ADD_PATTERN,this.REMOVE_PATTERN,this.OK_PATTERN,this.CANCEL_PATTERN,this.BUTTON_PATTERN,this.UP_PATTERN,this.DOWN_PATTERN,this.TO_TOP_PATTERN,this.TO_BOTTOM_PATTERN],!0);i&&this.actionHash.getAction(i).bind(this)(e)}.bindAsEventListener(this))},updateAndShowAvailableFieldsTree:function(e){var t=function(){this.tree=this.createAvailableFieldsTree(e),this.tree.showTree(20)}.bind(this);designerBase.sendRequest(adhocDesigner.getControllerPrefix()+"_updateAvailableTree",[],t,{target:"ajaxbuffer",bPost:!0})},createAvailableFieldsTree:function(e){var t=adhocDesigner.getAvailableFieldsTree(this.AVAILABLE_ID,adhocSort.AVAILABLE_FIELDS_PROVIDER_ID);if(t.DEFAULT_TREE_CLASS_NAME="responsive fields",t.multiSelectEnabled=!0,isIPad()){var i=$(this.AVAILABLE_ID);new TouchController(i,i.up(1))}t.observe("tree:loaded",function(i){_.each(adhocDesigner.getAllLeaves(null,t),function(e){var t=adhocDesigner.findFieldByName(e.param.id);t.aggregateField&&adhocDesigner.removeNodeFromTree(e)}),e&&e.length>0&&e.each(function(e){t.openAndSelectNode(e)}.bind(this)),this._addSortFieldsToList(),buttonManager.disable(this._add)}.bindAsEventListener(this)),t.observe("leaf:dblclick",function(e){this._addToSort(e.memo.node)}.bindAsEventListener(this));var n=this._refreshAddButton;return t.observe("leaf:selected",n.bindAsEventListener(this)),t.observe("node:selected",n.bindAsEventListener(this)),t.observe("leaf:unselected",n.bindAsEventListener(this)),t.observe("node:unselected",n.bindAsEventListener(this)),Droppables.remove(t.getId()),Droppables.add(t.getId(),{accept:[this.SORT_FIELDS_ID],hoverclass:layoutModule.DROP_TARGET_CLASS,onDrop:function(e,t,i){e.items&&this._removeFromSort()}.bind(this)}),t},createSortFieldsList:function(){var e=new dynamicList.List(this.SORT_FIELDS_ID,{listTemplateDomId:this.SORT_FIELDS_LIST_TEMPLATE_ID,itemTemplateDomId:this.SORT_FIELDS_ITEM_TEMPLATE_ID,excludeFromSelectionTriggers:[this.BUTTON_PATTERN],dragPattern:isIPad()?void 0:this.SORT_DRAG_CLASS,multiSelect:!0,selectOnMousedown:!isIPad(),comparator:function(e,t){var i=e.getValue().order,n=t.getValue().order;return i>n?1:n>i?-1:0}});return e.observe("item:selected",function(t){e.getSelectedItems().length>0&&buttonManager.enable(this._remove),this._refreshMoveButtons()}.bindAsEventListener(this)),e.observe("item:unselected",function(t){0===e.getSelectedItems().length&&buttonManager.disable(this._remove),this._refreshMoveButtons()}.bindAsEventListener(this)),e.observe("item:dblclick",function(e){this._removeFromSort(e.memo.item)}.bindAsEventListener(this)),Droppables.add($(this.SORT_FIELDS_ID),{accept:[this.AVAILABLE_ID],hoverclass:layoutModule.DROP_TARGET_CLASS,onDrop:function(e,t,i){e.node&&this._addToSort()}.bind(this)}),e},createSortFieldItem:function(e){var t=new dynamicList.ListItem({label:e.label,value:e});return t.refreshStyle=function(){dynamicList.ListItem.prototype.refreshStyle.call(this);var e=this.getValue().isAsc,t=this._getElement();t&&(e?(t.addClassName(layoutModule.ASCENDING_CLASS),t.removeClassName(layoutModule.DESCENDING_CLASS)):(t.addClassName(layoutModule.DESCENDING_CLASS),t.removeClassName(layoutModule.ASCENDING_CLASS)))},t},recreateSortFieldsScroll:function(){if(isIPad()){var e=$(this.SORT_FIELDS_ID);return new TouchController(e,e.up(1))}return null},getSortFields:function(){return this.list.getItems().collect(function(e){var t=e.getValue();return t.toData()})},_isOriginalField:function(e){return this.originalSortFields.detect(function(t){return t.name==e}.bind(this))},_getMergedPreselectedWithOriginalFields:function(e){var t=this.originalSortFields?this.originalSortFields.slice(0):[],i=this;return jQuery(e).each(function(){var e=this.toString();i._isOriginalField(e)||t.push({name:e,isAsc:!0})}),t},_addSortFieldsToList:function(){var e=this._getMergedPreselectedWithOriginalFields(this.preselectedFieldNames),t=[],i=[],n=[],a=this;jQuery(e).each(function(e){var r=a.tree.findNodeById(this.name);if(r){var s=new adhocSort.Field(r,this.isAsc,e).item;t.push(r),a.preselectedFieldNames&&jQuery.inArray(this.name,a.preselectedFieldNames)>-1&&i.push(s),n.push(s)}}),this.list.setItems(n),jQuery(t).each(function(){this.refreshStyle()}),this.list.show(),this.recreateSortFieldsScroll(),jQuery(i).each(function(){this.select()}),e&&e.length!==(this.originalSortFields?this.originalSortFields.length:0)&&this.fire(this.EVENT.SORT,{fields:this.getSortFields(),hide:!1})},launchDialog:function(e){dialogs.popup.show(this._dialog),this.list.setItems([]),this.list.show(),[this._add,this._remove,this._up,this._down,this._toTop,this._toBottom].each(function(e){buttonManager.disable(e)}),this.originalSortFields=localContext.state.sortFields||[];var t=this.originalSortFields.collect(function(e){return adhocSort.Util.fieldNameToUriList(e.name)}).flatten();if(jQuery.isArray(e)){this.preselectedFieldNames=e;for(var i=0;i<e.length;i++)t=t.concat(adhocSort.Util.fieldNameToUriList(e[i]))}else this.preselectedFieldNames=e?[e]:null,e&&(t=t.concat(adhocSort.Util.fieldNameToUriList(e)));this.updateAndShowAvailableFieldsTree(t)},hideDialog:function(){dialogs.popup.hide(this._dialog)},stopObserving:function(e,t){this._dialog.stopObserving(e,t)},observe:function(e,t){this._dialog.observe(e,t)},fire:function(e,t){this._dialog.fire(e,t)},_isOnlyFieldsSelected:function(){return this.tree.getSelectedNode()&&!this.tree.selectedNodes.detect(function(e){return e.isParent()||e.param.id===designerBase.SPACER_NAME})},_getOnlyChildren:function(e){var t=[];return e.each(function(e){e.isParent()?t=t.concat(this._getOnlyChildren(e.childs)):t.push(e)}.bind(this)),t},_toggleSortOrder:function(e){e.getValue().isAsc=!e.getValue().isAsc,e.refresh(),this.fire(this.EVENT.SORT,{fields:this.getSortFields(),hide:!1})},_addToSort:function(e){if(this._isOnlyFieldsSelected()){var t=this._getOnlyChildren(e?[e]:this.tree.selectedNodes),i=this.list.getItems(),n=t.collect(function(e,t){return new adhocSort.Field(e,!0,i.length+t).item}.bind(this));this.list.addItems(n),t.invoke("refreshStyle"),t.invoke("deselect"),this.list.refresh(),this.fire(this.EVENT.SORT,{fields:this.getSortFields(),hide:!1}),this._refreshAddButton(),this._refreshMoveButtons()}},_removeFromSort:function(e){var t=e?[e]:this.list.getSelectedItems(),i=this.tree;this.list.removeItems(t),t.each(function(e){var t=e.getValue();i._deselectAllNodes(),t.node.hidden=!1,t.node.refreshStyle(),t.node.select()}),this.fire(this.EVENT.SORT,{fields:this.getSortFields(),hide:!1}),this._refreshMoveButtons()},_oneStepMoveTo:function(e){var t=this.list.getItems(),i=this.list.getSelectedItems();e||(t=t.clone().reverse());var n=e?-1:1,a=null;t.each(function(e){var t=i.detect(function(t){return t==e});t&&a?(a.getValue().order-=n,t.getValue().order+=n):a=e}),this._resort()},_moveTo:function(e){var t=this.list.getItems(),i=this.list.getSelectedItems(),n=t.findAll(function(e){return!i.include(e)});e||(i=i.clone().reverse(),n=n.clone().reverse());var a=e?1:-1,r=e?0:t.length,s=function(e){e.getValue().order=r,r+=a};i.each(s),n.each(s),this._resort()},_resort:function(){this.list.sort(),this.list.show(),this._refreshMoveButtons(),this.fire(this.EVENT.SORT,{fields:this.getSortFields(),hide:!1})},_refreshMoveButtons:function(){var e=this.list.getItems(),t=this.list.getSelectedItems(),i=e.length>1&&t.length>0,n=i&&!(1==t.length&&t[0].first),a=i&&!(1==t.length&&t[0].last);[this._toTop,this._up].each(function(e){(n?buttonManager.enable:buttonManager.disable)(e)}),[this._toBottom,this._down].each(function(e){(a?buttonManager.enable:buttonManager.disable)(e)})},_refreshAddButton:function(){(this._isOnlyFieldsSelected()?buttonManager.enable:buttonManager.disable)(this._add)}};adhocSort.Util={fieldNameToUri:function(e){return"/"+e},fieldNameToUriList:function(e){var t=".",i=e.split(t),n=i.slice(0,i.length-1).collect(function(e,t){return"/"+i.slice(0,t+1).join("/")});return n.length>0&&n.push(n.last()+"/"+e),n.push("/"+e),n},uriToFiledName:function(e){var t=e.split("/");return t[t.length-1]}},adhocSort.Field=function(e,t,i){this.name=adhocSort.Util.uriToFiledName(e.param.uri),
this.label=e.name,this.isAsc=!!t,this.order=i||0,this.node=e,this.item=adhocSort.createSortFieldItem(this),this.node&&(this.node.hidden=!0)},adhocSort.Field.addMethod("toData",function(){return{name:this.name,isAsc:this.isAsc}}),adhocSort.Field.addMethod("toJSON",function(){return this.toData()}),define("adhoc/designer.sort",["prototype","utils.common"],function(e){return function(){var t;return t||e.adhocSort}}(this));var adhocReentrance={TEMPLATE_ID:"selectFields",TREE_TEMPLATE_DOM_ID:"list_responsive_collapsible_type_sets",OK_PATTERN:"#selectFieldsOk",CANCEL_PATTERN:"#selectFieldsCancel",ajaxBuffer:"ajaxbuffer",callbackCalled:!1,initialize:function(){this._dialog=$(this.TEMPLATE_ID),this.actionHash={"#selectFieldsOk":function(e){dc_fields.fillForm(),adhocReentrance.callbackCalled=!0;var t=function(e){adhocDesigner.generalDesignerCallback(),adhocDesigner.filtersController.setFilters(e)};designerBase.sendRequest("co_setAdhocFields",["selectedModel="+encodeText($("selectedModel").value)],t,{bPost:!0}),this.close()},"#selectFieldsCancel":function(e){this.close()}},this.getAction=function(e){for(var t in this.actionHash)if(e.match(t))return this.actionHash[t];return doNothing},this._dialog.observe("click",function(e){var t=e.element(),i=matchAny(t,[this.OK_PATTERN,this.CANCEL_PATTERN],!0);i&&this.getAction(i).bind(this)(e),e.stop()}.bindAsEventListener(this))},launchDialog:function(){designerBase.sendRequest("co_loadSchemaPos",[],adhocReentrance.init,{target:adhocReentrance.ajaxBuffer,bpost:!0,mode:AjaxRequester.prototype.EVAL_JSON})},init:function(e){e=e[0],dc_fields.mode=dc_fields.RE_ENTRANCE_MODE,dc_fields.TREE_TEMPLATE_DOM_ID=adhocReentrance.TREE_TEMPLATE_DOM_ID,dc_fields.NODE_CLASS=adhocReentrance.ReentranceNode,domain.setMessage("disabledFolderTooltip",disabledFolderTooltip),dc_fields.disableNodesInAdhocReEntrance=function(){adhocReentrance.disableNode(dynamicTree.trees[dc_fields.DESTINATION_FIELDS_DOM_ID].rootNode,e.disabledNodes)},dc_fields.updateReEntrantControls=function(e){var t=$$(adhocReentrance.OK_PATTERN);t.size()&&"undefined"!=typeof e.destTreeHasVisibleNodes&&domain.enableButton(t[0],e.destTreeHasVisibleNodes)},delete domain._bodyClickEventHandlers,dc_fields.init(),dialogs.popup.show($("selectFields")),designerBase.updateMainOverlay("hidden")},disableNode:function(e,t){var i=$H(t).keys().detect(function(t){return e.param.id==t});i&&e.disable(t[i]),e.childs.each(function(e){adhocReentrance.disableNode(e,t)});for(var n=e.parent;n&&n!=dynamicTree.trees[e.getTreeId()].rootNode;){var a=n.childs.findAll(function(e){return e.disabled});n.childs.length>0&&n.childs.length==a.length&&n.disable(disabledFolderTooltip),n=n.parent}},close:function(){dialogs.popup.hide($("selectFields")),adhocReentrance.callbackCalled||adhocDesigner.generalDesignerCallback(),adhocReentrance.callbackCalled=!1}};adhocReentrance.ReentranceNode=function(e){domain.ItemNode.call(this,e),this.Types={Folder:new dynamicTree.TreeNode.Type("ItemGroupType"),Leaf:new dynamicTree.TreeNode.Type("ItemType")},this.nodeHeaderTemplateDomId="list_responsive_collapsible_type_sets:sets"},adhocReentrance.ReentranceNode.prototype=deepClone(domain.ItemNode.prototype),define("adhoc/designer.reentrant",["domain.components"],function(e){return function(){var t;return t||e.adhocReentrance}}(this)),define("adhoc/enum/AggregateFunctionEnum",{COUNT:"Count",COUNT_ALL:"CountAll",DISTINCT_COUNT:"DistinctCount",COUNT_DISTINCT:"CountDistinct",HIGHEST:"Highest",MAX:"Max",LOWEST:"Lowest",MIN:"Min",AVERAGE:"Average",SUM:"Sum",STANDARD_DEVIATION_P:"StdDevP",STANDARD_DEVIATION_S:"StdDevS",MODE:"Mode",MEDIAN:"Median",RANGE:"Range",RANGE_MINUTES:"RangeMinutes",RANGE_HOURS:"RangeHours",RANGE_DAYS:"RangeDays",RANGE_WEEKS:"RangeWeeks",RANGE_MONTHS:"RangeMonths",RANGE_QUARTERS:"RangeQuarters",RANGE_SEMIS:"RangeSemis",RANGE_YEARS:"RangeYears",CUSTOM:"Custom",NONE:"None",AGGREGATE_FORMULA:"AggregateFormula"}),define("adhoc/designer/aggregateFieldLabelFactory",["require","bundle!adhoc_messages","adhoc/enum/AggregateFunctionEnum"],function(e){"use strict";function t(e){var t=i[n+e];return t||e}var i=e("bundle!adhoc_messages"),n=(e("adhoc/enum/AggregateFunctionEnum"),"adh.function.aggregate.name.");return{localizeAggregation:t,getLabel:function(e){if(!e)return null;var i=e.fieldDisplay||e.name;return e.defaultAggregateFunction===e.functionOrDefault?i:i+" ("+t(e["function"])+")"}}}),define("adhoc/designer/VisualizationType",{table:"table",crosstab:"crosstab",chart:"crosstab"}),define("text!adhoc/template/tableLayoutManagerTemplate.htm",[],function(){return'{{ _.each(data, function(level) { }}\n<li class="level button {{- level.axisClass}} {{- level.itemClass}}" data-name="{{- level.name}}" data-fieldName="{{- level.fieldName}}" style="z-index: 800">\n    <span class="level wrap" title="{{- level.label }}">{{- level.label }}</span>\n    <span class="icon remove"></span>\n</li>\n{{ }); }}\n'}),define("text!adhoc/template/crosstabLayoutManagerTemplate.htm",[],function(){return'{{ _.each(data, function(dim) { }}\n<li class="{{- dim.liClass}} draggable" data-dimension="{{- dim.name}}" style="z-index: 800">\n    {{ if (dim.measureHandle === "handle") { }} <span class="handle">&nbsp;</span> {{ } }}\n    <span class=\'title\'>{{- dim.name}}</span>\n    <ul class="{{- dim.ulClass}}">\n        {{ _.each(dim.levels, function(level) { }}\n        <li id="{{- level.cid}}" class=\'{{- level.levelClass}} button\' style=\'z-index: 800;\' data-level=\'{{- level.name}}\' data-dimension=\'{{- dim.name}}\'>\n            <span class=\'wrap\' title="{{- level.label }}">{{- level.label }}</span>\n            <span class=\'icon remove\'></span>\n        </li>\n        {{ }); }}\n    </ul>\n</li>\n{{ }); }}'}),define("adhoc/layout.manager",["require","jquery","underscore","common/util/classUtil","common/util/xssUtil","common/util/browserDetection","bundle!adhoc_messages","components.dialogs","backbone","adhoc/designer/aggregateFieldLabelFactory","adhoc/designer/VisualizationType","text!adhoc/template/tableLayoutManagerTemplate.htm","text!adhoc/template/crosstabLayoutManagerTemplate.htm","prototype"],function(e){function t(e){return s.inject(e,function(e,t){return e.concat(i(t))},[])}function i(e,t){var n=t||[];if(!e.childs||0===e.childs.length)return n.push(e),n;for(var a=0;a<e.childs.length;a++)i(e.childs[a],n);return n}function n(e){return Draggable._dragging[e.jquery?e[0]:e]}function a(e){return e.map(function(e){return e.toPresentation()})}var r=e("jquery"),s=e("underscore"),o=e("common/util/classUtil"),l=e("common/util/xssUtil"),d=e("common/util/browserDetection").isIE,c=e("bundle!adhoc_messages"),u=e("components.dialogs"),h=e("backbone"),m=e("adhoc/designer/aggregateFieldLabelFactory"),p=e("adhoc/designer/VisualizationType"),f=e("text!adhoc/template/tableLayoutManagerTemplate.htm"),g=e("text!adhoc/template/crosstabLayoutManagerTemplate.htm");e("prototype");var _,v=l.unescape,b=null,y=o.extend({axes:{},template:null,constructor:function(e){this.initProperties(e.common),this.initialized&&(this.initModeSpecificBehavior(this.mode),this.initAxes(e.axes),this.initEventListeners())},initProperties:function(e){e&&(this.measuresGroupId=e.measuresGroupId,this.isOlapMode=!!e.isOlapMode,this.mode=e.mode,this.element=r("#"+e.id),this.initialized=!!this.element[0])},initModeSpecificBehavior:function(e){s.extend(this,b[e]),this.AxisModel=e==p.table?C:D},initAxes:function(e){s.each(e,function(e){var t=s.clone(e);t.element=r("#"+t.elementId),this.axes[t.elementId]=t,this.setAxisModel(t,new this.AxisModel([],{parse:!0}))},this)},getTemplate:function(){if(null===this.template){var e=this.mode==p.table?f:g;this.template=s.template(e,null,{variable:"data"})}return this.template},render:function(e,t){this.initialized&&(s.each(this.axes,function(i){t||this.setAxisModel(i,new this.AxisModel(e[i.name],{parse:!0})),r(i.element).html(this.getTemplate()(i.model.toPresentation())),this.createSortable(i.element[0]),this.createMeasuresSortable(i.element[0])},this),Draggables.removeObserver(this.element[0]),Draggables.addObserver(new T(this.element[0],this.onMove)))},setAxisModel:function(e,t){e.model=t},initEventListeners:function(){s.bindAll(this,"onContextMenu","onRemove","onAdd","onMove","onMeasureReorder"),document.stopObserving(layoutModule.ELEMENT_CONTEXTMENU,_||r.noop),document.observe(layoutModule.ELEMENT_CONTEXTMENU,this.onContextMenu),_=this.onContextMenu;var e=isSupportsTouch()?"touchend":"mouseup";r(this.element).undelegate("span.remove",e),r(this.element).delegate("span.remove",e,this.onRemove)},onContextMenu:function(e){var t=this,i=r(e.memo.node).closest("li.button"),n=i.hasClass("meazure")||i.hasClass("member"),a=i.closest(n?"li.measure":"li.dimension");if(i){var o=r(i).closest("ul.sortable").attr("id"),l=this.axes[o];if(l){Event.stop(e);var d=v(i.attr(this.nameAttr)),c=l.model.findQueryField({name:d});this.element.trigger("lm:contextMenu",s.extend(e.memo,{extra:{axis:l.name,axisId:o,name:d,fieldName:c.get("fieldName"),dimensionId:v(i.attr("data-dimension")),level:v(i.attr("data-level")),index:i.index(),groupIndex:a.index(),isMeasure:n,allLevels:i.siblings().addBack().map(function(){return v(r(this).attr(t.nameAttr))}).get()}}))}}},onRemove:function(e){var t=r(e.target).closest("li");if(!n(t)){var i=t.index(),a=this.axes[t.closest("ul.sortable").attr("id")],s=v(t.attr("data-dimension"));this.element.trigger("lm:removeItem",{axis:a.name,index:i,item:{level:v(t.attr("data-level")),dimensionId:s,isMeasure:this.measuresGroupId===s}})}},onAdd:function(e){var t=e.node;if(t){var i,n=r(e).index(),a=e.nodes||[t],o=this.axes[r(e).closest("ul").attr("id")],l=this[o.name].validateAdd,d=[];return i=this.filter(a,o),l&&!l.call(this,i,n,o.name,d)?(!s.isEmpty(d)&&u.systemConfirm.show(d.join("</br>"),5e3),void this.render(this.axes,!0)):void this.add(i,n,o.name)}},add:function(e,t,i){var n;if(!s.isEmpty(e))if(1===e.length){n=e[0];var a=n.param.extra||n.param;this.element.trigger("lm:addItem",{axis:i,dimensionId:a.dimensionId,level:a.id,index:t,hierarchyName:a.hierarchyName,isMeasure:a.isMeasure})}else this.element.trigger("lm:addItems",{axis:i,levels:s.pluck(e,"param"),index:t})},onMove:function(e,t,i,n,a,o){var l=r(e.element),d=this.axes[i],c=this.axes[n],h=this[c.name].validateMove,m=[];if(!t||a!==o)return t||!h||h.call(this,d,c,l,m)?void this.element.trigger("lm:"+(t?"moveItem":"switchItem"),{axis:c.name,item:v(l.attr(this.moveAttr)),from:a,to:o}):(!s.isEmpty(m)&&u.systemConfirm.show(m.join("</br>"),5e3),void this.render(this.axes,!0))},onMeasureReorder:function(e,t){var i=r(t.element);this.element.trigger("lm:measureReorder",{measure:v(i.attr("data-level")),to:i.index()})},createSortable:function(e){Sortable.create(e,{delay:d()?200:0,constraint:!1,overlap:"horizontal",containment:s(this.axes).keys(),dropOnEmpty:!0,accept:["measure","dimension","meazure","dimenzion"],onDrop:this.onAdd}),Draggables.removeObserver(e)},createMeasuresSortable:function(e){var t=r("li.measure > ul.members",e);if(0!==t.length)return 0===t.find("li.member").length?void Sortable.destroy(t[0]):void Sortable.create(t[0],{delay:d()?200:0,constraint:!1,overlap:"horizontal",onUpdate:this.onMeasureReorder})}}),T=o.extend({constructor:function(e,t){this.element=$(e),this.observer=t,this.axes=["olap_rows","olap_columns"]},onStart:function(e,t){this.axis=this.getAxis(t),this.from=r(t.element).index(),d()&&(this.changedElement=t.element,this.changedElement&&(this.changedElement.setStyle({display:"inline-block"}),this.changedElement.hasClassName("measure")&&this.changedElement.setStyle({padding:"0px"})))},onEnd:function(e,t){if(this.axis){var i=this.getAxis(t);if(i&&-1!==this.axes.indexOf(i.id)){Sortable.unmark();var n=this.axis.id===i.id,a=r(t.element).index();this.observer(t,n,this.axis.id,i.id,this.from,a),d()&&this.changedElement&&(this.changedElement.style.removeAttribute("display"),this.changedElement.style.removeAttribute("padding"))}}},getAxis:function(e){return e.element.up("ul")}});b={table:{nameAttr:"data-name",moveAttr:"data-name",filter:function(e,i){return e=t(e),"column"===i.name?e:s.reject(e,function(e){var t=e.param.extra;return"_spacer"!==t.name&&i.model.findWhere({fieldName:t.fieldName})})},group:{validateAdd:function(e,t,i,n){return 0===e.length?(n&&n.push(c.ADH_1001_ERROR_ALREADY_IN_USE),!1):s.any(e,function(e){return e.param.extra.isMeasure||"_spacer"===e.param.extra.id})?(n&&n.push(c.ADH_1001_ERROR_ADD_TO_GROUPS),!1):!0},validateMove:function(e,t,i,n){if(i.hasClass("meazure"))return n&&n.push(c.ADH_1001_ERROR_ADD_TO_GROUPS),!1;var a=v(i.attr("data-fieldName"));return t.model.findWhere({fieldName:a})?(n&&n.push(c.ADH_1001_ERROR_ALREADY_IN_GROUP),!1):!0}},column:{validateAdd:function(e,t,i,n){return 0===e.length?(n&&n.push(c.ADH_1001_ERROR_ALREADY_IN_USE),!1):!0}}},crosstab:{nameAttr:"data-level",moveAttr:"data-dimension",filter:function(e){e=t(this.isOlapMode?e.slice(0,1):e);var i=!this.isOlapMode&&s.any(e,function(e){return e.param.extra&&e.param.extra.isMeasure});return i?e:s.reject(e,function(e){var t=e.param.extra,i={dimensionName:t.dimensionId};return i[this.isOlapMode?"name":"fieldName"]=t.id,!this.isDate(t)&&"_spacer"!==t.name&&s.any(this.axes,function(e){return e.model.findQueryField(i)})},this)},isDate:function(e){return"Timestamp"===e.type||"Date"===e.type||"Time"===e.type},row:{validateMove:function(e,t,i,n){return!(t.isDependent&&1==e.model.length)},validateAdd:function(e,t,i,n){if(s.isEmpty(e))return n&&n.push(c.ADH_1215_FIELD_IN_USE),!1;var a=this,r=e[0].param.extra,o=this.axes.olap_columns.model;return!(s.isEmpty(e)||this.axes.olap_rows.isDependent&&(o.isEmpty()||r.hierarchyName&&1===o.length&&o.at(0).name===r.dimensionId)||localContext.showAddHierarchyConfirm(r.hierarchyName,r.dimensionId,function(){a.add(e,t,i)}))}},column:{validateAdd:function(e,t,i,n){if(s.isEmpty(e))return n&&n.push(c.ADH_1215_FIELD_IN_USE),!1;var a=this,r=e[0].param.extra;return!localContext.showAddHierarchyConfirm(r.hierarchyName,r.dimensionId,function(){a.add(e,t,i)})}}}};var A=h.Model.extend({parse:function(e){var t=e.measure||!!e.isSpacer,i="_null"!==e.currentDisplayName?e.currentDisplayName:null;return{name:e.name,fieldName:e.fieldName,label:e.isSpacer?c.ADH_120_SPACER:i||e.name,isSpacer:!!e.isSpacer,isMeasure:t}},toPresentation:function(){var e=this.toJSON();return e.cid=s.uniqueId("field_"),e.itemClass=e.isMeasure?"meazure":"dimenzion",e}}),M=h.Model.extend({parse:function(e,t){return{name:e.name,fieldName:e.fieldName,label:e.display?e.display:e.name,isMeasure:!1,dimensionName:t.collection.name}},toPresentation:function(){var e=this.toJSON();return e.cid=s.uniqueId("level_"),e.levelClass="level",e}}),S=h.Model.extend({parse:function(e,t){return{name:e.name,fieldName:e.fieldName,label:m.getLabel(e),isMeasure:!0,dimensionName:t.collection.name}},toPresentation:function(){var e=this.toJSON();return e.cid=s.uniqueId("measure_"),e.levelClass="member",e}}),L=h.Collection.extend({model:function(e,t){return t=s.defaults(t,{parse:!0}),t.collection.isMeasure?new S(e,t):new M(e,t)},toPresentation:function(){var e=a(this);return{levels:e,name:this.name,liClass:this.isMeasure?"measure":"dimension",ulClass:this.isMeasure?"members":"levels",measureHandle:this.isMeasure?"handle":""}},parse:function(e){var t=[];this.name=e.name;for(var i=0;i<e.levels.length;i++){var n=e.levels[i];if(n.visible&&!(n.recursiveLevelNumber>0))if(s.isEmpty(n.members))t.push(n);else{this.isMeasure=!0;for(var a=0;a<n.members.length;a++){var r=n.members[a];r.isSpacer!==!0&&t.push(r)}}}return t}}),C=h.Collection.extend({model:A,toPresentation:function(){return a(this)},findQueryField:function(e){return this.findWhere(e)}}),D=h.Collection.extend({model:L,toPresentation:function(){return a(this)},findQueryField:function(e){var t=null;return this.any(function(i){return t=i.findWhere(e)}),t}});return y}),define("adhoc/filter/enum/filterExpressionTypes",{LITERAL:"literal",LIST:"list",RANGE:"range",DATE_RANGE:"dateRange",READ_ONLY:"readOnly"}),define("adhoc/filter/filterModelTrait/dateRangeFilterModelTrait",["require","underscore","adhoc/filter/enum/filterExpressionTypes"],function(e){"use strict";var t=e("underscore"),i=e("adhoc/filter/enum/filterExpressionTypes");return{_expressionRValue:function(){return t.map(this.get("value"),function(e){return null==e&&console&&console.warn("Value is undefined or null for some reason",e),{value:encodeURIComponent(null==e?"":e),type:i.LITERAL,dataType:this.get("filterDataType")}},this)}}}),define("adhoc/filter/enum/filterOperators",{IS_ANY_VALUE:"isAnyValue",IN:"in",NOT_IN:"notin",BETWEEN:"between",NOT_BETWEEN:"notBetween",EQUALS:"equals",NOT_EQUAL:"notEqual",CONTAINS:"contains",NOT_CONTAINS:"notcontains",GREATER:"greater",GREATER_OR_EQUAL:"greaterOrEqual",LESS:"less",LESS_OR_EQUAL:"lessOrEqual",BETWEEN_DATES:"betweenDates",NOT_BETWEEN_DATES:"notbetweenDates",STARTS_WITH:"startsWith",NOT_STARTS_WITH:"notstartsWith",ENDS_WITH:"endsWith",NOT_ENDS_WITH:"notendsWith",READ_ONLY:"readonly"}),define("adhoc/filter/filterModelTrait/listFilterModelTrait",["require","underscore","adhoc/filter/enum/filterExpressionTypes","adhoc/filter/enum/filterOperators"],function(e){"use strict";var t=e("underscore"),i=e("adhoc/filter/enum/filterExpressionTypes");e("adhoc/filter/enum/filterOperators");return{_expressionRValue:function(){return{type:"list",value:t.map(this.get("value"),function(e){return null==e&&console&&console.warn("Value is undefined or null for some reason",e),{value:encodeURIComponent(null==e?"":e),dataType:this.get("filterDataType"),type:i.LITERAL}},this)}}}}),define("adhoc/filter/enum/filterDataTypes",{TIMESTAMP:"Timestamp",DATE:"Date",TIME:"Time",INTEGER:"Integer",DECIMAL:"Decimal",LONG:"Long",NUMERIC:"Numeric",STRING:"String",BOOLEAN:"Boolean",READ_ONLY:"readonly"}),define("adhoc/filter/filterModelTrait/literalFilterModelTrait",["require","underscore","adhoc/filter/enum/filterExpressionTypes","adhoc/filter/enum/filterOperators","adhoc/filter/enum/filterDataTypes","jrs.configs"],function(e){"use strict";var t=(e("underscore"),e("adhoc/filter/enum/filterExpressionTypes"));e("adhoc/filter/enum/filterOperators"),e("adhoc/filter/enum/filterDataTypes"),e("jrs.configs");return{_expressionRValue:function(){var e=this.get("value");return{value:encodeURIComponent(e),dataType:this.get("filterDataType"),type:t.LITERAL}}}}),define("adhoc/filter/filterModelTrait/rangeFilterModelTrait",["require","underscore","adhoc/filter/enum/filterExpressionTypes"],function(e){"use strict";var t=(e("underscore"),e("adhoc/filter/enum/filterExpressionTypes"));return{_expressionRValue:function(){var e=this.get("value")[0],i=this.get("value")[1];return null==e&&console&&console.warn("Value is undefined or null for some reason",e),null==i&&console&&console.warn("Value is undefined or null for some reason",i),{start:encodeURIComponent(null==e?"":e),end:encodeURIComponent(null==i?"":i),dataType:this.get("filterDataType"),type:t.RANGE}}}}),define("adhoc/filter/filterModelTrait/readOnlyFilterModelTrait",["require"],function(e){"use strict";return{_expressionRValue:function(){return{}}}}),define("adhoc/filter/factory/filterModelValidationFactory",["require","adhoc/filter/enum/filterDataTypes","adhoc/filter/enum/filterOperators","underscore"],function(e){"use strict";var t=e("adhoc/filter/enum/filterDataTypes"),i=e("adhoc/filter/enum/filterOperators"),n=e("underscore"),a={};return a[t.INTEGER]={},a[t.INTEGER][i.IN]={value:{listWithTrueAll:!0}},a[t.INTEGER][i.NOT_IN]={value:{list:!0}},a[t.INTEGER][i.EQUALS]={value:{required:!0,nullable:!0,integer:!0}},a[t.INTEGER][i.NOT_EQUAL]={value:{required:!0,nullable:!0,integer:!0}},a[t.INTEGER][i.LESS]={value:{required:!0,nullable:!1,integer:!0}},a[t.INTEGER][i.GREATER]={value:{required:!0,nullable:!1,integer:!0}},a[t.INTEGER][i.GREATER_OR_EQUAL]={value:{required:!0,nullable:!1,integer:!0}},a[t.INTEGER][i.LESS_OR_EQUAL]={value:{required:!0,nullable:!1,integer:!0}},a[t.INTEGER][i.BETWEEN]={value:{integerRange:!0}},a[t.INTEGER][i.NOT_BETWEEN]={value:{integerRange:!0}},a[t.DECIMAL]={},a[t.DECIMAL][i.IN]={value:{listWithTrueAll:!0}},a[t.DECIMAL][i.NOT_IN]={value:{list:!0}},a[t.DECIMAL][i.EQUALS]={value:{required:!0,nullable:!0,decimal:!0}},a[t.DECIMAL][i.NOT_EQUAL]={value:{required:!0,nullable:!0,decimal:!0}},a[t.DECIMAL][i.LESS]={value:{required:!0,nullable:!1,decimal:!0}},a[t.DECIMAL][i.GREATER]={value:{required:!0,nullable:!1,decimal:!0}},a[t.DECIMAL][i.GREATER_OR_EQUAL]={value:{required:!0,nullable:!1,decimal:!0}},a[t.DECIMAL][i.LESS_OR_EQUAL]={value:{required:!0,nullable:!1,decimal:!0}},a[t.DECIMAL][i.BETWEEN]={value:{decimalRange:!0}},a[t.DECIMAL][i.NOT_BETWEEN]={value:{decimalRange:!0}},a[t.LONG]={},a[t.LONG][i.IN]={value:{listWithTrueAll:!0}},a[t.LONG][i.NOT_IN]={value:{list:!0}},a[t.LONG][i.EQUALS]={value:{required:!0,nullable:!0,"long":!0}},a[t.LONG][i.NOT_EQUAL]={value:{required:!0,nullable:!0,"long":!0}},a[t.LONG][i.LESS]={value:{required:!0,nullable:!1,"long":!0}},a[t.LONG][i.GREATER]={value:{required:!0,nullable:!1,"long":!0}},a[t.LONG][i.GREATER_OR_EQUAL]={value:{required:!0,nullable:!1,"long":!0}},a[t.LONG][i.LESS_OR_EQUAL]={value:{required:!0,nullable:!1,"long":!0}},a[t.LONG][i.BETWEEN]={value:{longRange:!0}},a[t.LONG][i.NOT_BETWEEN]={value:{longRange:!0}},a[t.NUMERIC]={},n.extend(a[t.NUMERIC],a[t.INTEGER]),a[t.STRING]={},a[t.STRING][i.IN]={value:{listWithTrueAll:!0}},a[t.STRING][i.NOT_IN]={value:{list:!0}},a[t.STRING][i.EQUALS]={value:{required:!1,string:!0}},a[t.STRING][i.NOT_EQUAL]={value:{required:!1,string:!0}},a[t.STRING][i.CONTAINS]={value:{required:!1,string:!0}},a[t.STRING][i.NOT_CONTAINS]={value:{required:!1,string:!0}},a[t.STRING][i.STARTS_WITH]={value:{required:!1,string:!0}},a[t.STRING][i.NOT_STARTS_WITH]={value:{required:!1,string:!0}},a[t.STRING][i.ENDS_WITH]={value:{required:!1,string:!0}},a[t.STRING][i.NOT_ENDS_WITH]={value:{required:!1,string:!0}},a[t.BOOLEAN]={},a[t.BOOLEAN][i.IN]={value:{listWithTrueAll:!0}},a[t.BOOLEAN][i.NOT_IN]={value:{list:!0}},a[t.BOOLEAN][i.EQUALS]={value:{required:!0,"boolean":!0}},a[t.BOOLEAN][i.NOT_EQUAL]={value:{required:!0,"boolean":!0}},a[t.TIME]={},a[t.TIME][i.EQUALS]={value:{required:!0,nullable:!0,time:!0}},a[t.TIME][i.NOT_EQUAL]={value:{required:!0,nullable:!0,time:!0}},a[t.TIME][i.LESS]={value:{required:!0,nullable:!1,time:!0}},a[t.TIME][i.GREATER]={value:{required:!0,nullable:!1,time:!0}},a[t.TIME][i.GREATER_OR_EQUAL]={value:{required:!0,nullable:!1,time:!0}},a[t.TIME][i.LESS_OR_EQUAL]={value:{required:!0,nullable:!1,time:!0}},a[t.TIME][i.BETWEEN]={value:{timeRange:!0}},a[t.TIME][i.NOT_BETWEEN]={value:{timeRange:!0}},a[t.TIMESTAMP]={},a[t.TIMESTAMP][i.EQUALS]={value:{required:!0,nullable:!0,timestamp:!0}},a[t.TIMESTAMP][i.NOT_EQUAL]={value:{required:!0,nullable:!0,timestamp:!0}},a[t.TIMESTAMP][i.LESS]={value:{required:!0,nullable:!1,timestamp:!0}},a[t.TIMESTAMP][i.GREATER]={value:{required:!0,nullable:!1,timestamp:!0}},a[t.TIMESTAMP][i.GREATER_OR_EQUAL]={value:{required:!0,nullable:!1,timestamp:!0}},a[t.TIMESTAMP][i.LESS_OR_EQUAL]={value:{required:!0,nullable:!1,timestamp:!0}},a[t.TIMESTAMP][i.BETWEEN_DATES]={value:{timestampRange:!0}},a[t.TIMESTAMP][i.NOT_BETWEEN_DATES]={value:{timestampRange:!0}},a[t.DATE]={},a[t.DATE][i.EQUALS]={value:{required:!0,nullable:!0,date:!0}},a[t.DATE][i.NOT_EQUAL]={value:{required:!0,nullable:!0,date:!0}},a[t.DATE][i.LESS]={value:{required:!0,nullable:!1,date:!0}},a[t.DATE][i.GREATER]={value:{required:!0,nullable:!1,date:!0}},a[t.DATE][i.GREATER_OR_EQUAL]={value:{required:!0,nullable:!1,date:!0}},a[t.DATE][i.LESS_OR_EQUAL]={value:{required:!0,nullable:!1,date:!0}},a[t.DATE][i.BETWEEN_DATES]={value:{dateRange:!0}},a[t.DATE][i.NOT_BETWEEN_DATES]={value:{dateRange:!0}},function(e,t){return e in a&&t in a[e]?a[e][t]:{}}}),define("adhoc/filter/factory/filterModelExpressionTypeFactory",["require","adhoc/filter/enum/filterDataTypes","adhoc/filter/enum/filterExpressionTypes","adhoc/filter/enum/filterOperators","underscore"],function(e){"use strict";var t=e("adhoc/filter/enum/filterDataTypes"),i=e("adhoc/filter/enum/filterExpressionTypes"),n=e("adhoc/filter/enum/filterOperators"),a=e("underscore"),r={};return r[t.STRING]={},r[t.STRING][n.IN]=i.LIST,r[t.STRING][n.NOT_IN]=i.LIST,r[t.STRING][n.EQUALS]=i.LITERAL,r[t.STRING][n.NOT_EQUAL]=i.LITERAL,r[t.STRING][n.CONTAINS]=i.LITERAL,r[t.STRING][n.NOT_CONTAINS]=i.LITERAL,r[t.STRING][n.STARTS_WITH]=i.LITERAL,r[t.STRING][n.NOT_STARTS_WITH]=i.LITERAL,r[t.STRING][n.ENDS_WITH]=i.LITERAL,r[t.STRING][n.NOT_ENDS_WITH]=i.LITERAL,r[t.NUMERIC]={},r[t.NUMERIC][n.IN]=i.LIST,r[t.NUMERIC][n.NOT_IN]=i.LIST,r[t.NUMERIC][n.EQUALS]=i.LITERAL,r[t.NUMERIC][n.NOT_EQUAL]=i.LITERAL,r[t.NUMERIC][n.LESS]=i.LITERAL,r[t.NUMERIC][n.GREATER]=i.LITERAL,r[t.NUMERIC][n.GREATER_OR_EQUAL]=i.LITERAL,r[t.NUMERIC][n.LESS_OR_EQUAL]=i.LITERAL,r[t.NUMERIC][n.BETWEEN]=i.RANGE,r[t.NUMERIC][n.NOT_BETWEEN]=i.RANGE,r[t.INTEGER]={},r[t.LONG]={},r[t.DECIMAL]={},a.extend(r[t.INTEGER],r[t.NUMERIC]),a.extend(r[t.LONG],r[t.NUMERIC]),a.extend(r[t.DECIMAL],r[t.NUMERIC]),r[t.BOOLEAN]={},r[t.BOOLEAN][n.IN]=i.LIST,r[t.BOOLEAN][n.NOT_IN]=i.LIST,r[t.BOOLEAN][n.EQUALS]=i.LITERAL,r[t.BOOLEAN][n.NOT_EQUAL]=i.LITERAL,r[t.TIMESTAMP]={},r[t.TIMESTAMP][n.EQUALS]=i.LITERAL,r[t.TIMESTAMP][n.NOT_EQUAL]=i.LITERAL,r[t.TIMESTAMP][n.LESS]=i.LITERAL,r[t.TIMESTAMP][n.GREATER]=i.LITERAL,r[t.TIMESTAMP][n.GREATER_OR_EQUAL]=i.LITERAL,r[t.TIMESTAMP][n.LESS_OR_EQUAL]=i.LITERAL,r[t.TIMESTAMP][n.BETWEEN_DATES]=i.DATE_RANGE,r[t.TIMESTAMP][n.NOT_BETWEEN_DATES]=i.DATE_RANGE,r[t.DATE]={},a.extend(r[t.DATE],r[t.TIMESTAMP]),r[t.TIME]={},r[t.TIME][n.EQUALS]=i.LITERAL,r[t.TIME][n.NOT_EQUAL]=i.LITERAL,r[t.TIME][n.LESS]=i.LITERAL,r[t.TIME][n.GREATER]=i.LITERAL,r[t.TIME][n.GREATER_OR_EQUAL]=i.LITERAL,r[t.TIME][n.LESS_OR_EQUAL]=i.LITERAL,r[t.TIME][n.BETWEEN]=i.RANGE,r[t.TIME][n.NOT_BETWEEN]=i.RANGE,r[t.READ_ONLY]={},r[t.READ_ONLY][n.READ_ONLY]=i.READ_ONLY,function(e,t){if(!(e in r))throw new Error("Filter data type '"+e+"' is not supported");if(!(t in r[e]))throw new Error("Operator '"+t+"' is not supported by filter data type '"+e+"'");return r[e][t]}}),define("adhoc/filter/factory/filterModelDefaultValueFactory",["require","adhoc/filter/enum/filterDataTypes","adhoc/filter/enum/filterOperators","jrs.configs","underscore"],function(e){"use strict";var t=e("adhoc/filter/enum/filterDataTypes"),i=e("adhoc/filter/enum/filterOperators"),n=e("jrs.configs"),a=e("underscore"),r={};r[t.STRING]={},r[t.STRING][i.IN]={value:[],isAnyValue:!0},r[t.STRING][i.NOT_IN]={value:[],isAnyValue:!1},r[t.STRING][i.EQUALS]=function(e){return{value:e.values[0],isAnyValue:!1}},r[t.STRING][i.NOT_EQUAL]=function(e){return{value:e.values[0],isAnyValue:!1}},r[t.STRING][i.CONTAINS]={value:"",isAnyValue:!1},r[t.STRING][i.NOT_CONTAINS]={value:"",isAnyValue:!1},r[t.STRING][i.STARTS_WITH]={value:"",isAnyValue:!1},r[t.STRING][i.NOT_STARTS_WITH]={value:"",isAnyValue:!1},r[t.STRING][i.ENDS_WITH]={value:"",isAnyValue:!1},r[t.STRING][i.NOT_ENDS_WITH]={value:"",isAnyValue:!1};var s={};s[i.IN]={value:[],isAnyValue:!0},s[i.NOT_IN]={value:[],isAnyValue:!1},s[i.EQUALS]={value:n.inputControlsConstants.NULL_SUBSTITUTION_VALUE,isAnyValue:!1},s[i.NOT_EQUAL]={value:n.inputControlsConstants.NULL_SUBSTITUTION_VALUE,isAnyValue:!1},s[i.GREATER]=function(e){return{value:e.min,isAnyValue:!1}},s[i.GREATER_OR_EQUAL]=function(e){return{value:e.min,isAnyValue:!1}},s[i.LESS]=function(e){return{value:e.max,isAnyValue:!1}},s[i.LESS_OR_EQUAL]=function(e){return{value:e.max,isAnyValue:!1}},s[i.BETWEEN]=function(e){return{value:[e.min,e.max],isAnyValue:!1}},s[i.NOT_BETWEEN]=function(e){return{value:[e.min,e.max],isAnyValue:!1}};var o=a.omit(s,i.BETWEEN,i.NOT_BETWEEN);o[i.BETWEEN_DATES]=function(e){return{value:[e.min,e.max],isAnyValue:!0}},o[i.NOT_BETWEEN_DATES]=function(e){return{value:[e.min,e.max],isAnyValue:!1}},r[t.INTEGER]=a.clone(s),r[t.NUMERIC]=a.clone(s),r[t.LONG]=a.clone(s),r[t.DECIMAL]=a.clone(s),r[t.TIME]=a.clone(s),r[t.TIMESTAMP]=a.clone(o),r[t.DATE]=a.clone(o),r[t.BOOLEAN]={},r[t.BOOLEAN][i.IN]={value:[],isAnyValue:!0},r[t.BOOLEAN][i.NOT_IN]={value:[],isAnyValue:!1},r[t.BOOLEAN][i.EQUALS]={value:"false",isAnyValue:!1},r[t.BOOLEAN][i.NOT_EQUAL]={value:"false",isAnyValue:!1};var l={};return l[i.IN]=function(e){return e.allValuesLoaded?{value:e.values,isAnyValue:!1}:{value:[],isAnyValue:!1}},l[i.NOT_IN]={value:[],isAnyValue:!1},l[i.EQUALS]=function(e){return{value:e.values[0],isAnyValue:!1}},l[i.NOT_EQUAL]=function(e){return{value:e.values[0],isAnyValue:!1}},function(e,t,i,n){var s;if(i){if(!(t in l))throw new Error("Operator '"+t+"' is not supported in OLAP mode");s=l[t]}else{if(!(e in r))throw new Error("Filter data type '"+e+"' is not supported");if(!(t in r[e]))throw new Error("Operator '"+t+"' is not supported by filter data type '"+e+"'");s=r[e][t]}return a.isFunction(s)?s(n):s}}),define("adhoc/filter/format/OlapFilterValueFormatter",["require","underscore"],function(e){"use strict";var t=e("underscore"),i=/(\[[\w\s.-]+\]\.){2}/,n=/(\[[\w\s.-]+\]\.){1}/,a=/\]\.\[/g,r=/^\[([^\]]+)\]$/g,s=function(e){t.bindAll(this,"format"),this.dimNamePrefixRegexp=e?i:n};return t.extend(s.prototype,{format:function(e){return e=e.replace(this.dimNamePrefixRegexp,""),e=e.replace(a," - "),e=e.replace(r,"$1")}}),s}),define("components/singleSelect/dataprovider/DataProviderNew",["require","underscore","jquery"],function(e){"use strict";var t=e("underscore"),i=e("jquery"),n=999,a=50,r=50,s="criteria",o=2147483647,l=function(e){t.bindAll(this,"getData"),e=e||{},this.dataCache=[],this.dataCacheTotal=null,this.dataCachePages=[],this.pageSize=e.pageSize||n,this.criteriaKey=e.searchKey||s,this.maxSearchCacheSize=e.maxSearchCacheSize||a,this.getDataByCriteriaHolder={},this.controlGetTotal="undefined"!=typeof e.controlGetTotal?e.controlGetTotal:!1,this.dataConverter=e.dataConverter,this.saveLastCriteria="undefined"!=typeof e.saveLastCriteria?e.saveLastCriteria:!1,this.lastCriteria=null,this.serialRequestsDelay="undefined"!=typeof e.serialRequestsDelay?e.serialRequestsDelay:r,this.serialRequestsDelayedPromise=null,this.request=e.request};return t.extend(l.prototype,{getData:function(e){if(e=e||{},e[this.criteriaKey])return this._getDataByCriteria(e[this.criteriaKey])(e);if("undefined"==typeof e[this.criteriaKey]&&this.saveLastCriteria&&this.lastCriteria)return this._getDataByCriteria(this.lastCriteria)(e);this.lastCriteria=null;var t=i.Deferred(),n=this._getPagesToLoad(e);return n?this._requestData(e,n,t):this._resolveDeferredUsingDataFromCache(t,e),t.promise()},clear:function(){this.dataCache=[],this.dataCacheTotal=null,this.dataCachePages=[],this.getDataByCriteriaHolder={},this.lastCriteria=null},_requestData:function(e,i,n){var a=(i[i.length-1]-i[0]+1)*this.pageSize,r=t.extend({},e,{offset:i[0]*this.pageSize,limit:a});this.controlGetTotal&&(r.skipGetTotal=!0),a>=o/this.pageSize*this.pageSize&&delete r.limit,this.controlGetTotal&&"number"!=typeof this.dataCacheTotal&&delete r.skipGetTotal,this.serialRequestsDelay>0?(clearTimeout(this.deferredTimeout),this.deferredTimeout=setTimeout(t.bind(this._requestDataDeferred,this,e,r,n),this.serialRequestsDelay)):this._requestDataDeferred(e,r,n)},_requestDataDeferred:function(e,i,n){var a=this._getPagesToLoad(e);a?this.serialRequestsDelayedPromise&&t.isEqual(i,this.serialRequestsDelayedPromise.query)?this.serialRequestsDelayedPromise.promise.done(n.resolve).fail(n.reject):(this.serialRequestsDelayedPromise={promise:n.promise(),query:i},this.request(i).done(t.bind(this._requestDone,this,e,i,n)).fail(n.reject)):this._resolveDeferredUsingDataFromCache(n,e)},_requestDone:function(e,t,i,n){this._putDataToCache(t,n),this.serialRequestsDelayedPromise=null,this._resolveDeferredUsingDataFromCache(i,e)},_resolveDeferredUsingDataFromCache:function(e,t){var i=this._getDataFromCache(t);e.resolve({total:this.dataCacheTotal,data:i})},_getPagesToLoad:function(e){var t,i=this._convertLimitOffsetToFirstLast(e),n=this._findPageIndex(i.first),a=this._findPageIndex(i.last),r=[];for(t=n;a>=t;t++)if(!this.dataCachePages[t]){r.push(t);break}for(t=a;t>=n;t--)if(!this.dataCachePages[t]){
r.push(t);break}return r.length>0?r:null},_findPageIndex:function(e){return Math.floor(e/this.pageSize)},_convertLimitOffsetToFirstLast:function(e){var t=e&&e.offset?e.offset:0,i=e&&e.limit?t+e.limit-1:this.dataCacheTotal?this.dataCacheTotal-1:o;return this.dataCacheTotal&&i>this.dataCacheTotal-1&&(i=this.dataCacheTotal-1),{first:t,last:i}},_getDataFromCache:function(e){e=t.defaults(e,{offset:0,limit:o});var i=Math.max(0,e.offset),n=Math.min(i+e.limit,this.dataCacheTotal);return this.dataCache.slice(i,n)},_putDataToCache:function(e,t){var i;for("undefined"!=typeof t.total&&(this.dataCacheTotal=t.total),e.limit=e.limit||o,i=0;i<t.data.length;i++)this.dataCache[i+e.offset]=this.dataConverter?this.dataConverter(t.data[i]):t.data[i];var n=e.offset/this.pageSize,a=Math.floor((Math.min(e.limit,t.data.length)+e.offset-1)/this.pageSize);for(i=n;a>=i;i++)this.dataCachePages[i]=!0},_getDataByCriteria:function(e){if(!this.getDataByCriteriaHolder[e]){var t,i=Number.MAX_VALUE,n=0,a=0;for(var r in this.getDataByCriteriaHolder)if(this.getDataByCriteriaHolder.hasOwnProperty(r)){a+=1;var s=this.getDataByCriteriaHolder[r];s.index<i&&(i=s.index,t=r),s.index>n&&(n=s.index)}a>=this.maxSearchCacheSize&&delete this.getDataByCriteriaHolder[t],this.getDataByCriteriaHolder[e]={getData:this._createDataProviderForCriteria(e),index:n+1}}return this.lastCriteria=e,this.getDataByCriteriaHolder[e].getData},_createDataProviderForCriteria:function(e){var i=this.request,n=this,a=new l({pageSize:this.pageSize,dataConverter:this.dataConverter,serialRequestsDelay:this.serialRequestsDelay,searchKey:this.criteriaKey,controlGetTotal:this.controlGetTotal,request:function(a){var r=t.extend({},a);return r[n.criteriaKey]=e,i(r)}}),r=a.getData;return a.getData=function(e){var i=t.extend({},e);return delete i[n.criteriaKey],r.call(a,i)},a.getData}}),l}),define("components/singleSelect/dataprovider/ValueFormattingDataProvider",["require","underscore","jquery"],function(e){"use strict";var t=e("underscore"),i=e("jquery"),n=function(e){t.bindAll(this,"getData"),e=e||{},this.format=e.format,this.request=e.request};return t.extend(n.prototype,{getData:function(e){var n=i.Deferred();return this.request(e).done(t.bind(this._requestDone,this,n)).fail(n.reject),n.promise()},_requestDone:function(e,t){if(this.format&&t&&t.data){var i=t.data;if(i.length>0&&!i[0].label)for(var n=0;n<i.length;n++)i[n].label=this.format(i[n].value)}e.resolve(t)}}),n}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment",t):e.moment=t()}(this,function(){"use strict";function e(){return Gn.apply(null,arguments)}function t(e){Gn=e}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function n(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){for(var i in t)r(t,i)&&(e[i]=t[i]);return r(t,"toString")&&(e.toString=t.toString),r(t,"valueOf")&&(e.valueOf=t.valueOf),e}function o(e,t,i,n){return Ee(e,t,i,n,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function d(e){return null==e._pf&&(e._pf=l()),e._pf}function c(e){if(null==e._isValid){var t=d(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function u(e){var t=o(NaN);return null!=e?s(d(t),e):d(t).userInvalidated=!0,t}function h(e){return void 0===e}function m(e,t){var i,n,a;if(h(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),h(t._i)||(e._i=t._i),h(t._f)||(e._f=t._f),h(t._l)||(e._l=t._l),h(t._strict)||(e._strict=t._strict),h(t._tzm)||(e._tzm=t._tzm),h(t._isUTC)||(e._isUTC=t._isUTC),h(t._offset)||(e._offset=t._offset),h(t._pf)||(e._pf=d(t)),h(t._locale)||(e._locale=t._locale),Wn.length>0)for(i in Wn)n=Wn[i],a=t[n],h(a)||(e[n]=a);return e}function p(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),qn===!1&&(qn=!0,e.updateOffset(this),qn=!1)}function f(e){return e instanceof p||null!=e&&null!=e._isAMomentObject}function g(e){return 0>e?Math.ceil(e):Math.floor(e)}function _(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=g(t)),i}function v(e,t,i){var n,a=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(n=0;a>n;n++)(i&&e[n]!==t[n]||!i&&_(e[n])!==_(t[n]))&&s++;return s+r}function b(){}function y(e){return e?e.toLowerCase().replace("_","-"):e}function T(e){for(var t,i,n,a,r=0;r<e.length;){for(a=y(e[r]).split("-"),t=a.length,i=y(e[r+1]),i=i?i.split("-"):null;t>0;){if(n=A(a.slice(0,t).join("-")))return n;if(i&&i.length>=t&&v(a,i,!0)>=t-1)break;t--}r++}return null}function A(e){var t=null;if(!$n[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=zn._abbr,require("./locale/"+e),M(t)}catch(i){}return $n[e]}function M(e,t){var i;return e&&(i=h(t)?L(e):S(e,t),i&&(zn=i)),zn._abbr}function S(e,t){return null!==t?(t.abbr=e,$n[e]=$n[e]||new b,$n[e].set(t),M(e),$n[e]):(delete $n[e],null)}function L(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return zn;if(!i(e)){if(t=A(e))return t;e=[e]}return T(e)}function C(e,t){var i=e.toLowerCase();Xn[i]=Xn[i+"s"]=Xn[t]=e}function D(e){return"string"==typeof e?Xn[e]||Xn[e.toLowerCase()]:void 0}function x(e){var t,i,n={};for(i in e)r(e,i)&&(t=D(i),t&&(n[t]=e[i]));return n}function E(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function w(t,i){return function(n){return null!=n?(I(this,t,n),e.updateOffset(this,i),this):O(this,t)}}function O(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function I(e,t,i){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](i)}function R(e,t){var i;if("object"==typeof e)for(i in e)this.set(i,e[i]);else if(e=D(e),E(this[e]))return this[e](t);return this}function N(e,t,i){var n=""+Math.abs(e),a=t-n.length,r=e>=0;return(r?i?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}function k(e,t,i,n){var a=n;"string"==typeof n&&(a=function(){return this[n]()}),e&&(Zn[e]=a),t&&(Zn[t[0]]=function(){return N(a.apply(this,arguments),t[1],t[2])}),i&&(Zn[i]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function H(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function P(e){var t,i,n=e.match(Qn);for(t=0,i=n.length;i>t;t++)Zn[n[t]]?n[t]=Zn[n[t]]:n[t]=H(n[t]);return function(a){var r="";for(t=0;i>t;t++)r+=n[t]instanceof Function?n[t].call(a,e):n[t];return r}}function F(e,t){return e.isValid()?(t=Y(t,e.localeData()),Jn[t]=Jn[t]||P(t),Jn[t](e)):e.localeData().invalidDate()}function Y(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(Kn.lastIndex=0;n>=0&&Kn.test(e);)e=e.replace(Kn,i),Kn.lastIndex=0,n-=1;return e}function j(e,t,i){_a[e]=E(t)?t:function(e,n){return e&&i?i:t}}function B(e,t){return r(_a,e)?_a[e](t._strict,t._locale):new RegExp(V(e))}function V(e){return U(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,a){return t||i||n||a}))}function U(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function G(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(n=function(e,i){i[t]=_(e)}),i=0;i<e.length;i++)va[e[i]]=n}function z(e,t){G(e,function(e,i,n,a){n._w=n._w||{},t(e,n._w,n,a)})}function W(e,t,i){null!=t&&r(va,e)&&va[e](t,i._a,i,e)}function q(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function $(e,t){return i(this._months)?this._months[e.month()]:this._months[xa.test(t)?"format":"standalone"][e.month()]}function X(e,t){return i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[xa.test(t)?"format":"standalone"][e.month()]}function Q(e,t,i){var n,a,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(a=o([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}}function K(e,t){var i;return e.isValid()?"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(i=Math.min(e.date(),q(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e):e}function J(t){return null!=t?(K(this,t),e.updateOffset(this,!0),this):O(this,"Month")}function Z(){return q(this.year(),this.month())}function ee(e){return this._monthsParseExact?(r(this,"_monthsRegex")||ie.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}function te(e){return this._monthsParseExact?(r(this,"_monthsRegex")||ie.call(this),e?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}function ie(){function e(e,t){return t.length-e.length}var t,i,n=[],a=[],r=[];for(t=0;12>t;t++)i=o([2e3,t]),n.push(this.monthsShort(i,"")),a.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(e),a.sort(e),r.sort(e),t=0;12>t;t++)n[t]=U(n[t]),a[t]=U(a[t]),r[t]=U(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")$","i")}function ne(e){var t,i=e._a;return i&&-2===d(e).overflow&&(t=i[ya]<0||i[ya]>11?ya:i[Ta]<1||i[Ta]>q(i[ba],i[ya])?Ta:i[Aa]<0||i[Aa]>24||24===i[Aa]&&(0!==i[Ma]||0!==i[Sa]||0!==i[La])?Aa:i[Ma]<0||i[Ma]>59?Ma:i[Sa]<0||i[Sa]>59?Sa:i[La]<0||i[La]>999?La:-1,d(e)._overflowDayOfYear&&(ba>t||t>Ta)&&(t=Ta),d(e)._overflowWeeks&&-1===t&&(t=Ca),d(e)._overflowWeekday&&-1===t&&(t=Da),d(e).overflow=t),e}function ae(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function re(e,t){var i=!0;return s(function(){return i&&(ae(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),t.apply(this,arguments)},t)}function se(e,t){Ra[e]||(ae(t),Ra[e]=!0)}function oe(e){var t,i,n,a,r,s,o=e._i,l=Na.exec(o)||ka.exec(o);if(l){for(d(e).iso=!0,t=0,i=Pa.length;i>t;t++)if(Pa[t][1].exec(l[1])){a=Pa[t][0],n=Pa[t][2]!==!1;break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,i=Fa.length;i>t;t++)if(Fa[t][1].exec(l[3])){r=(l[2]||" ")+Fa[t][0];break}if(null==r)return void(e._isValid=!1)}if(!n&&null!=r)return void(e._isValid=!1);if(l[4]){if(!Ha.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=a+(r||"")+(s||""),Ae(e)}else e._isValid=!1}function le(t){var i=Ya.exec(t._i);return null!==i?void(t._d=new Date(+i[1])):(oe(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function de(e,t,i,n,a,r,s){var o=new Date(e,t,i,n,a,r,s);return 100>e&&e>=0&&isFinite(o.getFullYear())&&o.setFullYear(e),o}function ce(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function ue(e){return he(e)?366:365}function he(e){return e%4===0&&e%100!==0||e%400===0}function me(){return he(this.year())}function pe(e,t,i){var n=7+t-i,a=(7+ce(e,0,n).getUTCDay()-t)%7;return-a+n-1}function fe(e,t,i,n,a){var r,s,o=(7+i-n)%7,l=pe(e,n,a),d=1+7*(t-1)+o+l;return 0>=d?(r=e-1,s=ue(r)+d):d>ue(e)?(r=e+1,s=d-ue(e)):(r=e,s=d),{year:r,dayOfYear:s}}function ge(e,t,i){var n,a,r=pe(e.year(),t,i),s=Math.floor((e.dayOfYear()-r-1)/7)+1;return 1>s?(a=e.year()-1,n=s+_e(a,t,i)):s>_e(e.year(),t,i)?(n=s-_e(e.year(),t,i),a=e.year()+1):(a=e.year(),n=s),{week:n,year:a}}function _e(e,t,i){var n=pe(e,t,i),a=pe(e+1,t,i);return(ue(e)-n+a)/7}function ve(e,t,i){return null!=e?e:null!=t?t:i}function be(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function ye(e){var t,i,n,a,r=[];if(!e._d){for(n=be(e),e._w&&null==e._a[Ta]&&null==e._a[ya]&&Te(e),e._dayOfYear&&(a=ve(e._a[ba],n[ba]),e._dayOfYear>ue(a)&&(d(e)._overflowDayOfYear=!0),i=ce(a,0,e._dayOfYear),e._a[ya]=i.getUTCMonth(),e._a[Ta]=i.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=r[t]=n[t];for(;7>t;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Aa]&&0===e._a[Ma]&&0===e._a[Sa]&&0===e._a[La]&&(e._nextDay=!0,e._a[Aa]=0),e._d=(e._useUTC?ce:de).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Aa]=24)}}function Te(e){var t,i,n,a,r,s,o,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(r=1,s=4,i=ve(t.GG,e._a[ba],ge(we(),1,4).year),n=ve(t.W,1),a=ve(t.E,1),(1>a||a>7)&&(l=!0)):(r=e._locale._week.dow,s=e._locale._week.doy,i=ve(t.gg,e._a[ba],ge(we(),r,s).year),n=ve(t.w,1),null!=t.d?(a=t.d,(0>a||a>6)&&(l=!0)):null!=t.e?(a=t.e+r,(t.e<0||t.e>6)&&(l=!0)):a=r),1>n||n>_e(i,r,s)?d(e)._overflowWeeks=!0:null!=l?d(e)._overflowWeekday=!0:(o=fe(i,n,a,r,s),e._a[ba]=o.year,e._dayOfYear=o.dayOfYear)}function Ae(t){if(t._f===e.ISO_8601)return void oe(t);t._a=[],d(t).empty=!0;var i,n,a,r,s,o=""+t._i,l=o.length,c=0;for(a=Y(t._f,t._locale).match(Qn)||[],i=0;i<a.length;i++)r=a[i],n=(o.match(B(r,t))||[])[0],n&&(s=o.substr(0,o.indexOf(n)),s.length>0&&d(t).unusedInput.push(s),o=o.slice(o.indexOf(n)+n.length),c+=n.length),Zn[r]?(n?d(t).empty=!1:d(t).unusedTokens.push(r),W(r,n,t)):t._strict&&!n&&d(t).unusedTokens.push(r);d(t).charsLeftOver=l-c,o.length>0&&d(t).unusedInput.push(o),d(t).bigHour===!0&&t._a[Aa]<=12&&t._a[Aa]>0&&(d(t).bigHour=void 0),t._a[Aa]=Me(t._locale,t._a[Aa],t._meridiem),ye(t),ne(t)}function Me(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?(n=e.isPM(i),n&&12>t&&(t+=12),n||12!==t||(t=0),t):t}function Se(e){var t,i,n,a,r;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)r=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],Ae(t),c(t)&&(r+=d(t).charsLeftOver,r+=10*d(t).unusedTokens.length,d(t).score=r,(null==n||n>r)&&(n=r,i=t));s(e,i||t)}function Le(e){if(!e._d){var t=x(e._i);e._a=a([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ye(e)}}function Ce(e){var t=new p(ne(De(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function De(e){var t=e._i,a=e._f;return e._locale=e._locale||L(e._l),null===t||void 0===a&&""===t?u({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),f(t)?new p(ne(t)):(i(a)?Se(e):a?Ae(e):n(t)?e._d=t:xe(e),c(e)||(e._d=null),e))}function xe(t){var r=t._i;void 0===r?t._d=new Date(e.now()):n(r)?t._d=new Date(+r):"string"==typeof r?le(t):i(r)?(t._a=a(r.slice(0),function(e){return parseInt(e,10)}),ye(t)):"object"==typeof r?Le(t):"number"==typeof r?t._d=new Date(r):e.createFromInputFallback(t)}function Ee(e,t,i,n,a){var r={};return"boolean"==typeof i&&(n=i,i=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=a,r._l=i,r._i=e,r._f=t,r._strict=n,Ce(r)}function we(e,t,i,n){return Ee(e,t,i,n,!1)}function Oe(e,t){var n,a;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return we();for(n=t[0],a=1;a<t.length;++a)(!t[a].isValid()||t[a][e](n))&&(n=t[a]);return n}function Ie(){var e=[].slice.call(arguments,0);return Oe("isBefore",e)}function Re(){var e=[].slice.call(arguments,0);return Oe("isAfter",e)}function Ne(e){var t=x(e),i=t.year||0,n=t.quarter||0,a=t.month||0,r=t.week||0,s=t.day||0,o=t.hour||0,l=t.minute||0,d=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*d+6e4*l+36e5*o,this._days=+s+7*r,this._months=+a+3*n+12*i,this._data={},this._locale=L(),this._bubble()}function ke(e){return e instanceof Ne}function He(e,t){k(e,0,0,function(){var e=this.utcOffset(),i="+";return 0>e&&(e=-e,i="-"),i+N(~~(e/60),2)+t+N(~~e%60,2)})}function Pe(e,t){var i=(t||"").match(e)||[],n=i[i.length-1]||[],a=(n+"").match(Ga)||["-",0,0],r=+(60*a[1])+_(a[2]);return"+"===a[0]?r:-r}function Fe(t,i){var a,r;return i._isUTC?(a=i.clone(),r=(f(t)||n(t)?+t:+we(t))-+a,a._d.setTime(+a._d+r),e.updateOffset(a,!1),a):we(t).local()}function Ye(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function je(t,i){var n,a=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Pe(pa,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&i&&(n=Ye(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),a!==t&&(!i||this._changeInProgress?it(this,Ke(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?a:Ye(this):null!=t?this:NaN}function Be(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ve(e){return this.utcOffset(0,e)}function Ue(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ye(this),"m")),this}function Ge(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Pe(ma,this._i)),this}function ze(e){return this.isValid()?(e=e?we(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function We(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qe(){if(!h(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),e=De(e),e._a){var t=e._isUTC?o(e._a):we(e._a);this._isDSTShifted=this.isValid()&&v(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function $e(){return this.isValid()?!this._isUTC:!1}function Xe(){return this.isValid()?this._isUTC:!1}function Qe(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Ke(e,t){var i,n,a,s=e,o=null;return ke(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(o=za.exec(e))?(i="-"===o[1]?-1:1,s={y:0,d:_(o[Ta])*i,h:_(o[Aa])*i,m:_(o[Ma])*i,s:_(o[Sa])*i,ms:_(o[La])*i}):(o=Wa.exec(e))?(i="-"===o[1]?-1:1,s={y:Je(o[2],i),M:Je(o[3],i),d:Je(o[4],i),h:Je(o[5],i),m:Je(o[6],i),s:Je(o[7],i),w:Je(o[8],i)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(a=et(we(s.from),we(s.to)),s={},s.ms=a.milliseconds,s.M=a.months),n=new Ne(s),ke(e)&&r(e,"_locale")&&(n._locale=e._locale),n}function Je(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Ze(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function et(e,t){var i;return e.isValid()&&t.isValid()?(t=Fe(t,e),e.isBefore(t)?i=Ze(e,t):(i=Ze(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function tt(e,t){return function(i,n){var a,r;return null===n||isNaN(+n)||(se(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=i,i=n,n=r),i="string"==typeof i?+i:i,a=Ke(i,n),it(this,a,e),this}}function it(t,i,n,a){var r=i._milliseconds,s=i._days,o=i._months;t.isValid()&&(a=null==a?!0:a,r&&t._d.setTime(+t._d+r*n),s&&I(t,"Date",O(t,"Date")+s*n),o&&K(t,O(t,"Month")+o*n),a&&e.updateOffset(t,s||o))}function nt(e,t){var i=e||we(),n=Fe(i,this).startOf("day"),a=this.diff(n,"days",!0),r=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse",s=t&&(E(t[r])?t[r]():t[r]);return this.format(s||this.localeData().calendar(r,this,we(i)))}function at(){return new p(this)}function rt(e,t){var i=f(e)?e:we(e);return this.isValid()&&i.isValid()?(t=D(h(t)?"millisecond":t),"millisecond"===t?+this>+i:+i<+this.clone().startOf(t)):!1}function st(e,t){var i=f(e)?e:we(e);return this.isValid()&&i.isValid()?(t=D(h(t)?"millisecond":t),"millisecond"===t?+i>+this:+this.clone().endOf(t)<+i):!1}function ot(e,t,i){return this.isAfter(e,i)&&this.isBefore(t,i)}function lt(e,t){var i,n=f(e)?e:we(e);return this.isValid()&&n.isValid()?(t=D(t||"millisecond"),"millisecond"===t?+this===+n:(i=+n,+this.clone().startOf(t)<=i&&i<=+this.clone().endOf(t))):!1}function dt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function ct(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function ut(e,t,i){var n,a,r,s;return this.isValid()?(n=Fe(e,this),n.isValid()?(a=6e4*(n.utcOffset()-this.utcOffset()),t=D(t),"year"===t||"month"===t||"quarter"===t?(s=ht(this,n),"quarter"===t?s/=3:"year"===t&&(s/=12)):(r=this-n,s="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-a)/864e5:"week"===t?(r-a)/6048e5:r),i?s:g(s)):NaN):NaN}function ht(e,t){var i,n,a=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(a,"months");return 0>t-r?(i=e.clone().add(a-1,"months"),n=(t-r)/(r-i)):(i=e.clone().add(a+1,"months"),n=(t-r)/(i-r)),-(a+n)}function mt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function pt(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?E(Date.prototype.toISOString)?this.toDate().toISOString():F(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):F(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ft(t){var i=F(this,t||e.defaultFormat);return this.localeData().postformat(i)}function gt(e,t){return this.isValid()&&(f(e)&&e.isValid()||we(e).isValid())?Ke({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function _t(e){return this.from(we(),e)}function vt(e,t){return this.isValid()&&(f(e)&&e.isValid()||we(e).isValid())?Ke({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bt(e){return this.to(we(),e)}function yt(e){var t;return void 0===e?this._locale._abbr:(t=L(e),null!=t&&(this._locale=t),this)}function Tt(){return this._locale}function At(e){switch(e=D(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Mt(e){return e=D(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function St(){return+this._d-6e4*(this._offset||0)}function Lt(){return Math.floor(+this/1e3)}function Ct(){return this._offset?new Date(+this):this._d}function Dt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function xt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Et(){return this.isValid()?this.toISOString():"null"}function wt(){return c(this)}function Ot(){return s({},d(this))}function It(){return d(this).overflow}function Rt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Nt(e,t){k(0,[e,e.length],0,t)}function kt(e){return Yt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ht(e){return Yt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Pt(){return _e(this.year(),1,4)}function Ft(){var e=this.localeData()._week;return _e(this.year(),e.dow,e.doy)}function Yt(e,t,i,n,a){var r;return null==e?ge(this,n,a).year:(r=_e(e,n,a),t>r&&(t=r),jt.call(this,e,t,i,n,a))}function jt(e,t,i,n,a){var r=fe(e,t,i,n,a),s=ce(r.year,0,r.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Bt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Vt(e){return ge(e,this._week.dow,this._week.doy).week}function Ut(){return this._week.dow}function Gt(){return this._week.doy}function zt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Wt(e){var t=ge(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function qt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function $t(e,t){return i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function Xt(e){return this._weekdaysShort[e.day()]}function Qt(e){return this._weekdaysMin[e.day()]}function Kt(e,t,i){var n,a,r;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;7>n;n++){if(a=we([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}}function Jt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=qt(e,this.localeData()),this.add(e-t,"d")):t}function Zt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function ei(e){return this.isValid()?null==e?this.day()||7:this.day(this.day()%7?e:e-7):null!=e?this:NaN}function ti(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function ii(){return this.hours()%12||12}function ni(e,t){k(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function ai(e,t){return t._meridiemParse}function ri(e){return"p"===(e+"").toLowerCase().charAt(0)}function si(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}function oi(e,t){t[La]=_(1e3*("0."+e))}function li(){return this._isUTC?"UTC":""}function di(){return this._isUTC?"Coordinated Universal Time":""}function ci(e){return we(1e3*e)}function ui(){return we.apply(null,arguments).parseZone()}function hi(e,t,i){var n=this._calendar[e];return E(n)?n.call(t,i):n}function mi(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function pi(){return this._invalidDate}function fi(e){return this._ordinal.replace("%d",e)}function gi(e){return e}function _i(e,t,i,n){var a=this._relativeTime[i];return E(a)?a(e,t,i,n):a.replace(/%d/i,e)}function vi(e,t){var i=this._relativeTime[e>0?"future":"past"];return E(i)?i(t):i.replace(/%s/i,t)}function bi(e){var t,i;for(i in e)t=e[i],E(t)?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function yi(e,t,i,n){var a=L(),r=o().set(n,t);return a[i](r,e)}function Ti(e,t,i,n,a){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return yi(e,t,i,a);var r,s=[];for(r=0;n>r;r++)s[r]=yi(e,r,i,a);return s}function Ai(e,t){return Ti(e,t,"months",12,"month")}function Mi(e,t){return Ti(e,t,"monthsShort",12,"month")}function Si(e,t){return Ti(e,t,"weekdays",7,"day")}function Li(e,t){return Ti(e,t,"weekdaysShort",7,"day")}function Ci(e,t){return Ti(e,t,"weekdaysMin",7,"day")}function Di(){var e=this._data;return this._milliseconds=gr(this._milliseconds),this._days=gr(this._days),this._months=gr(this._months),e.milliseconds=gr(e.milliseconds),e.seconds=gr(e.seconds),e.minutes=gr(e.minutes),e.hours=gr(e.hours),e.months=gr(e.months),e.years=gr(e.years),this}function xi(e,t,i,n){var a=Ke(t,i);return e._milliseconds+=n*a._milliseconds,e._days+=n*a._days,e._months+=n*a._months,e._bubble()}function Ei(e,t){return xi(this,e,t,1)}function wi(e,t){return xi(this,e,t,-1)}function Oi(e){return 0>e?Math.floor(e):Math.ceil(e)}function Ii(){var e,t,i,n,a,r=this._milliseconds,s=this._days,o=this._months,l=this._data;return r>=0&&s>=0&&o>=0||0>=r&&0>=s&&0>=o||(r+=864e5*Oi(Ni(o)+s),s=0,o=0),l.milliseconds=r%1e3,e=g(r/1e3),l.seconds=e%60,t=g(e/60),l.minutes=t%60,i=g(t/60),l.hours=i%24,s+=g(i/24),a=g(Ri(s)),o+=a,s-=Oi(Ni(a)),n=g(o/12),o%=12,l.days=s,l.months=o,l.years=n,this}function Ri(e){return 4800*e/146097}function Ni(e){return 146097*e/4800}function ki(e){var t,i,n=this._milliseconds;if(e=D(e),"month"===e||"year"===e)return t=this._days+n/864e5,i=this._months+Ri(t),"month"===e?i:i/12;switch(t=this._days+Math.round(Ni(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function Hi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)}function Pi(e){return function(){return this.as(e)}}function Fi(e){return e=D(e),this[e+"s"]()}function Yi(e){return function(){return this._data[e]}}function ji(){return g(this.days()/7)}function Bi(e,t,i,n,a){return a.relativeTime(t||1,!!i,e,n)}function Vi(e,t,i){var n=Ke(e).abs(),a=Ir(n.as("s")),r=Ir(n.as("m")),s=Ir(n.as("h")),o=Ir(n.as("d")),l=Ir(n.as("M")),d=Ir(n.as("y")),c=a<Rr.s&&["s",a]||1>=r&&["m"]||r<Rr.m&&["mm",r]||1>=s&&["h"]||s<Rr.h&&["hh",s]||1>=o&&["d"]||o<Rr.d&&["dd",o]||1>=l&&["M"]||l<Rr.M&&["MM",l]||1>=d&&["y"]||["yy",d];return c[2]=t,c[3]=+e>0,c[4]=i,Bi.apply(null,c)}function Ui(e,t){return void 0===Rr[e]?!1:void 0===t?Rr[e]:(Rr[e]=t,!0)}function Gi(e){var t=this.localeData(),i=Vi(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)}function zi(){var e,t,i,n=Nr(this._milliseconds)/1e3,a=Nr(this._days),r=Nr(this._months);e=g(n/60),t=g(e/60),n%=60,e%=60,i=g(r/12),r%=12;var s=i,o=r,l=a,d=t,c=e,u=n,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(s?s+"Y":"")+(o?o+"M":"")+(l?l+"D":"")+(d||c||u?"T":"")+(d?d+"H":"")+(c?c+"M":"")+(u?u+"S":""):"P0D"}function Wi(e,t){var i=e.split("_");return t%10===1&&t%100!==11?i[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?i[1]:i[2]}function qi(e,t,i){var n={mm:t?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:t?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"};return"m"===i?t?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===i?t?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":e+" "+Wi(n[i],+e)}function $i(e,t,i){var n={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+Ki(n[i],e)}function Xi(e){switch(Qi(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function Qi(e){return e>9?Qi(e%10):e}function Ki(e,t){return 2===t?Ji(e):e}function Ji(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}function Zi(e,t,i){var n=e+" ";switch(i){case"m":return t?"jedna minuta":"jedne minute";case"mm":return n+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";
case"h":return t?"jedan sat":"jednog sata";case"hh":return n+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return n+=1===e?"dan":"dana";case"MM":return n+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return n+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}function en(e){return e>1&&5>e&&1!==~~(e/10)}function tn(e,t,i,n){var a=e+" ";switch(i){case"s":return t||n?"p\xe1r sekund":"p\xe1r sekundami";case"m":return t?"minuta":n?"minutu":"minutou";case"mm":return t||n?a+(en(e)?"minuty":"minut"):a+"minutami";case"h":return t?"hodina":n?"hodinu":"hodinou";case"hh":return t||n?a+(en(e)?"hodiny":"hodin"):a+"hodinami";case"d":return t||n?"den":"dnem";case"dd":return t||n?a+(en(e)?"dny":"dn\xed"):a+"dny";case"M":return t||n?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return t||n?a+(en(e)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):a+"m\u011bs\xedci";case"y":return t||n?"rok":"rokem";case"yy":return t||n?a+(en(e)?"roky":"let"):a+"lety"}}function nn(e,t,i,n){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[i][0]:a[i][1]}function an(e,t,i,n){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[i][0]:a[i][1]}function rn(e,t,i,n){var a={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[e+" minuti",e+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[e+" tunni",e+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[e+" kuu",e+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[e+" aasta",e+" aastat"]};return t?a[i][2]?a[i][2]:a[i][1]:n?a[i][0]:a[i][1]}function sn(e,t,i,n){var a="";switch(i){case"s":return n?"muutaman sekunnin":"muutama sekunti";case"m":return n?"minuutin":"minuutti";case"mm":a=n?"minuutin":"minuuttia";break;case"h":return n?"tunnin":"tunti";case"hh":a=n?"tunnin":"tuntia";break;case"d":return n?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":a=n?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return n?"kuukauden":"kuukausi";case"MM":a=n?"kuukauden":"kuukautta";break;case"y":return n?"vuoden":"vuosi";case"yy":a=n?"vuoden":"vuotta"}return a=on(e,n)+" "+a}function on(e,t){return 10>e?t?rs[e]:as[e]:e}function ln(e,t,i){var n=e+" ";switch(i){case"m":return t?"jedna minuta":"jedne minute";case"mm":return n+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return n+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return n+=1===e?"dan":"dana";case"MM":return n+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return n+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}function dn(e,t,i,n){var a=e;switch(i){case"s":return n||t?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"m":return"egy"+(n||t?" perc":" perce");case"mm":return a+(n||t?" perc":" perce");case"h":return"egy"+(n||t?" \xf3ra":" \xf3r\xe1ja");case"hh":return a+(n||t?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(n||t?" nap":" napja");case"dd":return a+(n||t?" nap":" napja");case"M":return"egy"+(n||t?" h\xf3nap":" h\xf3napja");case"MM":return a+(n||t?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(n||t?" \xe9v":" \xe9ve");case"yy":return a+(n||t?" \xe9v":" \xe9ve")}return""}function cn(e){return(e?"":"[m\xfalt] ")+"["+fs[this.day()]+"] LT[-kor]"}function un(e){return e%100===11?!0:e%10===1?!1:!0}function hn(e,t,i,n){var a=e+" ";switch(i){case"s":return t||n?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"m":return t?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return un(e)?a+(t||n?"m\xedn\xfatur":"m\xedn\xfatum"):t?a+"m\xedn\xfata":a+"m\xedn\xfatu";case"hh":return un(e)?a+(t||n?"klukkustundir":"klukkustundum"):a+"klukkustund";case"d":return t?"dagur":n?"dag":"degi";case"dd":return un(e)?t?a+"dagar":a+(n?"daga":"d\xf6gum"):t?a+"dagur":a+(n?"dag":"degi");case"M":return t?"m\xe1nu\xf0ur":n?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return un(e)?t?a+"m\xe1nu\xf0ir":a+(n?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):t?a+"m\xe1nu\xf0ur":a+(n?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return t||n?"\xe1r":"\xe1ri";case"yy":return un(e)?a+(t||n?"\xe1r":"\xe1rum"):a+(t||n?"\xe1r":"\xe1ri")}}function mn(e,t,i,n){var a={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?a[i][0]:a[i][1]}function pn(e){var t=e.substr(0,e.indexOf(" "));return gn(t)?"a "+e:"an "+e}function fn(e){var t=e.substr(0,e.indexOf(" "));return gn(t)?"viru "+e:"virun "+e}function gn(e){if(e=parseInt(e,10),isNaN(e))return!1;if(0>e)return!0;if(10>e)return e>=4&&7>=e?!0:!1;if(100>e){var t=e%10,i=e/10;return gn(0===t?i:t)}if(1e4>e){for(;e>=10;)e/=10;return gn(e)}return e/=1e3,gn(e)}function _n(e,t,i,n){return t?"kelios sekund\u0117s":n?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"}function vn(e,t,i,n){return t?yn(i)[0]:n?yn(i)[1]:yn(i)[2]}function bn(e){return e%10===0||e>10&&20>e}function yn(e){return _s[e].split("_")}function Tn(e,t,i,n){var a=e+" ";return 1===e?a+vn(e,t,i[0],n):t?a+(bn(e)?yn(i)[1]:yn(i)[0]):n?a+yn(i)[1]:a+(bn(e)?yn(i)[1]:yn(i)[2])}function An(e,t,i){return i?t%10===1&&11!==t?e[2]:e[3]:t%10===1&&11!==t?e[0]:e[1]}function Mn(e,t,i){return e+" "+An(vs[i],e,t)}function Sn(e,t,i){return An(vs[i],e,t)}function Ln(e,t){return t?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"}function Cn(e,t,i,n){var a="";if(t)switch(i){case"s":a="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"m":a="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":a="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":a="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":a="%d \u0924\u093e\u0938";break;case"d":a="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":a="%d \u0926\u093f\u0935\u0938";break;case"M":a="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":a="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":a="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":a="%d \u0935\u0930\u094d\u0937\u0947"}else switch(i){case"s":a="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":a="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":a="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":a="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":a="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":a="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":a="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":a="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":a="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":a="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":a="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return a.replace(/%d/i,e)}function Dn(e){return 5>e%10&&e%10>1&&~~(e/10)%10!==1}function xn(e,t,i){var n=e+" ";switch(i){case"m":return t?"minuta":"minut\u0119";case"mm":return n+(Dn(e)?"minuty":"minut");case"h":return t?"godzina":"godzin\u0119";case"hh":return n+(Dn(e)?"godziny":"godzin");case"MM":return n+(Dn(e)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return n+(Dn(e)?"lata":"lat")}}function En(e,t,i){var n={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},a=" ";return(e%100>=20||e>=100&&e%100===0)&&(a=" de "),e+a+n[i]}function wn(e,t){var i=e.split("_");return t%10===1&&t%100!==11?i[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?i[1]:i[2]}function On(e,t,i){var n={mm:t?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"};return"m"===i?t?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":e+" "+wn(n[i],+e)}function In(e){return e>1&&5>e}function Rn(e,t,i,n){var a=e+" ";switch(i){case"s":return t||n?"p\xe1r sek\xfand":"p\xe1r sekundami";case"m":return t?"min\xfata":n?"min\xfatu":"min\xfatou";case"mm":return t||n?a+(In(e)?"min\xfaty":"min\xfat"):a+"min\xfatami";case"h":return t?"hodina":n?"hodinu":"hodinou";case"hh":return t||n?a+(In(e)?"hodiny":"hod\xedn"):a+"hodinami";case"d":return t||n?"de\u0148":"d\u0148om";case"dd":return t||n?a+(In(e)?"dni":"dn\xed"):a+"d\u0148ami";case"M":return t||n?"mesiac":"mesiacom";case"MM":return t||n?a+(In(e)?"mesiace":"mesiacov"):a+"mesiacmi";case"y":return t||n?"rok":"rokom";case"yy":return t||n?a+(In(e)?"roky":"rokov"):a+"rokmi"}}function Nn(e,t,i,n){var a=e+" ";switch(i){case"s":return t||n?"nekaj sekund":"nekaj sekundami";case"m":return t?"ena minuta":"eno minuto";case"mm":return a+=1===e?t?"minuta":"minuto":2===e?t||n?"minuti":"minutama":5>e?t||n?"minute":"minutami":t||n?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return a+=1===e?t?"ura":"uro":2===e?t||n?"uri":"urama":5>e?t||n?"ure":"urami":t||n?"ur":"urami";case"d":return t||n?"en dan":"enim dnem";case"dd":return a+=1===e?t||n?"dan":"dnem":2===e?t||n?"dni":"dnevoma":t||n?"dni":"dnevi";case"M":return t||n?"en mesec":"enim mesecem";case"MM":return a+=1===e?t||n?"mesec":"mesecem":2===e?t||n?"meseca":"mesecema":5>e?t||n?"mesece":"meseci":t||n?"mesecev":"meseci";case"y":return t||n?"eno leto":"enim letom";case"yy":return a+=1===e?t||n?"leto":"letom":2===e?t||n?"leti":"letoma":5>e?t||n?"leta":"leti":t||n?"let":"leti"}}function kn(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"}function Hn(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu\u2019":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"}function Pn(e,t,i,n){var a=Fn(e);switch(i){case"mm":return a+" tup";case"hh":return a+" rep";case"dd":return a+" jaj";case"MM":return a+" jar";case"yy":return a+" DIS"}}function Fn(e){var t=Math.floor(e%1e3/100),i=Math.floor(e%100/10),n=e%10,a="";return t>0&&(a+=Ps[t]+"vatlh"),i>0&&(a+=(""!==a?" ":"")+Ps[i]+"maH"),n>0&&(a+=(""!==a?" ":"")+Ps[n]),""===a?"pagh":a}function Yn(e,t,i,n){var a={s:["viensas secunds","'iensas secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[e+" m\xeduts",""+e+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[e+" \xfeoras",""+e+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",""+e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",""+e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",""+e+" ars"]};return n?a[i][0]:t?a[i][0]:a[i][1]}function jn(e,t){var i=e.split("_");return t%10===1&&t%100!==11?i[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?i[1]:i[2]}function Bn(e,t,i){var n={mm:t?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:t?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"};return"m"===i?t?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===i?t?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":e+" "+jn(n[i],+e)}function Vn(e,t){var i={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")},n=/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(t)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(t)?"genitive":"nominative";return i[n][e.day()]}function Un(e){return function(){return e+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}var Gn,zn,Wn=e.momentProperties=[],qn=!1,$n={},Xn={},Qn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Kn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Jn={},Zn={},ea=/\d/,ta=/\d\d/,ia=/\d{3}/,na=/\d{4}/,aa=/[+-]?\d{6}/,ra=/\d\d?/,sa=/\d\d\d\d?/,oa=/\d\d\d\d\d\d?/,la=/\d{1,3}/,da=/\d{1,4}/,ca=/[+-]?\d{1,6}/,ua=/\d+/,ha=/[+-]?\d+/,ma=/Z|[+-]\d\d:?\d\d/gi,pa=/Z|[+-]\d\d(?::?\d\d)?/gi,fa=/[+-]?\d+(\.\d{1,3})?/,ga=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,_a={},va={},ba=0,ya=1,Ta=2,Aa=3,Ma=4,Sa=5,La=6,Ca=7,Da=8;k("M",["MM",2],"Mo",function(){return this.month()+1}),k("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),k("MMMM",0,0,function(e){return this.localeData().months(this,e)}),C("month","M"),j("M",ra),j("MM",ra,ta),j("MMM",function(e,t){return t.monthsShortRegex(e)}),j("MMMM",function(e,t){return t.monthsRegex(e)}),G(["M","MM"],function(e,t){t[ya]=_(e)-1}),G(["MMM","MMMM"],function(e,t,i,n){var a=i._locale.monthsParse(e,n,i._strict);null!=a?t[ya]=a:d(i).invalidMonth=e});var xa=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Ea="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),wa="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Oa=ga,Ia=ga,Ra={};e.suppressDeprecationWarnings=!1;var Na=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ka=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ha=/Z|[+-]\d\d(?::?\d\d)?/,Pa=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Fa=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ya=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=re("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),k("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),k(0,["YY",2],0,function(){return this.year()%100}),k(0,["YYYY",4],0,"year"),k(0,["YYYYY",5],0,"year"),k(0,["YYYYYY",6,!0],0,"year"),C("year","y"),j("Y",ha),j("YY",ra,ta),j("YYYY",da,na),j("YYYYY",ca,aa),j("YYYYYY",ca,aa),G(["YYYYY","YYYYYY"],ba),G("YYYY",function(t,i){i[ba]=2===t.length?e.parseTwoDigitYear(t):_(t)}),G("YY",function(t,i){i[ba]=e.parseTwoDigitYear(t)}),G("Y",function(e,t){t[ba]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return _(e)+(_(e)>68?1900:2e3)};var ja=w("FullYear",!1);e.ISO_8601=function(){};var Ba=re("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=we.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:u()}),Va=re("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=we.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:u()}),Ua=function(){return Date.now?Date.now():+new Date};He("Z",":"),He("ZZ",""),j("Z",pa),j("ZZ",pa),G(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=Pe(pa,e)});var Ga=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var za=/(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Wa=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ke.fn=Ne.prototype;var qa=tt(1,"add"),$a=tt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Xa=re("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});k(0,["gg",2],0,function(){return this.weekYear()%100}),k(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Nt("gggg","weekYear"),Nt("ggggg","weekYear"),Nt("GGGG","isoWeekYear"),Nt("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),j("G",ha),j("g",ha),j("GG",ra,ta),j("gg",ra,ta),j("GGGG",da,na),j("gggg",da,na),j("GGGGG",ca,aa),j("ggggg",ca,aa),z(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=_(e)}),z(["gg","GG"],function(t,i,n,a){i[a]=e.parseTwoDigitYear(t)}),k("Q",0,"Qo","quarter"),C("quarter","Q"),j("Q",ea),G("Q",function(e,t){t[ya]=3*(_(e)-1)}),k("w",["ww",2],"wo","week"),k("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),j("w",ra),j("ww",ra,ta),j("W",ra),j("WW",ra,ta),z(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=_(e)});var Qa={dow:0,doy:6};k("D",["DD",2],"Do","date"),C("date","D"),j("D",ra),j("DD",ra,ta),j("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),G(["D","DD"],Ta),G("Do",function(e,t){t[Ta]=_(e.match(ra)[0],10)});var Ka=w("Date",!0);k("d",0,"do","day"),k("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),k("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),k("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),k("e",0,0,"weekday"),k("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),j("d",ra),j("e",ra),j("E",ra),j("dd",ga),j("ddd",ga),j("dddd",ga),z(["dd","ddd","dddd"],function(e,t,i,n){var a=i._locale.weekdaysParse(e,n,i._strict);null!=a?t.d=a:d(i).invalidWeekday=e}),z(["d","e","E"],function(e,t,i,n){t[n]=_(e)});var Ja="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Za="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),er="Su_Mo_Tu_We_Th_Fr_Sa".split("_");k("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),j("DDD",la),j("DDDD",ia),G(["DDD","DDDD"],function(e,t,i){i._dayOfYear=_(e)}),k("H",["HH",2],0,"hour"),k("h",["hh",2],0,ii),k("hmm",0,0,function(){return""+ii.apply(this)+N(this.minutes(),2)}),k("hmmss",0,0,function(){return""+ii.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)}),k("Hmm",0,0,function(){return""+this.hours()+N(this.minutes(),2)}),k("Hmmss",0,0,function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)}),ni("a",!0),ni("A",!1),C("hour","h"),j("a",ai),j("A",ai),j("H",ra),j("h",ra),j("HH",ra,ta),j("hh",ra,ta),j("hmm",sa),j("hmmss",oa),j("Hmm",sa),j("Hmmss",oa),G(["H","HH"],Aa),G(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),G(["h","hh"],function(e,t,i){t[Aa]=_(e),d(i).bigHour=!0}),G("hmm",function(e,t,i){var n=e.length-2;t[Aa]=_(e.substr(0,n)),t[Ma]=_(e.substr(n)),d(i).bigHour=!0}),G("hmmss",function(e,t,i){var n=e.length-4,a=e.length-2;t[Aa]=_(e.substr(0,n)),t[Ma]=_(e.substr(n,2)),t[Sa]=_(e.substr(a)),d(i).bigHour=!0}),G("Hmm",function(e,t,i){var n=e.length-2;t[Aa]=_(e.substr(0,n)),t[Ma]=_(e.substr(n))}),G("Hmmss",function(e,t,i){var n=e.length-4,a=e.length-2;t[Aa]=_(e.substr(0,n)),t[Ma]=_(e.substr(n,2)),t[Sa]=_(e.substr(a))});var tr=/[ap]\.?m?\.?/i,ir=w("Hours",!0);k("m",["mm",2],0,"minute"),C("minute","m"),j("m",ra),j("mm",ra,ta),G(["m","mm"],Ma);var nr=w("Minutes",!1);k("s",["ss",2],0,"second"),C("second","s"),j("s",ra),j("ss",ra,ta),G(["s","ss"],Sa);var ar=w("Seconds",!1);k("S",0,0,function(){return~~(this.millisecond()/100)}),k(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),k(0,["SSS",3],0,"millisecond"),k(0,["SSSS",4],0,function(){return 10*this.millisecond()}),k(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),k(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),k(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),k(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),k(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),C("millisecond","ms"),j("S",la,ea),j("SS",la,ta),j("SSS",la,ia);var rr;for(rr="SSSS";rr.length<=9;rr+="S")j(rr,ua);for(rr="S";rr.length<=9;rr+="S")G(rr,oi);var sr=w("Milliseconds",!1);k("z",0,0,"zoneAbbr"),k("zz",0,0,"zoneName");var or=p.prototype;or.add=qa,or.calendar=nt,or.clone=at,or.diff=ut,or.endOf=Mt,or.format=ft,or.from=gt,or.fromNow=_t,or.to=vt,or.toNow=bt,or.get=R,or.invalidAt=It,or.isAfter=rt,or.isBefore=st,or.isBetween=ot,or.isSame=lt,or.isSameOrAfter=dt,or.isSameOrBefore=ct,or.isValid=wt,or.lang=Xa,or.locale=yt,or.localeData=Tt,or.max=Va,or.min=Ba,or.parsingFlags=Ot,or.set=R,or.startOf=At,or.subtract=$a,or.toArray=Dt,or.toObject=xt,or.toDate=Ct,or.toISOString=pt,or.toJSON=Et,or.toString=mt,or.unix=Lt,or.valueOf=St,or.creationData=Rt,or.year=ja,or.isLeapYear=me,or.weekYear=kt,or.isoWeekYear=Ht,or.quarter=or.quarters=Bt,or.month=J,or.daysInMonth=Z,or.week=or.weeks=zt,or.isoWeek=or.isoWeeks=Wt,or.weeksInYear=Ft,or.isoWeeksInYear=Pt,or.date=Ka,or.day=or.days=Jt,or.weekday=Zt,or.isoWeekday=ei,or.dayOfYear=ti,or.hour=or.hours=ir,or.minute=or.minutes=nr,or.second=or.seconds=ar,or.millisecond=or.milliseconds=sr,or.utcOffset=je,or.utc=Ve,or.local=Ue,or.parseZone=Ge,or.hasAlignedHourOffset=ze,or.isDST=We,or.isDSTShifted=qe,or.isLocal=$e,or.isUtcOffset=Xe,or.isUtc=Qe,or.isUTC=Qe,or.zoneAbbr=li,or.zoneName=di,or.dates=re("dates accessor is deprecated. Use date instead.",Ka),or.months=re("months accessor is deprecated. Use month instead",J),or.years=re("years accessor is deprecated. Use year instead",ja),or.zone=re("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Be);var lr=or,dr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},cr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},ur="Invalid date",hr="%d",mr=/\d{1,2}/,pr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},fr=b.prototype;fr._calendar=dr,fr.calendar=hi,fr._longDateFormat=cr,fr.longDateFormat=mi,fr._invalidDate=ur,fr.invalidDate=pi,fr._ordinal=hr,fr.ordinal=fi,fr._ordinalParse=mr,fr.preparse=gi,fr.postformat=gi,fr._relativeTime=pr,fr.relativeTime=_i,fr.pastFuture=vi,fr.set=bi,fr.months=$,fr._months=Ea,fr.monthsShort=X,fr._monthsShort=wa,fr.monthsParse=Q,fr._monthsRegex=Ia,fr.monthsRegex=te,fr._monthsShortRegex=Oa,fr.monthsShortRegex=ee,fr.week=Vt,fr._week=Qa,fr.firstDayOfYear=Gt,fr.firstDayOfWeek=Ut,fr.weekdays=$t,fr._weekdays=Ja,fr.weekdaysMin=Qt,fr._weekdaysMin=er,fr.weekdaysShort=Xt,fr._weekdaysShort=Za,fr.weekdaysParse=Kt,fr.isPM=ri,fr._meridiemParse=tr,fr.meridiem=si,M("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),e.lang=re("moment.lang is deprecated. Use moment.locale instead.",M),e.langData=re("moment.langData is deprecated. Use moment.localeData instead.",L);var gr=Math.abs,_r=Pi("ms"),vr=Pi("s"),br=Pi("m"),yr=Pi("h"),Tr=Pi("d"),Ar=Pi("w"),Mr=Pi("M"),Sr=Pi("y"),Lr=Yi("milliseconds"),Cr=Yi("seconds"),Dr=Yi("minutes"),xr=Yi("hours"),Er=Yi("days"),wr=Yi("months"),Or=Yi("years"),Ir=Math.round,Rr={s:45,m:45,h:22,d:26,M:11},Nr=Math.abs,kr=Ne.prototype;kr.abs=Di,kr.add=Ei,kr.subtract=wi,kr.as=ki,kr.asMilliseconds=_r,kr.asSeconds=vr,kr.asMinutes=br,kr.asHours=yr,kr.asDays=Tr,kr.asWeeks=Ar,kr.asMonths=Mr,kr.asYears=Sr,kr.valueOf=Hi,kr._bubble=Ii,kr.get=Fi,kr.milliseconds=Lr,kr.seconds=Cr,kr.minutes=Dr,kr.hours=xr,kr.days=Er,kr.weeks=ji,kr.months=wr,kr.years=Or,kr.humanize=Gi,kr.toISOString=zi,kr.toString=zi,kr.toJSON=zi,kr.locale=yt,kr.localeData=Tt,kr.toIsoString=re("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",zi),kr.lang=Xa,k("X",0,0,"unix"),k("x",0,0,"valueOf"),j("x",ha),j("X",fa),G("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),G("x",function(e,t,i){i._d=new Date(_(e))}),e.version="2.11.1",t(we),e.fn=lr,e.min=Ie,e.max=Re,e.now=Ua,e.utc=o,e.unix=ci,e.months=Ai,e.isDate=n,e.locale=M,e.invalid=u,e.duration=Ke,e.isMoment=f,e.weekdays=Si,e.parseZone=ui,e.localeData=L,e.isDuration=ke,e.monthsShort=Mi,e.weekdaysMin=Ci,e.defineLocale=S,e.weekdaysShort=Li,e.normalizeUnits=D,e.relativeTimeThreshold=Ui,e.prototype=lr;var Hr=e,Pr=(Hr.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,i){return 12>e?i?"vm":"VM":i?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}}),Hr.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:6,doy:12}}),{1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"}),Fr={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},Yr=(Hr.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,t,i){return 12>e?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",
lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return Fr[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Pr[e]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}}),Hr.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}}),{1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"}),jr={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},Br=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&10>=e%100?3:e%100>=11?4:5},Vr={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},Ur=function(e){return function(t,i,n,a){var r=Br(t),s=Vr[e][Br(t)];return 2===r&&(s=s[i?0:1]),s.replace(/%d/i,t)}},Gr=["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a \u064a\u0646\u0627\u064a\u0631","\u0634\u0628\u0627\u0637 \u0641\u0628\u0631\u0627\u064a\u0631","\u0622\u0630\u0627\u0631 \u0645\u0627\u0631\u0633","\u0646\u064a\u0633\u0627\u0646 \u0623\u0628\u0631\u064a\u0644","\u0623\u064a\u0627\u0631 \u0645\u0627\u064a\u0648","\u062d\u0632\u064a\u0631\u0627\u0646 \u064a\u0648\u0646\u064a\u0648","\u062a\u0645\u0648\u0632 \u064a\u0648\u0644\u064a\u0648","\u0622\u0628 \u0623\u063a\u0633\u0637\u0633","\u0623\u064a\u0644\u0648\u0644 \u0633\u0628\u062a\u0645\u0628\u0631","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u0623\u0648\u0644 \u0623\u0643\u062a\u0648\u0628\u0631","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a \u0646\u0648\u0641\u0645\u0628\u0631","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644 \u062f\u064a\u0633\u0645\u0628\u0631"],zr=(Hr.defineLocale("ar",{months:Gr,monthsShort:Gr,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,t,i){return 12>e?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:Ur("s"),m:Ur("m"),mm:Ur("m"),h:Ur("h"),hh:Ur("h"),d:Ur("d"),dd:Ur("d"),M:Ur("M"),MM:Ur("M"),y:Ur("y"),yy:Ur("y")},preparse:function(e){return e.replace(/\u200f/g,"").replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return jr[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Yr[e]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}}),{1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"}),Wr=(Hr.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"birne\xe7\u0259 saniyy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(e){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(e)},meridiem:function(e,t,i){return 4>e?"gec\u0259":12>e?"s\u0259h\u0259r":17>e?"g\xfcnd\xfcz":"ax\u015fam"},ordinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(e){if(0===e)return e+"-\u0131nc\u0131";var t=e%10,i=e%100-t,n=e>=100?100:null;return e+(zr[t]||zr[i]||zr[n])},week:{dow:1,doy:7}}),Hr.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:qi,mm:qi,h:qi,hh:qi,d:"\u0434\u0437\u0435\u043d\u044c",dd:qi,M:"\u043c\u0435\u0441\u044f\u0446",MM:qi,y:"\u0433\u043e\u0434",yy:qi},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(e)},meridiem:function(e,t,i){return 4>e?"\u043d\u043e\u0447\u044b":12>e?"\u0440\u0430\u043d\u0456\u0446\u044b":17>e?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},ordinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!==2&&e%10!==3||e%100===12||e%100===13?e+"-\u044b":e+"-\u0456";case"D":return e+"-\u0433\u0430";default:return e}},week:{dow:1,doy:7}}),Hr.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0412 \u0438\u0437\u043c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u0412 \u0438\u0437\u043c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u043d\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},ordinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(e){var t=e%10,i=e%100;return 0===e?e+"-\u0435\u0432":0===i?e+"-\u0435\u043d":i>10&&20>i?e+"-\u0442\u0438":1===t?e+"-\u0432\u0438":2===t?e+"-\u0440\u0438":7===t||8===t?e+"-\u043c\u0438":e+"-\u0442\u0438"},week:{dow:1,doy:7}}),{1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"}),qr={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"},$r=(Hr.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09c0_\u09ab\u09c7\u09ac\u09c1\u09df\u09be\u09b0\u09c0_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0985\u0997\u09be\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09b0_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2_\u0985\u0997_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09cd\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09cd\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac_\u09b8\u09ae_\u09ae\u0999\u09cd\u0997_\u09ac\u09c1_\u09ac\u09cd\u09b0\u09bf\u09b9_\u09b6\u09c1_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(e){return e.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(e){return qr[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Wr[e]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,isPM:function(e){return/^(\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4)$/.test(e)},meridiem:function(e,t,i){return 4>e?"\u09b0\u09be\u09a4":10>e?"\u09b8\u0995\u09be\u09b2":17>e?"\u09a6\u09c1\u09aa\u09c1\u09b0":20>e?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}}),{1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"}),Xr={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"},Qr=(Hr.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(e){return e.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(e){return Xr[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return $r[e]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,isPM:function(e){return/^(\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c)$/.test(e)},meridiem:function(e,t,i){return 4>e?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":10>e?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":17>e?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":20>e?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}}),Hr.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno\xf9",m:"ur vunutenn",mm:$i,h:"un eur",hh:"%d eur",d:"un devezh",dd:$i,M:"ur miz",MM:$i,y:"ur bloaz",yy:Xi},ordinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(e){var t=1===e?"a\xf1":"vet";return e+t},week:{dow:1,doy:4}}),Hr.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:Zi,mm:Zi,h:Zi,hh:Zi,d:"dan",dd:Zi,M:"mjesec",MM:Zi,y:"godinu",yy:Zi},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),Hr.defineLocale("ca",{months:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(e,t){var i=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"\xe8";return("w"===t||"W"===t)&&(i="a"),e+i},week:{dow:1,doy:4}}),"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_")),Kr="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),Jr=(Hr.defineLocale("cs",{months:Qr,monthsShort:Kr,monthsParse:function(e,t){var i,n=[];for(i=0;12>i;i++)n[i]=new RegExp("^"+e[i]+"$|^"+t[i]+"$","i");return n}(Qr,Kr),shortMonthsParse:function(e){var t,i=[];for(t=0;12>t;t++)i[t]=new RegExp("^"+e[t]+"$","i");return i}(Kr),longMonthsParse:function(e){var t,i=[];for(t=0;12>t;t++)i[t]=new RegExp("^"+e[t]+"$","i");return i}(Qr),weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:tn,m:tn,mm:tn,h:tn,hh:tn,d:tn,dd:tn,M:tn,MM:tn,y:tn,yy:tn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Hr.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",
LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(e){var t=/\u0441\u0435\u0445\u0435\u0442$/i.exec(e)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(e)?"\u0442\u0430\u043d":"\u0440\u0430\u043d";return e+t},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},ordinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}}),Hr.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,i="",n=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?i=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(i=n[t]),e+i},week:{dow:1,doy:4}}),Hr.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY HH:mm"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I g\xe5r kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Hr.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:nn,mm:"%d Minuten",h:nn,hh:"%d Stunden",d:nn,dd:nn,M:nn,MM:nn,y:nn,yy:nn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Hr.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:an,mm:"%d Minuten",h:an,hh:"%d Stunden",d:an,dd:an,M:an,MM:an,y:an,yy:an},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"]),Zr=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"],es=(Hr.defineLocale("dv",{months:Jr,monthsShort:Jr,weekdays:Zr,weekdaysShort:Zr,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(e){return""===e},meridiem:function(e,t,i){return 12>e?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:7,doy:12}}),Hr.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(e,t){return/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(e,t,i){return e>11?i?"\u03bc\u03bc":"\u039c\u039c":i?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(e){return"\u03bc"===(e+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT";default:return"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var i=this._calendarEl[e],n=t&&t.hours();return E(i)&&(i=i.apply(t)),i.replace("{}",n%12===1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},ordinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}}),Hr.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:1,doy:4}}),Hr.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY h:mm A",LLLL:"dddd, D MMMM, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),Hr.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:1,doy:4}}),Hr.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:1,doy:4}}),Hr.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:1,doy:4}}),Hr.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_a\u016dg_sep_okt_nov_dec".split("_"),weekdays:"Diman\u0109o_Lundo_Mardo_Merkredo_\u0134a\u016ddo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_\u0134a\u016d_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_\u0134a_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-an de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,i){return e>11?i?"p.t.m.":"P.T.M.":i?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"anta\u016d %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}}),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_")),ts="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),is=(Hr.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return/-MMM-/.test(t)?ts[e.month()]:es[e.month()]},weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),Hr.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:rn,m:rn,mm:rn,h:rn,hh:rn,d:rn,dd:"%d p\xe4eva",M:rn,MM:rn,y:rn,yy:rn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Hr.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),{1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"}),ns={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"},as=(Hr.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(e){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(e)},meridiem:function(e,t,i){return 12>e?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f\u06cc\u0646 \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(e){return e.replace(/[\u06f0-\u06f9]/g,function(e){return ns[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return is[e]}).replace(/,/g,"\u060c")},ordinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}}),"nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" ")),rs=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",as[7],as[8],as[9]],ss=(Hr.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:sn,m:sn,mm:sn,h:sn,hh:sn,d:sn,dd:sn,M:sn,MM:sn,y:sn,yy:sn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Hr.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",m:"ein minutt",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0i",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Hr.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(e){return e+(1===e?"er":"e")}}),Hr.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(e){return e+(1===e?"er":"e")},week:{dow:1,doy:4}}),Hr.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}}),"jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_")),os="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),ls=(Hr.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,t){return/-MMM-/.test(t)?os[e.month()]:ss[e.month()]},weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}}),["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"]),ds=["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],cs=["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],us=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],hs=["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],ms=(Hr.defineLocale("gd",{months:ls,monthsShort:ds,monthsParseExact:!0,weekdays:cs,weekdaysShort:us,weekdaysMin:hs,longDateFormat:{LT:"HH:mm",
LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},ordinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){var t=1===e?"d":e%10===2?"na":"mh";return e+t},week:{dow:1,doy:4}}),Hr.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xu\xf1o_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xu\xf1._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_M\xe9rcores_Xoves_Venres_S\xe1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._M\xe9r._Xov._Ven._S\xe1b.".split("_"),weekdaysMin:"Do_Lu_Ma_M\xe9_Xo_Ve_S\xe1".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return"uns segundos"===e?"nuns segundos":"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:7}}),Hr.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(e){return 2===e?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":e+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(e){return 2===e?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":e+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(e){return 2===e?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":e+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(e){return 2===e?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":e%10===0&&10!==e?e+" \u05e9\u05e0\u05d4":e+" \u05e9\u05e0\u05d9\u05dd"}}}),{1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"}),ps={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},fs=(Hr.defineLocale("hi",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return ps[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return ms[e]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0930\u093e\u0924"===t?4>e?e:e+12:"\u0938\u0941\u092c\u0939"===t?e:"\u0926\u094b\u092a\u0939\u0930"===t?e>=10?e:e+12:"\u0936\u093e\u092e"===t?e+12:void 0},meridiem:function(e,t,i){return 4>e?"\u0930\u093e\u0924":10>e?"\u0938\u0941\u092c\u0939":17>e?"\u0926\u094b\u092a\u0939\u0930":20>e?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}}),Hr.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:ln,mm:ln,h:ln,hh:ln,d:"dan",dd:ln,M:"mjesec",MM:ln,y:"godinu",yy:ln},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),"vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ")),gs=(Hr.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,i){return 12>e?i===!0?"de":"DE":i===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return cn.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return cn.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:dn,m:dn,mm:dn,h:dn,hh:dn,d:dn,dd:dn,M:dn,MM:dn,y:dn,yy:dn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),Hr.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(e){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(e)},meridiem:function(e){return 4>e?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":12>e?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":17>e?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},ordinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-\u056b\u0576":e+"-\u0580\u0564";default:return e}},week:{dow:1,doy:7}}),Hr.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,i){return 11>e?"pagi":15>e?"siang":19>e?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),Hr.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:hn,m:hn,mm:hn,h:"klukkustund",hh:hn,d:hn,dd:hn,M:hn,MM:hn,y:hn,yy:hn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Hr.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Luned\xec_Marted\xec_Mercoled\xec_Gioved\xec_Venerd\xec_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"Do_Lu_Ma_Me_Gi_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),Hr.defineLocale("ja",{months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"Ah\u6642m\u5206",LTS:"Ah\u6642m\u5206s\u79d2",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u6642m\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5Ah\u6642m\u5206 dddd"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(e){return"\u5348\u5f8c"===e},meridiem:function(e,t,i){return 12>e?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:"[\u6765\u9031]dddd LT",lastDay:"[\u6628\u65e5] LT",lastWeek:"[\u524d\u9031]dddd LT",sameElse:"L"},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}}),Hr.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,i){return 11>e?"enjing":15>e?"siyang":19>e?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),Hr.defineLocale("ka",{months:{standalone:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),format:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_")},monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10ec\u10d4\u10da\u10d8)/.test(e)?e.replace(/\u10d8$/,"\u10e8\u10d8"):e+"\u10e8\u10d8"},past:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(e)?e.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(e)?e.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):void 0},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},ordinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(e){return 0===e?e:1===e?e+"-\u10da\u10d8":20>e||100>=e&&e%20===0||e%100===0?"\u10db\u10d4-"+e:e+"-\u10d4"},week:{dow:1,doy:7}}),{0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"}),_s=(Hr.defineLocale("kk",{months:"\u049a\u0430\u04a3\u0442\u0430\u0440_\u0410\u049b\u043f\u0430\u043d_\u041d\u0430\u0443\u0440\u044b\u0437_\u0421\u04d9\u0443\u0456\u0440_\u041c\u0430\u043c\u044b\u0440_\u041c\u0430\u0443\u0441\u044b\u043c_\u0428\u0456\u043b\u0434\u0435_\u0422\u0430\u043c\u044b\u0437_\u049a\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049a\u0430\u0437\u0430\u043d_\u049a\u0430\u0440\u0430\u0448\u0430_\u0416\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049a\u0430\u04a3_\u0410\u049b\u043f_\u041d\u0430\u0443_\u0421\u04d9\u0443_\u041c\u0430\u043c_\u041c\u0430\u0443_\u0428\u0456\u043b_\u0422\u0430\u043c_\u049a\u044b\u0440_\u049a\u0430\u0437_\u049a\u0430\u0440_\u0416\u0435\u043b".split("_"),weekdays:"\u0416\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0414\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0421\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0421\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0411\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0416\u04b1\u043c\u0430_\u0421\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0421\u0435\u0439_\u0421\u04d9\u0440_\u0411\u0435\u0439_\u0416\u04b1\u043c_\u0421\u0435\u043d".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0421\u0439_\u0421\u0440_\u0411\u0439_\u0416\u043c_\u0421\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},ordinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(e){var t=e%10,i=e>=100?100:null;return e+(gs[e]||gs[t]||gs[i])},week:{dow:1,doy:7}}),Hr.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b7\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b7\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysMin:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},week:{dow:1,doy:4}}),Hr.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h\uc2dc m\ubd84",LTS:"A h\uc2dc m\ubd84 s\ucd08",L:"YYYY.MM.DD",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h\uc2dc m\ubd84",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h\uc2dc m\ubd84"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87\ucd08",ss:"%d\ucd08",m:"\uc77c\ubd84",mm:"%d\ubd84",h:"\ud55c\uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c\ub2ec",MM:"%d\ub2ec",y:"\uc77c\ub144",yy:"%d\ub144"},ordinalParse:/\d{1,2}\uc77c/,ordinal:"%d\uc77c",meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(e){return"\uc624\ud6c4"===e},meridiem:function(e,t,i){return 12>e?"\uc624\uc804":"\uc624\ud6c4"}}),Hr.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:pn,past:fn,s:"e puer Sekonnen",m:mn,mm:"%d Minutten",h:mn,hh:"%d Stonnen",d:mn,dd:"%d Deeg",M:mn,MM:"%d M\xe9int",y:mn,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,
ordinal:"%d.",week:{dow:1,doy:4}}),Hr.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(e){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===e},meridiem:function(e,t,i){return 12>e?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},ordinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(e){return"\u0e97\u0eb5\u0ec8"+e}}),{m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"}),vs=(Hr.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_")},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:_n,m:vn,mm:Tn,h:vn,hh:Tn,d:vn,dd:Tn,M:vn,MM:Tn,y:vn,yy:Tn},ordinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}}),{m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")}),bs=(Hr.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:Ln,m:Sn,mm:Mn,h:Sn,hh:Mn,d:Sn,dd:Mn,M:Sn,MM:Mn,y:Sn,yy:Mn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,t,i){var n=bs.words[i];return 1===i.length?t?n[0]:n[1]:e+" "+bs.correctGrammaticalCase(e,n)}}),ys=(Hr.defineLocale("me",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedjelja","ponedjeljak","utorak","srijeda","\u010detvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sri.","\u010det.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","\u010de","pe","su"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){var e=["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:bs.translate,mm:bs.translate,h:bs.translate,hh:bs.translate,d:"dan",dd:bs.translate,M:"mjesec",MM:bs.translate,y:"godinu",yy:bs.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),Hr.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u043e\u0441\u043b\u0435 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},ordinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(e){var t=e%10,i=e%100;return 0===e?e+"-\u0435\u0432":0===i?e+"-\u0435\u043d":i>10&&20>i?e+"-\u0442\u0438":1===t?e+"-\u0432\u0438":2===t?e+"-\u0440\u0438":7===t||8===t?e+"-\u043c\u0438":e+"-\u0442\u0438"},week:{dow:1,doy:7}}),Hr.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,isPM:function(e){return/^(\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f)$/.test(e)},meridiem:function(e,t,i){return 4>e?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":12>e?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":17>e?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":20>e?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}}),{1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"}),Ts={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},As=(Hr.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:Cn,m:Cn,mm:Cn,h:Cn,hh:Cn,d:Cn,dd:Cn,M:Cn,MM:Cn,y:Cn,yy:Cn},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return Ts[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return ys[e]})},meridiemParse:/\u0930\u093e\u0924\u094d\u0930\u0940|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0930\u093e\u0924\u094d\u0930\u0940"===t?4>e?e:e+12:"\u0938\u0915\u093e\u0933\u0940"===t?e:"\u0926\u0941\u092a\u093e\u0930\u0940"===t?e>=10?e:e+12:"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===t?e+12:void 0},meridiem:function(e,t,i){return 4>e?"\u0930\u093e\u0924\u094d\u0930\u0940":10>e?"\u0938\u0915\u093e\u0933\u0940":17>e?"\u0926\u0941\u092a\u093e\u0930\u0940":20>e?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}}),Hr.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,i){return 11>e?"pagi":15>e?"tengahari":19>e?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),Hr.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,i){return 11>e?"pagi":15>e?"tengahari":19>e?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),{1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"}),Ms={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"},Ss=(Hr.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(e){return e.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(e){return Ms[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return As[e]})},week:{dow:1,doy:4}}),Hr.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"}),Ls={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},Cs=(Hr.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return Ls[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Ss[e]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0930\u093e\u0924\u093f"===t?4>e?e:e+12:"\u092c\u093f\u0939\u093e\u0928"===t?e:"\u0926\u093f\u0909\u0901\u0938\u094b"===t?e>=10?e:e+12:"\u0938\u093e\u0901\u091d"===t?e+12:void 0},meridiem:function(e,t,i){return 3>e?"\u0930\u093e\u0924\u093f":12>e?"\u092c\u093f\u0939\u093e\u0928":16>e?"\u0926\u093f\u0909\u0901\u0938\u094b":20>e?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}}),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_")),Ds="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),xs=(Hr.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,t){return/-MMM-/.test(t)?Ds[e.month()]:Cs[e.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}}),Hr.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_m\xe5n_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),"stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_")),Es="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),ws=(Hr.defineLocale("pl",{months:function(e,t){return""===t?"("+Es[e.month()]+"|"+xs[e.month()]+")":/D MMMM/.test(t)?Es[e.month()]:xs[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"nie_pon_wt_\u015br_czw_pt_sb".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:xn,mm:xn,h:xn,hh:xn,d:"1 dzie\u0144",dd:"%d dni",M:"miesi\u0105c",MM:xn,y:"rok",yy:xn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Hr.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Ter\xe7a-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Dom_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1b".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT";
},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atr\xe1s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}\xba/,ordinal:"%d\xba"}),Hr.defineLocale("pt",{months:"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Ter\xe7a-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Dom_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1b".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),Hr.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",m:"un minut",mm:En,h:"o or\u0103",hh:En,d:"o zi",dd:En,M:"o lun\u0103",MM:En,y:"un an",yy:En},week:{dow:1,doy:7}}),[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439|\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i]),Os=(Hr.defineLocale("ru",{months:{format:"\u042f\u043d\u0432\u0430\u0440\u044f_\u0424\u0435\u0432\u0440\u0430\u043b\u044f_\u041c\u0430\u0440\u0442\u0430_\u0410\u043f\u0440\u0435\u043b\u044f_\u041c\u0430\u044f_\u0418\u044e\u043d\u044f_\u0418\u044e\u043b\u044f_\u0410\u0432\u0433\u0443\u0441\u0442\u0430_\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u041e\u043a\u0442\u044f\u0431\u0440\u044f_\u041d\u043e\u044f\u0431\u0440\u044f_\u0414\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u042f\u043d\u0432\u0430\u0440\u044c_\u0424\u0435\u0432\u0440\u0430\u043b\u044c_\u041c\u0430\u0440\u0442_\u0410\u043f\u0440\u0435\u043b\u044c_\u041c\u0430\u0439_\u0418\u044e\u043d\u044c_\u0418\u044e\u043b\u044c_\u0410\u0432\u0433\u0443\u0441\u0442_\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u041e\u043a\u0442\u044f\u0431\u0440\u044c_\u041d\u043e\u044f\u0431\u0440\u044c_\u0414\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),standalone:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_")},weekdays:{standalone:"\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0412\u0442\u043e\u0440\u043d\u0438\u043a_\u0421\u0440\u0435\u0434\u0430_\u0427\u0435\u0442\u0432\u0435\u0440\u0433_\u041f\u044f\u0442\u043d\u0438\u0446\u0430_\u0421\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0412\u0442\u043e\u0440\u043d\u0438\u043a_\u0421\u0440\u0435\u0434\u0443_\u0427\u0435\u0442\u0432\u0435\u0440\u0433_\u041f\u044f\u0442\u043d\u0438\u0446\u0443_\u0421\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?\] ?dddd/},weekdaysShort:"\u0412\u0441_\u041f\u043d_\u0412\u0442_\u0421\u0440_\u0427\u0442_\u041f\u0442_\u0421\u0431".split("_"),weekdaysMin:"\u0412\u0441_\u041f\u043d_\u0412\u0442_\u0421\u0440_\u0427\u0442_\u041f\u0442_\u0421\u0431".split("_"),monthsParse:ws,longMonthsParse:ws,shortMonthsParse:ws,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430 \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd [\u0432] LT":"[\u0412] dddd [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd [\u0432] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd [\u0432] LT":"[\u0412] dddd [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",m:On,mm:On,h:"\u0447\u0430\u0441",hh:On,d:"\u0434\u0435\u043d\u044c",dd:On,M:"\u043c\u0435\u0441\u044f\u0446",MM:On,y:"\u0433\u043e\u0434",yy:On},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(e)},meridiem:function(e,t,i){return 4>e?"\u043d\u043e\u0447\u0438":12>e?"\u0443\u0442\u0440\u0430":17>e?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},ordinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-\u0439";case"D":return e+"-\u0433\u043e";case"w":case"W":return e+"-\u044f";default:return e}},week:{dow:1,doy:7}}),Hr.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Hr.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},ordinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(e){return e+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiem:function(e,t,i){return e>11?i?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":i?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}}),"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_")),Is="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),Rs=(Hr.defineLocale("sk",{months:Os,monthsShort:Is,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 4:case 5:return"[minul\xfd] dddd [o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:Rn,m:Rn,mm:Rn,h:Rn,hh:Rn,d:Rn,dd:Rn,M:Rn,MM:Rn,y:Rn,yy:Rn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Hr.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:Nn,m:Nn,mm:Nn,h:Nn,hh:Nn,d:Nn,dd:Nn,M:Nn,MM:Nn,y:Nn,yy:Nn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),Hr.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,i){return 12>e?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{words:{m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u0435 \u043c\u0438\u043d\u0443\u0442\u0435"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0435","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],yy:["\u0433\u043e\u0434\u0438\u043d\u0430","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,t,i){var n=Rs.words[i];return 1===i.length?t?n[0]:n[1]:e+" "+Rs.correctGrammaticalCase(e,n)}}),Ns=(Hr.defineLocale("sr-cyrl",{months:["\u0458\u0430\u043d\u0443\u0430\u0440","\u0444\u0435\u0431\u0440\u0443\u0430\u0440","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0458","\u0458\u0443\u043d","\u0458\u0443\u043b","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440","\u043e\u043a\u0442\u043e\u0431\u0430\u0440","\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440","\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440"],monthsShort:["\u0458\u0430\u043d.","\u0444\u0435\u0431.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u0458","\u0458\u0443\u043d","\u0458\u0443\u043b","\u0430\u0432\u0433.","\u0441\u0435\u043f.","\u043e\u043a\u0442.","\u043d\u043e\u0432.","\u0434\u0435\u0446."],weekdays:["\u043d\u0435\u0434\u0435\u0459\u0430","\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a","\u0443\u0442\u043e\u0440\u0430\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a","\u043f\u0435\u0442\u0430\u043a","\u0441\u0443\u0431\u043e\u0442\u0430"],weekdaysShort:["\u043d\u0435\u0434.","\u043f\u043e\u043d.","\u0443\u0442\u043e.","\u0441\u0440\u0435.","\u0447\u0435\u0442.","\u043f\u0435\u0442.","\u0441\u0443\u0431."],weekdaysMin:["\u043d\u0435","\u043f\u043e","\u0443\u0442","\u0441\u0440","\u0447\u0435","\u043f\u0435","\u0441\u0443"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){var e=["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:Rs.translate,mm:Rs.translate,h:Rs.translate,hh:Rs.translate,d:"\u0434\u0430\u043d",dd:Rs.translate,M:"\u043c\u0435\u0441\u0435\u0446",MM:Rs.translate,y:"\u0433\u043e\u0434\u0438\u043d\u0443",yy:Rs.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),{words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,t,i){var n=Ns.words[i];return 1===i.length?t?n[0]:n[1]:e+" "+Ns.correctGrammaticalCase(e,n)}}),ks=(Hr.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","\u010detvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","\u010det.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","\u010de","pe","su"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){var e=["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:Ns.translate,mm:Ns.translate,h:Ns.translate,hh:Ns.translate,d:"dan",dd:Ns.translate,M:"mesec",MM:Ns.translate,y:"godinu",yy:Ns.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),Hr.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"e":1===t?"a":2===t?"a":"e";return e+i},week:{dow:1,doy:4}}),Hr.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}}),{1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"}),Hs={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"},Ps=(Hr.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},ordinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(e){return e+"\u0bb5\u0ba4\u0bc1"},preparse:function(e){return e.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(e){return Hs[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return ks[e]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(e,t,i){return 2>e?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":6>e?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":10>e?" \u0b95\u0bbe\u0bb2\u0bc8":14>e?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":18>e?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":22>e?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(e,t){return 12===e&&(e=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===t?2>e?e:e+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===t||"\u0b95\u0bbe\u0bb2\u0bc8"===t?e:"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===t&&e>=10?e:e+12},week:{dow:0,doy:6}}),Hr.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c42\u0c32\u0c46\u0c56_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c42\u0c32\u0c46\u0c56_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},ordinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===t?4>e?e:e+12:"\u0c09\u0c26\u0c2f\u0c02"===t?e:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===t?e>=10?e:e+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===t?e+12:void 0},meridiem:function(e,t,i){return 4>e?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":10>e?"\u0c09\u0c26\u0c2f\u0c02":17>e?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":20>e?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}}),Hr.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21\u0e01\u0e23\u0e32_\u0e01\u0e38\u0e21\u0e20\u0e32_\u0e21\u0e35\u0e19\u0e32_\u0e40\u0e21\u0e29\u0e32_\u0e1e\u0e24\u0e29\u0e20\u0e32_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32_\u0e01\u0e23\u0e01\u0e0e\u0e32_\u0e2a\u0e34\u0e07\u0e2b\u0e32_\u0e01\u0e31\u0e19\u0e22\u0e32_\u0e15\u0e38\u0e25\u0e32_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32_\u0e18\u0e31\u0e19\u0e27\u0e32".split("_"),weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),
weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),longDateFormat:{LT:"H \u0e19\u0e32\u0e2c\u0e34\u0e01\u0e32 m \u0e19\u0e32\u0e17\u0e35",LTS:"H \u0e19\u0e32\u0e2c\u0e34\u0e01\u0e32 m \u0e19\u0e32\u0e17\u0e35 s \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H \u0e19\u0e32\u0e2c\u0e34\u0e01\u0e32 m \u0e19\u0e32\u0e17\u0e35",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H \u0e19\u0e32\u0e2c\u0e34\u0e01\u0e32 m \u0e19\u0e32\u0e17\u0e35"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(e){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===e},meridiem:function(e,t,i){return 12>e?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}}),Hr.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),"pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_")),Fs=(Hr.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:kn,past:Hn,s:"puS lup",m:"wa\u2019 tup",mm:Pn,h:"wa\u2019 rep",hh:Pn,d:"wa\u2019 jaj",dd:Pn,M:"wa\u2019 jar",MM:Pn,y:"wa\u2019 DIS",yy:Pn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"}),Ys=(Hr.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinalParse:/\d{1,2}'(inci|nci|\xfcnc\xfc|nc\u0131|uncu|\u0131nc\u0131)/,ordinal:function(e){if(0===e)return e+"'\u0131nc\u0131";var t=e%10,i=e%100-t,n=e>=100?100:null;return e+(Fs[t]||Fs[i]||Fs[n])},week:{dow:1,doy:7}}),Hr.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiem:function(e,t,i){return e>11?i?"d'o":"D'O":i?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:Yn,m:Yn,mm:Yn,h:Yn,hh:Yn,d:Yn,dd:Yn,M:Yn,MM:Yn,y:Yn,yy:Yn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Hr.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),Hr.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}}),Hr.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:Vn,weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:Un("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:Un("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:Un("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:Un("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return Un("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return Un("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",m:Bn,mm:Bn,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:Bn,d:"\u0434\u0435\u043d\u044c",dd:Bn,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:Bn,y:"\u0440\u0456\u043a",yy:Bn},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(e)},meridiem:function(e,t,i){return 4>e?"\u043d\u043e\u0447\u0456":12>e?"\u0440\u0430\u043d\u043a\u0443":17>e?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},ordinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-\u0439";case"D":return e+"-\u0433\u043e";default:return e}},week:{dow:1,doy:7}}),Hr.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}}),Hr.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n r\u1ed3i l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),Hr.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"Ah\u70b9mm\u5206",LTS:"Ah\u70b9m\u5206s\u79d2",L:"YYYY-MM-DD",LL:"YYYY\u5e74MMMD\u65e5",LLL:"YYYY\u5e74MMMD\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74MMMD\u65e5ddddAh\u70b9mm\u5206",l:"YYYY-MM-DD",ll:"YYYY\u5e74MMMD\u65e5",lll:"YYYY\u5e74MMMD\u65e5Ah\u70b9mm\u5206",llll:"YYYY\u5e74MMMD\u65e5ddddAh\u70b9mm\u5206"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u51cc\u6668"===t||"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?e:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,i){var n=100*e+t;return 600>n?"\u51cc\u6668":900>n?"\u65e9\u4e0a":1130>n?"\u4e0a\u5348":1230>n?"\u4e2d\u5348":1800>n?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:function(){return 0===this.minutes()?"[\u4eca\u5929]Ah[\u70b9\u6574]":"[\u4eca\u5929]LT"},nextDay:function(){return 0===this.minutes()?"[\u660e\u5929]Ah[\u70b9\u6574]":"[\u660e\u5929]LT"},lastDay:function(){return 0===this.minutes()?"[\u6628\u5929]Ah[\u70b9\u6574]":"[\u6628\u5929]LT"},nextWeek:function(){var e,t;return e=Hr().startOf("week"),t=this.unix()-e.unix()>=604800?"[\u4e0b]":"[\u672c]",0===this.minutes()?t+"dddAh\u70b9\u6574":t+"dddAh\u70b9mm"},lastWeek:function(){var e,t;return e=Hr().startOf("week"),t=this.unix()<e.unix()?"[\u4e0a]":"[\u672c]",0===this.minutes()?t+"dddAh\u70b9\u6574":t+"dddAh\u70b9mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u5468";default:return e}},relativeTime:{future:"%s\u5185",past:"%s\u524d",s:"\u51e0\u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}}),Hr.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"Ah\u9edemm\u5206",LTS:"Ah\u9edem\u5206s\u79d2",L:"YYYY\u5e74MMMD\u65e5",LL:"YYYY\u5e74MMMD\u65e5",LLL:"YYYY\u5e74MMMD\u65e5Ah\u9edemm\u5206",LLLL:"YYYY\u5e74MMMD\u65e5ddddAh\u9edemm\u5206",l:"YYYY\u5e74MMMD\u65e5",ll:"YYYY\u5e74MMMD\u65e5",lll:"YYYY\u5e74MMMD\u65e5Ah\u9edemm\u5206",llll:"YYYY\u5e74MMMD\u65e5ddddAh\u9edemm\u5206"},meridiemParse:/\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?e:"\u4e2d\u5348"===t?e>=11?e:e+12:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?e+12:void 0},meridiem:function(e,t,i){var n=100*e+t;return 900>n?"\u65e9\u4e0a":1130>n?"\u4e0a\u5348":1230>n?"\u4e2d\u5348":1800>n?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u9031";default:return e}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",m:"\u4e00\u5206\u9418",mm:"%d\u5206\u9418",h:"\u4e00\u5c0f\u6642",hh:"%d\u5c0f\u6642",d:"\u4e00\u5929",dd:"%d\u5929",M:"\u4e00\u500b\u6708",MM:"%d\u500b\u6708",y:"\u4e00\u5e74",yy:"%d\u5e74"}}),Hr);return Ys.locale("en"),Ys}),define("common/util/datetime/RelativeDate",["require","underscore"],function(e){"use strict";var t=e("underscore"),i=function(e,t,i){this.setKeyword(e),this.setSign(t),this.setNumber(i)};return i.prototype.setKeyword=function(e){this.keyword=e.toUpperCase()},i.prototype.setSign=function(e){this.sign=e},i.prototype.setNumber=function(e){if(t.isNumber(e))this.number=e;else{var i=parseInt(e,10);isNaN(i)?this.number=0:this.number=i}},i.prototype.toString=function(){return t.isNumber(this.number)&&!isNaN(this.number)&&this.number>0&&("+"===this.sign||"-"===this.sign)&&this.keyword in i.PATTERNS?this.keyword+this.sign+this.number.toString():this.keyword in i.PATTERNS?this.keyword:""},i.PATTERNS={DAY:/^(DAY)(([+|\-])(\d{1,9}))?$/i,WEEK:/^(WEEK)(([+|\-])(\d{1,9}))?$/i,MONTH:/^(MONTH)(([+|\-])(\d{1,9}))?$/i,QUARTER:/^(QUARTER)(([+|\-])(\d{1,9}))?$/i,SEMI:/^(SEMI)(([+|\-])(\d{1,9}))?$/i,YEAR:/^(YEAR)(([+|\-])(\d{1,9}))?$/i},i.parse=function(e){if(i.isValid(e))for(var n in i.PATTERNS){var a=i.PATTERNS[n].exec(e);if(null!==a&&t.isArray(a)&&5===a.length)return new i(a[1],a[3],a[4])}},i.isValid=function(e){if(e instanceof i)return""!==e.toString();if(t.isString(e))for(var n in i.PATTERNS)if(i.PATTERNS[n].test(e))return!0;return!1},i}),define("common/util/datetime/RelativeTimestamp",["require","common/util/datetime/RelativeDate","underscore"],function(e){"use strict";var t=e("common/util/datetime/RelativeDate"),i=e("underscore"),n=function(){t.apply(this,arguments)},a=function(){};return a.prototype=t.prototype,n.prototype=new a,n.prototype.constructor=n,n.PATTERNS={DAY:/^(DAY)(([+|\-])(\d{1,9}))?$/i,WEEK:/^(WEEK)(([+|\-])(\d{1,9}))?$/i,MONTH:/^(MONTH)(([+|\-])(\d{1,9}))?$/i,QUARTER:/^(QUARTER)(([+|\-])(\d{1,9}))?$/i,SEMI:/^(SEMI)(([+|\-])(\d{1,9}))?$/i,YEAR:/^(YEAR)(([+|\-])(\d{1,9}))?$/i},n.parse=function(e){if(n.isValid(e))for(var t in n.PATTERNS){var a=n.PATTERNS[t].exec(e);if(null!==a&&i.isArray(a)&&5===a.length)return new n(a[1],a[3],a[4])}},n.isValid=function(e){if(e instanceof n)return""!==e.toString();if(i.isString(e))for(var t in n.PATTERNS)if(n.PATTERNS[t].test(e))return!0;return!1},n}),define("common/util/parse/date",["require","moment","settings/localeSettings","underscore","common/util/datetime/RelativeDate","common/util/datetime/RelativeTimestamp"],function(e){"use strict";function t(e){var t=e;return t=e.indexOf("yy")>-1?t.replace("yy","YYYY"):t.replace("y","YY"),e.indexOf("mm")>-1?t=t.replace("mm","MM"):e.indexOf("MM")>-1?t=t.replace("MM","MMMM"):e.indexOf("m")>-1?t=t.replace("m","M"):e.indexOf("M")>-1&&(t=t.replace("M","MMM")),e.indexOf("dd")>-1?t=t.replace("dd","DD"):e.indexOf("DD")>-1?t=t.replace("DD","dddd"):e.indexOf("d")>-1?t=t.replace("d","D"):e.indexOf("D")>-1&&(t=t.replace("D","ddd")),t}function i(e){return e.toLowerCase().replace("hh","HH")}function n(e,n,a){var r=t(e),s=i(n);return r+(null!=a?a:" ")+s}function a(e){return C(e,t(D.dateFormat),!0)}function r(e){return C(e,n(D.dateFormat,D.timeFormat,D.timestampSeparator),!0)}function s(e){return E.isValid(e)}function o(e){return w.isValid(e)}function l(e){return x.isDate(e)&&C(e).isValid()||x.isString(e)&&""!==e&&a(e).isValid()}function d(e){return x.isDate(e)&&C(e).isValid()||x.isString(e)&&""!==e&&r(e).isValid()}function c(e){return C(e,O,!0).isValid()}function u(e,t){if(l(e)&&l(t)){var i=x.isDate(e)?C(e):a(e),n=x.isDate(t)?C(t):a(t);return m(i,n)}}function h(e,t){if(d(e)&&d(t)){var i=x.isDate(e)?C(e):r(e),n=x.isDate(t)?C(t):r(t);return m(i,n)}}function m(e,t){return e.isBefore(t)?-1:e.isAfter(t)?1:0}function p(e){var t=C(e);return x.isDate(e)&&t.isValid()?t.format(O):void 0}function f(e){var t=C(e,O,!0);return t.isValid()?t.toDate():void 0}function g(e){return A(e,n(D.dateFormat,D.timeFormat,D.timestampSeparator),O)}function _(e){return A(e,O,n(D.dateFormat,D.timeFormat,D.timestampSeparator))}function v(e){return A(e,t(D.dateFormat),I)}function b(e){return A(e,I,t(D.dateFormat))}function y(e){return A(e,i(D.timeFormat),R)}function T(e){return A(e,R,i(D.timeFormat))}function A(e,t,i){if(E.isValid(e))return e;var n=C(e,t,!0);return n.isValid()?n.format(i):e}function M(e){return C(e,I,!0)}function S(e){return e.format(I)}function L(e){return e.format(t(D.dateFormat))}var C=e("moment"),D=e("settings/localeSettings").localeSettings,x=e("underscore"),E=e("common/util/datetime/RelativeDate"),w=e("common/util/datetime/RelativeTimestamp"),O="YYYY-MM-DD[T]HH:mm:ss",I="YYYY-MM-DD",R="HH:mm:ss";return{isRelativeDate:s,isRelativeTimestamp:o,isDate:l,isTimestamp:d,isIso8601Timestamp:c,compareDates:u,compareTimestamps:h,iso8601DateToMoment:M,momentToIso8601Date:S,momentToLocalizedDate:L,dateObjectToIso8601Timestamp:p,iso8601TimestampToDateObject:f,localizedTimestampToIsoTimestamp:g,isoTimestampToLocalizedTimestamp:_,localizedDateToIsoDate:v,isoDateToLocalizedDate:b,localizedTimeToIsoTime:y,isoTimeToLocalizedTime:T}}),define("common/util/datetime/RelativeTime",["require","common/util/datetime/RelativeDate","underscore"],function(e){"use strict";var t=e("common/util/datetime/RelativeDate"),i=e("underscore"),n=function(){t.apply(this,arguments)},a=function(){};return a.prototype=t.prototype,n.prototype=new a,n.prototype.constructor=n,n.PATTERNS={MINUTE:/^(MINUTE)(([+|\-])(\d{1,9}))?$/i,HOUR:/^(HOUR)(([+|\-])(\d{1,9}))?$/i},n.parse=function(e){if(n.isValid(e))for(var t in n.PATTERNS){var a=n.PATTERNS[t].exec(e);if(null!==a&&i.isArray(a)&&5===a.length)return new n(a[1],a[3],a[4])}},n.isValid=function(e){if(e instanceof n)return""!==e.toString();if(i.isString(e))for(var t in n.PATTERNS)if(n.PATTERNS[t].test(e))return!0;return!1},n}),define("common/util/datetime/Time",["require","underscore"],function(e){"use strict";function t(e){return new RegExp("^"+e.toLowerCase().replace("hh","([0-1][0-9]|2[0-3])").replace("mm","([0-5][0-9])").replace("ss","([0-5][0-9])")+"$")}function i(e){var t=e.toLowerCase().match(/(hh|mm|ss)/g),i={h:-1,m:-1,s:-1};if(t)for(var n=0;n<t.length;n++)-1==i[t[n].toString().charAt(0)]&&(i[t[n].toString().charAt(0)]=n+1);return i}function n(e,t,i){this.hours=e||0,this.minutes=t||0,this.seconds=i||0}var a=e("underscore");return n.prototype.total=function(){return 3600*this.hours+60*this.minutes+this.seconds},n.prototype.isValid=function(){return this.hours>=0&&this.hours<=23&&this.minutes>=0&&this.minutes<=59&&this.seconds>=0&&this.seconds<=59},n.prototype.format=function(e){return e.toLowerCase().replace("hh",this.hours<10?"0"+this.hours:this.hours).replace("mm",this.minutes<10?"0"+this.minutes:this.minutes).replace("ss",this.seconds<10?"0"+this.seconds:this.seconds)},n.compare=function(e,t){var i=e.total(),n=t.total();return n>i?-1:i>n?1:0},n.parse=function(e,r){var s=t(r);if(a.isString(e)&&s.test(e)){var o=new n,l=s.exec(e),d=i(r);return o.hours=parseInt(l[d.h],10),o.minutes=parseInt(l[d.m],10),o.seconds=parseInt(l[d.s],10),o}},n}),define("common/util/parse/time",["require","settings/localeSettings","underscore","common/util/datetime/RelativeTime","common/util/datetime/Time"],function(e){"use strict";function t(e){return l.isValid(e)}function i(e,t){var i=d.parse(e,null!=t?t:o.timeFormat);return"undefined"!=typeof i&&i.isValid()}function n(e){return i(e,c)}function a(e,t,i){var n=e instanceof d?e:d.parse(e,null!=i?i:o.timeFormat),a=t instanceof d?t:d.parse(t,null!=i?i:o.timeFormat);if("undefined"!=typeof n&&"undefined"!=typeof a)return d.compare(n,a)}function r(e,t,i){var n=new d(e,t,i);return n.isValid()?n.format(c):void 0}function s(e){return d.parse(e,c)}var o=e("settings/localeSettings").localeSettings,l=(e("underscore"),e("common/util/datetime/RelativeTime")),d=e("common/util/datetime/Time"),c="HH:mm:ss";return{isRelativeTime:t,isTime:i,isIso8601Time:n,compareTimes:a,timeToIso8061Time:r,iso8601TimeToTimeObject:s}}),define("adhoc/filter/validation/ValidationError",["require","bundle!AdHocFiltersBundle"],function(e){"use strict";var t=e("bundle!AdHocFiltersBundle"),i=function(e,t,n,a){this.value=e,this.messageCode=n,this.validator=a;var r=t.split(i.ATTRIBUTE_INDEX_SEPARATOR);2==r.length?(this.attribute=r[0],this.index=1*r[1]):(this.attribute=t,this.index=0)};return i.ATTRIBUTE_INDEX_SEPARATOR="__",i.prototype.getMessage=function(){return t[this.messageCode]},i.prototype.getAttr=function(){return 0===this.index?this.attribute:this.attribute+i.ATTRIBUTE_INDEX_SEPARATOR+this.index},i}),define("adhoc/filter/validation/validationMessageCodes",{REQUIRED:"ADHOC_VALIDATION_RULE_REQUIRED",INVALID_RANGE:"ADHOC_VALIDATION_RULE_INVALID_RANGE",INVALID_LIST:"ADHOC_VALIDATION_RULE_INVALID_LIST",INVALID_TRUE_ALL_LIST:"ADHOC_VALIDATION_RULE_INVALID_TRUE_ALL_LIST",INVALID_INTEGER:"ADHOC_VALIDATION_RULE_INVALID_INTEGER",INVALID_LONG:"ADHOC_VALIDATION_RULE_INVALID_LONG",INVALID_DECIMAL:"ADHOC_VALIDATION_RULE_INVALID_DECIMAL",INVALID_STRING:"ADHOC_VALIDATION_RULE_INVALID_STRING",INVALID_DATE:"ADHOC_VALIDATION_RULE_INVALID_DATE",INVALID_TIMESTAMP:"ADHOC_VALIDATION_RULE_INVALID_TIMESTAMP",INVALID_TIME:"ADHOC_VALIDATION_RULE_INVALID_TIME",INVALID_BOOLEAN:"ADHOC_VALIDATION_RULE_INVALID_BOOLEAN",NOT_NULLABLE:"ADHOC_VALIDATION_RULE_NOT_NULLABLE",NOT_BLANK:"ADHOC_VALIDATION_RULE_NOT_BLANK",START_BIGGER_THAN_END:"ADHOC_VALIDATION_RULE_START_BIGGER_THAN_END",START_DATE_LATER_THAN_FINISH:"ADHOC_VALIDATION_RULE_START_DATE_LATER_THAN_FINISH",START_TIME_LATER_THAN_FINISH:"ADHOC_VALIDATION_RULE_START_TIME_LATER_THAN_FINISH"}),define("adhoc/filter/validation/backboneValidationExtensions",["require","backbone","underscore","settings!decimalFormatSymbols","common/util/parse/NumberUtils","common/util/parse/date","common/util/parse/time","jrs.configs","adhoc/filter/validation/ValidationError","adhoc/filter/validation/validationMessageCodes","backbone.validation"],function(e){"use strict";var t=e("backbone"),i=e("underscore"),n=e("settings!decimalFormatSymbols"),a=e("common/util/parse/NumberUtils"),r=new a(n),s=e("common/util/parse/date"),o=e("common/util/parse/time"),l=e("jrs.configs"),d=e("adhoc/filter/validation/ValidationError"),c=e("adhoc/filter/validation/validationMessageCodes");e("backbone.validation");var u=d.ATTRIBUTE_INDEX_SEPARATOR,h=l.inputControlsConstants&&l.inputControlsConstants.NULL_SUBSTITUTION_VALUE?l.inputControlsConstants.NULL_SUBSTITUTION_VALUE.toLowerCase():"~null~",m="~BLANK~",p=function(e){
return!(i.isNull(e)||i.isUndefined(e)||i.isString(e)&&""===e)},f=function(e,n,a,r,s){for(var o,l=[],d=0;d<e.length;d++){o=void 0;for(var c in s)if(o=t.Validation.validators[c](e[d],n+u+(d+1),s[c],r),!i.isUndefined(o))break;l.push(o)}return i.reject(l,function(e){return i.isUndefined(e)})};return i.extend(t.Validation.validators,{required:function(e,t,n,a,r){var s=i.isFunction(n)?n.call(a,e,t,r):n;return s||p(e)?s&&!p(e)?new d(e,t,c.REQUIRED,"required"):void 0:!1},integer:function(e,t,i,n){return r.isInt(e)?void 0:new d(e,t,c.INVALID_INTEGER,"integer")},integerRange:function(e,t,n,a){if(!i.isArray(e)||2!==e.length)return new d(e,t,c.INVALID_RANGE,"integerRange");var s=f(e,t,!0,a,{required:!0,nullable:!1,integer:!0});if(s.length)return s;var o=r.parseNumber(e[0]),l=r.parseNumber(e[1]);return o>l?new d(e,t,c.START_BIGGER_THAN_END,"integerRange"):void 0},listWithTrueAll:function(e,t,n,a,r){return i.isArray(e)&&e.length>0||r.isAnyValue===!0?void 0:new d(e,t,c.INVALID_TRUE_ALL_LIST,"listWithTrueAll")},list:function(e,t,n,a,r){return i.isArray(e)?void 0:new d(e,t,c.INVALID_LIST,"list")},decimal:function(e,t,i,n){return r.isDecimal(e)?void 0:new d(e,t,c.INVALID_DECIMAL,"decimal")},decimalRange:function(e,t,n,a){if(!i.isArray(e)||2!==e.length)return new d(e,t,c.INVALID_RANGE,"decimalRange");var s=f(e,t,n,a,{required:!0,nullable:!1,decimal:!0});if(s.length)return s;var o=r.parseNumber(e[0]),l=r.parseNumber(e[1]);return o>l?new d(e,t,c.START_BIGGER_THAN_END,"decimalRange"):void 0},"long":function(e,t,i,n){return r.isInt(e)?void 0:new d(e,t,c.INVALID_LONG,"long")},longRange:function(e,t,n,a){if(!i.isArray(e)||2!==e.length)return new d(e,t,c.INVALID_RANGE,"longRange");var s=f(e,t,n,a,{required:!0,nullable:!1,"long":!0});if(s.length)return s;var o=r.parseNumber(e[0]),l=r.parseNumber(e[1]);if(o!==!1&&l!==!1)return o>l?new d(e,t,c.START_BIGGER_THAN_END,"longRange"):void 0},string:function(e,t,n,a){return i.isString(e)?void 0:new d(e,t,c.INVALID_STRING,"string")},nullable:function(e,t,n,a){return n===!0&&i.isString(e)&&h===e.toLowerCase()?!1:n===!1&&i.isString(e)&&h===e.toLowerCase()?new d(e,t,c.NOT_NULLABLE,"nullable"):void 0},stringRange:function(e,t,n,a){if(!i.isArray(e)||2!==e.length)return new d(e,t,c.INVALID_RANGE,"stringRange");var r=f(e,t,n,a,{required:!0,string:!0,nullable:!1});return r.length?r:void 0},date:function(e,t,i,n){return s.isDate(e)||s.isRelativeDate(e)?void 0:new d(e,t,c.INVALID_DATE,"date")},dateRange:function(e,t,n,a){if(!i.isArray(e)||2!==e.length)return new d(e,t,c.INVALID_RANGE,"dateRange");var r=f(e,t,n,a,{required:!0,nullable:!1,date:!0});if(r.length)return r;var o=s.compareDates(e[0],e[1]);return"undefined"!=typeof o&&o>0?new d(e,t,c.START_DATE_LATER_THAN_FINISH,"dateRange"):void 0},timestamp:function(e,t,i,n){return s.isTimestamp(e)||s.isRelativeTimestamp(e)?void 0:new d(e,t,c.INVALID_TIMESTAMP,"timestamp")},timestampRange:function(e,t,n,a){if(!i.isArray(e)||2!==e.length)return new d(e,t,c.INVALID_RANGE,"timestampRange");var r=f(e,t,n,a,{required:!0,nullable:!1,timestamp:!0});if(r.length)return r;var o=s.compareTimestamps(e[0],e[1]);return"undefined"!=typeof o&&o>0?new d(e,t,c.START_DATE_LATER_THAN_FINISH,"timestampRange"):void 0},time:function(e,t,i,n){return o.isTime(e)?void 0:new d(e,t,c.INVALID_TIME,"time")},timeRange:function(e,t,n,a){if(!i.isArray(e)||2!==e.length)return new d(e,t,c.INVALID_RANGE,"timeRange");var r=f(e,t,n,a,{required:!0,nullable:!1,time:!0});if(r.length)return r;var s=o.compareTimes(e[0],e[1]);return"undefined"!=typeof s&&s>0?new d(e,t,c.START_TIME_LATER_THAN_FINISH,"timeRange"):void 0},"boolean":function(e,t,n,a){return i.isBoolean(e)||i.isString(e)&&i.include(["true","false"],e.toLowerCase())?void 0:new d(e,t,c.INVALID_BOOLEAN,"boolean")},blank:function(e,t,i,n){return i===!0&&e===m?!1:i===!1&&e===m?new d(e,t,c.NOT_BLANK,"blank"):void 0}}),t.Validation}),define("adhoc/filter/FilterModel",["require","underscore","jquery","backbone","bundle!AdHocFiltersBundle","settings!decimalFormatSymbols","common/util/parse/NumberUtils","adhoc/filter/filterModelTrait/dateRangeFilterModelTrait","adhoc/filter/filterModelTrait/listFilterModelTrait","adhoc/filter/filterModelTrait/literalFilterModelTrait","adhoc/filter/filterModelTrait/rangeFilterModelTrait","adhoc/filter/filterModelTrait/readOnlyFilterModelTrait","adhoc/filter/enum/filterDataTypes","adhoc/filter/enum/filterExpressionTypes","adhoc/filter/enum/filterOperators","adhoc/filter/factory/filterModelValidationFactory","adhoc/filter/factory/filterModelExpressionTypeFactory","adhoc/filter/factory/filterModelDefaultValueFactory","adhoc/filter/format/OlapFilterValueFormatter","components/singleSelect/dataprovider/DataProviderNew","components/singleSelect/dataprovider/ValueFormattingDataProvider","settings!adhocFilterSettings","adhoc/filter/validation/backboneValidationExtensions"],function(e){"use strict";function t(e){return e===v.TIMESTAMP||e===v.DATE}function i(e){return e===v.BOOLEAN}function n(e){return e===v.TIME}function a(e){return e===v.STRING}function r(e){return e===v.INTEGER||e===v.DECIMAL||e===v.LONG||e===v.NUMERIC}var s=e("underscore"),o=e("jquery"),l=e("backbone"),d=e("bundle!AdHocFiltersBundle"),c=e("settings!decimalFormatSymbols"),u=e("common/util/parse/NumberUtils"),h=new u(c),m=e("adhoc/filter/filterModelTrait/dateRangeFilterModelTrait"),p=e("adhoc/filter/filterModelTrait/listFilterModelTrait"),f=e("adhoc/filter/filterModelTrait/literalFilterModelTrait"),g=e("adhoc/filter/filterModelTrait/rangeFilterModelTrait"),_=e("adhoc/filter/filterModelTrait/readOnlyFilterModelTrait"),v=e("adhoc/filter/enum/filterDataTypes"),b=e("adhoc/filter/enum/filterExpressionTypes"),y=e("adhoc/filter/enum/filterOperators"),T=e("adhoc/filter/factory/filterModelValidationFactory"),A=e("adhoc/filter/factory/filterModelExpressionTypeFactory"),M=e("adhoc/filter/factory/filterModelDefaultValueFactory"),S=e("adhoc/filter/format/OlapFilterValueFormatter"),L=e("components/singleSelect/dataprovider/DataProviderNew"),C=e("components/singleSelect/dataprovider/ValueFormattingDataProvider"),D=e("settings!adhocFilterSettings");e("adhoc/filter/validation/backboneValidationExtensions");var x={};x[b.LITERAL]=f,x[b.LIST]=p,x[b.DATE_RANGE]=m,x[b.RANGE]=g,x[b.READ_ONLY]=_;var E={DATA_CHOOSER_NO_PROMPT:"ADH_1215_DYNAMIC_FILTER_UNEDITABLE_TITLE",SLICE_COMPLEX_KEEPONLY:"ADH_1208_DYNAMIC_FILTER_KEEP",SLICE_COMPLEX_EXCLUDE:"ADH_1209_DYNAMIC_FILTER_EXCLUDE"},w=l.Model.extend({initialize:function(e,t){this.service=t.service,this.isOlap=t.isOlap,D=s.defaults(D||{},{availableItemsPageSizeOlap:"999",availableItemsPageSize:"999"}),this.dataProvider=new L({pageSize:this.isOlap?+D.availableItemsPageSizeOlap:+D.availableItemsPageSize,request:new C({request:s.bind(this._requestValues,this),format:this.isOlap?new S(this.get("isFirstLevelInHierarchyAll")).format:null}).getData,controlGetTotal:!0,saveLastCriteria:!0}),this.removeAvailableData(),this.removeMinMaxValues(),this.on("change:operatorName",this._onOperatorNameChange),this.on("change:expressionType",this._onExpressionTypeChange),this._updateModelBehavior()},_requestValues:function(e){var t=this.get("showLoading");return this.service.fetchValues(this.get("name"),e,t)},setShowLoading:function(e){this.set("showLoading",e,{silent:!0})},removeAvailableData:function(){this.dataProvider.clear()},removeMinMaxValues:function(){this._minMaxValuesDeferred=null,this.minValue=null,this.maxValue=null},fetchDataForChangeFilterType:function(){return this.dataProvider.getData({offset:0,limit:1})},fetchMinMaxValues:function(){var e=this;return this._minMaxValuesDeferred||(this._minMaxValuesDeferred=this.service.getMaxMinValues(this.get("name")).done(function(t){var i=t.maxMin;e.minValue=i[0],e.maxValue=i[1]})),this._minMaxValuesDeferred},loadAdditionalServerData:function(e){var t=this;return this.additionalServerDataDeferred(e).done(function(){t._setValue()})},additionalServerDataDeferred:function(e){var t=new o.Deferred;return t.resolve(),this.isString()&&s.include([y.IN,y.NOT_IN,y.EQUALS,y.NOT_EQUAL],this.get("operatorName"))?e||(t=o.when(this.fetchDataForChangeFilterType())):(this.isNumber()||this.isDate()||this.isTime())&&(s.include([y.IN,y.NOT_IN],this.get("operatorName"))?e||(t=o.when(this.fetchDataForChangeFilterType())):s.include([y.LESS,y.LESS_OR_EQUAL,y.GREATER,y.GREATER_OR_EQUAL,y.BETWEEN,y.NOT_BETWEEN,y.BETWEEN_DATES,y.NOT_BETWEEN_DATES],this.get("operatorName"))&&(t=o.when(this.fetchMinMaxValues()))),t},_onOperatorNameChange:function(){var e=this.previousAttributes();"undefined"!=typeof e.operatorName&&e.operatorName===y.IN&&this.get("operatorName")!==y.IS_ANY_VALUE&&this.get("isAnyValue")&&this.set("isAnyValue",!1,{silent:!0});var t=A(this.get("filterDataType"),this.get("operatorName"));this.set("expressionType",t,{silent:!0}),this.trigger("change:expressionType",this,this.get("expressionType"))},saveValue:function(){return this.service.update(this.get("id"),this.toExpression())},_onExpressionTypeChange:function(){var e=this;this._updateModelBehavior(),this.loadAdditionalServerData().done(function(){e.trigger("operationChange",e)})},_updateModelBehavior:function(){this._updateInstanceWithTrait(),this._updateInstanceWithValidation()},_setValue:function(){if(!this.isReadOnly()){var e=this.previousAttributes();if(!s.isEmpty(e)&&this._isDefaultValueSelected(e))this._setDefaultValue();else{var t=this.get("value"),i=[y.EQUALS,y.NOT_EQUAL],n=[y.CONTAINS,y.NOT_CONTAINS,y.STARTS_WITH,y.NOT_STARTS_WITH,y.ENDS_WITH,y.NOT_ENDS_WITH],a=[y.IN,y.NOT_IN];s.include(n,e.operatorName)&&s.include(i,this.get("operatorName"))?this._setDefaultValue():(this.isString()||this.isBoolean())&&s.include(i,e.operatorName)&&s.include(a,this.get("operatorName"))?this.set({value:[t]},{silent:!0,validate:!0}):e.expressionType===b.LIST&&this.get("expressionType")===b.LITERAL?this.set({value:s.isArray(t)?t[0]:t},{silent:!0,validate:!0}):e.expressionType===b.LIST&&s.include([b.RANGE,b.DATE_RANGE],this.get("expressionType"))?this.set({value:[t[0],t[t.length-1]]},{silent:!0,validate:!0}):s.include([y.EQUALS,y.NOT_EQUAL],e.operatorName)&&s.include([b.RANGE,b.DATE_RANGE],this.get("expressionType"))?this.set({value:[t,t]},{silent:!0,validate:!0}):s.include([y.GREATER,y.GREATER_OR_EQUAL],e.operatorName)&&s.include([b.RANGE,b.DATE_RANGE],this.get("expressionType"))?this.set({value:[t,this.maxValue]},{silent:!0,validate:!0}):s.include([y.LESS,y.LESS_OR_EQUAL],e.operatorName)&&s.include([b.RANGE,b.DATE_RANGE],this.get("expressionType"))?this.set({value:[this.minValue,t]},{silent:!0,validate:!0}):s.include([b.RANGE,b.DATE_RANGE],e.expressionType)&&this.get("expressionType")===b.LIST?this._setDefaultValue():s.include([b.RANGE,b.DATE_RANGE],e.expressionType)&&s.include([y.EQUALS,y.NOT_EQUAL,y.GREATER,y.GREATER_OR_EQUAL],this.get("operatorName"))?this.set({value:t[0]},{silent:!0,validate:!0}):s.include([b.RANGE,b.DATE_RANGE],e.expressionType)&&s.include([y.LESS,y.LESS_OR_EQUAL],this.get("operatorName"))&&this.set({value:t[t.length-1]},{silent:!0,validate:!0}),this.isValid(!0)||this._setDefaultValue()}}},_getDefaultValue:function(){return M(this.get("filterDataType"),this.get("operatorName"),this.isOlap,this.additionalModelDataForDefaultValue())},_setDefaultValue:function(){this.set(this._getDefaultValue(),{silent:!0}),this.isValid(!0)},_isDefaultValueSelected:function(e){var t=M(this.get("filterDataType"),e.operatorName,this.isOlap,this.additionalModelDataForDefaultValue()),i={value:e.value,isAnyValue:e.isAnyValue};return w.valueObjectsAreEqual(i,t)},additionalModelDataForDefaultValue:function(){var e=[];if(this.dataProvider.dataCacheTotal>0){var t=this.dataProvider.dataCache.slice(0,this.dataProvider.pageSize);e=s.map(t,function(e){return e.value})}return{min:this.minValue,max:this.maxValue,values:e,allValuesLoaded:this.dataProvider.dataCacheTotal<=this.dataProvider.pageSize}},set:function(e,t,i){var n;return null==e?this:("object"==typeof e?(n=e,i=t):(n={})[e]=t,i||(i={}),n=w.normalizeAttributes(n),l.Model.prototype.set.call(this,n,i))},_updateInstanceWithTrait:function(){return s.extend(this,x[this.get("expressionType")])},_updateInstanceWithValidation:function(){this.validation=T(this.get("filterDataType"),this.get("operatorName"))},toExpression:function(){var e=this.get("operatorName");(this.isTime()||this.isNumber())&&(e===y.BETWEEN?e=y.IN:e===y.NOT_BETWEEN&&(e=y.NOT_IN)),this.get("isAnyValue")&&(e=y.IS_ANY_VALUE);var t={type:this.get("operatorType"),name:e,operands:[{type:this.get("filterLabelType"),name:this.get("name")}]};return this.get("isAnyValue")||[].push.apply(t.operands,this._rValue()),[t]},_rValue:function(){var e=this._expressionRValue();return s.isArray(e)?e:[e]},isDate:function(){return t(this.get("filterDataType"))},isBoolean:function(){return i(this.get("filterDataType"))},isTime:function(){return n(this.get("filterDataType"))},isString:function(){return a(this.get("filterDataType"))},isNumber:function(){return r(this.get("filterDataType"))},isReadOnly:function(){return!this.get("editable")}},{normalizeAttributes:function(e){var i=s.clone(e);if(i.hasOwnProperty("expressionAsString")&&delete i.expressionAsString,i.hasOwnProperty("editable")&&(i.editable||(i.filterDataType=v.READ_ONLY,i.operatorName=y.READ_ONLY,i.label=d[E[e.source]||E.DATA_CHOOSER_NO_PROMPT],i.isComplex="complex"===e.name.toLowerCase())),s.isUndefined(i.isAnyValue)&&i.hasOwnProperty("operatorName")&&(i.operatorName===y.IS_ANY_VALUE?(i.isAnyValue=!0,i.operatorName=t(i.filterDataType)?y.BETWEEN_DATES:y.IN):i.isAnyValue=!1),i.hasOwnProperty("operatorName")&&i.hasOwnProperty("filterDataType")){var n=A(i.filterDataType,i.operatorName);s.isUndefined(i.expressionType)&&(i.expressionType=n),n===b.LITERAL&&i.hasOwnProperty("value")&&s.isArray(i.value)&&1===i.value.length&&(i.value=i.value[0])}return i},_isArraysEquals:function(e,t){if(e.length!=t.length)return!1;var i,n={};for(i=0;i<e.length;i++)n[e[i]]=!0;for(i=0;i<t.length;i++)if(!n[t[i]])return!1;return!0},valueObjectsAreEqual:function(e,t){if("undefined"==typeof e.isAnyValue&&t.isAnyValue===!0||"undefined"==typeof t.isAnyValue&&e.isAnyValue===!0||"undefined"!=typeof e.isAnyValue&&"undefined"!=typeof t.isAnyValue&&e.isAnyValue!==t.isAnyValue)return!1;var i=e.value,n=t.value;if(s.isArray(i)&&s.isArray(n))return this._isArraysEquals(i,n);if(s.isArray(i)||s.isArray(n))return!1;var a=h.parseNumber(i),r=h.parseNumber(n);return"undefined"==typeof a&&"undefined"==typeof r?i==n:a==r}});return s.extend(w.prototype,l.Validation.mixin),w}),define("adhoc/filter/FilterCollection",["require","backbone","adhoc/filter/FilterModel","underscore"],function(e){"use strict";var t=e("backbone"),i=e("adhoc/filter/FilterModel"),n=e("underscore");return t.Collection.extend({model:i,addFromField:function(e){return this.add(this.createFilter(e))},createFilter:function(e){return new this.model({filterDataType:e.type,id:e.name,label:e.defaultDisplayName,operatorName:"equals",filterLetter:this.nextLetter(),value:"",state:{value:""}})},initialize:function(e,t){this.service=t.service,this.isOlap=t.isOlap},set:function(e,i){return i=i||{},n.extend(i,{service:this.service,isOlap:this.isOlap}),t.Collection.prototype.set.call(this,e,i)},nextLetter:function(){return this.length>0?this.incLetter(this.at(this.length-1).get("filterLetter")):"A"},incLetter:function(e){return n.isEmpty(e)?e:String.fromCharCode(e.charCodeAt(0)+1)},editableFilters:function(){return this.filter(function(e){return e.get("editable")})},toExpression:function(){return n(this.editableFilters()).map(function(e){return{filterId:e.get("id"),filterExpression:e.toExpression()}})}})}),define("adhoc/filter/factory/filterOperatorLabelFactory",["require","adhoc/filter/enum/filterOperators","adhoc/filter/enum/filterDataTypes","underscore","bundle!AdHocFiltersBundle"],function(e){"use strict";var t=e("adhoc/filter/enum/filterOperators"),i=e("adhoc/filter/enum/filterDataTypes"),n=e("underscore"),a=e("bundle!AdHocFiltersBundle"),r={};r[t.IN]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_IN",r[t.NOT_IN]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_NOT_IN",r[t.BETWEEN]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_BETWEEN",r[t.NOT_BETWEEN]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_NOT_BETWEEN",r[t.EQUALS]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_EQUAL",r[t.NOT_EQUAL]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_NOT_EQUAL",r[t.CONTAINS]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_CONTAINS",r[t.NOT_CONTAINS]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_NOT_CONTAINS",r[t.GREATER]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_GREATER",r[t.GREATER_OR_EQUAL]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_IS_GREATER_OR_EQUAL",r[t.LESS]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_LESS",r[t.LESS_OR_EQUAL]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_LESS_OR_EQUAL",r[t.BETWEEN_DATES]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_BETWEEN",r[t.NOT_BETWEEN_DATES]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_NOT_BETWEEN",r[t.STARTS_WITH]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_STARTS",r[t.NOT_STARTS_WITH]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_NOT_STARTS",r[t.ENDS_WITH]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_ENDS",r[t.NOT_ENDS_WITH]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_NOT_ENDS";var s={};return n.extend(s,r),s[t.GREATER]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_IS_AFTER",s[t.GREATER_OR_EQUAL]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_IS_ON_OR_AFTER",s[t.LESS]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_IS_BEFORE",s[t.LESS_OR_EQUAL]="ADH_1211_DYNAMIC_FILTER_COMPARISON_OPERATOR_IS_ON_OR_BEFORE",function(e,t){var o=r;return n.include([i.TIME,i.TIMESTAMP,i.DATE],t)&&(o=s),e in o&&o[e]in a?a[o[e]]:e}}),define("adhoc/filter/valueEditor/AbstractValueEditor",["require","backbone","underscore","adhoc/filter/validation/ValidationError","backbone.validation"],function(e){"use strict";var t=e("backbone"),i=e("underscore"),n=e("adhoc/filter/validation/ValidationError");return e("backbone.validation"),t.View.extend({constructor:function(e){this.initOptions=e,this.template=i.template(e.template),t.View.apply(this,arguments)},i18nModel:function(e){return e.i18n=this.initOptions.i18n,e},serializeModel:function(){return this.model.toJSON()},modelVariableName:"value",initialize:function(e){t.Validation.bind(this,{valid:this.validCallback,invalid:this.invalidCallback,selector:"data-validation-field"}),this.init(e),this.render(),this.initView(e),this.registerEvents(),e.modelVariable&&(this.modelVariableName=e.modelVariable)},validCallback:function(e,t,i){e.markSingleFieldAsValid(t,i)},invalidCallback:function(e,t,i,n){e.markSingleFieldAsInvalid(t,i,n)},markSingleFieldAsValid:function(e,t){this.$("["+t+'="'+e+'"]').text("").parent().removeClass("error")},markSingleFieldAsInvalid:function(e,t,a){t=i.isArray(t)?t[0]:t,this.$("["+a+'="'+e+'"]').text(t instanceof n?t.getMessage():t).parent().addClass("error")},init:function(e){},initView:function(e){},removeView:function(){},registerEvents:function(){},render:function(){return this.$el.html(this.template(this.i18nModel(this.serializeModel()))),this.trigger("rendered",this),this},convert:function(e){return this.valueConverter?this.valueConverter(e):e},getValue:function(){return this.model.get(this.modelVariableName)},setValue:function(e){this.model.set(this.modelVariableName,e,{validate:!0})},updateData:function(){this.render()},remove:function(){return this.removeView(),t.Validation.unbind(this),t.View.prototype.remove.call(this),this}})}),define("adhoc/filter/format/filterValueFormatter",["require","settings!adhocFilterSettings"],function(e){"use strict";var t=e("settings!adhocFilterSettings"),i=t?t.nullValue:null,n=t?t.nullLabel:null;return function(e){return e===i?n:e}}),define("components/scalableList/model/listWithNavigationModelTrait",["require","underscore"],function(e){"use strict";var t=e("underscore"),i={activate:function(e,i){if("number"!=typeof e)return void this.setActive(t.extend({},i));if(i=i||{},e>=this.get("bufferStartIndex")&&e<=this.get("bufferEndIndex")){var n=this.get("items")[e-this.get("bufferStartIndex")];n&&this.setActive(t.extend(i,{index:e,item:n}))}else{var a=this;this.getData({offset:e,limit:1}).done(function(n){a.setActive(t.extend(i,{index:e,item:n.data[0]}))}).fail(this.fetchFailed)}},setActive:function(e){this.active&&e.index===this.active.index&&e.item.value===this.active.value||(this.active=e&&"number"==typeof e.index?{index:e.index,value:e.item.value,label:e.item.label}:void 0,e&&e.silent||(this.trigger("change"),this.trigger("active:changed",this.active)))},getActive:function(){return this.active}};return i}),define("components/singleSelect/manager/KeyboardManager",["require","underscore"],function(e){"use strict";var t=e("underscore"),i=200,n=function(e){return this.initialize(e),this};return t.extend(n.prototype,{systemKeyCodes:[16,17,18,91],keydownHandlers:{38:"onUpKey",40:"onDownKey",13:"onEnterKey",27:"onEscKey",36:"onHomeKey",35:"onEndKey",9:"onTabKey",33:"onPageUpKey",34:"onPageDownKey"},initialize:function(e){t.bindAll(this,"onKeydown"),e.keydownHandlers&&(this.keydownHandlers=e.keydownHandlers),this.stopPropagation=e.stopPropagation,this.keydownTimeout=e.keydownTimeout||i,this.context=e.context,this.deferredKeydownHandler=e.deferredKeydownHandler,this.immediateHandleCondition=e.immediateHandleCondition,this.immediateKeydownHandler=e.immediateKeydownHandler},onKeydown:function(e){this._isSystemKeyPressed(e)||(this._canImmediatelyHandleKeyboardEvent(e)?this._immediatelyHandleKeyboardEvent(e):this.deferredHandleKeyboardEvent(e),this.stopPropagation&&e.stopPropagation())},deferredHandleKeyboardEvent:function(e){this.deferredKeydownHandler&&(this.keydownTimeout>0?(clearTimeout(this.deferredTimeout),this.deferredTimeout=setTimeout(t.bind(this.deferredKeydownHandler,this.context,e),this.keydownTimeout)):this.deferredKeydownHandler.call(this.context,e))},_isSystemKeyPressed:function(e){return t.indexOf(this.systemKeyCodes,e.which)>-1},_immediateHandleCondition:function(e){return this.immediateHandleCondition&&this.immediateHandleCondition.call(this.context,e)},_canImmediatelyHandleKeyboardEvent:function(e){var t=this.keydownHandlers[""+e.which];return t&&"function"==typeof this.context[t]||this._immediateHandleCondition(e)},_immediatelyHandleKeyboardEvent:function(e){var t=this.keydownHandlers[""+e.which];t&&"function"==typeof this.context[t]?this.context[t].call(this.context,e):this._immediateHandleCondition(e)&&this.immediateKeydownHandler&&this.immediateKeydownHandler.call(this.context,e)}}),n}),define("components/scalableList/model/ScalableListModel",["require","backbone","underscore"],function(e){"use strict";var t=e("backbone"),i=e("underscore"),n=100,a=.95,r=t.Model.extend({initialize:function(e){i.bindAll(this,"_fetchComplete","fetchFailed","afterFetchComplete","fetch"),this.set({items:[]},{silent:!0}),this.getData=e.getData,this.bufferSize=e.bufferSize||n,this.loadFactor=e.loadFactor||a},_fetchComplete:function(e){this.attributes.total=e.total,this.set({items:e.data},{silent:!0}),this.attributes.bufferEndIndex=Math.max(0,Math.min(this.attributes.bufferStartIndex+this.bufferSize-1,this.attributes.bufferStartIndex+e.data.length-1)),this.attributes.bufferEndIndex<this.attributes.bufferStartIndex+this.bufferSize-1&&(this.attributes.total=Math.min(e.total,this.attributes.bufferEndIndex+1)),this.afterFetchComplete&&this.afterFetchComplete(e.data,this.attributes.total),this.trigger("change",this)},_isBufferReloadNecessary:function(e,t){if("undefined"==typeof this.get("bufferStartIndex")||"undefined"==typeof this.get("bufferEndIndex"))return!0;if(e>=0&&e<this.get("bufferStartIndex")||t<this.get("total")&&t>this.get("bufferEndIndex"))return!0;if(e===this.get("bufferStartIndex")&&t===this.get("bufferEndIndex"))return!1;var i=1-(e-this.get("bufferStartIndex"))/this.bufferSize,n=1-(this.get("bufferEndIndex")-t)/this.bufferSize;return this.get("bufferStartIndex")>0&&i>=this.loadFactor||this.get("bufferEndIndex")<this.get("total")&&n>=this.loadFactor},afterFetchComplete:function(e,t){},fetchFailed:function(e,t){this.trigger("fetchFailed",e,t)},fetch:function(e){if(e=i.extend({top:this.get("bufferStartIndex")||0,bottom:this.get("bufferEndIndex")||this.bufferSize-1},e),e.force||this._isBufferReloadNecessary(e.top,e.bottom)){if(e.top!==this.attributes.bufferStartIndex||e.bottom!==this.attributes.bufferEndIndex||e.force){var t=e.top+Math.floor((e.bottom-e.top)/2),n=Math.floor(this.bufferSize/2);this.attributes.bufferStartIndex=Math.max(0,t-n),this.get("total")&&!e.force?this.attributes.bufferEndIndex=Math.min(this.get("total"),this.attributes.bufferStartIndex+this.bufferSize)-1:this.attributes.bufferEndIndex=this.attributes.bufferStartIndex+this.bufferSize-1}this.getData({offset:this.get("bufferStartIndex"),limit:this.get("bufferEndIndex")-this.get("bufferStartIndex")+1}).done(this._fetchComplete).fail(this.fetchFailed)}else this.afterFetchComplete&&this.afterFetchComplete(this.get("items"),this.get("total"))},reset:function(e){this.attributes={},this.set({items:[]},{silent:!0}),e&&e.silent||this.trigger("change",this)}});return r}),define("components/scalableList/model/BaseListWithSelectionModel",["require","underscore","components/scalableList/model/ScalableListModel"],function(e){"use strict";var t=e("underscore"),i=e("components/scalableList/model/ScalableListModel"),n=i.extend({initialize:function(e){i.prototype.initialize.call(this,e),this.select(e.value,{silent:!0})},_addToSelection:function(e,t){throw"Not implemented"},_removeFromSelection:function(e,t){throw"Not implemented"},_clearSelection:function(){throw"Not implemented"},_selectionContains:function(e,t){throw"Not implemented"},_getSelection:function(){throw"Not implemented"},_triggerSelectionChange:function(e){e&&e.silent||this.trigger("change"),this.trigger("selection:change")},_addRangeToSelection:function(e,t,i){for(var n=0;n<e.length;n++)this._addToSelection(e[n].value,n+t);this.trigger("selection:addRange",{start:t,end:i,selection:this.getSelection()})},_fetchAllDataAndModifySelection:function(e,t){return this.getData().done(function(i){for(var n=0;n<i.data.length;n++)e(i.data[n].value,n);t&&t()}).fail(this.fetchFailed),this},addValueToSelection:function(e,t){return this.selectionStartIndex=t,this._addToSelection(e,t),this.trigger("selection:add",{value:e,index:t})},addRangeToSelection:function(e,t){if("undefined"==typeof this.selectionStartIndex)return void this.addValueToSelection(e,t);if(this.selectionStartIndex!==t){var i=Math.min(this.selectionStartIndex,t),n=Math.max(this.selectionStartIndex,t);if(this.selectionStartIndex=t,i>=this.get("bufferStartIndex")&&n<=this.get("bufferEndIndex")){var a=Array.prototype.slice.call(this.get("items"),i-this.get("bufferStartIndex"),n-this.get("bufferStartIndex")+1);this._addRangeToSelection(a,i,n)}else{var r=this;this.getData({offset:i,limit:n-i+1}).done(function(e){r._addRangeToSelection(e.data,i,n)}).fail(this.fetchFailed)}}},removeValueFromSelection:function(e,t){this._removeFromSelection(e,t),this.trigger("selection:remove",{value:e,index:t})},toggleSelection:function(e,t){this.selectionContains(e,t)?this.removeValueFromSelection(e,t):this.addValueToSelection(e,t)},selectionContains:function(e,t){return this._selectionContains(e,t)},clearSelection:function(){return this._clearSelection(),this.trigger("selection:clear")},getSelection:function(){return this._getSelection()},select:function(e,t){throw"Not implemented"},selectAll:function(){var e=this,i=!0;this._fetchAllDataAndModifySelection(function(t,n){i&&(e._clearSelection(),i=!1),e._addToSelection(t,n)},t.bind(this._triggerSelectionChange,this))},invertSelection:function(){var e=this;this._fetchAllDataAndModifySelection(function(t,i){e._selectionContains(t,i)?e._removeFromSelection(t,i):e._addToSelection(t,i)},t.bind(this._triggerSelectionChange,this))}});return n}),define("components/scalableList/model/ListWithSelectionModel",["require","underscore","components/scalableList/model/BaseListWithSelectionModel"],function(e){"use strict";var t=e("underscore"),i=e("components/scalableList/model/BaseListWithSelectionModel"),n=i.extend({_addToSelection:function(e,t){this.selection[t]=e},_removeFromSelection:function(e,t){this.selection[t]=void 0},_clearSelection:function(){this.selection=[]},_selectionContains:function(e,t){return this.selection[t]===e},_getSelection:function(){return this.selection},_isSelectionEmpty:function(e){if(!e)return!0;if(t.isArray(e)&&0===e.length)return!0;if(t.isArray(e)||"string"==typeof e)return!1;for(var i in e)if(e.hasOwnProperty(i)&&void 0!==e[i])return!1;return!0},_selectPendingSelection:function(e,t){if(0===this.get("bufferStartIndex")&&this.get("bufferEndIndex")==this.get("total")-1)this._convertInitialArrayToSelection(this.get("items"),e,t);else{var i=this;this.getData().done(function(n){i._convertInitialArrayToSelection(n.data,e,t)}).fail(this.fetchFailed)}},_convertInitialArrayToSelection:function(e,t,i){for(var n=0;n<e.length;n++)t[e[n].value]&&this._addToSelection(e[n].value,n);this._triggerSelectionChange(i)},_triggerSelectionChange:function(e){this._calcSelectionStartIndex&&this._calcSelectionStartIndex(),i.prototype._triggerSelectionChange.call(this,e)},_calcSelectionStartIndex:function(){if("undefined"==typeof this.selectionStartIndex)for(var e in this.selection)if(this.selection.hasOwnProperty(e)&&void 0!==this.selection[e]){this.selectionStartIndex=parseInt(e,10);break}},select:function(e,i){if(this._clearSelection(),this._isSelectionEmpty(e))return void this._triggerSelectionChange(i);if(t.isArray(e)||"string"==typeof e){var n={};if("string"==typeof e)n[e]=!0;else for(var a=0;a<e.length;a++)n[e[a]]=!0;this._selectPendingSelection(n,i)}else{for(var r in e)if(e.hasOwnProperty(r)){var s=e[r];void 0!==s&&this._addToSelection(s,r)}this._triggerSelectionChange(i)}}});return n}),define("components/singleSelect/model/SingleSelectListModel",["require","underscore","components/scalableList/model/ListWithSelectionModel","components/scalableList/model/listWithNavigationModelTrait"],function(e){"use strict";var t=e("underscore"),i=e("components/scalableList/model/ListWithSelectionModel"),n=e("components/scalableList/model/listWithNavigationModelTrait"),a=i.extend(n);return a=a.extend({setActive:function(e){n.setActive.call(this,t.extend(e,{silent:!0}));var i={};"number"==typeof e.index&&(i[e.index]=e.item.value),this.select(i)},_convertInitialArrayToSelection:function(e,t,i){for(var a=0;a<e.length;a++)t[e[a].value]&&(this._addToSelection(e[a].value,a),this.getActive()||n.setActive.call(this,{index:a,item:e[a],silent:!0}));this._triggerSelectionChange(i)},_convertSelectionObject:function(e){for(var t in e)if(e.hasOwnProperty(t)&&void 0!==e[t]){var i=e[t];return{index:parseInt(t,10),value:i}}},_select:i.prototype.select,select:function(e,i){var a,r=!1;if(!e||"string"==typeof e||t.isArray(e))n.setActive.call(this,{silent:!0});else if(a=this._convertSelectionObject(e)){var s=this.getActive();s&&a.value===s.value&&a.index===s.index||(r=!0)}else n.setActive.call(this,{silent:!0});return r?this.activate(a.index):this._select(e,i),this}})}),define("text!components/scalableList/templates/viewPortChunksTemplate.htm",[],function(){return'{{_.each(chunks, function(chunk) { }}\r\n<div class="jr-jViewPortChunk" style="height: {{- chunk.height}}px"></div>\r\n{{ }); }}\r\n'}),define("text!components/scalableList/templates/itemsTemplate.htm",[],function(){return'<ul class="jr-mSelectlist jr" style="top: {{- top}}px; position: relative;">\r\n    {{_.each(items, function(item) { }}\r\n    <li class="jr-mSelectlist-item {{ if (item.selected) print(\'jr-isSelected\'); }} {{ if (item.active) print(\' jr-isHovered\'); }} jr" title="{{ print(item.label && item.label.trim() ? _.xssEscape(item.label) : \'&nbsp;\')}}" data-index="{{- item.index}}">\r\n        <div class="jr-mSelectlist-item-wrapper jr">\r\n            <a class="jr-mSelectlist-item-text jr">{{ print(item.label && item.label.trim() ? _.xssEscape(item.label) : \'&nbsp;\')}}</a>\r\n        </div>\r\n    </li>\r\n    {{ }); }}\r\n</ul>';
}),define("components/scalableList/view/ScalableList",["require","jquery","backbone","underscore","components/scalableList/model/ScalableListModel","text!components/scalableList/templates/viewPortChunksTemplate.htm","text!components/scalableList/templates/itemsTemplate.htm"],function(e){"use strict";var t=e("jquery"),i=e("backbone"),n=e("underscore"),a=e("components/scalableList/model/ScalableListModel"),r=e("text!components/scalableList/templates/viewPortChunksTemplate.htm"),s=e("text!components/scalableList/templates/itemsTemplate.htm"),o=1e6,l=50,d=50,c=21,u=2,h=i.View.extend({ListModel:a,listItemSelector:"li",events:{scroll:"onScroll",touchmove:"onScroll"},attributes:{style:"overflow-y: auto; height: 100px"},initialize:function(e){return n.bindAll(this,"_fetchVisibleData"),this.model=e.model||new this.ListModel(e),this.chunksTemplate=n.template(e.chunksTemplate||r),this.itemsTemplate=n.template(e.itemsTemplate||s),this.defaultChunkHeight=this.chunkHeight=e.chunkHeight||o,this.scrollTimeout="undefined"!=typeof e.scrollTimeout?e.scrollTimeout:l,this.manualScrollInterval=e.manualScrollInterval||d,this.lazy=e.lazy,this.defaultItemHeight=e.listItemHeight||c,this.listItemSelector=e.listItemSelector||this.listItemSelector,this.render(),this.initListeners(),this.lazy||this.model.fetch(),this},initListeners:function(){this.listenTo(this.model,"change",this.onModelChange,this),this.listenTo(this.model,"fetchFailed",this.onFetchFailed,this)},render:function(){return this},onScroll:function(e){this.scrollTimeout>0?(clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(this._fetchVisibleData,this.scrollTimeout)):this._fetchVisibleData()},onModelChange:function(){this.renderData()},onFetchFailed:function(e,t){this.trigger("listRenderError",e,t)},postProcessChunkModelItem:function(e,i){e.index=this.model.get("bufferStartIndex")+i,void 0===e.label&&(e.label=e.value),e.label=t.trim(e.label)},_renderItems:function(){var e=this.model.get("bufferStartIndex"),i=this.model.get("bufferEndIndex"),n=this.itemsPerChunk?Math.ceil((e+1)/this.itemsPerChunk):1,a=this.itemsPerChunk?Math.ceil((i+1)/this.itemsPerChunk):1,r=this;this.$el.find(".jr-jViewPortChunk").each(function(s,o){var l=r._getChunkModel({index:s+1,firstChunkWithData:n,lastChunkWithData:a,bufferStart:e,bufferEnd:i,total:r.totalItems,itemsPerChunk:r.itemsPerChunk,itemHeight:r.itemHeight,chunkHeight:r.chunkHeight,model:r.model}),d=l?r.itemsTemplate(l):"";t(o).html(d)})},_renderViewChunks:function(e){(this.totalItems!==this.model.get("total")||e)&&(this.totalItems=this.model.get("total"),this.$el.html(this.chunksTemplate({_:n,chunks:this._getViewChunksModel()})),this.$firstViewChunk=this.$el.find(".jr-jViewPortChunk:first"))},_getViewChunksModel:function(){for(var e=this.itemsPerChunk?Math.ceil(this.totalItems/this.itemsPerChunk):1,t=e>0?this.itemHeight?this.totalItems*this.itemHeight-(e-1)*this.chunkHeight:this.chunkHeight:1,i=[],n=1;e>n;n++)i.push({height:this.chunkHeight});return i.push({height:t}),i},_calcViewPortConstants:function(){this.viewPortConstantsInitialized||(this.itemHeight=this.defaultItemHeight,this.$firstViewChunk&&(this.itemHeight=this.$el.find(this.listItemSelector+":first").outerHeight(!0),!this.itemHeight||this.itemHeight<=u?(this.itemHeight=this.defaultItemHeight,this.viewPortConstantsInitialized=!1):this.viewPortConstantsInitialized=!0),this._calcViewPortHeight(),this.itemsPerChunk=Math.floor(this.defaultChunkHeight/this.itemHeight),this.chunkHeight=this.itemsPerChunk*this.itemHeight,this._renderViewChunks(!0),this._renderItems())},_calcViewPortHeight:function(){this.viewPortHeight=this.$el.height(),this.itemsPerView=Math.floor(this.viewPortHeight/this.itemHeight)-1},_getItemsPerView:function(){return this._calcViewPortConstants(),this.itemsPerView},_getChunkModel:function(e){var t=e.index;if(t<e.firstChunkWithData||t>e.lastChunkWithData)return null;var i=e.itemsPerChunk?Math.max(e.bufferStart,e.itemsPerChunk*(t-1)):e.bufferStart,a=e.itemsPerChunk?Math.min(e.bufferEnd,e.itemsPerChunk*t-1):e.bufferEnd,r=e.itemHeight?i*e.itemHeight-(t-1)*e.chunkHeight:0,s=Array.prototype.slice.call(e.model.get("items"),i-e.bufferStart,a-e.bufferStart+1);return n.each(s,function(t,n){this.postProcessChunkModelItem(t,n+(i-e.bufferStart))},this),{top:r,items:s}},_fetchVisibleData:function(){var e=this._getVisibleItems();this.model.fetch({top:e.top,bottom:e.bottom})},_getVisibleItems:function(){var e=this._getScrollPos(),t=this.model.get("total"),i=Math.min(t-this.itemsPerView,Math.floor(e/this.itemHeight)),n=Math.min(t-1,i+this.itemsPerView+1);return{top:i,bottom:n}},_getScrollPos:function(){this._calcViewPortConstants();var e=0;if(this.$firstViewChunk){var t=this.$el.offset(),i=this.$firstViewChunk.offset();t&&i&&(e=t.top-i.top)}return e},renderData:function(){return!this.lazy&&this.model.has("bufferStartIndex")&&this.model.has("bufferEndIndex")?(this.trigger("before:render:data"),this._renderViewChunks(),this._renderItems(),this._calcViewPortConstants(),this.trigger("render:data")):(this.lazy=null,this.model.fetch()),this},resize:function(){if(this.$el.is(":visible")){var e=this.$el.outerHeight();e!==this._componentHeight&&(this._componentHeight=e,this.viewPortConstantsInitialized=!1,this._calcViewPortConstants())}},fetch:function(e,t){this.lazy=!1,t=t||{};var i;t.keepPosition?i=this.$el.get(0).scrollTop:this.reset({silent:!0,lazy:!1}),this.model.once("change",function(){t.keepPosition&&this.$el.scrollTop(i),e&&e.apply(this,arguments)},this).fetch({force:!0})},reset:function(e){e=n.defaults(e||{},{lazy:!0}),this.$el.scrollTop(0),this.lazy=e.lazy,this.model.reset(e)},scrollTo:function(e){if("number"==typeof e){var t=this._getScrollPos();if(this.viewPortConstantsInitialized){this._calcViewPortHeight();var i=null,n=e*this.itemHeight;t>n?i=n:n+this.itemHeight>t+this.viewPortHeight&&(i=n+this.itemHeight-this.viewPortHeight),null!==i&&this.$el.scrollTop(i)}}}});return h}),define("components/scalableList/view/ListWithSelection",["require","jquery","underscore","components/scalableList/model/ListWithSelectionModel","components/scalableList/view/ScalableList"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=e("components/scalableList/model/ListWithSelectionModel"),a=e("components/scalableList/view/ScalableList"),r=1,s={LEFT:"left",RIGHT:"right"},o=a.extend({ListModel:n,globalEvents:!0,initialize:function(e){return i.bindAll(this,"onGlobalMouseup","onGlobalMousemove","_autoScroll","fetch"),this.eventListenerPattern=e.eventListenerPattern||"li",this.markerClass=e.markerClass?e.markerClass:"",this.selectedClass=e.selectedClass?e.selectedClass:"jr-isSelected",this._initSelection(e.selection),a.prototype.initialize.call(this,e)},delegateEvents:function(){var e=a.prototype.delegateEvents.apply(this,arguments);return this.$el.on("mousedown",this.eventListenerPattern,i.bind(this.onMousedown,this)).on("mousemove",this.eventListenerPattern,i.bind(this.onMousemove,this)).on("dblclick",this.eventListenerPattern,i.bind(this.onMousedblclick,this)).on("contextmenu",this.eventListenerPattern,i.bind(this.onItemEvent,this,this.$el)).on("mouseout",this.eventListenerPattern,i.bind(this.onItemEvent,this,this.$el)).on("mouseover",this.eventListenerPattern,i.bind(this.onItemEvent,this,this.$el)),!this.globalEvents&&this.$el.on("mouseup",this.eventListenerPattern,this.onGlobalMouseup),e},undelegateEvents:function(){var e=a.prototype.undelegateEvents.apply(this,arguments);return this.$el.off("mouseup").off("mousedown").off("mousemove").off("dblclick").off("contextmenu").off("mouseout").off("mouseover"),e},_initSelection:function(e){e=i.extend({allowed:{}},e);var t=e.allowed,n=i.isObject(t)?t.left:t;this.selection={allowed:{left:"undefined"!=typeof n?n:!0,right:"undefined"!=typeof t.right?t.right:!1},multiple:"undefined"!=typeof e.multiple?e.multiple:!0}},initListeners:function(){a.prototype.initListeners.call(this),this.listenTo(this.model,"selection:clear",this.clearSelection,this),this.listenTo(this.model,"selection:add",this.selectValue,this),this.listenTo(this.model,"selection:addRange",this.selectRange,this),this.listenTo(this.model,"selection:remove",this.deselectValue,this),this.globalEvents&&t("body").on("mouseup",this.onGlobalMouseup).on("mousemove",this.onGlobalMousemove)},postProcessChunkModelItem:function(e,t){a.prototype.postProcessChunkModelItem.call(this,e,t),e.selected=this.model.selectionContains&&this.model.selectionContains(e.value,e.index)},onMousedblclick:function(e){if(!this.selection.multiple&&(this.selection.allowed.left||this.selection.allowed.right)&&!this.getDisabled()){var t=this._getDomItemData(e.currentTarget);this._singleSelect(e,t.value,t.index),this.selectionChanged&&(this._triggerSelectionChanged(),this._triggerDblclicked(),this.selectionChanged=!1)}},getItemByEvent:function(e){return this._getDomItemData(e.currentTarget).item},onItemEvent:function(e,t){var i=t.type,n=this.getItemByEvent(t);this.trigger("list:item:"+i,n,t)},onMousedown:function(e){if(!this.getDisabled()&&(this.selection.allowed.left&&1===e.which||this.selection.allowed.right&&3===e.which)){var t=1===e.which?s.LEFT:s.RIGHT;this.selection.multiple&&(this[t+"MouseButtonPressed"]=!0,this.mouseDownPos=this._getMousePos(e));var i=this._getDomItemData(e.currentTarget);this.selection.multiple?this._multiSelect(e,i.value,i.index):this._singleSelect(e,i.value,i.index)}},onMousemove:function(e){if(this._allowMouseMoveSelection()&&(this._stopAutoScroll(),this._mouseMoved(e,this.mouseDownPos))){this.mouseDownPos=this._getMousePos(e);var t=this._getDomItemData(e.currentTarget);this.model.selectionContains(t.value,t.index)||this.model.addRangeToSelection(t.value,t.index)}},onGlobalMouseup:function(e){var t=this;(this.leftMouseButtonPressed||this.rightMouseButtonPressed)&&(i.each(s,function(e){t[e+"MouseButtonPressed"]=!1}),delete this.mouseDownPos,this._stopAutoScroll(),this.selectionChanged&&(this._triggerSelectionChanged(),this.selectionChanged=!1))},onGlobalMousemove:function(e){this._allowMouseMoveSelection()&&(this.mousePosY=e.clientY,this.scrollInterval||(this.scrollInterval=setInterval(this._autoScroll,this.manualScrollInterval)))},clearSelection:function(){this.$el.find("li."+this.selectedClass+this.markerClass).removeClass(this.selectedClass),this.selectionChanged=!0},selectValue:function(e){this.$el.find("li"+this.markerClass+"[data-index='"+e.index+"']:not(."+this.selectedClass+")").addClass(this.selectedClass),this.selection.multiple?this.selectionChanged=!0:this._triggerSelectionChanged()},selectRange:function(e){var i=this,n=Math.max(this.model.get("bufferStartIndex"),e.start),a=Math.min(this.model.get("bufferEndIndex"),e.end);this.$el.find("li"+this.markerClass+":not(."+this.selectedClass+")").each(function(){var e=t(this),r=parseInt(e.attr("data-index"),10);if(r>=n&&a>=r){var s=i.model.get("items")[r-i.model.get("bufferStartIndex")];i.model.selectionContains(s.value,r)&&e.addClass(i.selectedClass)}}),this.selectionChanged=!0},deselectValue:function(e){this.$el.find("li[data-index='"+e.index+"']."+this.selectedClass+this.markerClass).removeClass(this.selectedClass),this.selection.multiple?this.selectionChanged=!0:this._triggerSelectionChanged()},_autoScroll:function(){var e,t=this.$el.offset().top,i=this.$el.scrollTop(),n="undefined"!=typeof this.scrollTop?this.scrollTop:i,a=!1;this.mousePosY<t?(e=n-3*this.itemHeight,a=i>e):this.mousePosY>t+this.viewPortHeight&&(e=n+3*this.itemHeight,a=e>i),a&&(this.$el.scrollTop(e),this.scrollTop=this.$el.scrollTop(),this._fetchVisibleData()),this._selectRangeOnAutoScroll(n,e)},_selectRangeOnAutoScroll:function(e,t){var i;if(t>e?i=this._getVisibleItems().bottom:e>t&&(i=this._getVisibleItems().top),i){var n=this.model.get("items")[i-this.model.get("bufferStartIndex")];n&&(this.model.selectionContains(n.value,i)||this.model.addRangeToSelection(n.value,i))}},_stopAutoScroll:function(){this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=void 0,this.scrollTop=void 0)},_multiSelect:function(e,t,i){e.shiftKey?this.model.addRangeToSelection(t,i):e.ctrlKey||e.metaKey?this._singleSelect(e,t,i):this.model.toggleSelection(t,i)},_singleSelect:function(e,t,i){this.model.clearSelection().addValueToSelection(t,i)},_triggerSelectionChanged:function(){this.trigger("selection:change",this.getValue())},_triggerDblclicked:function(){this.trigger("item:dblclick",this.getValue())},_getDomItemData:function(e){for(var i=t(e),n=i.attr("data-index");void 0===n;)i=i.parent(),n=i.attr("data-index");n=parseInt(n,10);var a=this.model.get("items")[n-this.model.get("bufferStartIndex")];return{item:a,value:a.value,index:n}},_mouseMoved:function(e,t){return Math.abs(t.x-e.clientX)+Math.abs(t.y-e.clientY)>=r},_getMousePos:function(e){return{x:e.clientX,y:e.clientY}},_allowMouseMoveSelection:function(){return(this.selection.allowed.left&&this.leftMouseButtonPressed||this.selection.allowed.right&&this.rightMouseButtonPressed)&&this.selection.multiple&&!this.getDisabled()},getValue:function(){return this.model.getSelection()},setValue:function(e,t){return t=t||{},t&&t.silent||t.modelOptions&&t.modelOptions.silent||this.model.once("selection:change",this._triggerSelectionChanged,this),t=t.modelOptions,this.model.select(e,t),this},selectAll:function(e){return e&&e.silent||this.model.once("selection:change",this._triggerSelectionChanged,this),this.model.selectAll(),this},selectNone:function(e){return this.setValue({},e)},invertSelection:function(e){return e&&e.silent||this.model.once("selection:change",this._triggerSelectionChanged,this),this.model.invertSelection(),this},setDisabled:function(e){return this.disabled=e,this.disabled?this.$el.addClass("disabled"):this.$el.removeClass("disabled"),this},getDisabled:function(){return this.disabled},remove:function(){return t("body").off("mouseup",this.onGlobalMouseup).off("mousemove",this.onGlobalMousemove),a.prototype.remove.call(this)}});return o}),define("components/scalableList/view/ListWithNavigation",["require","components/scalableList/view/ListWithSelection","components/scalableList/model/ListWithSelectionModel","components/scalableList/model/listWithNavigationModelTrait"],function(e){"use strict";var t=e("components/scalableList/view/ListWithSelection"),i=e("components/scalableList/model/ListWithSelectionModel"),n=e("components/scalableList/model/listWithNavigationModelTrait"),a=t.extend({canActivate:!0,initialize:function(e){e=e||{};var a=i.extend(n);e.model=e.model||new a(e),t.prototype.initialize.call(this,e)},onMousemove:function(e){if(t.prototype.onMousemove.call(this,e),!this.mouseMovePos||this._mouseMoved(e,this.mouseMovePos)){this.mouseMovePos=this._getMousePos(e);var i=this._getDomItemData(e.currentTarget);this.activate(i.index)}},setCanActivate:function(e){this.canActivate=e},getCanActivate:function(){return this.canActivate&&!this.getDisabled()},activateFirst:function(){this.activate(0)},activateLast:function(){this.activate(Math.max(0,this.model.get("total")-1))},activateNext:function(){this.activate(Math.min(this.model.get("total")-1,this._getActiveIndex()+1))},activatePrevious:function(){this.activate(Math.max(0,this._getActiveIndex()-1))},pageDown:function(){this.activate(Math.min(this.model.get("total")-1,this._getActiveIndex()+this._getItemsPerView()))},pageUp:function(){this.activate(Math.max(0,this._getActiveIndex()-this._getItemsPerView()))},getActiveValue:function(){return this.model.getActive&&this.model.getActive()},activate:function(e,t){if(this.getCanActivate()){var i=this.getActiveValue();if(i&&i.index===e)return;if(!t||!t.silent){var n=this;this.model.once("active:changed",function(){n.trigger("active:changed",n.getActiveValue())})}this.model.activate(e,t)}},postProcessChunkModelItem:function(e,i){t.prototype.postProcessChunkModelItem.call(this,e,i);var n=this._getActiveIndex&&this._getActiveIndex();e.active="undefined"!=typeof n&&n===this.model.get("bufferStartIndex")+i},_getActiveIndex:function(){var e=this.getActiveValue();return e&&e.index}});return a}),define("components/singleSelect/view/SingleSelectList",["require","underscore","components/singleSelect/model/SingleSelectListModel","components/scalableList/view/ListWithNavigation"],function(e){"use strict";var t=e("underscore"),i=e("components/singleSelect/model/SingleSelectListModel"),n=e("components/scalableList/view/ListWithNavigation"),a=n.extend({events:t.extend({},n.prototype.events,{"mouseup li":"onMouseup"}),initialize:function(e){var a=e.model||new i(e);n.prototype.initialize.call(this,t.extend({model:a,lazy:!0,selection:{allowed:!0,multiple:!1}},e))},onMouseup:function(){this.trigger("item:mouseup")},activate:function(e){if(this.getCanActivate()){var t=this.getActiveValue();if(t&&t.index===e)return;this.model.once("selection:change",this._triggerSelectionChanged,this).activate(e)}}});return a}),define("components/singleSelect/dataprovider/SearcheableDataProvider",["require","jquery","underscore"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=function(e){i.bindAll(this,"getData","_filterValues","_shouldFilter"),this.indexMapping={},this.internalGetData=e.getData};return i.extend(n.prototype,{getData:function(e){var i=new t.Deferred;if(e&&"undefined"!=typeof e.criteria)return this.dataCache=null,this.criteria=e.criteria,i.resolve(),i.promise();var n=this;return n._shouldFilter()?(this.dataCache?this._resolvePromise(e,i):this.internalGetData().done(function(t){n.indexMapping={},n.reverseIndexMapping={},n.dataCache=n._filterValues(t.data),n._resolvePromise(e,i)}).fail(i.reject),i.promise()):(this.indexMapping=null,this.reverseIndexMapping=null,this.dataCache=null,this.internalGetData(e))},getIndexMapping:function(){return this.indexMapping},getReverseIndexMapping:function(){return this.reverseIndexMapping},_resolvePromise:function(e,t){var i=e&&e.offset?e.offset:0,n=e&&e.limit?i+e.limit:this.dataCache.length,a=this._getDataSegment(this.dataCache,i,n);t.resolve({data:a,total:this.dataCache.length})},_shouldFilter:function(){return this.criteria},_filterValues:function(e){for(var t=[],i=0,n=0;n<e.length;n++){var a=e[n],r=void 0===a.label?a.value:a.label;r.toLowerCase().indexOf(this.criteria.toLowerCase())>-1&&(t[i]=a,this.indexMapping[i]=n,this.reverseIndexMapping[n]=i,i+=1)}return t},_getDataSegment:function(e,t,i){i=Math.min(i,e.length);for(var n=[],a=t;i>a;a++)n.push({label:e[a].label,value:e[a].value});return n}}),n}),define("components/singleSelect/manager/DropDownManager",["require","underscore","jquery"],function(e){"use strict";var t=e("underscore"),i=e("jquery"),n=500,a=i("body"),r=function(e){return this.initialize(e),this};return t.extend(r.prototype,{initialize:function(e){t.bindAll(this,"checkOffset","setNewOffset"),this.$dropDownEl=e.dropDownEl,this.calcOffset=e.calcOffset,this.isOffsetChanged=e.isOffsetChanged||this._isOffsetChanged,this.recalcInterval=e.recalcInterval||n,this.onOffsetChanged=e.onOffsetChanged},startCalc:function(){this.checkOffset(this.setNewOffset),clearInterval(this.recalcTimer),this.recalcTimer=setInterval(t.bind(this.checkOffset,this,this.onOffsetChanged),this.recalcInterval)},stopCalc:function(){clearInterval(this.recalcTimer)},checkOffset:function(e){var t=this.calcOffset(),i=this.$dropDownEl.position(),n=a.offset();(n.top||n.left)&&(i.top+=n.top,i.left+=n.left),this.$dropDownEl.width()!==t.width&&this.setNewOffset(t),this.isOffsetChanged(i,t)&&e&&e(t)},setNewOffset:function(e){this.$dropDownEl.css("top",e.top-a.offset().top).css("left",e.left-a.offset().left).css("width",e.width)},_isOffsetChanged:function(e,t){return Math.floor(e.top)!==Math.floor(t.top)||Math.floor(e.left)!==Math.floor(t.left)}}),r}),define("text!components/singleSelect/templates/singleSelectTemplate.htm",[],function(){return'<div class="jr-mSingleselect jr">\r\n    <a class="jr-mSingleselect-input jr">\r\n        <span class="jr-mSingleselect-input-placeholder jr">Click to select item...</span>\r\n        <span class="jr-mSingleselect-input-selection jr">{{- value}}</span>\r\n        <div class="jr-mSingleselect-input-expander jr"></div>\r\n    </a>\r\n    <div class="jr-mSingleselect-search jr">\r\n        <input type="text" placeholder="Search list..." class="jr-mInput-search jr" value="{{- value}}">\r\n    </div>\r\n</div>\r\n'}),define("text!components/singleSelect/templates/singleSelectTemplate_IE10_11.htm",[],function(){return'<div class="jr-mSingleselect jr">\r\n    <a class="jr-mSingleselect-input jr">\r\n        <span class="jr-mSingleselect-input-placeholder jr">Click to select item...</span>\r\n        <span class="jr-mSingleselect-input-selection jr">{{- value}}</span>\r\n        <div class="jr-mSingleselect-input-expander jr"></div>\r\n    </a>\r\n    <div class="jr-mSingleselect-search jr">\r\n        <input type="text" class="jr-mInput-search jr" value="{{- value}}">\r\n    </div>\r\n</div>\r\n'}),define("text!components/singleSelect/templates/listTemplate.htm",[],function(){return'<div class="jr-mScalablelist jr" draggable="false" ondragstart="return false" unselectable="on" onselectstart="return false"></div>'}),define("text!components/singleSelect/templates/itemsTemplate.htm",[],function(){return'<ul class="jr-mSelectlist jr" style="top: {{- top}}px;">\r\n    {{_.each(items, function(item) { }}\r\n    <li class="jr-mSelectlist-item {{ if (item.selected) print(\'jr-isSelected\'); }} jr" title="{{ print(item.label && item.label.trim() ? _.xssEscape(item.label) : \'&nbsp;\')}}" data-index="{{- item.index}}">\r\n        <div class="jr-mSelectlist-item-wrapper jr">\r\n            <a class="jr-mSelectlist-item-text jr">{{ print(item.label && item.label.trim() ? _.xssEscape(item.label) : \'&nbsp;\')}}</a>\r\n        </div>\r\n    </li>\r\n    {{ }); }}\r\n</ul>'}),define("text!components/singleSelect/templates/dropDownTemplate.htm",[],function(){return'<div class="jr-mSingleselect-dropdown jr"></div>\n'}),define("components/singleSelect/view/SingleSelect",["require","jquery","backbone","underscore","components/singleSelect/manager/KeyboardManager","components/singleSelect/view/SingleSelectList","components/singleSelect/model/SingleSelectListModel","components/singleSelect/dataprovider/SearcheableDataProvider","components/singleSelect/manager/DropDownManager","text!components/singleSelect/templates/singleSelectTemplate.htm","text!components/singleSelect/templates/singleSelectTemplate_IE10_11.htm","text!components/singleSelect/templates/listTemplate.htm","text!components/singleSelect/templates/itemsTemplate.htm","text!components/singleSelect/templates/dropDownTemplate.htm","bundle!js-sdk/ScalableInputControlsBundle","common/util/browserDetection","common/util/xssUtil"],function(e){"use strict";var t=e("jquery"),i=e("backbone"),n=e("underscore"),a=e("components/singleSelect/manager/KeyboardManager"),r=e("components/singleSelect/view/SingleSelectList"),s=e("components/singleSelect/model/SingleSelectListModel"),o=e("components/singleSelect/dataprovider/SearcheableDataProvider"),l=e("components/singleSelect/manager/DropDownManager"),d=e("text!components/singleSelect/templates/singleSelectTemplate.htm"),c=e("text!components/singleSelect/templates/singleSelectTemplate_IE10_11.htm"),u=e("text!components/singleSelect/templates/listTemplate.htm"),h=e("text!components/singleSelect/templates/itemsTemplate.htm"),m=e("text!components/singleSelect/templates/dropDownTemplate.htm"),p=e("bundle!js-sdk/ScalableInputControlsBundle"),f=e("common/util/browserDetection"),g=e("common/util/xssUtil"),_=t("body"),v=i.View.extend({events:function(){return{keydown:this.keyboardManager.onKeydown,input:this.keyboardManager.onKeydown,"focus input":"onFocus","blur input":"onBlur",mousedown:"onMousedown",mouseup:"onMouseup","click .jr-mSingleselect-input":"onClickOnInput"}},initialize:function(e){n.bindAll(this,"onGlobalMouseup","onGlobalMousedown","onGlobalMousemove","onMousedown","calcOffsetForListView","collapse"),this.model||(this.model=new i.Model),this.model.set("expanded",!1,{silent:!0}),this.model.set("criteria","",{silent:!0}),this.model.set("value",{},{silent:!0}),(f.isIE10()||f.isIE11())&&(d=c),this.label=e.label,this.template=n.template(e.template||d),this.dropDownTemplate=n.template(e.dropDownTemplate||m),this.keyboardManager=new a({keydownTimeout:e.keydownTimeout,context:this,deferredKeydownHandler:this.processKeydown,immediateHandleCondition:this.immediateHandleCondition,immediateKeydownHandler:this.immediateKeydownHandler,stopPropagation:!0}),this.listViewModel=this._createListViewModel(e),this.listView=this._createListView(e),this.render(),this.dropDownManager=new l({dropDownEl:this.$dropDownEl,calcOffset:this.calcOffsetForListView,isOffsetChanged:this.isDimensionsChangedforListView,onOffsetChanged:this.collapse}),this.initListeners(),this.setValue(e.value,{modelOptions:{silent:!0}})},_createListView:function(e){return new r({el:e.listElement||t(u),model:this.listViewModel,chunksTemplate:e.chunksTemplate,itemsTemplate:e.itemsTemplate||h,scrollTimeout:e.scrollTimeout})},_createListViewModel:function(e){return this.searcheableDataProvider=new o({getData:e.getData}),new s({getData:this._getGetData(),bufferSize:e.bufferSize,loadFactor:e.loadFactor})},_getGetData:function(){return this.searcheableDataProvider.getData},_getActiveValueIndex:function(e){var t=this.searcheableDataProvider.getIndexMapping();return t?t[e.index]:e.index},initListeners:function(){this.listenTo(this.listView,"selection:change",this.selectionChange,this),this.listenTo(this.listView,"item:mouseup",this.itemMouseup,this),this.listenTo(this.model,"change:expanded",this.changeExpandedState,this),this.listenTo(this.model,"change:value",this.changeValue,this),this.listenTo(this.model,"change:disabled",this.changeDisabled,this),this.listenTo(this.model,"change:criteria",this.changeFilter,this),this.$dropDownEl.on("mousedown",this.onMousedown),_.on("mousedown",this.onGlobalMousedown).on("dataavailable",this.onGlobalMousedown).on("mouseup",this.onGlobalMouseup).on("mousemove",this.onGlobalMousemove)},render:function(){var e=t(this.template({label:this.label,isIPad:f.isIPad(),value:this.model.get("value").label,expanded:this.model.get("expanded"),i18n:p}));return this.renderListView(),this.$el.empty(),this.$el.append(e),this.$searchBlock=this.$el.find(".jr-mSingleselect-search"),this.$inputBlock=this.$el.find(".jr-mSingleselect-input"),this.$input=this.$searchBlock.find("input"),this},renderListView:function(){this.listRendered||(this.$dropDownEl=t(this.dropDownTemplate({isIPad:"iPad"===navigator.platform})),this.listView.undelegateEvents(),this.$dropDownEl.append(this.listView.$el),_.append(this.$dropDownEl),this.listView.delegateEvents(),this.listRendered=!0),this.model.get("expanded")?this.$dropDownEl.show():this.$dropDownEl.hide()},renderData:function(){return this.listView.renderData(),this},itemMouseup:function(){if(!this.model.get("disabled")){delete this.preventBlur,this.$input.focus();var e=this.model.get("activeValue");e.value!==this.model.get("value").value?(this.model.unset("activeValue"),this.model.set("value",e)):this.collapse()}},selectionChange:function(){var e=this.listView.getActiveValue();e?(this.listView.scrollTo(e.index),this.model.set("activeValue",{value:e.value,label:e.label,index:this._getActiveValueIndex(e)}),this.updateValueFromActive()):this.model.unset("activeValue")},onClickOnInput:function(){this.model.get("expanded")?this.collapse():this.expand()},onFocus:function(){this.model.get("expanded")||this.$inputBlock.addClass("jr-isFocused")},onBlur:function(){this.preventBlur||(this.collapse(),this.$inputBlock.removeClass("jr-isFocused"))},onMousedown:function(){this.preventBlur=!0},onMouseup:function(){this.preventBlur&&(delete this.preventBlur,this.model.get("expanded")&&this.$input.focus())},changeExpandedState:function(e){e.get("expanded")?this.doExpand():this.doCollapse()},changeValue:function(){this.collapse(),this.updateControlLabel(),this.silent?delete this.silent:this.trigger("selection:change",this.model.get("value").value),this.$input.val(""),this.model.set("criteria","")},changeDisabled:function(){var e=this.model.get("disabled");e?(this.$input.attr("disabled","disabled"),this.collapse()):this.$input.removeAttr("disabled"),this.listView.setDisabled(e)},onGlobalMousedown:function(e){if(this.model.get("expanded")){if(e.target===this.el||this.$el.find(e.target).length>0||e.target===this.$dropDownEl[0]||this.$dropDownEl.find(e.target).length>0)return void this.$input.focus();this.preventBlur=!1}this.onBlur()},onGlobalMouseup:function(){this.onMouseup()},onGlobalMousemove:function(e){this.preventBlur&&e.stopPropagation()},onUpKey:function(){if(this.model.get("expanded")){var e=this.listView.getActiveValue();if(!e||0===e.index)return void this.collapse();this.listView.activatePrevious()}else this.expand()},onDownKey:function(){if(this.model.get("expanded")){var e=this.listView.getActiveValue();e?this.listView.activateNext():this.listView.activateFirst()}else this.expand()},onEnterKey:function(e){e.preventDefault(),this.model.get("expanded")?this.model.get("activeValue")?this.itemMouseup():this.collapse():this.expand()},onEscKey:function(){this.model.get("expanded")&&this.collapse()},onHomeKey:function(){this.model.get("expanded")?this.listView.activateFirst():this.expand()},onEndKey:function(){this.model.get("expanded")?this.listView.activateLast():this.expand()},onPageUpKey:function(){this.model.get("expanded")?this.listView.pageUp():this.expand()},onPageDownKey:function(){this.model.get("expanded")?this.listView.pageDown():this.expand()},onTabKey:function(){},doExpand:function(){this.$searchBlock.addClass("jr-isOpen"),this.$inputBlock.addClass("jr-isOpen"),this.$inputBlock.removeClass("jr-isFocused"),this.$input.focus(),this.expandListView(),this.listView.lazy?this.listView.fetch(n.bind(this.listView.resize,this.listView)):this.listView.resize(),"undefined"!=typeof this.model.get("value").value&&this.setValueToList(),this.trigger("expand",this)},expandListView:function(){this.$dropDownEl.show(),this.dropDownManager.startCalc()},doCollapse:function(){this.model.unset("activeValue"),this.$searchBlock.removeClass("jr-isOpen"),this.$inputBlock.removeClass("jr-isOpen"),this.$inputBlock.addClass("jr-isFocused"),this.$input.val(""),this.$dropDownEl.hide(),this.model.set("criteria",""),this.dropDownManager.stopCalc(),this.trigger("collapse",this)},calcOffsetForListView:function(){var e=this.$el.offset(),t=_.offset().top+e.top+this.$el.height()+this.$searchBlock.height(),i=_.offset().left+e.left;return{top:t,left:i,width:this.$el.width()}},isDimensionsChangedforListView:function(e,t){return Math.floor(e.top)!==Math.floor(t.top)||Math.floor(e.left)!==Math.floor(t.left)},immediateHandleCondition:function(e){return!this.model.get("expanded")},immediateKeydownHandler:function(e){this.expand(),this.keyboardManager.deferredHandleKeyboardEvent(e)},processKeydown:function(){this.model.set("criteria",this.$input.val())},changeFilter:function(){var e=this;this._getGetData()({criteria:this.model.get("criteria")}).done(function(){e.listView.fetch(function(){e.setValueToList()})})},setValueToList:function(e){var t=this.model.get("value"),i=t.value;if("undefined"!=typeof t.index){var n=this.searcheableDataProvider.getReverseIndexMapping(),a=n?n[t.index]:t.index;i={},"undefined"!=typeof a&&(i[a]=t.value)}this.listView.setValue(i,e)},convertExternalValueToInternalFormat:function(e){var t={};if("undefined"!=typeof e)if("string"==typeof e||null===e)t={value:e};else for(var i in e)if(e.hasOwnProperty(i)&&void 0!==e[i]){t={value:e[i],index:parseInt(i,10)};break}return t},updateValueFromActive:function(){var e=this.model.get("value"),t=this.model.get("activeValue");e.value===t.value&&"undefined"==typeof e.label&&(e.label=t.label,this.updateControlLabel())},updateControlLabel:function(){var e,t=this.model.get("value"),i=this.$inputBlock.find(".jr-mSingleselect-input-placeholder"),a=this.$inputBlock.find(".jr-mSingleselect-input-selection");n.isEmpty(t)||null==t.value?(i.removeClass("jr-isHidden"),this.render()):(e=this.getControlLabelByValue(t),
i.addClass("jr-isHidden"),this.$inputBlock.attr("title",e),a.html(g.escape(e)))},getControlLabelByValue:function(e){return null==e.label?e.value:e.label},fetch:function(e,t){return this.listView.fetch(e,t),this},reset:function(e){return this.listView.reset(e),this},expand:function(){return this.model.get("disabled")?void 0:(this.model.set("expanded",!0),this)},collapse:function(){return this.model.set("expanded",!1),this},getValue:function(){return this.model.get("value").value},setValue:function(e,t){var e=this.convertExternalValueToInternalFormat(e);t&&t.silent&&(this.silent=!0),this.model.set("value",e),this.setValueToList()},setDisabled:function(e){return this.model.set("disabled",e),this},getDisabled:function(){return this.model.get("disabled")},remove:function(){this.$dropDownEl.off("mousedown",this.onMousedown).remove(),this.listView.remove(),i.View.prototype.remove.call(this),_.off("mousedown",this.onGlobalMousedown).off("dataavailable",this.onGlobalMousedown).off("mouseup",this.onGlobalMouseup).off("mousemove",this.onGlobalMousemove)}});return v}),define("components/scalableList/model/ListWithSelectionAsObjectHashModel",["require","underscore","components/scalableList/model/BaseListWithSelectionModel"],function(e){"use strict";var t=e("underscore"),i=e("components/scalableList/model/BaseListWithSelectionModel"),n=i.extend({_addToSelection:function(e,t){this.selection[e]=!0},_removeFromSelection:function(e,t){delete this.selection[e]},_clearSelection:function(){this.selection={}},_selectionContains:function(e,t){return this.selection[e]},_getSelection:function(){return t.keys(this.selection)},select:function(e,i){if(this._clearSelection(),"string"==typeof e)this._addToSelection(e);else if(t.isArray(e))for(var n=0;n<e.length;n++)this._addToSelection(e[n]);else if("undefined"!=typeof e)for(var a in e)if(e.hasOwnProperty(a)){var r=e[a];void 0!==r&&this._addToSelection(r,a)}this._afterSelect&&this._afterSelect(e,i),this._triggerSelectionChange(i)}});return n}),define("components/singleSelect/model/SingleSelectListModelNew",["require","components/singleSelect/model/SingleSelectListModel","components/scalableList/model/ListWithSelectionAsObjectHashModel"],function(e){"use strict";var t=e("components/singleSelect/model/SingleSelectListModel"),i=e("components/scalableList/model/ListWithSelectionAsObjectHashModel"),n=i.prototype,a=t.extend({_addToSelection:n._addToSelection,_removeFromSelection:n._removeFromSelection,_clearSelection:n._clearSelection,_selectionContains:n._selectionContains,_getSelection:n._getSelection,_calcSelectionStartIndex:void 0,_select:n.select});return a}),define("components/singleSelect/view/SingleSelectNew",["require","underscore","components/scalableList/model/listWithNavigationModelTrait","components/singleSelect/view/SingleSelect","components/singleSelect/model/SingleSelectListModelNew"],function(e){"use strict";var t=e("underscore"),i=e("components/scalableList/model/listWithNavigationModelTrait"),n=e("components/singleSelect/view/SingleSelect"),a=e("components/singleSelect/model/SingleSelectListModelNew"),r=function(e){for(var t=this.listViewModel.get("bufferStartIndex"),i=this.listViewModel.get("items"),n=0;n<i.length;n++)if(e===i[n].value)return t+n},s=n.extend({initialize:function(e){r=t.bind(r,this),this.formatValue=e.formatValue,n.prototype.initialize.call(this,e)},_createListViewModel:function(e){this.getData=e.getData;var i=e.model||t.extend(new a(e),{_afterSelect:this._afterSelect});return i},_getGetData:function(){return this.getData},_afterSelect:function(e,t){if(e&&"string"==typeof e&&!this.getActive()){var n=r(e);"undefined"!=typeof n&&i.setActive.call(this,{index:n,item:{value:e},silent:!0})}},_getActiveValueIndex:function(e){return r(e.value)},changeFilter:function(){var e=this;this.listView.scrollTo(0),this._getGetData()({criteria:this.model.get("criteria"),offset:0,limit:1}).done(function(){e.listView.fetch(function(){e.listView.resize(),e.setValueToList()})})},getControlLabelByValue:function(e){return null==e.label?this.formatValue?this.formatValue(e.value):e.value:e.label},setValue:function(e,t){var e=this.convertExternalValueToInternalFormat(e);t&&t.silent&&(this.silent=!0),this.model.set("value",e),this.setValueToList(t)},setValueToList:function(e){var t=this.model.get("value"),i={};t&&t.index?i[t.index]=t.value:t&&(i=t.value),this.listView.setValue(i,e)}});return s}),define("adhoc/filter/valueEditor/ListValueEditorAdapter",["require","underscore","adhoc/filter/valueEditor/AbstractValueEditor","adhoc/filter/format/OlapFilterValueFormatter","adhoc/filter/format/filterValueFormatter","components/singleSelect/view/SingleSelectNew","settings!adhocFilterSettings"],function(e){"use strict";var t=e("underscore"),i=e("adhoc/filter/valueEditor/AbstractValueEditor"),n=e("adhoc/filter/format/OlapFilterValueFormatter"),a=e("adhoc/filter/format/filterValueFormatter"),r=e("components/singleSelect/view/SingleSelectNew");e("settings!adhocFilterSettings");return i.extend({tagName:"div",className:"values",initialize:function(e){this.list=this.createList(),i.prototype.initialize.apply(this,arguments)},createList:function(){return new r({getData:t.bind(this.model.dataProvider.getData,this.model),formatValue:this.model.isOlap?new n(this.model.get("isFirstLevelInHierarchyAll")).format:a})},registerEvents:function(){this.listenTo(this.list,"selection:change",t.bind(function(e,i){i&&this.model.set("isAnyValue",i.isTrueAll,{silent:!0}),this.setValue(t.isArray(e)?t.reject(e,function(e){return void 0===e}):e)},this))},render:function(){return this.$el.empty(),this.list.$el.hide(),this.$el.append(this.list.el),this.$el.append('<span class="message warning" data-validation-field="value"></span>'),this},renderData:function(){this.list.renderData()},_setValueToList:function(e){this.list.setValue(this.getValue(),e)},_removeAvailableData:function(){this.model.isOlap&&(this.model.removeAvailableData(),this.list.reset({silent:!0}))},updateData:function(){this._removeAvailableData();var e={};this.model.setShowLoading(!1),this.list.once("selection:change",t.bind(this.model.setShowLoading,this.model,!0)),this._setValueToList(e),this.list.$el.show(),this.trigger("rendered",this)},remove:function(){this.list.remove(),this.removeView(),i.prototype.remove.call(this)}})}),define("components/scalableList/util/domAndCssUtil",["require","underscore","jquery"],function(e){"use strict";var t=e("underscore"),i=e("jquery");return{doCalcOnVisibleNodeClone:function(e){if(!e||!e.el)throw"Missing required option: el";if(t.defaults(e,{css:{},classes:"",container:"<div/>",appendTo:"body",callback:function(){throw"no callback was defined"},alwaysClone:!1,cloneHandlers:!1}),t.defaults(e.css,{position:"absolute",left:"-9999px"}),!e.alwaysClone&&i(e.el).is(":visible"))e.callback(i(e.el));else{var n=i(e.el).clone(),a=i(e.container).css(e.css).addClass(e.classes).appendTo(i(e.appendTo)).append(n);e.callback(n),a.remove()}}}}),define("components/multiSelect/mixin/scalableListItemHeightCalculationTrait",["require","jquery","components/scalableList/model/ScalableListModel","common/util/browserDetection","components/scalableList/util/domAndCssUtil"],function(e){"use strict";var t=e("jquery"),i=e("components/scalableList/model/ScalableListModel"),n=e("common/util/browserDetection"),a=e("components/scalableList/util/domAndCssUtil").doCalcOnVisibleNodeClone,r={render:function(){return this._itemHeightSet||(this._calcItemHeight(),this._itemHeightSet=!0),this},_calcItemHeight:function(){var e=this;this._model=this.model,this._lazy=this.lazy,this._visibility=this.$el.css("visibility"),this._display=this.$el.css("display"),this.model=new i({getData:function(){var e=new t.Deferred;return e.resolve({total:1,data:[{value:"test value",label:"test label"}]}),e}}),this.$el.css({visibility:"hidden",display:"block"}),this.model.once("change",this.onModelChange,this),this.renderData(),a({el:this.$el,css:{width:"100px"},classes:" jr "+(n.isIPad()?"ipad":""),callback:function(t){e.itemHeight=t.find("li").outerHeight(!0),e.itemsPerChunk=Math.floor(e.defaultChunkHeight/e.itemHeight),e.chunkHeight=e.itemsPerChunk*e.itemHeight}}),this.$el.empty().css({visibility:this._visibility,display:this._display}),delete this._visibility,delete this._display,this.totalItems=void 0,this.$firstViewChunk=void 0,this.model=this._model,delete this._model,this.lazy=this._lazy,this._lazy&&delete this._lazy},_calcViewPortConstants:function(){if(!this.viewPortConstantsInitialized){if(!this._itemHeightSet)return;this._calcViewPortHeight(),this._renderViewChunks(!0),this._renderItems(),this.viewPortConstantsInitialized=!0}}};return r}),define("text!components/multiSelect/templates/availableItemsTemplate.htm",[],function(){return'<div class="jr-mMultiselect-search jr">\r\n    <input class="jr-mInput-search jr" type="text" placeholder="{{- i18n[\'sic.multiselect.search\']}}">\r\n</div>\r\n\r\n<div class="jr-mMultiselect-list jr"></div>\r\n\r\n<div class="jr-mMultiselect-buttonContainer jr">\r\n    <ul class="jr-mItemselector jr">\r\n        <li  title="{{- i18n[\'sic.multiselect.selectAll\'] }}" class="jr-mItemselector-button jr-uWidth-30pc jr jr-jSelectAll">\r\n            <span class="jr-mItemselector-button-icon jr-mIcon jr-mIconSmall jr-checkmark jr"></span>\r\n            <a class="jr-mItemselector-button-label jr">\r\n                <span class="jr">{{- i18n[\'sic.multiselect.selectAll\'] }}</span>\r\n            </a>\r\n        </li>\r\n\r\n        <li  title="{{- i18n[\'sic.multiselect.deselectAll\'] }}" class="jr-mItemselector-button jr-uWidth-30pc jr jr-jSelectNone">\r\n            <span class="jr-mItemselector-button-icon jr-mIcon jr-mIconSmall jr-cancel jr"></span>\r\n            <a class="jr-mItemselector-button-label jr">\r\n                <span class="jr">{{- i18n[\'sic.multiselect.deselectAll\'] }}</span>\r\n            </a>\r\n        </li>\r\n\r\n        <li  title="{{- i18n[\'sic.multiselect.inverse\'] }}" class="jr-mItemselector-button jr-uWidth-40pc jr jr-jInvert">\r\n            <span class="jr-mItemselector-button-icon jr-mIcon jr-mIconSmall jr-invert jr"></span>\r\n            <a class="jr-mItemselector-button-label jr">\r\n                <span class="jr">{{- i18n[\'sic.multiselect.inverse\'] }}</span>\r\n            </a>\r\n        </li>\r\n    </ul>\r\n</div>\r\n'}),define("text!components/multiSelect/templates/availableItemsTemplate_IE10_11.htm",[],function(){return'<div class="jr-mMultiselect-search jr">\r\n    <input class="jr-mInput-search jr" type="text">\r\n</div>\r\n\r\n<div class="jr-mMultiselect-list jr"></div>\r\n\r\n<div class="jr-mMultiselect-buttonContainer jr">\r\n    <ul class="jr-mItemselector jr">\r\n        <li  title="{{- i18n[\'sic.multiselect.selectAll\'] }}" class="jr-mItemselector-button jr-uWidth-30pc jr jr-jSelectAll">\r\n            <span class="jr-mItemselector-button-icon jr-mIcon jr-mIconSmall jr-ok jr"></span>\r\n            <a class="jr-mItemselector-button-label jr">\r\n                <span class="jr">{{- i18n[\'sic.multiselect.selectAll\'] }}</span>\r\n            </a>\r\n        </li>\r\n\r\n        <li  title="{{- i18n[\'sic.multiselect.deselectAll\'] }}" class="jr-mItemselector-button jr-uWidth-30pc jr jr-jSelectNone">\r\n            <span class="jr-mItemselector-button-icon jr-mIcon jr-mIconSmall jr-cancel jr"></span>\r\n            <a class="jr-mItemselector-button-label jr">\r\n                <span class="jr">{{- i18n[\'sic.multiselect.deselectAll\'] }}</span>\r\n            </a>\r\n        </li>\r\n\r\n        <li  title="{{- i18n[\'sic.multiselect.inverse\'] }}" class="jr-mItemselector-button jr-uWidth-40pc jr jr-jInvert">\r\n            <span class="jr-mItemselector-button-icon jr-mIcon jr-mIconSmall jr-invert jr"></span>\r\n            <a class="jr-mItemselector-button-label jr">\r\n                <span class="jr">{{- i18n[\'sic.multiselect.inverse\'] }}</span>\r\n            </a>\r\n        </li>\r\n    </ul>\r\n</div>'}),define("text!components/multiSelect/templates/listTemplate.htm",[],function(){return'<div class="jr-mScalablelist jr j-scalable-list" onselectstart="return false" unselectable="on" ondragstart="return false" draggable="false"></div>\r\n'}),define("components/multiSelect/view/AvailableItemsList",["require","jquery","backbone","underscore","common/util/browserDetection","bundle!js-sdk/ScalableInputControlsBundle","common/util/xssUtil","components/singleSelect/manager/KeyboardManager","components/scalableList/view/ListWithNavigation","components/scalableList/model/ListWithSelectionModel","components/scalableList/util/domAndCssUtil","components/scalableList/model/listWithNavigationModelTrait","components/scalableList/model/ListWithSelectionAsObjectHashModel","../mixin/scalableListItemHeightCalculationTrait","text!../templates/availableItemsTemplate.htm","text!../templates/availableItemsTemplate_IE10_11.htm","text!../templates/listTemplate.htm"],function(e){"use strict";var t=e("jquery"),i=e("backbone"),n=e("underscore"),a=e("common/util/browserDetection"),r=e("bundle!js-sdk/ScalableInputControlsBundle"),s=(e("common/util/xssUtil"),e("components/singleSelect/manager/KeyboardManager")),o=e("components/scalableList/view/ListWithNavigation"),l=(e("components/scalableList/model/ListWithSelectionModel"),e("components/scalableList/util/domAndCssUtil").doCalcOnVisibleNodeClone),d=e("components/scalableList/model/listWithNavigationModelTrait"),c=e("components/scalableList/model/ListWithSelectionAsObjectHashModel"),u=e("../mixin/scalableListItemHeightCalculationTrait"),h=e("text!../templates/availableItemsTemplate.htm"),m=e("text!../templates/availableItemsTemplate_IE10_11.htm"),p=e("text!../templates/listTemplate.htm"),f=[{selector:".jr-jSelectAll",strings:[r["sic.multiselect.selectAll"],r["sic.multiselect.all"],""]},{selector:".jr-jSelectNone",strings:[r["sic.multiselect.deselectAll"],r["sic.multiselect.none"],""]},{selector:".jr-jInvert",strings:[r["sic.multiselect.inverse"],""]}],g=i.View.extend({className:"jr-mMultiselect-listContainer jr-isActive jr",events:function(){return{"keydown input.jr-mInput-search":this.keyboardManager.onKeydown,"focus input.jr-mInput-search":"onFocus","blur input.jr-mInput-search":"onBlur","click .jr-jSelectAll":"onSelectAll","click .jr-jSelectNone":"onSelectNone","click .jr-jInvert":"onInvertSelection","click input.jr-mInput-search":"onClickOnInput","touchend input.jr-mInput-search":"onClickOnInput",mousedown:"onMousedown",mouseup:"onMouseup"}},keydownHandlers:n.extend({65:"onAKey"},s.prototype.keydownHandlers),initialize:function(e){n.bindAll(this,"onGlobalMouseup","onGlobalMousedown","onResize","onGlobalMousemove","onMousedown","onMouseup","onEscKey","onSelectAll","onSelectNone","onInvertSelection"),this._debouncedOnResize=n.debounce(this.onResize,500),this.model||(this.model=new i.Model),this.model.set("criteria","",{silent:!0}),(a.isIE10()||a.isIE11())&&(h=m),this.label=e.label,this.template=n.template(e.availableItemsTemplate||h),this.keyboardManager=new s({keydownHandlers:this.keydownHandlers,keydownTimeout:e.keydownTimeout,context:this,deferredKeydownHandler:this.processKeydown,immediateHandleCondition:this.immediateHandleCondition,immediateKeydownHandler:this.immediateKeydownHandler,stopPropagation:!0}),this.listViewModel=this._createListViewModel(e),this.setValue(e.value,{silent:!0}),this.listView=this._createListView(e),this.render(),this.initListeners()},_createListViewModel:function(e){this.getData=e.getData;var t=c.extend(d);return e.listViewModel||new t({getData:e.getData,bufferSize:e.bufferSize,loadFactor:e.loadFactor})},_createListView:function(e){var i=e.listView||new o({el:e.listElement||t(p),model:this.listViewModel,chunksTemplate:e.chunksTemplate,itemsTemplate:e.itemsTemplate,scrollTimeout:e.scrollTimeout,lazy:!0,selectedClass:"jr-isSelected",selection:{allowed:!0,multiple:!0}});return n.extend(i,u),i},initListeners:function(){this.listenTo(this.listView,"active:changed",this.activeChange,this),this.listenTo(this.listView,"mousedown",this.onMousedown,this),this.listenTo(this.listView,"render:data",this.onRenderData,this),this.listenTo(this.listViewModel,"change",this.onListViewModelChanged,this),this.listenTo(this.listViewModel,"selection:clear",this.selectionClear,this),this.listenTo(this.listViewModel,"selection:add",this.selectionAdd,this),this.listenTo(this.listViewModel,"selection:addRange",this.selectionAddRange,this),this.listenTo(this.listViewModel,"selection:remove",this.selectionRemove,this),this.listenTo(this.model,"change:totalValue",this.onChangeTotalValue,this),this.listenTo(this.model,"change:value",this.changeValue,this),this.listenTo(this.model,"change:disabled",this.changeDisabled,this),this.listenTo(this.model,"change:criteria",this.changeFilter,this),t("body").on("mousedown",this.onGlobalMousedown).on("mouseup",this.onGlobalMouseup).on("mousemove",this.onGlobalMousemove),t(window).on("resize",this._debouncedOnResize)},render:function(){return this.$el.empty(),this.$el.append(t(this.template(this.getModelForRendering()))),this.listView.undelegateEvents(),this.$el.find(".jr-mMultiselect-list").append(this.listView.el),this.listView.render(),this.listView.fetch(n.bind(this.listView.resize,this.listView)),this.listView.delegateEvents(),this._tuneCSS(),this.setBulkSelectionText(),this},_tuneCSS:function(){var e=this;this._paddingHeightsSet||(l({el:this.$el,css:{width:"500px"},classes:"jr "+(a.isIPad()?"ipad":""),callback:function(t){e.searchBarHeight=t.find(".jr-mMultiselect-search").outerHeight(),e.buttonsContainerHeight=t.find(".jr-mMultiselect-buttonContainer").outerHeight()}}),this._paddingHeightsSet=!0),this.$el.find(".jr-mMultiselect-list").css({height:"100%","padding-top":this.searchBarHeight,"padding-bottom":this.buttonsContainerHeight})},renderData:function(){return this.listView.renderData(),this},activeChange:function(e){e&&(this.activeChangedWithShift&&(delete this.activeChangedWithShift,this.listViewModel.addRangeToSelection(e.value,e.index)),this.listView.scrollTo(e.index))},selectionAdd:function(e){this.model.get("value")[e.value]=!0,this.model.trigger("change:value")},selectionAddRange:function(e){var t=e.selection,i=this.model.get("value"),n=0,a=t.length;for(n;a>n;n+=1)i[t[n]]=!0;this.model.trigger("change:value")},selectionRemove:function(e){delete this.model.get("value")[e.value],this.model.trigger("change:value")},selectionClear:function(){this.model.attributes.value={}},onSelectAll:function(){this.model.get("disabled")||(this.listView.once("selection:change",this.processSelectionThroughApi,this),this.clearFilter(n.bind(this.listView.selectAll,this.listView)))},onSelectNone:function(){this.model.get("disabled")||(this.listView.once("selection:change",this.processSelectionThroughApi,this),this.clearFilter(n.bind(this.listView.selectNone,this.listView)))},onInvertSelection:function(){this.model.get("disabled")||(this.listView.once("selection:change",this.processSelectionThroughApi,this),this.clearFilter(n.bind(this.listView.invertSelection,this.listView)))},onRenderData:function(){this.trigger("render:data")},onListViewModelChanged:function(){if("undefined"==typeof this.model.get("totalValues")){var e=this.listViewModel.get("total");n.isNumber(e)&&!n.isNaN(e)&&this.model.set("totalValues",e)}},onChangeTotalValue:function(){this.listView.resize()},setBulkSelectionText:function(){if(this.$el.is(":visible")){var e=this.$el.outerWidth();if(e!==this._componentWidth){this._componentWidth=e;var t=this.$el.find(".jr-mMultiselect-buttonContainer"),i=t.outerWidth();l({el:t,css:{left:0-2*i+"px",width:i+"px"},classes:"jr "+(a.isIPad()?"ipad":""),alwaysClone:!0,callback:function(e){n.each(f,function(i){var a=!1;n.each(i.strings,function(n){if(!a){var r=e.find(i.selector),s=r.find(".jr-mItemselector-button-label span").text(n),o=r[0].getBoundingClientRect().right,l=s[0].getBoundingClientRect().right;(o-l>=3||""===n)&&(a=!0,t.find(i.selector+" .jr-mItemselector-button-label span").text(n))}})})}})}}},changeValue:function(){this.trigger("selection:change",this.getValue())},changeDisabled:function(){var e=this.model.get("disabled");e?this.$el.find("input[type='text']").attr("disabled","disabled"):this.$el.find("input[type='text']").removeAttr("disabled"),this.listView.setDisabled(e)},onClickOnInput:function(){this.onFocus()},onFocus:function(){var e=this.$el.find("input");e.val()==e.attr("placeholder")&&(e.val(""),e.removeClass("jr-mMultiselect-input-placeholder"))},onBlur:function(){var e=this.$el.find("input");return(""===e.val()||e.val()===e.attr("placeholder"))&&(e.addClass("jr-mMultiselect-input-placeholder"),e.val(e.attr("placeholder"))),this.preventBlur?!1:void 0},onMousedown:function(){a.isIPad()||(this.preventBlur=!0)},onMouseup:function(){this.preventBlur&&(delete this.preventBlur,this.$el.find("input.jr-mInput-search").focus())},onGlobalMousedown:function(e){this.preventBlur&&e.target!==this.el&&0===this.$el.find(e.target).length&&(delete this.preventBlur,this.onBlur())},onGlobalMouseup:function(){this.onMouseup()},onGlobalMousemove:function(e){this.preventBlur&&e.stopPropagation()},onResize:function(){this.resize()},onUpKey:function(e){e.shiftKey&&(this.activeChangedWithShift=!0),this.listView.activatePrevious()},onDownKey:function(e){var t=this.listView.getActiveValue();t?(e.shiftKey&&(this.activeChangedWithShift=!0),this.listView.activateNext()):this.listView.activateFirst()},onEnterKey:function(e){e.preventDefault();var t=this.listView.getActiveValue();t&&(e.shiftKey?this.listViewModel.addRangeToSelection(t.value,t.index):e.ctrlKey||e.metaKey?(this.listViewModel.clearSelection(),this.listViewModel.addValueToSelection(t.value,t.index)):this.listViewModel.toggleSelection(t.value,t.index))},onEscKey:function(){},onHomeKey:function(e){e.shiftKey&&(this.activeChangedWithShift=!0),this.listView.activateFirst()},onEndKey:function(e){e.shiftKey&&(this.activeChangedWithShift=!0),this.listView.activateLast()},onPageUpKey:function(e){e.shiftKey&&(this.activeChangedWithShift=!0),this.listView.pageUp()},onPageDownKey:function(e){e.shiftKey&&(this.activeChangedWithShift=!0),this.listView.pageDown()},onTabKey:function(){},onAKey:function(e){e.ctrlKey||e.metaKey?(e.stopPropagation(),this.onSelectAll()):this.keyboardManager.deferredHandleKeyboardEvent(e)},processKeydown:function(){this.model.set("criteria",this.$el.find("input.jr-mInput-search").val())},changeFilter:function(e){var t=this,i=this.model.get("criteria");("undefined"==typeof i||""===i)&&this.model.unset("totalValues",{silent:!0}),this.listView.scrollTo(0),t.listView.activate(null,{silent:!0}),this.getData({criteria:i,offset:0,limit:1}).done(function(){t.listViewModel.once("change",e&&"function"==typeof e?e:function(){t.listView.setValue(n.keys(t.model.get("value")),{silent:!0}),t.listView.activate(0)}),t.listView.fetch()})},clearFilter:function(e){this.model.get("criteria")?(this.$el.find("input").val(""),this.model.set("criteria","",{silent:!0}),this.changeFilter(e)):(this.model.unset("totalValues",{silent:!0}),e&&e())},processSelectionThroughApi:function(e,t){var i={},n=0,a=e.length;for(this.selectionClear(),n;a>n;n+=1)i[e[n]]=!0;this.model.attributes.value=i,t&&t.silent||this.model.trigger("change:value")},convertSelectionForListViewModel:function(e){return e},getModelForRendering:function(){return{label:this.label,isIPad:a.isIPad(),disabled:this.model.get("disabled"),i18n:r}},fetch:function(e,t){var i=this;this.clearFilter(function(){i.listView.fetch(e,t)})},resize:function(){this.listView.resize(),this.setBulkSelectionText()},reset:function(e){var t=this;this.clearFilter(function(){t.listView.reset(e)})},getValue:function(){return n.keys(this.model.get("value"))},setValue:function(e,t){t=t||{},this.listViewModel.once("selection:change",function(){this.selectionClear();var e=this.listViewModel.getSelection(),i=0,n=e.length;for(i;n>i;i++)this.model.attributes.value[e[i]]=!0;t&&t.silent||this.changeValue()},this),n.isArray(e)||"string"==typeof e||(e=this.convertSelectionForListViewModel(e)),this.listViewModel.select(e,t.modelOptions)},setDisabled:function(e){this.model.set("disabled",e)},getDisabled:function(){return this.model.get("disabled")},remove:function(){this.listView.remove(),i.View.prototype.remove.call(this),t("body").off("mousedown",this.onGlobalMousedown).off("mouseup",this.onGlobalMouseup).off("mousemove",this.onGlobalMousemove),t(window).off("resize",this._debouncedOnResize)}});return g}),define("text!components/multiSelect/templates/selectedItemsTemplate.htm",[],function(){return'<!--\r\nthis input only for technical purposes:\r\nit allows selected items list to get focus\r\nand have proper tab position\r\n(simple tabindex="0" on DOM element will broke tab index sequence)\r\n-->\r\n<div class="jr-mMultiselect-list jr">\r\n    <input type="text" style="position: absolute; left: -9999px" {{ if (disabled) { }}disabled="disabled"{{ } }}>\r\n    <!-- list position -->\r\n    <div class="jr-mMultiselect-list-message jr-isHidden jr">\r\n        {{- i18n[\'sic.multiselect.noSelection\'] }}\r\n    </div>\r\n</div>'}),define("text!components/multiSelect/templates/selectedItemsListTemplate.htm",[],function(){return'<ul class="jr-mSelectlist jr-mSelectlistSelected jr" style="top: {{- top}}px; position: relative;">\r\n    {{_.each(items, function(item) { }}\r\n    <li class="jr-mSelectlist-item jr-isSelected {{ if (item.active) print(\' jr-isHovered\'); }} jr" title="{{ print(item.label && item.label.trim() ? _.xssEscape(item.label) : \'&nbsp;\')}}" data-index="{{- item.index}}">\r\n        <div class="jr-mSelectlist-item-wrapper jr">\r\n            <a class="jr-mSelectlist-item-delete jr"></a>\r\n            <a class="jr-mSelectlist-item-text jr">{{ print(item.label && item.label.trim() ? _.xssEscape(item.label) : \'&nbsp;\')}}</a>\r\n        </div>\r\n    </li>\r\n    {{ }); }}\r\n</ul>\r\n'}),define("components/multiSelect/view/ListViewForSelectedItemsList",["require","jquery","components/scalableList/view/ListWithNavigation"],function(e){"use strict";var t=e("jquery"),i=e("components/scalableList/view/ListWithNavigation"),n=i.extend({_multiSelect:function(e,n,a){t(e.target).hasClass("jr-mSelectlist-item-delete")?this.model.selectionContains(n,a)||this._singleSelect(e,n,a):i.prototype._multiSelect.call(this,e,n,a)}});return n}),define("components/multiSelect/view/SelectedItemsList",["require","jquery","backbone","underscore","common/util/browserDetection","bundle!js-sdk/ScalableInputControlsBundle","common/util/xssUtil","components/singleSelect/manager/KeyboardManager","components/scalableList/model/ListWithSelectionModel","components/scalableList/model/listWithNavigationModelTrait","../mixin/scalableListItemHeightCalculationTrait","text!../templates/selectedItemsTemplate.htm","text!../templates/selectedItemsListTemplate.htm","text!../templates/listTemplate.htm","../view/ListViewForSelectedItemsList"],function(e){"use strict";var t=e("jquery"),i=e("backbone"),n=e("underscore"),a=e("common/util/browserDetection"),r=e("bundle!js-sdk/ScalableInputControlsBundle"),s=(e("common/util/xssUtil"),e("components/singleSelect/manager/KeyboardManager")),o=e("components/scalableList/model/ListWithSelectionModel"),l=e("components/scalableList/model/listWithNavigationModelTrait"),d=e("../mixin/scalableListItemHeightCalculationTrait"),c=e("text!../templates/selectedItemsTemplate.htm"),u=e("text!../templates/selectedItemsListTemplate.htm"),h=e("text!../templates/listTemplate.htm"),m=e("../view/ListViewForSelectedItemsList"),p=i.View.extend({className:"jr-mMultiselect-listContainer jr-isInactive jr",events:function(){return{"keydown input":this.keyboardManager.onKeydown,"focus input":"onFocus","blur input":"onBlur","mouseup .jr-mSelectlist-item-delete":"onMouseupOnDeleteButton",mousedown:"onMousedown",mouseup:"onMouseup"}},keydownHandlers:n.extend({65:"onAKey",8:"onDeleteKey",46:"onDeleteKey"},s.prototype.keydownHandlers),initialize:function(e){this.model||(this.model=new i.Model),this.model.set("focused",!1,{silent:!0}),this.template=n.template(c),this.keyboardManager=new s({keydownHandlers:this.keydownHandlers,keydownTimeout:e.keydownTimeout,context:this,deferredKeydownHandler:this.processKeydown,immediateHandleCondition:this.immediateHandleCondition,immediateKeydownHandler:this.immediateKeydownHandler,stopPropagation:!0});var a=o.extend(l);this.listViewModel=e.listViewModel||new a({getData:e.getData,bufferSize:e.bufferSize,loadFactor:e.loadFactor}),this.listView=e.listView||n.extend(new m({el:e.listElement||t(h),model:this.listViewModel,chunksTemplate:e.chunksTemplate,itemsTemplate:e.itemsTemplate||u,scrollTimeout:e.scrollTimeout,lazy:!0,selectedClass:"is-selected",selection:{allowed:!0,multiple:!1}}),d),this.initListeners(),this.render().resize()},initListeners:function(){this.listenTo(this.listView,"active:changed",this.activeChange,this),this.listenTo(this.model,"change:focused",this.focusStateChanged,this),this.listenTo(this.model,"change:disabled",this.changeDisabled,this),this.listenTo(this.listViewModel,"change",this.onModelChange,this)},render:function(){this.listView.undelegateEvents();var e=t(this.template({disabled:this.model.get("disabled"),i18n:r}));return this.$el.empty().append(e).find(".jr-mMultiselect-list").append(this.listView.el),this.listView.render(),this.listView.delegateEvents(),this},renderData:function(){return this.listView.renderData(),this},activeChange:function(e){e?(this.listViewModel.select(e.value,e.index),this.listView.scrollTo(e.index)):this.listViewModel.clearSelection()},changeDisabled:function(){var e=this.model.get("disabled");e?(this.$el.find("input[type='text']").attr("disabled","disabled"),this.listView.setValue({}),this.listView.activate(void 0)):this.$el.find("input[type='text']").removeAttr("disabled"),this.listView.setDisabled(e)},focusStateChanged:function(){this.model.get("focused")?this.$el.find(".mSelect-svListPlaceholder").addClass("focused"):this.$el.find(".mSelect-svListPlaceholder").removeClass("focused")},onModelChange:function(){this.listViewModel.get("total")?this.listView.$el.show():this.listView.$el.hide()},onFocus:function(){this.model.set("focused",!0)},onBlur:function(){this.preventBlur||this.model.set("focused",!1)},onMouseupOnDeleteButton:function(e){this.onDeleteKey(e)},onMousedown:function(){a.isIPad()||(this.preventBlur=!0,this.model.get("focused")||this.$el.find("input").focus())},onMouseup:function(){this.preventBlur&&(this.$el.find("input").focus(),delete this.preventBlur)},onUpKey:function(e){this.listView.activatePrevious()},onDownKey:function(e){var t=this.listView.getActiveValue();t?this.listView.activateNext():this.listView.activateFirst()},onEnterKey:function(e){},onHomeKey:function(e){this.listView.activateFirst()},onEndKey:function(e){this.listView.activateLast()},onPageUpKey:function(e){this.listView.pageUp()},onPageDownKey:function(e){this.listView.pageDown()},onTabKey:function(){},onAKey:function(e){},onDeleteKey:function(e){var t=this.listView.getValue();if(t&&t.length>0){var i=!0;for(var n in t)if(t.hasOwnProperty(n)&&void 0!==t[n]){i=!1;break}i||this.trigger("selection:remove",t)}},fetch:function(e,t){this.listView.setValue({}),this.listView.activate(void 0),this.listView.fetch(e,t)},resize:function(){this.listView.resize()},setDisabled:function(e){this.model.set("disabled",e)},getDisabled:function(){return this.model.get("disabled")},remove:function(){this.listView.remove(),i.View.prototype.remove.call(this)}});return p}),define("text!components/multiSelect/templates/multiSelectTemplate.htm",[],function(){return'<div class="jr-mMultiselect-toggleContainer jr">\n    <div class="jr-mMultiselect-toggle jr-mMultiselect-toggleAvailable jr-isActive jr" title="">\n        <span class="jr-mMultiselect-toggle-label jr" title=""></span>\n    </div>\n    <div class="jr-mMultiselect-toggle jr-mMultiselect-toggleSelected jr-isInactive jr">\n        <span class="jr-mMultiselect-toggle-label jr" title=""></span>\n    </div>\n</div>\n'}),define("components/singleSelect/dataprovider/CacheableDataProvider",["require","jquery","underscore"],function(e){
"use strict";var t=e("jquery"),i=e("underscore"),n=function(e){i.bindAll(this,"getData"),this.data=e||[]};return i.extend(n.prototype,{setData:function(e){this.data=e||[]},getData:function(e){var i=new t.Deferred,n=e&&e.offset?e.offset:0,a=e&&e.limit?n+e.limit:this.data.length,r=this._getDataSegment(this.data,n,a);return i.resolve({data:r,total:this.data.length}),i.promise()},_getDataSegment:function(e,t,i){i=Math.min(i,e.length);for(var n=[],a=t;i>a;a++)n.push({label:e[a].label,value:e[a].value});return n}}),n}),define("components/multiSelect/dataprovider/SelectedItemsDataProvider",["require","underscore","components/singleSelect/dataprovider/CacheableDataProvider"],function(e){"use strict";var t=e("underscore"),i=e("components/singleSelect/dataprovider/CacheableDataProvider"),n=function(e){e=e||{},t.defaults(e,{sortFunc:this._sortFunc,formatLabel:this._formatLabel}),this.sortFunc=e.sortFunc,this.formatLabel=e.formatLabel,i.call(this,e)};return t.extend(n.prototype,i.prototype),t.extend(n.prototype,{setData:function(e){e=this._convertToStandardData(e),e=this._sortData(e),i.prototype.setData.call(this,e)},_sortFunc:function(e){return e.label},_formatLabel:function(e){return e},_sortData:function(e){return t.sortBy(e,this.sortFunc)},_convertToStandardData:function(e){var i=this;return t.map(e,function(e){return{value:e,label:i.formatLabel(e)}})}}),n}),define("text!components/sizer/template/sizerTemplate.htm",[],function(){return'<div class="jr-mSizer jr-mSizerVertical ui-resizable-s jr">\n    <span class="ui-icon ui-icon-grip-solid-horizontal"></span>\n</div>\n'}),define("components/sizer/Sizer",["require","jquery","backbone","underscore","text!./template/sizerTemplate.htm","logger","jquery-ui/jquery.ui.resizable"],function(e){"use strict";var t=e("jquery"),i=e("backbone"),n=e("underscore"),a=e("text!./template/sizerTemplate.htm"),r=e("logger").register("Sizer");return e("jquery-ui/jquery.ui.resizable"),i.View.extend({template:n.template(a),el:function(){return this.template()},initialize:function(e){this.container=e.container,this.sizerOptions=n.clone(e),delete this.sizerOptions.container,this.$container=t(this.container),this.render()},render:function(){return n.defaults(this.sizerOptions,{minHeight:this.$container.height(),handles:{s:this.$el}}),this.$container.resizable(this.sizerOptions),this},show:function(){return this.$el.removeClass("jr-isInvisible"),this},hide:function(){return this.$el.addClass("jr-isInvisible"),this},updateMinMax:function(e){this.$container.resizable("option","minHeight",e.minHeight),this.$container.resizable("option","maxHeight",e.maxHeight)},remove:function(){try{this.$container.resizable("destroy")}catch(e){r.debug(e)}i.View.prototype.remove.apply(this,arguments)}})}),define("components/multiSelect/view/MultiSelect",["require","jquery","backbone","underscore","components/singleSelect/dataprovider/SearcheableDataProvider","common/util/parse/NumberUtils","common/util/browserDetection","bundle!js-sdk/ScalableInputControlsBundle","common/util/xssUtil","components/scalableList/util/domAndCssUtil","../view/AvailableItemsList","../view/SelectedItemsList","text!../templates/multiSelectTemplate.htm","../dataprovider/SelectedItemsDataProvider","components/sizer/Sizer"],function(e){"use strict";var t=e("jquery"),i=e("backbone"),n=e("underscore"),a=e("components/singleSelect/dataprovider/SearcheableDataProvider"),r=e("common/util/parse/NumberUtils"),s=new r,o=e("common/util/browserDetection"),l=e("bundle!js-sdk/ScalableInputControlsBundle"),d=e("common/util/xssUtil"),c=e("components/scalableList/util/domAndCssUtil").doCalcOnVisibleNodeClone,u=e("../view/AvailableItemsList"),h=e("../view/SelectedItemsList"),m=e("text!../templates/multiSelectTemplate.htm"),p=e("../dataprovider/SelectedItemsDataProvider"),f=e("components/sizer/Sizer"),g=100,_=10,v=3;return i.View.extend({className:"jr-mMultiselect jr",events:function(){return{"click  .jr-mMultiselect-toggle":"toggleLists"}},initialize:function(e){this.template=n.template(m),this.i18n={selected:l["sic.multiselect.toggle.selected"],available:l["sic.multiselect.toggle.available"]},this.availableItemsListModel=this._createAvailableItemsListModel(e),this.availableItemsList=this._createAvailableItemsList(e),this.selectedItemsDataProvider=this._createSelectedItemsListDataProvider(e),this.selectedItemsList=this._createSelectedItemsList(e),this.resizable=e&&e.resizable,this.initListeners(),"undefined"!=typeof e.value&&(this.silent=!0,this.availableItemsList.setValue(e.value)),e&&e.resizable&&(this.sizer=new f({container:this.$el,stop:n.bind(function(){this.resize()},this)})),this.render()},_createAvailableItemsListModel:function(e){return new i.Model},_createAvailableItemsList:function(e){return e.availableItemsList||new u({model:this.availableItemsListModel,getData:new a({getData:e.getData}).getData,bufferSize:e.bufferSize,loadFactor:e.loadFactor,chunksTemplate:e.chunksTemplate,scrollTimeout:e.scrollTimeout})},_createSelectedItemsListDataProvider:function(e){return new p(e.selectedListOptions)},_createSelectedItemsList:function(e){return this.formatValue=e.formatValue,new h({getData:this.selectedItemsDataProvider.getData,bufferSize:e.bufferSize,loadFactor:e.loadFactor,chunksTemplate:e.chunksTemplate,scrollTimeout:e.scrollTimeout})},initListeners:function(){this.listenTo(this.availableItemsList,"selection:change",this.selectionChange,this),this.listenTo(this.availableItemsListModel,"change:totalValues",this._availableItemsTotalCountChange,this),this.listenTo(this.selectedItemsList,"selection:remove",this.selectionRemoved,this)},render:function(){return this.sizer&&this.sizer.$el.detach(),this.$el.html(t(this.template({i18n:l}))),this.$toggleContainer=this.$el.find(".jr-mMultiselect-toggleContainer"),this.availableItemsList.undelegateEvents(),this.selectedItemsList.undelegateEvents(),this.selectedItemsList.$el.insertAfter(this.$toggleContainer),this.availableItemsList.$el.insertAfter(this.$toggleContainer),this.availableItemsList.render(),this.selectedItemsList.render(),this._updateAvailableItemsCountLabel(),this._updateSelectedItemsCountLabel(),this.availableItemsList.delegateEvents(),this.selectedItemsList.delegateEvents(),this._tuneCSS(),this._renderSizer(),this},_renderSizer:function(){this.sizer&&(this._handleHeight(),this.$el.append(this.sizer.$el))},_tuneCSS:function(){var e=this;this._cssDepententSizesSet||(c({el:this.$el,css:{width:"500px"},classes:"jr",alwaysClone:!0,callback:function(t){e.toggleContainerHeight=t.find(".jr-mMultiselect-toggleContainer").outerHeight(),e._tuneCSSInternal(t),t.find(".jr-mScalablelist").css({height:"0"}),e._emptyContainerHeight=t.outerHeight(),e.$el.css("height",e._calcHeightByItemsCount(_))}}),this._cssDepententSizesSet=!0),this._tuneCSSInternal(this.$el)},_tuneCSSInternal:function(e){var t=this.toggleContainerHeight;o.isIPad()&&this.$el.addClass("ipad"),e.find(".jr-mMultiselect-listContainer").css("padding-top",t)},toggleLists:function(e){e.stopPropagation(),t(e.currentTarget).hasClass("jr-isActive")||(this.$el.find(".jr-mMultiselect-toggle").toggleClass("jr-isActive jr-isInactive"),this.$el.find(".jr-mMultiselect-listContainer").toggleClass("jr-isActive jr-isInactive"),o.isIPad()||this.$el.find(".jr-mMultiselect-listContainer.jr-isActive input").focus())},selectionChange:function(e){clearTimeout(this.selectionChangeTimeout),this.selectionChangeTimeout=setTimeout(n.bind(this.selectionChangeInternal,this,e),g)},selectionRemoved:function(e){var t,i=this.availableItemsList.model.get("value"),a=e.length;for(t=0;a>t;t+=1)delete i[e[t]];this.availableItemsList.setValue(n.keys(i))},selectionChangeInternal:function(e){var t=this,i=this.selectedItemsList.listView.getActiveValue(),n=this.selectedItemsList.listView.$el.scrollTop();this.selectedItemsDataProvider.setData(e),this.selectedItemsList.fetch(function(){if(t._updateSelectedItemsCountLabel(),t.selectedItemsList.resize(),t.selectedItemsList.listView.$el.scrollTop(n),i&&t.selectedItemsList.$el.hasClass("j-active")){var e=t.selectedItemsList.listView.model.get("total");e&&e>i.index?t.selectedItemsList.listView.activate(i.index):e&&t.selectedItemsList.listView.activate(i.index-1)}}),this.silent?delete this.silent:this.triggerSelectionChange()},_setToggleLabel:function(e,t,i){var n=s.formatNumber(t),a=this.$el.find(e+" .jr-mMultiselect-toggle-label"),r=i+": "+n;a.text(r).attr("title",d.escape(r))},_handleHeight:function(){var e=this.availableItemsList.model.get("totalValues")||0;if(this._cssDepententSizesSet&&e){var t=this.$el.height(),i=this.$el.height(),n=this._calcHeightByItemsCount(v),a=this._calcHeightByItemsCount(e);_>=e?n=a=i=this._calcHeightByItemsCount(Math.max(v,e)):t>a&&(i=this._calcHeightByItemsCount(e)),this.$el.css("height",i+"px"),this._updateSizerVisibility({minHeight:n,maxHeight:a})}},_updateSizerVisibility:function(e){this.sizer&&(this.sizer.updateMinMax(e),e.minHeight===e.maxHeight?this.sizer.hide():this.sizer.show())},_calcHeightByItemsCount:function(e){var t=this.availableItemsList.listView.itemHeight;return e*t+this._emptyContainerHeight},_availableItemsTotalCountChange:function(){this._updateAvailableItemsCountLabel(),this._handleHeight()},_updateAvailableItemsCountLabel:function(){var e=this.availableItemsList.model.get("totalValues")||0;this._setToggleLabel(".jr-mMultiselect-toggleAvailable",e||0,this.i18n.available)},_updateSelectedItemsCountLabel:function(){var e=this.$el.find(".jr-mMultiselect-list-message"),t=this.selectedItemsList.listView.model.get("total")||0;this._setToggleLabel(".jr-mMultiselect-toggleSelected",t,this.i18n.selected),0===t?e.removeClass("jr-isHidden"):e.addClass("jr-isHidden")},triggerSelectionChange:function(){this.trigger("selection:change",this.getValue())},renderData:function(){return this.availableItemsList.renderData(),this.selectedItemsList.renderData(),this},fetch:function(e,t){this.availableItemsList.fetch(e,t)},reset:function(e){this.availableItemsList.reset(e)},resize:function(){n.debounce(n.bind(function(){this.availableItemsList.resize(),this.selectedItemsList.resize()},this),500)()},setValue:function(e,t){t&&t.silent&&(this.silent=!0),delete t.silent,this.availableItemsList.setValue(e,t)},getValue:function(){var e=this.availableItemsList.getValue(),t=[],i=0;for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&(t[i++]=e[n]);return t},setDisabled:function(e){return this.availableItemsList.setDisabled(e),this.selectedItemsList.setDisabled(e),this},getDisabled:function(){return this.availableItemsList.getDisabled()},remove:function(){this.availableItemsList.remove(),this.selectedItemsList.remove(),this.sizer&&this.sizer.remove(),i.View.prototype.remove.call(this)}})}),define("components/multiSelect/mixin/resizableMultiSelectTrait",["require","underscore","jquery","../view/MultiSelect","jquery-ui/jquery.ui.resizable"],function(e){"use strict";var t=e("underscore"),i=e("jquery"),n=e("../view/MultiSelect");e("jquery-ui/jquery.ui.resizable");var a=10,r=3;return{_checkDataSize:function(){var e=this.resizableOptions,t=e.sizer,i=e.el,n=e.defaultItemsCount,a=this.availableItemsList.listViewModel.get("total");return this.resized?void t.removeClass("hidden"):void(a<=e.defaultItemsCount?(t.addClass("hidden"),i.css("height",this.calcHeightByItemsCount(a)+"px")):(t.removeClass("hidden"),i.css("height",this.calcHeightByItemsCount(n)+"px")))},makeResizable:function(e){if(e=e||{},!e.el||!e.sizer)throw"resizableMultiSelectTrait expect el and sizable to be defined";t.defaults(e,{defaultItemsCount:a,minItemsCount:r,sizerOptions:{}}),this.resizableOptions=e,e.el=i(e.el),e.sizer=i(e.sizer);var n=e.el,s=e.sizer,o=e.sizerOptions,l=e.minItemsCount,d=Math.max(e.defaultItemsCount,l),c=this.calcHeightByItemsCount(d);return t.defaults(o,{handles:{s:s},minHeight:this.calcHeightByItemsCount(l),stop:t.bind(function(){this.resize(),this.resized=!0},this)}),s.addClass(e.sizerClass),n.css("height",c+"px").resizable(o),this.listenTo(this.availableItemsList.model,"change:totalValues",this._checkDataSize,this),this},calcHeightByItemsCount:function(e){var t=this.availableItemsList.listView.itemHeight;return e*t+this.emptyContainerHeight},destroyResizable:function(){try{this.resizableOptions&&this.resizableOptions.el.resizable("destroy")}catch(e){}},enableResizable:function(){try{this.resizableOptions&&this.resizableOptions.el.resizable("disable")}catch(e){}},disableResizable:function(){try{this.resizableOptions&&this.resizableOptions.el.resizable("enable")}catch(e){}},remove:function(){this.destroyResizable(),n.prototype.remove.call(this)}}}),define("adhoc/filter/valueEditor/MultiSelectValueEditorAdapter",["require","underscore","adhoc/filter/valueEditor/ListValueEditorAdapter","components/multiSelect/view/MultiSelect","components/multiSelect/mixin/resizableMultiSelectTrait","adhoc/filter/format/OlapFilterValueFormatter","adhoc/filter/format/filterValueFormatter","common/util/featureDetection"],function(e){"use strict";var t=e("underscore"),i=e("adhoc/filter/valueEditor/ListValueEditorAdapter"),n=e("components/multiSelect/view/MultiSelect"),a=(e("components/multiSelect/mixin/resizableMultiSelectTrait"),e("adhoc/filter/format/OlapFilterValueFormatter")),r=e("adhoc/filter/format/filterValueFormatter");e("common/util/featureDetection");return i.extend({createList:function(){return new n({getData:t.bind(this.model.dataProvider.getData,this.model),selectedListOptions:{formatLabel:this.model.isOlap?new a(this.model.get("isFirstLevelInHierarchyAll")).format:r},resizable:!0})},render:function(){return i.prototype.render.apply(this,arguments),this._moveSizer(),this},_moveSizer:function(){var e=this.list.$el.find(".jr-mSizer");e.length&&e.detach().insertAfter(this.$(".warning"))}})}),define("components/multiSelect/dataprovider/DelegatingDataProvider",["require","underscore"],function(e){"use strict";var t=e("underscore"),i=function(e){t.bindAll(this,"getData"),this._getData=e&&e.getData};return t.extend(i.prototype,{getData:function(e){return this._getData(e)},setGetData:function(e){this._getData=e}}),i}),define("components/multiSelect/mixin/listWithTrueAllSelectionTrait",["require","components/scalableList/view/ListWithNavigation"],function(e){"use strict";var t=e("components/scalableList/view/ListWithNavigation"),i={postProcessChunkModelItem:function(e,i){t.prototype.postProcessChunkModelItem.call(this,e,i),this.getTrueAll()&&(e.selected=!0)},setTrueAll:function(e,t){this.isTrueAll=e,this.setValue({},t)},getTrueAll:function(){return this.isTrueAll}};return i}),define("components/multiSelect/view/AvailableItemsListWithTrueAll",["require","jquery","underscore","../view/AvailableItemsList","../mixin/listWithTrueAllSelectionTrait"],function(e){"use strict";var t=(e("jquery"),e("underscore")),i=e("../view/AvailableItemsList"),n=e("../mixin/listWithTrueAllSelectionTrait"),a=i.extend({initialize:function(e){e.trueAll&&delete e.value,i.prototype.initialize.call(this,e),this.setTrueAll(e.trueAll)},_createListView:function(e){var a=i.prototype._createListView.call(this,e);return t.extend(a,n)},initListeners:function(){i.prototype.initListeners.call(this),this.listenTo(this.model,"change:isTrueAll",this.changeTrueAll,this)},selectionAdd:function(e){if(this.model.get("isTrueAll")){this.model.set("isTrueAll",!1,{silent:!0});var i=t.chain(this.listViewModel.get("items")).map(function(e){return e.value}).reject(function(t){return t===e.value}).value();this.listView.setTrueAll(!1,{silent:!0}),this.listView.setValue(i,{silent:!0}),this.listViewModel.once("selection:change",function(){this.listViewModel.once("selection:remove",function(){this.processSelectionThroughApi(this.listView.getValue())},this),this.listViewModel.toggleSelection(e.value,e.index)},this),this.listView.selectAll({silent:!0})}else this.model.get("value")[e.value]=!0,this.model.trigger("change:value")},onSelectAll:function(){this.model.get("isTrueAll")||this.model.set("isTrueAll",!0)},onSelectNone:function(){this.model.set("isTrueAll",!1),i.prototype.onSelectNone.call(this)},onInvertSelection:function(){this.model.get("isTrueAll")?this.onSelectNone():t.isEmpty(this.model.get("value"))?this.onSelectAll():i.prototype.onInvertSelection.call(this)},changeTrueAll:function(){var e=this.model.get("isTrueAll");if(e){this.listView.activate(void 0),this.listView.reset();var t=this;this.clearFilter(function(){t.listView.once("selection:change",t.processSelectionThroughApi,t),t.listView.setTrueAll(!0)})}else this.model.trigger("change:value"),this.listView.setTrueAll(!1)},getModelForRendering:function(){return t.extend(i.prototype.getModelForRendering.call(this),{isTrueAll:this.model.get("isTrueAll")})},setTrueAll:function(e){this.model.set("isTrueAll",e)},getTrueAll:function(){return this.model.get("isTrueAll")}});return a}),define("components/multiSelect/view/MultiSelectWithTrueAll",["require","underscore","../dataprovider/DelegatingDataProvider","../dataprovider/SelectedItemsDataProvider","../view/AvailableItemsListWithTrueAll","../view/MultiSelect"],function(e){"use strict";var t=e("underscore"),i=e("../dataprovider/DelegatingDataProvider"),n=e("../dataprovider/SelectedItemsDataProvider"),a=e("../view/AvailableItemsListWithTrueAll"),r=e("../view/MultiSelect"),s=r.extend({_createAvailableItemsList:function(e){return this.availableItemsListDataProvider=e.getData,e.availableItemsList||new a({model:this.availableItemsListModel,getData:e.getData,bufferSize:e.bufferSize,loadFactor:e.loadFactor,chunksTemplate:e.chunksTemplate,scrollTimeout:e.scrollTimeout,trueAll:e.trueAll})},_createSelectedItemsListDataProvider:function(e){return this.selectedListOptions=e?e.selectedListOptions:{},new i},selectionRemoved:function(e){if(this.getTrueAll()){var t;for(var i in e)if(e.hasOwnProperty(i)){t={value:e[i],index:i};break}this.availableItemsList.selectionAdd(t)}else r.prototype.selectionRemoved.call(this,e)},selectionChangeInternal:function(e){var i=this.getTrueAll();if(i){this.selectedItemsDataProvider.setGetData(this.availableItemsListDataProvider),this.selectedItemsDataProvider.setData=null;var a=this;this.selectedItemsList.fetch(function(){a._updateSelectedItemsCountLabel(),a.selectedItemsList.resize()}),this.silent?delete this.silent:this.triggerSelectionChange()}else{var s=new n(this.selectedListOptions);this.selectedItemsDataProvider.setGetData(s.getData),this.selectedItemsDataProvider.setData=t.bind(s.setData,s),r.prototype.selectionChangeInternal.call(this,e)}},triggerSelectionChange:function(){this.trigger("selection:change",this.getValue(),{isTrueAll:this.getTrueAll()})},setTrueAll:function(e,t){t=t||{},t.silent&&(this.silent=!0),delete t.silent,this.availableItemsList.setTrueAll(e,t)},getTrueAll:function(){return this.availableItemsList.getTrueAll()}});return s}),define("adhoc/filter/valueEditor/MultiSelectWithTrueAllValueEditorAdapter",["require","underscore","adhoc/filter/valueEditor/MultiSelectValueEditorAdapter","components/multiSelect/view/MultiSelectWithTrueAll","adhoc/filter/format/OlapFilterValueFormatter","adhoc/filter/format/filterValueFormatter"],function(e){"use strict";var t=e("underscore"),i=e("adhoc/filter/valueEditor/MultiSelectValueEditorAdapter"),n=e("components/multiSelect/view/MultiSelectWithTrueAll"),a=e("adhoc/filter/format/OlapFilterValueFormatter"),r=e("adhoc/filter/format/filterValueFormatter");return i.extend({createList:function(){return new n({getData:t.bind(this.model.dataProvider.getData,this.model),selectedListOptions:{formatLabel:this.model.isOlap?new a(this.model.get("isFirstLevelInHierarchyAll")).format:r},resizable:!0})},_setValueToList:function(e){this.model.get("isAnyValue")?this.list.setTrueAll(!0):this.list.setValue(this.getValue(),e)}})}),define("adhoc/filter/valueEditor/InputValueEditor",["require","underscore","jquery","jrs.configs","adhoc/filter/valueEditor/AbstractValueEditor"],function(e){"use strict";var t=e("underscore"),i=e("jquery"),n=e("jrs.configs"),a=e("adhoc/filter/valueEditor/AbstractValueEditor"),r="_corrupted";return a.extend({inputSelector:"input[type='text']",events:function(){var e={};return e["change "+this.inputSelector]="onChange",e},registerEvents:function(){this.listenTo(this.model,"change:"+this.modelVariableName,this.render)},onChange:function(){var e=i(this.$(this.inputSelector)[0]),t=this.convert(e.val());this.setValue(t)},serializeModel:function(){var e=this.model.toJSON();return e.value=this._replaceValue(e.value),e},_replaceValue:function(e){return e===n.inputControlsConstants.NULL_SUBSTITUTION_VALUE&&(e=""),!t.isString(e)||e.toLowerCase()!==n.inputControlsConstants.NULL_SUBSTITUTION_VALUE.toLowerCase()+r&&e.toLowerCase()!==n.inputControlsConstants.NULL_SUBSTITUTION_LABEL.toLowerCase()+r||(e=e.split(r)[0]),e},_basicValueConverter:function(e){return(e.toLowerCase()===n.inputControlsConstants.NULL_SUBSTITUTION_VALUE.toLowerCase()||e.toLowerCase()===n.inputControlsConstants.NULL_SUBSTITUTION_LABEL.toLowerCase())&&(e+=r),""===e&&(e=n.inputControlsConstants.NULL_SUBSTITUTION_VALUE),e}})}),define("adhoc/filter/valueEditor/rangeTrait",["require","jquery","underscore","adhoc/filter/validation/ValidationError"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=e("adhoc/filter/validation/ValidationError");return{onChange:function(){var e=this.$(this.inputSelector),i=e.map(function(){return t(this).val()}).get(),n=this.convert(i);this.setValue(n)},convert:function(e){var t=this;return i.map(e,function(e){return t.valueConverter?t.valueConverter(e):e})},getValue:function(e){var t=this.model.get("value");return i.isNumber(e)?t[e]:t},validCallback:function(e,t,i){e.markAllFieldsAsValid(t,i)},invalidCallback:function(e,t,a,r){e.markAllFieldsAsValid(t,r),i.isArray(a)||(a=[a]),i.each(a,function(i){e.markSingleFieldAsInvalid(i instanceof n?i.getAttr():t,i,r)})},markAllFieldsAsValid:function(e,t){this.$("["+t+"]").text("").parent().removeClass("error")}}}),define("adhoc/filter/valueEditor/numericTrait",["require","jquery"],function(e){"use strict";var t=e("jquery");return{valueConverter:function(e){var i=t.trim(e);return this._basicValueConverter(i)}}}),define("adhoc/filter/valueEditor/NumericValueEditor",["require","adhoc/filter/valueEditor/numericTrait","adhoc/filter/valueEditor/InputValueEditor"],function(e){"use strict";var t=e("adhoc/filter/valueEditor/numericTrait"),i=e("adhoc/filter/valueEditor/InputValueEditor");return i.extend(t)}),define("adhoc/filter/valueEditor/NumericRangeValueEditor",["require","adhoc/filter/valueEditor/rangeTrait","adhoc/filter/valueEditor/NumericValueEditor"],function(e){"use strict";var t=e("adhoc/filter/valueEditor/rangeTrait"),i=e("adhoc/filter/valueEditor/NumericValueEditor");return i.extend(t)}),define("adhoc/filter/valueEditor/BooleanSelectEditor",["require","adhoc/filter/valueEditor/AbstractValueEditor","underscore"],function(e){"use strict";var t=e("adhoc/filter/valueEditor/AbstractValueEditor"),i=e("underscore");return t.extend({inputSelector:"select",isMultiple:!1,getDefaultViewModel:function(){return{multiple:this.isMultiple,options:[{value:"false",label:"false"},{value:"true",label:"true"}]}},serializeModel:function(){var e,t=this.getDefaultViewModel(),n=this.getValue()||"";return(e=i.find(t.options,function(e){return e.value===n}))&&(e.selected=!0),t},events:function(){var e={};return e["change "+this.inputSelector]="onChange",e},onChange:function(){var e=this.$(this.inputSelector).val(),t=this.convert(e);this.setValue(t)}})}),define("adhoc/filter/valueEditor/BooleanMultiSelectEditor",["require","adhoc/filter/valueEditor/BooleanSelectEditor","underscore","adhoc/filter/enum/filterOperators"],function(e){"use strict";var t=e("adhoc/filter/valueEditor/BooleanSelectEditor"),i=e("underscore"),n=e("adhoc/filter/enum/filterOperators");return t.extend({isMultiple:!0,serializeModel:function(){var e=this.getDefaultViewModel(),t=this.model.get("isAnyValue")&&this.model.get("operatorName")===n.IN,a={"true":t,"false":t};if(!t){var r=this.getValue();i.each(r,function(e){a[e]=!0})}return i.each(e.options,function(e){e.selected=a[e.value]||!1}),e},setValue:function(e){this.model.get("operatorName")===n.IN&&(this.model.attributes.isAnyValue=e&&2===e.length,this.model.get("isAnyValue")&&(e=[])),t.prototype.setValue.call(this,e||[])}})}),define("text!calendar2/template/calendar2Template.htm",[],function(){return'<div id=\'{{- uniqueId }}\' class=\'calendar2 dialog overlay\'>\r\n    <div class="content hasFooter">\r\n        <div class="header">\r\n            <div class="title">{{- i18n.CAL_date_chooser }}</div>\r\n        </div>\r\n        <div class=\'body\'>\r\n            <div class=\'tabsControl\'>\r\n                <div class="tabSelect">\r\n                    {{ if (calendarType === "datetime") { }}\r\n                        {{- i18n.CAL_fixed_timestamp }}\r\n                    {{ } else if (calendarType === "time") { }}\r\n                        {{- i18n.CAL_fixed_time }}\r\n                    {{ } else { }}\r\n                        {{- i18n.CAL_fixed_date }}\r\n                    {{ } }}\r\n                </div>\r\n                <div class="separator">|</div>\r\n                <div class="tabSelect">\r\n                    {{ if (calendarType === "datetime") { }}\r\n                        {{- i18n.CAL_relative_timestamp }}\r\n                    {{ } else if (calendarType === "time") { }}\r\n                        {{- i18n.CAL_relative_time }}\r\n                    {{ } else { }}\r\n                        {{- i18n.CAL_relative_date }}\r\n                    {{ } }}\r\n                </div>\r\n            </div>\r\n            <div class=\'tabs\'>\r\n                <div id=\'{{- uniqueId }}_calendar\' class=\'tab calendar\'></div>\r\n                <div class=\'tab relativeDates\'>\r\n                    <div class="dates">\r\n                        <div class="label">{{- i18n.CAL_time_period }}</div>\r\n                        <div class="measure">\r\n                            <select>\r\n                                <option selected="selected" value="">------</option>\r\n                                {{ _.each(rdWords, function(word) { }}\r\n                                <option value="{{- word.value }}">{{- word.label }}</option>\r\n                                {{ }); }}\r\n                            </select>\r\n                        </div>\r\n                        <div class="label">{{- i18n.CAL_adjustment }}</div>\r\n                        <div class="sign">\r\n                            <select>\r\n                                <option selected="selected" value="+">+</option>\r\n                                <option value="-">-</option>\r\n                            </select>\r\n                        </div>\r\n                        <div class="label">{{- i18n.CAL_number }}</div>\r\n                        <div class="amount">\r\n                            <input value="" type="text"/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="footer">\r\n            <button class="button action up nowButton">\r\n                <span class="wrap">\r\n                    {{ if (calendarType === "date") { }}\r\n                        {{- i18n.CAL_today }}\r\n                    {{ } else { }}\r\n                        {{- i18n.CAL_now }}\r\n                    {{ } }}\r\n                    <span class="icon"></span>\r\n                </span></button>\r\n            <button class="button action up closeButton"><span class="wrap">{{- i18n.CAL_close }}<span class="icon"></span></span></button>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("calendar2/calendar2",["require","jquery","underscore","common/util/datetime/RelativeDate","common/util/datetime/RelativeTime","common/util/datetime/RelativeTimestamp","text!./template/calendar2Template.htm","components/dateAndTime/DateAndTimePicker","bundle!calendar","config/dateAndTimeSettings"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=e("common/util/datetime/RelativeDate"),a=e("common/util/datetime/RelativeTime"),r=e("common/util/datetime/RelativeTimestamp"),s=e("text!./template/calendar2Template.htm"),o=e("components/dateAndTime/DateAndTimePicker"),l=e("bundle!calendar");e("config/dateAndTimeSettings");var d={evaluate:/\{\{([\s\S]+?)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,escape:/\{\{-([\s\S]+?)\}\}/g},c=function(e){return e=null==e?"":String(e),e=e.toLowerCase(),e.charAt(0).toUpperCase()+e.slice(1)},u=i.template(s,null,d),h={counter:0,activeMark:"activeCalendar2",hasActiveCalendar:function(e){return t(e).hasClass(this.activeMark)},instance:function(e){e=e||{};var s=this,d="hidden",h="calendar2_"+ ++this.counter,m={calContainer:!1,tabs:[],tabButtons:[],rdFunction:void 0,build:function(){e.calendarType=e.calendarType||"datetime",e.disabled=e.disabled||!1,e.relativeTime=e.relativeTime||!1,e.inputField=t(e.inputField),"date"==e.calendarType?m.rdFunction=n:"datetime"==e.calendarType?m.rdFunction=r:"time"==e.calendarType&&(m.rdFunction=a);var s=i.map(i.keys(m.rdFunction.PATTERNS),function(e){return{label:c(e)+"(s)",value:e}});e.inputField.addClass("hasCalendar2"),m.calContainer=t(u({uniqueId:h,i18n:l,rdWords:s,calendarType:e.calendarType})),m.calContainer.appendTo("body"),t("<button type='button' class='ui-datepicker-trigger button picker'></button>").insertAfter(e.inputField),m.initTabs(),m.attachListeners(),e.disabled&&m.calContainer.addClass("disabled"),this.RD.init(m.rdFunction),this.Calendar.init()},attachListeners:function(){m.tabButtons.each(function(e,i){t(i).bind("click",function(){m.activateTab(e)})}),e.inputField.next(".ui-datepicker-trigger").bind("click",m.show),m.calContainer.find(".closeButton").bind("click",m.hide),m.calContainer.find(".nowButton").bind("click",i.bind(m.Calendar.setCurrent,m.Calendar)),t(document).bind("mousedown",m.checkExternalClick)},removeListeners:function(){m.tabButtons.each(function(e,i){t(i).unbind("click",function(){m.activateTab(e)})}),e.inputField.next(".ui-datepicker-trigger").unbind("click",m.show),m.calContainer.find(".closeButton").unbind("click",m.hide),m.calContainer.find(".nowButton").unbind("click",i.bind(m.Calendar.setCurrent,m.Calendar)),t(document).unbind("mousedown",m.checkExternalClick)},checkExternalClick:function(e){"shown"==d&&0===t(e.target).parents("#"+h).length&&m.hide()},initTabs:function(){m.tabs=m.calContainer.find(".tabs > div"),m.tabButtons=m.calContainer.find(".tabsControl > .tabSelect"),"time"!==e.calendarType||e.relativeTime||(m.tabs[1].remove(),m.tabButtons[1].remove(),m.calContainer.find(".tabsControl").hide()),m.activateTab(0)},activateTab:function(e){e>=m.tabs.length||(m.tabButtons.removeClass("opened"),m.tabs.removeClass("opened"),t(m.tabs[e]).addClass("opened"),t(m.tabButtons[e]).addClass("opened"),m.calContainer.find(".nowButton")[1===e?"hide":"show"]())},destroy:function(){e.inputField.removeClass("hasCalendar2"),m.removeListeners(),m.RD.destroy(),m.calContainer.remove()},show:function(){e.inputField.attr("readonly","readonly");var t=e.inputField.val(),i=m.rdFunction.isValid(t);m.activateTab(i?1:0),m.calContainer.show(),m.Calendar.create(),i?m.RD.setValue(t):m.Calendar.setValue(t),m.adjustPosition(),d="shown";var n=e.inputField;n.length&&n.addClass(s.activeMark)},adjustPosition:function(){var i=e.inputField,n=i.offset(),a=m.calContainer.width(),r=m.calContainer.height(),s=t(window),o=s.width(),l=s.height();n.top+25+r<=l||n.top-r-5<0?n.top+=25:n.top=n.top-r-5,n.left+a>o&&(n.left=Math.max(o-(a+20),50)),m.calContainer.offset(n)},hide:function(){e.inputField.removeAttr("readonly"),m.calContainer.hide(),m.Calendar.destroy(),d="hidden";var t=e.inputField;t.length&&t.removeClass(s.activeMark)},RD:{possibleValues:[],holder:!1,date:{},init:function(e){this.date=new e("","+",""),this.holder=m.calContainer.find(".relativeDates > .dates"),this.attachEventListeners()},attachEventListeners:function(){this.holder.find(".measure select, .sign select").bind("change",this.onSelect),this.holder.find(".amount input").bind("keyup",this.onSelect);
},removeEventListeners:function(){this.holder.find(".measure select, .sign select").unbind("change",this.onSelect),this.holder.find(".amount input").unbind("keyup",this.onSelect)},onSelect:function(){e.inputField.val(m.RD.getValue()),e.inputField.trigger("change")},destroy:function(){this.removeEventListeners()},getValue:function(){return this.date.setKeyword(this.holder.find(".measure select").val()),this.date.setSign(this.holder.find(".sign select").val()),this.date.setNumber(this.holder.find(".amount input").val()),this.date.toString()},setValue:function(e){var t=m.rdFunction.parse(e);t?this.date=t:(this.date.setKeyword(""),this.date.setSign("+"),this.date.setNumber("")),this.holder.find(".measure select").val(this.date.keyword),this.holder.find(".sign select").val(this.date.sign),this.holder.find(".amount input").val(this.date.number)}},Calendar:{jqueryCalendar:!1,jqueryCalendarConfig:{},jqueryCalendarType:!1,init:function(){this.jqueryCalendarType="datetimepicker","time"==e.calendarType?this.jqueryCalendarType="timepicker":"date"==e.calendarType&&(this.jqueryCalendarType="datepicker"),this.jqueryCalendarConfig={dateFormat:"yy-mm-dd",timeFormat:"HH:mm:ss",showHour:!1,showMinute:!1,showSecond:!1,showTime:!1,constrainInput:!1,showButtonPanel:!1,onSelect:function(t,i){e.inputField.val(t),e.inputField.trigger("change")}},("datetime"==e.calendarType||"date"==e.calendarType)&&(this.jqueryCalendarConfig=i.extend(this.jqueryCalendarConfig,{changeYear:!0,changeMonth:!0})),("datetime"==e.calendarType||"time"==e.calendarType)&&(this.jqueryCalendarConfig=i.extend(this.jqueryCalendarConfig,{showTime:!0,showHour:!0,showMinute:!0,showSecond:!0})),this.jqueryCalendarConfig=i.extend(this.jqueryCalendarConfig,e.jqueryPickerOptions||{}),"time"==e.calendarType?delete this.jqueryCalendarConfig.dateFormat:"date"==e.calendarType&&delete this.jqueryCalendarConfig.timeFormat,this.jqueryCalendarConfig.disabled=e.disabled,this.jqueryCalendar=m.calContainer.find("#"+h+"_calendar"),this.jqueryCalendarConfig.el=this.jqueryCalendar},destroy:function(){this.picker.remove()},create:function(){this.picker=new o(this.jqueryCalendarConfig)},getValue:function(){return this.picker.getDate()},setCurrent:function(){this.picker.setDate(new Date),this.jqueryCalendar.find(".ui-datepicker-today").click()},setValue:function(e){this.picker.setDate(e)}}};return m.build(),m}};return window.Calendar2=h,h}),define("adhoc/filter/valueEditor/dateTrait",["require","jquery","jrs.configs","underscore","calendar2/calendar2"],function(e){"use strict";var t=e("jquery"),i=e("jrs.configs"),n=e("underscore"),a=e("calendar2/calendar2"),r=/([\s]+$|^[\s]+)/g,s=/[\s]*(\+|\-)[\s]*/g;return{init:function(e){this._calendars=[],this.pickerType=e.pickerType},render:function(){return this._destroyCalendars(),this.$el.html(this.template(this.i18nModel(this.serializeModel()))),this._setupCalendar(this.$(this.inputSelector),this.pickerType),this.trigger("rendered",this),this},valueConverter:function(e){var t=(e||"").toUpperCase().replace(r,"");return t=t.replace(s,"$1"),this._basicValueConverter(t)},removeView:function(){this._destroyCalendars(),this._calendars=null},_setupCalendar:function(e,n){var r=this;e.each(function(){var e=t(this);r._calendars.push(a.instance({inputField:e,calendarType:n,jqueryPickerOptions:i.calendar.timepicker}))})},_destroyCalendars:function(){n.invoke(this._calendars,"destroy"),this._calendars=[]}}}),define("adhoc/filter/valueEditor/DateValueEditor",["require","adhoc/filter/valueEditor/dateTrait","adhoc/filter/valueEditor/InputValueEditor"],function(e){"use strict";var t=e("adhoc/filter/valueEditor/dateTrait"),i=e("adhoc/filter/valueEditor/InputValueEditor");return i.extend(t)}),define("adhoc/filter/valueEditor/InputRangeValueEditor",["require","adhoc/filter/valueEditor/rangeTrait","adhoc/filter/valueEditor/InputValueEditor"],function(e){"use strict";var t=e("adhoc/filter/valueEditor/rangeTrait"),i=e("adhoc/filter/valueEditor/InputValueEditor");return i.extend(t)}),define("adhoc/filter/valueEditor/DateRangeValueEditor",["require","underscore","jquery","adhoc/filter/valueEditor/dateTrait","adhoc/filter/valueEditor/InputRangeValueEditor"],function(e){"use strict";var t=e("underscore"),i=e("jquery"),n=e("adhoc/filter/valueEditor/dateTrait"),a=e("adhoc/filter/valueEditor/InputRangeValueEditor"),r=a.prototype;return a.extend(t.extend({},n,{onChange:function(e){this.model.set("isAnyValue",!1,{silent:!0}),r.onChange.call(this,e)},registerEvents:function(){r.registerEvents.call(this),this.$el.on("change","input[type=checkbox]",t.bind(function(e){var t=i(e.target).prop("checked");this.model.set("isAnyValue",t),t&&(this.model._setDefaultValue(),this.render())},this))}}))}),define("text!adhoc/filter/valueEditor/template/inputRangeValueEditorTemplate.htm",[],function(){return'<fieldset class="values between">\n    <label class="control input text">\n        <input class="" type="text" value="{{-value[0]}}">\n        <span data-validation-field="value__1" class="message warning"></span>\n    </label>\n    <div class="compare">{{- i18n.ADH_DYNAMIC_FILTER_AND }}</div>\n    <label class="control input text">\n        <input class="" type="text" value="{{-value[1]}}">\n        <span data-validation-field="value__2" class="message warning"></span>\n    </label>\n    <span data-validation-field="value" class="message warning"></span>\n</fieldset>\n'}),define("text!adhoc/filter/valueEditor/template/inputValueEditorTemplate.htm",[],function(){return'<fieldset class="values ">\n    <label class="control input text">\n        <input class="" type="text" value="{{-value}}">\n        <span data-validation-field="value" class="message warning"></span>\n    </label>\n</fieldset>\n'}),define("text!adhoc/filter/valueEditor/template/booleanSelectEditorTemplate.htm",[],function(){return'<fieldset class="values ">\n    <label class="control select">\n        <select class="" {{ if (multiple) { }}multiple="multiple"{{ } }}>\n        {{ _.each(options, function(option) { }}\n            <option value="{{- option.value }}" {{ if (option.selected) { }}selected="selected"{{ } }}>{{- option.label }}</option>\n        {{ }); }}\n        </select>\n        <span data-validation-field="value" class="message warning"></span>\n    </label>\n</fieldset>\n'}),define("text!adhoc/filter/valueEditor/template/dateRangeValueEditorTemplate.htm",[],function(){return'<fieldset class="values between">\n    <label class="control picker" title="{{- i18n.ADH_DYNAMIC_FILTER_RELATIVE_DATE_TOOLTIP }}">\n        <input class="" name="value1" type="text" value="{{-value[0]}}">\n        <span data-validation-field="value__1" class="message warning"></span>\n    </label>\n    <div class="compare">{{- i18n.ADH_DYNAMIC_FILTER_AND }}</div>\n    <label class="control picker" title="{{- i18n.ADH_DYNAMIC_FILTER_RELATIVE_DATE_TOOLTIP }}">\n        <input class="" name="value2" type="text" value="{{-value[1]}}">\n        <span data-validation-field="value__2" class="message warning"></span>\n    </label>\n    <span data-validation-field="value" class="message warning"></span>\n</fieldset>\n\n<fieldset class="all {{- operatorName != \'betweenDates\' ? \'hidden\' : \'\'}}">\n    <div class="control checkBox">\n        <label class="wrap" title="{{- i18n.ADH_1216_DYNAMIC_FILTER_RESET_ALL }}">\n            {{- i18n.ADH_1202_DYNAMIC_FILTER_ALL_OPTION }}\n        </label>\n        <input type="checkbox" value="All" {{- isAnyValue ? \'checked="checked"\' : \'\'}} />\n    </div>\n</fieldset>'}),define("text!adhoc/filter/valueEditor/template/dateValueEditorTemplate.htm",[],function(){return'<fieldset class="values ">\n    <label class="control picker" title="{{- i18n.ADH_DYNAMIC_FILTER_RELATIVE_DATE_TOOLTIP }}">\n        <input type="text" value="{{-value}}">\n        <span data-validation-field="value" class="message warning"></span>\n    </label>\n</fieldset>'}),define("adhoc/filter/factory/valueEditorFactory",["require","underscore","adhoc/filter/enum/filterDataTypes","adhoc/filter/enum/filterOperators","adhoc/filter/valueEditor/ListValueEditorAdapter","adhoc/filter/valueEditor/MultiSelectValueEditorAdapter","adhoc/filter/valueEditor/MultiSelectWithTrueAllValueEditorAdapter","adhoc/filter/valueEditor/InputValueEditor","adhoc/filter/valueEditor/NumericRangeValueEditor","adhoc/filter/valueEditor/NumericValueEditor","adhoc/filter/valueEditor/BooleanSelectEditor","adhoc/filter/valueEditor/BooleanMultiSelectEditor","adhoc/filter/valueEditor/DateValueEditor","adhoc/filter/valueEditor/DateRangeValueEditor","text!adhoc/filter/valueEditor/template/inputRangeValueEditorTemplate.htm","text!adhoc/filter/valueEditor/template/inputValueEditorTemplate.htm","text!adhoc/filter/valueEditor/template/booleanSelectEditorTemplate.htm","text!adhoc/filter/valueEditor/template/dateRangeValueEditorTemplate.htm","text!adhoc/filter/valueEditor/template/dateValueEditorTemplate.htm","bundle!AdHocFiltersBundle"],function(e){"use strict";var t=e("underscore"),i=e("adhoc/filter/enum/filterDataTypes"),n=e("adhoc/filter/enum/filterOperators"),a=e("adhoc/filter/valueEditor/ListValueEditorAdapter"),r=e("adhoc/filter/valueEditor/MultiSelectValueEditorAdapter"),s=e("adhoc/filter/valueEditor/MultiSelectWithTrueAllValueEditorAdapter"),o=e("adhoc/filter/valueEditor/InputValueEditor"),l=e("adhoc/filter/valueEditor/NumericRangeValueEditor"),d=e("adhoc/filter/valueEditor/NumericValueEditor"),c=e("adhoc/filter/valueEditor/BooleanSelectEditor"),u=e("adhoc/filter/valueEditor/BooleanMultiSelectEditor"),h=e("adhoc/filter/valueEditor/DateValueEditor"),m=e("adhoc/filter/valueEditor/DateRangeValueEditor"),p=e("text!adhoc/filter/valueEditor/template/inputRangeValueEditorTemplate.htm"),f=e("text!adhoc/filter/valueEditor/template/inputValueEditorTemplate.htm"),g=e("text!adhoc/filter/valueEditor/template/booleanSelectEditorTemplate.htm"),_=e("text!adhoc/filter/valueEditor/template/dateRangeValueEditorTemplate.htm"),v=e("text!adhoc/filter/valueEditor/template/dateValueEditorTemplate.htm"),b=e("bundle!AdHocFiltersBundle"),y={createInstance:function(e){return new this.constructor({model:e})},constructor:s},T={createInstance:function(e){return new this.constructor({model:e})},constructor:r},A={createInstance:function(e){return new this.constructor({model:e})},constructor:a},M={createInstance:function(e){return new this.constructor({template:f,model:e,i18n:b})},constructor:o},S={createInstance:function(e){return new this.constructor({template:g,model:e,i18n:b})},constructor:u},L={createInstance:function(e){return new this.constructor({template:g,model:e,i18n:b})},constructor:c},C={createInstance:function(e){return new this.constructor({template:p,model:e,i18n:b})},constructor:l},D={createInstance:function(e){return new this.constructor({template:f,model:e,i18n:b})},constructor:d},x={createInstance:function(e){return new this.constructor({template:v,model:e,pickerType:"date",i18n:b})},constructor:h},E={createInstance:function(e){return new this.constructor({template:_,model:e,pickerType:"date",i18n:b})},constructor:m},w={createInstance:function(e){return new this.constructor({template:v,model:e,pickerType:"time",i18n:b})},constructor:h},O={createInstance:function(e){return new this.constructor({template:_,model:e,pickerType:"time",i18n:b})},constructor:m},I={createInstance:function(e){return new this.constructor({template:v,model:e,pickerType:"datetime",i18n:b})},constructor:h},R={createInstance:function(e){return new this.constructor({template:_,model:e,pickerType:"datetime",i18n:b})},constructor:m},N={};N[i.STRING]={},N[i.STRING][n.IN]=y,N[i.STRING][n.NOT_IN]=T,N[i.STRING][n.EQUALS]=A,N[i.STRING][n.NOT_EQUAL]=A,N[i.STRING][n.CONTAINS]=M,N[i.STRING][n.NOT_CONTAINS]=M,N[i.STRING][n.STARTS_WITH]=M,N[i.STRING][n.NOT_STARTS_WITH]=M,N[i.STRING][n.ENDS_WITH]=M,N[i.STRING][n.NOT_ENDS_WITH]=M,N[i.BOOLEAN]={},N[i.BOOLEAN][n.IN]=S,N[i.BOOLEAN][n.NOT_IN]=S,N[i.BOOLEAN][n.EQUALS]=L,N[i.BOOLEAN][n.NOT_EQUAL]=L,N[i.NUMERIC]={},N[i.NUMERIC][n.IN]=y,N[i.NUMERIC][n.NOT_IN]=T,N[i.NUMERIC][n.EQUALS]=D,N[i.NUMERIC][n.NOT_EQUAL]=D,N[i.NUMERIC][n.GREATER]=D,N[i.NUMERIC][n.LESS]=D,N[i.NUMERIC][n.GREATER_OR_EQUAL]=D,N[i.NUMERIC][n.LESS_OR_EQUAL]=D,N[i.NUMERIC][n.BETWEEN]=C,N[i.NUMERIC][n.NOT_BETWEEN]=C,N[i.LONG]={},t.extend(N[i.LONG],N[i.NUMERIC]),N[i.INTEGER]={},t.extend(N[i.INTEGER],N[i.NUMERIC]),N[i.DECIMAL]={},t.extend(N[i.DECIMAL],N[i.NUMERIC]),N[i.DATE]={},N[i.DATE][n.EQUALS]=x,N[i.DATE][n.NOT_EQUAL]=x,N[i.DATE][n.GREATER]=x,N[i.DATE][n.LESS]=x,N[i.DATE][n.GREATER_OR_EQUAL]=x,N[i.DATE][n.LESS_OR_EQUAL]=x,N[i.DATE][n.BETWEEN_DATES]=E,N[i.DATE][n.NOT_BETWEEN_DATES]=E,N[i.TIME]={},N[i.TIME][n.EQUALS]=w,N[i.TIME][n.NOT_EQUAL]=w,N[i.TIME][n.GREATER]=w,N[i.TIME][n.LESS]=w,N[i.TIME][n.GREATER_OR_EQUAL]=w,N[i.TIME][n.LESS_OR_EQUAL]=w,N[i.TIME][n.BETWEEN]=O,N[i.TIME][n.NOT_BETWEEN]=O,N[i.TIMESTAMP]={},N[i.TIMESTAMP][n.EQUALS]=I,N[i.TIMESTAMP][n.NOT_EQUAL]=I,N[i.TIMESTAMP][n.GREATER]=I,N[i.TIMESTAMP][n.LESS]=I,N[i.TIMESTAMP][n.GREATER_OR_EQUAL]=I,N[i.TIMESTAMP][n.LESS_OR_EQUAL]=I,N[i.TIMESTAMP][n.BETWEEN_DATES]=R,N[i.TIMESTAMP][n.NOT_BETWEEN_DATES]=R;var k={};return k[n.IN]=T,k[n.NOT_IN]=T,k[n.EQUALS]=A,k[n.NOT_EQUAL]=A,function(e,t,i){return i?k.hasOwnProperty(t)?k[t]:void 0:N.hasOwnProperty(e)&&N[e].hasOwnProperty(t)?N[e][t]:void 0}}),define("adhoc/filter/factory/possibleOperatorsFactory",["require","adhoc/filter/enum/filterDataTypes","adhoc/filter/enum/filterOperators","underscore"],function(e){"use strict";var t=e("adhoc/filter/enum/filterDataTypes"),i=e("adhoc/filter/enum/filterOperators"),n=(e("underscore"),{});n[t.STRING]=[i.IN,i.NOT_IN,i.EQUALS,i.NOT_EQUAL,i.CONTAINS,i.NOT_CONTAINS,i.STARTS_WITH,i.NOT_STARTS_WITH,i.ENDS_WITH,i.NOT_ENDS_WITH],n[t.NUMERIC]=[i.IN,i.NOT_IN,i.EQUALS,i.NOT_EQUAL,i.LESS,i.GREATER,i.GREATER_OR_EQUAL,i.LESS_OR_EQUAL,i.BETWEEN,i.NOT_BETWEEN],n[t.BOOLEAN]=[i.IN,i.NOT_IN,i.EQUALS,i.NOT_EQUAL],n[t.TIMESTAMP]=[i.EQUALS,i.NOT_EQUAL,i.LESS,i.GREATER,i.GREATER_OR_EQUAL,i.LESS_OR_EQUAL,i.BETWEEN_DATES,i.NOT_BETWEEN_DATES],n[t.TIME]=[i.EQUALS,i.NOT_EQUAL,i.LESS,i.GREATER,i.GREATER_OR_EQUAL,i.LESS_OR_EQUAL,i.BETWEEN,i.NOT_BETWEEN],n[t.INTEGER]=n[t.NUMERIC],n[t.LONG]=n[t.NUMERIC],n[t.DECIMAL]=n[t.NUMERIC],n[t.DATE]=n[t.TIMESTAMP];var a=[i.IN,i.NOT_IN,i.EQUALS,i.NOT_EQUAL];return function(e,t){return t?a:n.hasOwnProperty(e)?n[e]:[]}}),define("text!adhoc/filter/editor/template/filterEditorTemplate.htm",[],function(){return'<li class="leaf filter">\n    <div class="pane panel filter {{print(filterPodMinimized ? \'minimized\' : \'\');}}">\n        <div class="content">\n            <div class="header">\n                <div class="title">\n                    <div class="filterName">\n                        <div class="button disclosure noBubble"></div>\n                        <span title="{{-filterLetter}}.{{-label}}">{{-filterLetter}}.{{-label}}</span>\n                    </div>\n                    <div class="button operator">\n                        <span class="icon"></span>\n                        <div>{{-operatorName}}</div>\n                    </div>\n                    <div class="button mutton">\n                        <span class="icon"></span>\n                    </div>\n                </div>\n            </div>\n            <div class="body"></div>\n        </div>\n    </div>\n</li>'}),define("adhoc/filter/editor/FilterEditor",["require","underscore","common/util/featureDetection","actionModel.modelGenerator","backbone","adhoc/filter/enum/filterOperators","adhoc/filter/factory/filterOperatorLabelFactory","adhoc/filter/factory/valueEditorFactory","adhoc/filter/factory/possibleOperatorsFactory","bundle!AdHocFiltersBundle","text!adhoc/filter/editor/template/filterEditorTemplate.htm"],function(e){"use strict";var t=e("underscore"),i=e("common/util/featureDetection"),n=e("actionModel.modelGenerator"),a=e("backbone"),r=(e("adhoc/filter/enum/filterOperators"),e("adhoc/filter/factory/filterOperatorLabelFactory")),s=e("adhoc/filter/factory/valueEditorFactory"),o=e("adhoc/filter/factory/possibleOperatorsFactory"),l=e("bundle!AdHocFiltersBundle"),d=e("text!adhoc/filter/editor/template/filterEditorTemplate.htm");return a.View.extend({template:t.template(d),isOlap:!1,el:function(){var e=this.model.toJSON();return e.i18n=l,this.template(e)},events:function(){var e={"click .header .operator":"showOperatorMenu","click .header .button.disclosure":"onToggleFilter"};return i.supportsTouch?e["click .header .mutton"]="showFilterMenu":e["mouseover .header .mutton"]="showFilterMenu",e}(),operators:{},initialize:function(){var e=this;this.valueEditorUIChanged=!1,t.bindAll(this,"removeFilter","upFilter","downFilter","drawToggleFilter"),this.operationsMenuActionModel=this.createOperationsMenuActionModel(),this.filterMenuActionModel=this.createFilterMenuActionModel(),this.listenTo(this.model,"operationChange",this.render),this.listenTo(this.model,"ready",this.render),this.listenTo(this.model,"change:filterPodMinimized",this.drawToggleFilter),this.listenTo(this.model,"change:filterLetter",this.redrawFilterTitle),this.listenTo(this.model,"change:label",this.redrawFilterTitle),this.model.loadAdditionalServerData(!0).done(function(){e.model.trigger("ready",e.model)})},redrawFilterTitle:function(){this.$(".filterName span").text(this.model.get("filterLetter")+"."+this.model.get("label")),this.$(".filterName span").attr("title",this.model.get("filterLetter")+"."+this.model.get("label"))},resizeTitle:function(){var e=this.$(".header .button.disclosure").width()+this.$(".header .button.operator div").width()+this.$(".header .button.operator .icon").width()+this.$(".header .button.mutton").width()+15,t=this.$(".header .title").width(),i=this.$(".header .filterName");i.css({overflow:"visible",width:"auto"});var n=i.find("span").width()+this.$(".header .button.disclosure").width()+15;i.css("overflow","hidden"),i.width(Math.min(t-e,n))},render:function(){var e=(this.model.get("operatorName"),this.getValueEditorFactory());return this.renderOperator(),this.valueEditor&&this.valueEditor.constructor==e.constructor||(this.valueEditor?(this.stopListening(this.valueEditor,"rendered",this.uiChanged),this.valueEditor.remove()):(this.$(".filter.panel").addClass("minimized"),t.defer(t.bind(this.drawToggleFilter,this))),this.valueEditor=this.createValueEditor()),this.valueEditor.updateData(),this},uiChanged:function(){this.trigger("uiChange:filters",this)},createValueEditor:function(){var e=this.getValueEditorFactory(),t=e.createInstance(this.model);return this.listenTo(t,"rendered",this.uiChanged),this.$(".body").html(t.$el),t},renderOperator:function(){this.$(".operator div").text(r(this.model.get("operatorName"),this.model.get("filterDataType"))),this.resizeTitle()},showOperatorMenu:function(e){n.showDynamicMenu("filterOperation_"+this.cid,e.originalEvent,"menu vertical dropDown fitable",null,this.operationsMenuActionModel)},showFilterMenu:function(e){n.showDynamicMenu(this.cid,e.originalEvent,"menu vertical dropDown fitable",null,this.filterMenuActionModel),e.stopPropagation()},onToggleFilter:function(){this.model.set("filterPodMinimized",!this.model.get("filterPodMinimized")),this.model.trigger("toggle",this.model)},drawToggleFilter:function(){this.$(".filter.panel")[this.model.get("filterPodMinimized")?"addClass":"removeClass"]("minimized")},removeFilter:function(e){var t=e&&e.force;this.model.get("used")&&!t?this.model.trigger("destroyConfirm",this.model,this.model.collection):this.model.trigger("destroy",this.model,this.model.collection)},upFilter:function(){this.model.trigger("move",this.model,{direction:-1})},downFilter:function(){this.model.trigger("move",this.model,{direction:1})},getValueEditorFactory:function(){var e=s(this.model.get("filterDataType"),this.model.get("operatorName"),this.isOlap);if(!e)throw"Value editor for filter data type '"+this.model.get("filterDataType")+"' and operator '"+this.model.get("operatorName")+"' does not exist";return e},createOperationsMenuActionModel:function(){var e=this,i={};return i["filterOperation_"+this.cid]=t.map(o(this.model.get("filterDataType"),this.isOlap),function(t){return n.createMenuElement("optionAction",{text:r(t,e.model.get("filterDataType")),action:function(t){e.model.set("operatorName",t)},actionArgs:[t],isSelectedTest:function(t){return e.model.get("operatorName")===t},isSelectedTestArgs:[t]})}),i},createFilterMenuActionModel:function(){var e={};return e[this.cid]=[n.createMenuElement("simpleAction",{text:l.ADH_1217_DYNAMIC_FILTER_REMOVE_FILTER,action:this.removeFilter}),n.createMenuElement("separator"),n.createMenuElement("simpleAction",{text:l.ADH_084_MOVE_UP,action:this.upFilter}),n.createMenuElement("simpleAction",{text:l.ADH_085_MOVE_DOWN,action:this.downFilter})],e},remove:function(){return this.valueEditor&&this.valueEditor.remove(),a.View.prototype.remove.call(this),this}})}),define("text!adhoc/filter/editor/template/readOnlyFilterTemplate.htm",[],function(){return'<li class="leaf filter">\n    <div class="panel pane filter {{ print(filterPodMinimized ? \'minimized\' : \'\'); }}">\n        <div class="content">\n            <div class="header">\n                <div class="title">\n                    <div class="filterName">\n                        <div class="button disclosure noBubble"></div>\n                        <span title="{{-filterLetter}}.{{-label}}">{{-filterLetter}}.{{-label}}</span>\n                    </div>\n                    <div class="button mutton">\n                        <span class="icon"></span>\n                    </div>\n                </div>\n            </div>\n            <div class="body ">\n                <fieldset>\n                    {{ if (isComplex) { }}\n                    <ul class="message">\n                        {{ _.each(variableNames, function(value) { }}\n                        <li>{{-value}}</li>\n                        {{ }); }}\n                    </ul>\n                    <p class="message">{{- i18n.ADH_1215_DYNAMIC_FILTER_ADVANCED_INFO }}</p>\n                    {{ } else { }}\n                    <p class="message">{{-filter.expressionAsString}}</p>\n                    <p class="message">{{- i18n.ADH_1215_DYNAMIC_FILTER_UNEDITABLE_INFO }}</p>\n                    {{ } }}\n                </fieldset>\n            </div>\n        </div>\n    </div>\n</li>'}),define("adhoc/filter/editor/ReadOnlyFilterEditor",["require","adhoc/filter/editor/FilterEditor","underscore","text!adhoc/filter/editor/template/readOnlyFilterTemplate.htm"],function(e){"use strict";var t=e("adhoc/filter/editor/FilterEditor"),i=e("underscore"),n=e("text!adhoc/filter/editor/template/readOnlyFilterTemplate.htm");return t.extend({template:i.template(n),resizeTitle:function(){},render:function(){return this}})}),define("text!adhoc/filter/editor/template/olapFilterEditorTemplate.htm",[],function(){return'<li class="leaf filter">\n    <div class="pane panel filter {{print(filterPodMinimized ? \'minimized\' : \'\');}}">\n        <div class="content">\n            <div class="header">\n                <div class="title">\n                    <div class="filterName">\n                        <div class="button disclosure noBubble"></div>\n                        <span title="{{-label}}">{{-label}}</span>\n                    </div>\n                    <div class="button operator">\n                        <span class="icon"></span>\n                        <div>{{-operatorName}}</div>\n                    </div>\n                    <div class="button mutton">\n                        <span class="icon"></span>\n                    </div>\n                </div>\n            </div>\n            <div class="body"></div>\n        </div>\n    </div>\n</li>'}),define("adhoc/filter/editor/OlapFilterEditor",["require","adhoc/filter/editor/FilterEditor","underscore","text!adhoc/filter/editor/template/olapFilterEditorTemplate.htm"],function(e){"use strict";var t=e("adhoc/filter/editor/FilterEditor"),i=e("underscore"),n=e("text!adhoc/filter/editor/template/olapFilterEditorTemplate.htm");return t.extend({template:i.template(n),isOlap:!0,initialize:function(){t.prototype.initialize.apply(this,arguments),this.stopListening(this.model,"change:filterLetter",this.redrawFilterTitle)}})}),define("adhoc/filter/factory/filterEditorFactory",["require","adhoc/filter/editor/FilterEditor","adhoc/filter/editor/ReadOnlyFilterEditor","adhoc/filter/editor/OlapFilterEditor","adhoc/filter/enum/filterDataTypes"],function(e){"use strict";var t=e("adhoc/filter/editor/FilterEditor"),i=e("adhoc/filter/editor/ReadOnlyFilterEditor"),n=e("adhoc/filter/editor/OlapFilterEditor"),a=e("adhoc/filter/enum/filterDataTypes");return function(e,r){var s;return s=r?n:e===a.READ_ONLY?i:t,function(e){return new s({model:e})}}}),function(e,t){if("function"==typeof define&&define.amd)define("jquery.ui.mouse.touch",["jquery-ui/jquery.ui.widget","jquery-ui/jquery.ui.mouse"],e);else{if(!t||!t.ui)throw"jQuery UI is not loaded.";e(t)}}(function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var i=e.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}}if(e.support.touch="ontouchend"in document,e.support.touch){var i,n=e.ui.mouse.prototype,a=n._mouseInit,r=n._mouseDestroy;n._touchStart=function(e){var n=this;!i&&n._mouseCapture(e.originalEvent.changedTouches[0])&&(i=!0,n._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},n._touchMove=function(e){i&&(this._touchMoved=!0,t(e,"mousemove"))},n._touchEnd=function(e){i&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),i=!1)},n._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),a.call(t)},n._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),r.call(t)}}}),this.jQuery,define("components.dialog",["require","jquery","underscore","backbone","components.templateengine","components.dialogs"],function(e){"use strict";var t=e("jquery"),i=e("underscore"),n=e("backbone"),a=e("components.templateengine"),r=e("components.dialogs"),s=n.View.extend({rendered:!1,contentSelector:".body",events:{"click .cancel":"hide"},initialize:function(e){if(this.templateId=e&&e.templateId||this.templateId,this.contentSelector=e&&e.contentSelector||this.contentSelector,!this.templateId)throw"Dialog template is not provided";i.bindAll(this),this.options=i.extend({},e)},render:function(e){return this.undelegateEvents(),this.$el=t(a.getTemplateText(this.templateId)).closest("div"),this.el=this.$el[0],t(e?e:document.body).append(this.$el),this.delegateEvents(),this.rendered=!0,this},hide:function(e){r.popup.hide(this.el),e&&e.stopPropagation()},show:function(e){this.rendered||this.render(e),r.popup.show(this.el,this.options.modal)},setContent:function(e){this.$el.find(this.contentSelector).html(t(e))},_updateMessage:function(e){e=i.isString(e)?[e]:e;var n=document.createDocumentFragment();i.each(e||[],function(e){n.appendChild(t("<p/>",{text:e,"class":"message"})[0])},this),this.$el.find(".body").html(n)}}),o=s.extend({templateId:"standardConfirmTemplate",events:{"click button.cancel":"hide","click button.ok":"onOk"},initialize:function(e){s.prototype.initialize.call(this,e),i.extend(this,i.defaults(e||{},{messages:"",ok:function(){}}))},show:function(e){s.prototype.show.call(this),this._updateMessage(e.messages||this.messages),e.ok&&(this.ok=e.ok)},onOk:function(){this.hide(),this.ok()}});return jaspersoft||(jaspersoft={components:{}}),jaspersoft.components||(jaspersoft.components={}),jaspersoft.components.Dialog=s,jaspersoft.components.ConfirmDialog=o,s}),define("adhoc/filter/BaseFiltersController",["require","backbone","jquery","actionModel.modelGenerator","adhoc/filter/FilterCollection","namespace","underscore","core.layout","common/util/featureDetection","adhoc/filter/enum/filterDataTypes","adhoc/filter/factory/filterEditorFactory","bundle!AdHocFiltersBundle","jquery.ui.mouse.touch","jquery-ui/jquery.ui.sortable","components.dialog"],function(e){"use strict";var t=e("backbone"),i=e("jquery"),n=e("actionModel.modelGenerator"),a=e("adhoc/filter/FilterCollection"),r=e("namespace"),s=e("underscore"),o=e("core.layout"),l=e("common/util/featureDetection"),d=e("adhoc/filter/enum/filterDataTypes"),c=e("adhoc/filter/factory/filterEditorFactory"),u=e("bundle!AdHocFiltersBundle");e("jquery.ui.mouse.touch"),e("jquery-ui/jquery.ui.sortable"),e("components.dialog");var h=r.components.ConfirmDialog;return t.View.extend({collectionConstructor:a,events:function(){var e={"click .button.action.primary":"applyFilters","click .button.minimize":"markPanelStateAsManuallyChanged"};return l.supportsTouch?e["click #filterPanelMutton"]="showFiltersMenu":e["mouseover #filterPanelMutton"]="showFiltersMenu",e}(),initialize:function(e){this.onApply=e.onApply,this.onStateUpdate=e.onStateUpdate,this.onFilterRemove=e.onFilterRemove,this.resetFilterPanelState=e.resetFilterPanelState,this.service=e.service,this.clientKey=e.clientKey,this.collection=e.collection||new a([],{service:this.service,isOlap:this.isOlap}),this._filtersChanged=!1,this.confirmDialog=new h,s.bindAll(this,"addFilter","addSliceFilter","updateFilter","toggleFilter","minimizeAllFilters","maximizeAllFilters","deleteAllFilters","onMove"),this.filtersMenuActionModel=this.createFiltersMenuActionModel(),this.once("reset:panel",this.resetFilterPanelState),this.on("reset:panel",this.render),this.on("change:filters",this.toggleApplyButtonState),this.on("invalid:filters",this.showFilterServerError),this.listenTo(this.collection,"reset",this.recreateFilterEditors),this.listenTo(this.collection,"add",this.addFilterEditor),this.listenTo(this.collection,"remove",this.removeFilterEditor),this.listenTo(this.collection,"destroy",this.deleteFilter),this.listenTo(this.collection,"destroyConfirm",this.removeConfirm),this.listenTo(this.collection,"move",this.onMove),this.listenTo(this.collection,"toggle",this.toggleFilter),this.listenTo(this.collection,"operationChange",this.updateFilter),this.listenTo(this.collection,"validated",this.toggleApplyButtonState),this.listenTo(this.collection,"change:value change:isAnyValue add remove operationChange",s.partial(this.setFiltersChanged,!0)),this.sizerEl=this.$(".sizer:eq(0)")[0]},markPanelStateAsManuallyChanged:function(){o.manuallyChangePanelState("filters",this.clientKey,!0)},unmarkPanelStateAsManuallyChanged:function(){o.manuallyChangePanelState("filters",this.clientKey,!1)},onPanelResize:function(){this.filterEditors&&s.invoke(this.filterEditors,"resizeTitle")},hasNotAppliedFilters:function(){return this._filtersChanged},setFiltersChanged:function(e){this._filtersChanged=e,this.trigger("change:filters")},render:function(){this.$("#filter-container ul.filters").empty();var e=document.createDocumentFragment();return s.each(this.filterEditors,function(t){e.appendChild(t.el)}),this.$("#filter-container ul.filters").html(e),this.initSortable(),this.resizeFilterEditorTitles(),this},initSortable:function(){this.$el.sortable({delay:200,handle:".header",items:"#filter-container li.filter",axis:"y",start:function(e,t){t.item.data("oldIndex",t.item.index())},stop:s.bind(function(e,t){var i=t.item.data("oldIndex"),n=t.item.index();i!=n&&this.moveFilter(this.collection.at(i),i,n)},this)})},createFiltersMenuActionModel:function(){var e={};return e[this.cid]=[n.createMenuElement("simpleAction",{text:u.ADH_1220_DYNAMIC_FILTER_MINIMIZE_ALL,action:this.minimizeAllFilters}),n.createMenuElement("simpleAction",{text:u.ADH_1221_DYNAMIC_FILTER_MAXIMIZE_ALL,action:this.maximizeAllFilters}),n.createMenuElement("separator"),n.createMenuElement("simpleAction",{text:u.ADH_1219_DYNAMIC_FILTER_REMOVE_ALL,action:this.deleteAllFilters})],e},removeFilterEditor:function(e){var t=this._getFilterEditorByModel(e);
t&&this.stopListening(t,"uiChange:filters",this.onFilterEditorUIChanged),t&&t.remove(),this.$el.sortable("refresh")},addFilterEditor:function(e,t,i){o.maximize(this.el,!0),this.unmarkPanelStateAsManuallyChanged();var n=this.createEditor(e);s.isArray(this.filterEditors)||(this.filterEditors=[]),this.filterEditors.push(n),this.$("#filter-container ul.filters").append(n.$el),s.defer(s.bind(n.resizeTitle,n)),this.$el.sortable("refresh")},resizeFilterEditorTitles:function(){s.invoke(this.filterEditors||[],"resizeTitle")},onFilterEditorUIChanged:function(e){setTimeout(s.bind(this.resizeFilterEditorTitles,this),100),e.valueEditorUIChanged&&e.el===s.last(this.$(".leaf.filter"))&&setTimeout(s.bind(function(){this.$("> .content > .body").scrollTop(s.reduce(this.$(".leaf.filter"),function(e,t){return e+i(t).height()},0))},this),50),e.valueEditorUIChanged=!0},showFiltersMenu:function(e){n.showDynamicMenu(this.cid,e.originalEvent,"menu vertical dropDown fitable",null,this.filtersMenuActionModel),e.stopPropagation()},recreateFilterEditors:function(){this.cleanUpEditors(),this.filterEditors=this.collection.map(function(e){return this.createEditor(e)},this),this.trigger("reset:panel")},cleanUpEditors:function(){var e=this;s.each(this.filterEditors,function(t){e.stopListening(t,"uiChange:filters",e.onFilterEditorUIChanged)}),s.invoke(this.filterEditors||[],"remove")},createEditor:function(e){var t=c(e.isReadOnly()?d.READ_ONLY:e.get("filterDataType"),this.isOlap),i=t(e);return this.listenTo(i,"uiChange:filters",this.onFilterEditorUIChanged),i},showFilterServerError:function(e,t){this.$("#filterMessage span").html(t)},onMove:function(e,t){var i=this._getFilterEditorByModel(e),n=i.$el.index(),a=t.direction;0>a&&0===n||a>0&&n===this.collection.length-1||(-1===a?i.$el.insertBefore(this.$("#filter-container li.filter:eq("+(n+a)+")")):i.$el.insertAfter(this.$("#filter-container li.filter:eq("+(n+a)+")")),this.$el.sortable("refreshPositions"),this.moveFilter(e,n,n+a))},removeConfirm:function(e){this.confirmDialog.show({ok:s.bind(function(){var t=this._getFilterEditorByModel(e);t.removeFilter({force:!0})},this),messages:u.ADH_1230_DYNAMIC_FILTER_ADVANCED_CONFIRM_REMOVE})},_getFilterEditorByModel:function(e){return s.find(this.filterEditors,function(t){return e.cid===t.model.cid})},hasFilterForField:function(e){return!s.isEmpty(this.collection.where({name:e}))},toggleApplyButtonState:function(){this._filtersChanged&&this.collection.every(function(e){return e.get("filterDataType")===d.READ_ONLY?!0:e.isValid()})?this.enableApplyButton():this.disableApplyButton()},disableApplyButton:function(){this.$("#applyFilter > button.action").attr("disabled","disabled").removeClass("over")},enableApplyButton:function(){this.$("#applyFilter > button.action").removeAttr("disabled")},setFilters:function(e,t){this.setFiltersChanged(e.isFiltersDraft);var i=t&&t.reset?"reset":"set";this.collection[i](e.existingFilters)},getFilters:function(){return this.service.get().done(s.bind(function(e){this.setFilters(e,{reset:!0})},this))},addFilter:function(e){var t=!s.isEmpty(e)&&e[0].fieldName?"fieldName":"name";return this.service.add(s.pluck(e,t)).done(s.bind(function(e){this.collection.set(e.existingFilters),this.onStateUpdate(e)},this))},addSliceFilter:function(e,t){var i=s(t).filter(function(e){return"true"!==e.isSummary}).map(function(e){return e.path}).uniq();return this.service.addSlice(t[0].axis,"true"===e,i).done(s.bind(function(e){this.onApply(e),o.maximize(this.el,!0),this.setFilters(e,{reset:!0}),this.unmarkPanelStateAsManuallyChanged()},this))},updateFilter:function(e){return e.isValid(!0)?e.saveValue().done(s.bind(function(t){var i=s.findWhere(t.existingFilters,{id:e.id});i&&e.set(i,{silent:!0}),this.onStateUpdate(t)},this)):void 0},_deleteFilterDoneCallback:function(e,t){this.collection.set(t.existingFilters),this.onStateUpdate(t),this.onFilterRemove([e])},deleteFilter:function(e){return this.service.remove(e.id).done(s.bind(this._deleteFilterDoneCallback,this,e.toJSON()))},_deleteAllFiltersDoneCallback:function(e,t){this.collection.reset(t.existingFilters),this.onStateUpdate(t),this.onFilterRemove(e),this.setFiltersChanged(!0)},deleteAllFilters:function(){return this.service.removeAll().done(s.bind(this._deleteAllFiltersDoneCallback,this,this.collection.toJSON()))},moveFilter:function(e,t,i){return this.service.reorder(t,i).done(s.bind(function(e){this.collection.set(e.existingFilters),this.onStateUpdate(e)},this))},toggleFilter:function(e){return this.service.toggleVisibility(e.get("id"))},minimizeAllFilters:function(){return this.collection.invoke("set","filterPodMinimized",!0),this.service.minimizeAll()},maximizeAllFilters:function(){return this.collection.invoke("set","filterPodMinimized",!1),this.service.maximizeAll()},applyFilters:function(){return this.$("#filterMessage span").empty(),this.setFiltersChanged(!1),this.service.applyFiltersAndExpression(this.collection.toExpression(),"").done(s.bind(function(e){this.setFilters(e),this.onApply(e)},this)).fail(s.bind(function(e){var t=JSON.parse(e.responseText);t.editFilterError&&this.collection.trigger("invalid:filters",this.collection,t.editFilterError)},this))}})}),define("text!adhoc/filter/editor/template/complexExpressionTemplate.htm",[],function(){return'<div class="panel pane expression {{print(filterPodMinimized ? \'minimized\' : \'\');}}">\n    <div class="content">\n        <div class="header">\n            <div class="title">\n                <div class="filterName">\n                    <div class="button disclosure noBubble"></div>\n                    <span title="{{- i18n.ADH_DYNAMIC_FILTER_CUSTOMIZE_RELATIONSHIPS }}">{{- i18n.ADH_DYNAMIC_FILTER_CUSTOMIZE_RELATIONSHIPS }}</span>\n                </div>\n            </div>\n        </div>\n        <div class="body">\n            <fieldset class="values" id="">\n                <label class="control input text">\n                    <span class="wrap">{{- i18n.ADH_DYNAMIC_FILTER_FILTER_EXPRESSION }}</span>\n                    <input value="{{-complexExpression}}" type="text">\n                </label>\n            </fieldset>\n        </div>\n    </div>\n</div>\n'}),define("adhoc/filter/editor/ComplexExpressionEditor",["require","backbone","underscore","bundle!AdHocFiltersBundle","text!adhoc/filter/editor/template/complexExpressionTemplate.htm"],function(e){"use strict";var t=e("backbone"),i=e("underscore"),n=e("bundle!AdHocFiltersBundle"),a=e("text!adhoc/filter/editor/template/complexExpressionTemplate.htm");return t.View.extend({events:{"change input":"onExpressionChange","click .header .button.disclosure":"onToggleFilter"},template:i.template(a),initialize:function(e){this.listenTo(this.model,"change:complexExpression",this.updateComplexExpression),this.listenTo(this.model,"change:filterPodMinimized",this.drawToggleFilter)},onToggleFilter:function(){this.model.set("filterPodMinimized",!this.model.get("filterPodMinimized")),this.model.trigger("toggle",this.model)},drawToggleFilter:function(){this.$(".expression.panel")[this.model.get("filterPodMinimized")?"addClass":"removeClass"]("minimized")},render:function(){this.$el.empty();var e=this.model.toJSON();return e.i18n=n,this.$el.html(this.template(e)),this},onExpressionChange:function(){this.model.set("complexExpression",this.$("input").val())},updateComplexExpression:function(){this.$("input").val(this.model.get("complexExpression"))}})}),define("adhoc/filter/ComplexExpressionModel",["require","backbone"],function(e){"use strict";var t=e("backbone");return t.Model.extend({})}),define("adhoc/filter/FiltersController",["require","exports","module","underscore","adhoc/filter/BaseFiltersController","adhoc/filter/editor/ComplexExpressionEditor","logger","adhoc/filter/ComplexExpressionModel"],function(e,t,i){"use strict";var n=e("underscore"),a=e("adhoc/filter/BaseFiltersController"),r=e("adhoc/filter/editor/ComplexExpressionEditor"),s=e("logger").register(i),o=e("adhoc/filter/ComplexExpressionModel"),l=a.extend({isOlap:!1,initialize:function(){a.prototype.initialize.apply(this,arguments),this.expressionModel=new o({id:"complexFilter",complexExpression:"",filterPodMinimized:!0}),this.complexExpressionEditor=new r({el:this.$("#expression-container"),model:this.expressionModel}),this.on("invalid:complexExpression",this.showComplexExpressionServerError),this.listenTo(this.collection,"change:value",this.updateFilter),this.listenTo(this.collection,"change:isAnyValue",this.updateFilter),this.listenTo(this.expressionModel,"toggle",this.toggleFilter),this.listenTo(this.expressionModel,"change:complexExpression",n.partial(this.setFiltersChanged,!0)),this.listenTo(this.expressionModel,"change:complexExpression",this.clearComplexExpressionServerError),this.listenTo(this.expressionModel,"change:filterPodMinimized",this.changeFilterPanelHeight)},changeFilterPanelHeight:function(){var e=this.$("> .content > .body"),t=this.$("> .content > .footer");e[this.expressionModel.get("filterPodMinimized")?"addClass":"removeClass"]("complexExpressionMinimized"),t[this.expressionModel.get("filterPodMinimized")?"addClass":"removeClass"]("complexExpressionMinimized"),e[this.expressionModel.get("filterPodMinimized")?"removeClass":"addClass"]("complexExpressionMaximized"),t[this.expressionModel.get("filterPodMinimized")?"removeClass":"addClass"]("complexExpressionMaximized")},render:function(){return a.prototype.render.apply(this,arguments),this.complexExpressionEditor.render(),this.changeFilterPanelHeight(),this},clearComplexExpressionServerError:function(){this.complexExpressionEditor.$("label.control.input").hasClass("error")&&(this.$("#filterMessage span").empty(),this.complexExpressionEditor.$("label.control.input").removeClass("error"))},showComplexExpressionServerError:function(e,t){this.$("#filterMessage span").html(t),this.complexExpressionEditor.$("label.control.input").addClass("error")},setFilters:function(e){this.expressionModel.set("complexExpression",e.complexExpression),this.expressionModel.set("filterPodMinimized",e.isComplexFilterPodMinimized),a.prototype.setFilters.apply(this,arguments)},_deleteFilterDoneCallback:function(e,t){this.expressionModel.set("complexExpression",t.complexExpression),a.prototype._deleteFilterDoneCallback.apply(this,arguments)},_deleteAllFiltersDoneCallback:function(e,t){this.expressionModel.set("complexExpression",t.complexExpression),a.prototype._deleteAllFiltersDoneCallback.apply(this,arguments)},applyFilters:function(){return this.$("#filterMessage span").empty(),this.setFiltersChanged(!1),this.service.applyFiltersAndExpression(this.collection.toExpression(),this.expressionModel.get("complexExpression")).done(n.bind(function(e,t,i){var n=i.getResponseHeader("adhocException");return n?void s.error(n):(this.setFilters(e),void this.onApply(e))},this)).fail(n.bind(function(e){var t=JSON.parse(e.responseText);t.editFilterError&&this.trigger("invalid:filters",this.collection,t.editFilterError),t.complexFilterError&&this.trigger("invalid:complexExpression",this.collection,t.complexFilterError)},this))}});return window.FiltersController=l,l}),define("adhoc/filter/OlapFiltersController",["require","adhoc/filter/BaseFiltersController","underscore","adhoc/filter/factory/filterModelExpressionTypeFactory","adhoc/filter/enum/filterExpressionTypes"],function(e){"use strict";var t=e("adhoc/filter/BaseFiltersController"),i=e("underscore"),n=(e("adhoc/filter/factory/filterModelExpressionTypeFactory"),e("adhoc/filter/enum/filterExpressionTypes"),t.extend({isOlap:!0,initialize:function(){t.prototype.initialize.apply(this,arguments),this.listenTo(this.collection,"change:value",this.updateFilter)},addFilter:function(e){var t=e[0];return this.service.addOlapFilter(t.dimensionId,t.name).done(i.bind(function(e){this.collection.set(e.existingFilters),this.onStateUpdate(e)},this))},updateFilter:function(e){return e.isValid(!0)?this.service.update(e.get("id"),e.toExpression()).done(i.bind(function(t){var n=this;i.each(t.existingFilters,function(t){if(t.id!==e.get("id")){var i=n.collection.get(t.id);t.expressionType=i.get("expressionType"),i.set(t),i.removeAvailableData();var a=n._getFilterEditorByModel(i);a&&a.render()}}),this.onStateUpdate(t)},this)):void 0}}));return window.OlapFiltersController=n,n}),define("adhoc/filter/FilterService",["require","common/util/classUtil","underscore","jquery","components.dialogs","jrs.configs"],function(e){"use strict";var t={table:"adhoc/table.html",crosstab:"adhoc/crosstab.html",olap_crosstab:"adhoc/crosstab.html",ichart:"adhoc/intelligentChart.html",olap_ichart:"adhoc/intelligentChart.html"},i=e("common/util/classUtil"),n=e("underscore"),a=e("jquery"),r=e("components.dialogs"),s=e("jrs.configs"),o=i.extend({constructor:function(e){this.clientKey=e.clientKey,this.mode=e.mode},createUrl:function(e,i){return(i||t[this.mode()])+"?action="+e},_request:function(e,t,i){t="undefined"==typeof t?!0:t,i=i||o.defaultCallbacks;var n=a.ajax(e).done(i.done||o.defaultCallbacks.done).fail(i.fail||o.defaultCallbacks.fail).always(i.always||o.defaultCallbacks.always);return t&&setTimeout(function(){"pending"===n.state()&&r.popup.show(a("#loading")[0],!1,{focus:!1})},o.SLOW_REQUEST_TIMEOUT),n},get:function(){return this._request({url:this.createUrl("generateFilterPanel"),data:{clientKey:this.clientKey}})},add:function(e){return this._request({url:this.createUrl("addAdhocFilter"),type:"POST",data:{addAdhocFilterFields:n.map(e,encodeURIComponent),clientKey:this.clientKey}})},addOlapFilter:function(e,i){return this._request({url:this.createUrl("addOLAPFilter",t.olap_crosstab),type:"POST",data:{dim:e,child:i,clientKey:this.clientKey}})},addSlice:function(e,i,a){return this._request({url:this.createUrl("addQuickSliceFilter",t.crosstab),type:"POST",data:{axis:e,includeOrExclude:i,pathList:JSON.stringify(n.map(a,function(e){return encodeURIComponent(e)})),clientKey:this.clientKey}})},update:function(e,t){return this._request({url:this.createUrl("editAdhocFilter"),type:"POST",data:{filterId:e,editAdhocFilter:JSON.stringify(t),clientKey:this.clientKey}})},remove:function(e){return this._request({url:this.createUrl("deleteAdhocFilter"),type:"POST",data:{filterId:e,clientKey:this.clientKey}})},removeAll:function(){return this._request({url:this.createUrl("deleteAllAdhocFilters"),type:"POST",data:{clientKey:this.clientKey}})},reorder:function(e,t){return this._request({url:this.createUrl("reorderFilters"),type:"POST",data:{oldIndex:e,newIndex:t,clientKey:this.clientKey}})},toggleVisibility:function(e){return this._request({url:this.createUrl("toggleFilterPodState"),type:"POST",data:{filterId:e,clientKey:this.clientKey}})},minimizeAll:function(){return this._request({url:this.createUrl("minimizeAllAdhocFilterPods"),type:"POST",data:{clientKey:this.clientKey}})},maximizeAll:function(){return this._request({url:this.createUrl("maximizeAllAdhocFilterPods"),type:"POST",data:{clientKey:this.clientKey}})},fetchValues:function(e,t,i){return t=t||{},t.criteria&&(t.criteria=encodeURIComponent(t.criteria)),this._request({url:this.createUrl("getFieldValues"),data:n.extend({fieldName:encodeURIComponent(e),clientKey:this.clientKey},t)},i)},applyFiltersAndExpression:function(e,t){return this._request({url:this.createUrl("applyAdhocFiltersAndExpression"),type:"POST",data:{complexFilterExpression:t,adhocFilters:JSON.stringify(e),clientKey:this.clientKey}})},getMaxMinValues:function(e){return this._request({url:this.createUrl("getMaxMinValues"),data:{fieldName:encodeURIComponent(e),clientKey:this.clientKey}})}});return o.defaultCallbacks={fail:function(e,t,i){if(e.getResponseHeader("LoginRequested"))document.location=s.urlContext;else if(e.getResponseHeader("adhocException")){var n=e.getResponseHeader("adhocException");n=decodeURIComponent(n),n=n.replace(/@@/g," "),r.errorPopup.show(n)}else(500==e.status||e.getResponseHeader("JasperServerError")&&!e.getResponseHeader("SuppressError"))&&r.errorPopup.show(e.responseText)},always:function(){r.popup.hide(a("#loading")[0])}},o.SLOW_REQUEST_TIMEOUT=2e3,window.FilterService=o,o}),Draggable.prototype.startDrag=function(e){if(Draggable.isDragging=!0,this.dragging=!0,this.delta||(this.delta=this.currentDelta()),this.options.zindex&&(this.originalZ=parseInt(Element.getStyle(this.element,"z-index")||0),this.element.style.zIndex=this.options.zindex),this.options.ghosting&&(this._clone=this.element.cloneNode(!0),this._originallyAbsolute="absolute"==this.element.getStyle("position"),this._originallyAbsolute||Position.absolutize(this.element),this.element.parentNode.insertBefore(this._clone,this.element),"TR"===this.element.parentNode.tagName&&document.body.appendChild(this.element)),this.options.superghosting){Position.prepare();var t=[Event.pointerX(e),Event.pointerY(e)],i=document.getElementsByTagName("body")[0],n=this.element;this._clone=n.cloneNode(!0),Prototype.Browser.IE&&(this._clone.clearAttributes(),this._clone.mergeAttributes(n.cloneNode(!1))),n.parentNode.insertBefore(this._clone,n),n.id="clone_"+n.id,n.hide(),Position.absolutize(n),n.parentNode.removeChild(n),i.appendChild(n),("0px"==n.style.width||"0px"==n.style.height)&&(n.style.width=Element.getWidth(this._clone)+"px",n.style.height=Element.getHeight(this._clone)+"px"),this.originalScrollTop=Element.getHeight(this._clone)/2,this.draw(t),n.show()}if(this.options.scroll)if(this.options.scroll==window){var a=this._getWindowScroll(this.options.scroll);this.originalScrollLeft=a.left,this.originalScrollTop=a.top}else this.originalScrollLeft=this.options.scroll.scrollLeft,this.originalScrollTop=this.options.scroll.scrollTop;Draggables.notify("onStart",this,e),this.options.starteffect&&this.options.starteffect(this.element)},Draggable.prototype.draw=function(e){var t=Position.cumulativeOffset(this.element);if(this.options.ghosting){var i=Position.realOffset(this.element);t[0]+=i[0]-Position.deltaX,t[1]+=i[1]-Position.deltaY}var n=this.currentDelta();t[0]-=n[0],t[1]-=n[1],this.options.scroll&&(t[0]-=this.options.scroll.scrollLeft,t[1]-=this.options.scroll.scrollTop),this.options.scroll&&this.options.scroll!=window&&this._isScrollChild&&(t[0]-=this.options.scroll.scrollLeft-this.originalScrollLeft,t[1]-=this.options.scroll.scrollTop-this.originalScrollTop);var a=[0,1].map(function(i){return e[i]-t[i]-(this.options.mouseOffset?-2:this.offset[i])}.bind(this));this.options.snap&&(a=Object.isFunction(this.options.snap)?this.options.snap(a[0],a[1],this):Object.isArray(this.options.snap)?a.map(function(e,t){return(e/this.options.snap[t]).round()*this.options.snap[t]}.bind(this)):a.map(function(e){return(e/this.options.snap).round()*this.options.snap}.bind(this))),this.options.superghosting&&("absolute"==this.element.getStyle("position")?a[1]=e[1]-this.originalScrollTop:a[1]-=this.originalScrollTop||10);var r=this.element.style;this.options.constraint&&"horizontal"!=this.options.constraint||(r.left=a[0]+"px"),this.options.constraint&&"vertical"!=this.options.constraint||(r.top=a[1]+"px"),"hidden"==r.visibility&&(r.visibility="")},Draggable.prototype.initDrag=function(e){if((Object.isUndefined(Draggable._dragging[this.element])||!Draggable._dragging[this.element])&&(e.touches&&1==e.touches.length||Event.isLeftClick(e))){var t=Event.element(e),i=t.tagName.toUpperCase();if("INPUT"==i||"SELECT"==i||"OPTION"==i||"BUTTON"==i||"TEXTAREA"==i)return;if(jQuery(this.element).parents("#sortDialog").length>0&&"B"==i)return;var n=[Event.pointerX(e),Event.pointerY(e)],a=Position.cumulativeOffset(this.element);this.offset=[0,1].map(function(e){return n[e]-a[e]}),Draggables.activate(this),this.countdown=Draggables.DEFAULT_TOLERANCE,Event.stop(e),this.element.fire("drag:mousedown",{targetEvent:e})}},Droppables.isAffected=function(e,t,i){var n=jQuery(i.element),a=n.width(),r=n.height(),s=n.offset(),o={left:s.left+a,top:s.top+r},l=e[0]>s.left&&e[0]<o.left&&e[1]>s.top&&e[1]<o.top;return i.element!=t&&(t.parentNode===$(document.body)||!i._containers||this.isContained(t,i))&&(!i.accept||Element.classNames(t).detect(function(e){return i.accept.include(e)}))&&l},Draggable.prototype.finishDrag=function(e,t){if(Draggable.isDragging=!1,this.dragging=!1,isIE()&&(document.body.onmousemove=function(){}),this.options.quiet){Position.prepare();var i=[Event.pointerX(e),Event.pointerY(e)];Droppables.show(i,this.element)}this.options.ghosting&&(this._originallyAbsolute||(Position.relativize(this.element),"TR"===this._clone.parentNode.tagName&&this._clone.parentNode.insertBefore(this.element,this._clone)),delete this._originallyAbsolute,Element.remove(this._clone),this._clone=null);var n=!1;t&&(n=Droppables.fire(e,this.element),n||(n=!1)),n&&this.options.onDropped&&this.options.onDropped(this.element),Draggables.notify("onEnd",this,e);var a=this.options.revert;a&&Object.isFunction(a)&&(a=a(this.element));var r=this.currentDelta();a&&this.options.reverteffect?(0==n||"failure"!=a)&&this.options.reverteffect(this.element,r[1]-this.delta[1],r[0]-this.delta[0]):this.delta=r,this.options.zindex&&(this.element.style.zIndex=this.originalZ,this._clone&&(this._clone.style.zIndex=this.originalZ)),this.options.endeffect&&this.options.endeffect(this.element),this.options.superghosting&&(null==this.element.parentNode&&(Element.hide(this.element),$(document.body).appendChild(this.element)),Element.remove(this.element),new Draggable(this._clone,this.options)),Draggables.deactivate(this),Droppables.reset()},Sortable.defaultOnHover=Sortable.onHover,Sortable.onHover=function(e,t,i){e.hasClassName("dialog")||Sortable.defaultOnHover(e,t,i)},Sortable.defaultOnEmptyHover=Sortable.onEmptyHover,Sortable.onEmptyHover=function(e,t,i){e.hasClassName("dialog")||Sortable.defaultOnEmptyHover(e,t,i)};var SortableObserver=Class.create({initialize:function(e,t){this.element=$(e),this.observer=t,this.lastValue=Sortable.serialize(this.element)},onStart:function(){this.lastValue=Sortable.serialize(this.element)},onEnd:function(e,t){Sortable.unmark(),this.lastValue!=Sortable.serialize(this.element)&&this.observer(this.element,t)}});Droppables.show=function(e,t){if(this.drops.length){var i,n=[];this.drops.each(function(i){Droppables.isAffected(e,t,i)&&(t.hasClassName("sortDialogAvailable")||t.hasClassName("sortDialogSortFields")?("sortDialogAvailable"==i.element.id||"sortDialogSortFields"==i.element.id)&&n.push(i):n.push(i))}),n.length>0&&(i=Droppables.findDeepestChild(n)),this.last_active&&this.last_active!=i&&this.deactivate(this.last_active),i&&(Position.within(i.element,e[0],e[1]),i.onHover&&(t.classNames().include("wrap")&&(t.relativize(),t.classNames().include("measure")?t.classNames().set("draggable dragging measure"+(t.classNames().include("supportsFilter")?" supportsFilter":"")):t.classNames().set("draggable dragging dimension"+(t.classNames().include("supportsFilter")?" supportsFilter":"")),t.style.position="relative",t.style.display="inline-block",t.style.width="",t.style.height=""),i.onHover(t,i.element,Position.overlap(i.overlap,i.element))),i!=this.last_active&&Droppables.activate(i))}},define("dragdrop.extra.v0.5",["dragdrop.extra"],function(e){return function(){var t;return t||e.Draggable}}(this));var rom_orgMode=null,rom_showRoot=null,rom_repositoryModifier=function(e,t){var i;if(t){i=[];for(var n=0;n<e.length;n++)e[n].uri!=publicFolderUri&&i.push(e[n])}else if(rom_orgMode&&null!=e.children){for(var a,r=e.children,s=[],n=0;n<r.length;n++)r[n].uri==publicFolderUri?a=r[n]:s.push(r[n]);e.children=s,i={type:"superroot",label:"",extra:{}},i.children=[e,a]}else i=e;return i},rom_getRootNode=function(){var e=this.tree.rootNode;return e.param&&"superroot"==e.param.type&&(e="public"==e.childs[0].param.id?e.childs[1]:e.childs[0]),e},rom_findNodeChildByMetaName=function(e,t){if(e.param&&"superroot"==e.param.type){var i,n;if("public"==e.childs[0].param.id?(i=e.childs[0],n=e.childs[1]):(i=e.childs[1],n=e.childs[0]),"public"==t)return i;e=n}if(e.hasChilds())for(var a=0;a<e.childs.length;a++)if(e.childs[a].param.id==t)return e.childs[a];return null};define("org.rootObjectModifier",function(e){return function(){var t;return t||e.rom_init}}(this)),function(e,t,i){var n=i.Base.extend({structureFormater:function(e){if(!e)return e;var i=t.map(e.inputControl,function(e){return e.readOnly="true"==String(e.readOnly),e.uri=e.uri.replace("repo:",""),e}),n=t.map(i,function(e){return e.state});return n=t.compact(n),t.each(i,function(e){delete e.state}),t.extend({structure:i},this.convertResponseToControlsState(n))},convertResponseToControlsState:function(e){var i={},n=e.inputControlState?e.inputControlState:e,a=function(e){var t={value:e.value,label:e.label};return"true"==String(e.selected)&&(t.selected=!0),t},r=function(e){var i;return i=t.isArray(e)?t.map(e,a):[]},s=function(e){return t.isUndefined(e.value)||t.isNull(e.value)?r(e.options):e.value};return t.each(n,function(e){e&&e.uri&&(i[e.id]={error:t.isUndefined(e.error)?null:e.error,values:s(e)})}),{state:i}}});return e.DataConverter=n,e}(JRS.Controls,_,JRS.Controls),define("controls.dataconverter",["underscore","controls.core"],function(e){return function(){var t;return t||e.JRS.Controls}}(this)),JRS.Controls=function(e,t,i,n){function a(e){var a;try{try{a=t.parseJSON(e.responseText)}catch(r){}if(a&&a.error)i.each(a.error,function(e){var t=n.getViewModel(),i=e.inputControlUri.replace("repo:",""),a=t.find({uri:i});e.errorCode?a.set({error:e.errorCode}):e.defaultMessage&&a.set({error:e.defaultMessage})});else if(e.getResponseHeader("LoginRequested")||401===e.status)document.location=__jrsConfigs__.urlContext;else if(500==e.status||e.getResponseHeader("JasperServerError")&&!e.getResponseHeader("SuppressError")){var s="";s=a?Mustache.to_html("<div><b>{{message}}</b></div><p>{{#parameters}}<div>{{.}}</div>{{/parameters}}</p>",a):statusText,dialogs.errorPopup.show(s)}}catch(r){}}return i.extend(n,{DataTransfer:n.Base.extend({CONTROLS_STRUCTURE_TEMPLATE_URI:__jrsConfigs__.contextPath+"/rest_v2/reports{{reportUri}}/inputControls/{{controlIds}}",INITIAL_CONTROLS_VALUES_TEMPLATE_URL:__jrsConfigs__.contextPath+"/rest_v2/reports{{reportUri}}/inputControls/values",CONTROLS_VALUES_TEMPLATE_URL:__jrsConfigs__.contextPath+"/rest_v2/reports{{reportUri}}/inputControls/{{controlIds}}/values",constructor:function(e){this.dataConverter=e.dataConverter,this.initialize(e)},initialize:function(e){},setReportUri:function(e){this.currentReportUri=e},buildUrl:function(e,t,a){return t=i.isArray(t)?t.join(";"):t||"",n.TemplateEngine.renderUrl(a,{reportUri:e,controlIds:t})},sendRequest:function(n,r,s){var o={url:n,type:"GET",dataType:"json",cache:!1};i.isEmpty(r)||i.extend(o,{type:"POST",processData:!1,data:e.stringify(r),contentType:"application/json"});var l=i.defaults(s||{},o);return l.headers||(l.headers={}),i.defaults(l.headers,{"X-Suppress-Basic":"true","Accept-Language":__jrsConfigs__.userLocale.replace(/_/g,"-")}),t.ajax(l).fail(a)},fetchControlsStructure:function(e,t){var a=this.buildUrl(this.currentReportUri,e,this.CONTROLS_STRUCTURE_TEMPLATE_URI),r=this.sendRequest(a,t).then(i.bind(this.dataConverter.structureFormater,this.dataConverter));return n.Utils.showLoadingDialogOn(r,null,!0),r},updateControlsStructure:function(e,t){var n=this.buildUrl(t||this.currentReportUri,null,this.CONTROLS_STRUCTURE_TEMPLATE_URI);return this.sendRequest(n,e,{type:"PUT"}).then(i.bind(this.dataConverter.structureFormater,this.dataConverter))},fetchInitialControlValues:function(e,t){var i=this.buildUrl(e,null,this.INITIAL_CONTROLS_VALUES_TEMPLATE_URL),a=this.sendRequest(i,t).then(this.dataConverter.convertResponseToControlsState);return n.Utils.showLoadingDialogOn(a,null,!0),a},fetchControlsUpdatedValues:function(e,a){var r=this.buildUrl(this.currentReportUri,e,this.CONTROLS_VALUES_TEMPLATE_URL),s=this.dataConverter;this.fullUpdateDeferred&&"pending"==this.fullUpdateDeferred.state()&&this.fullUpdateDeferred.reject();var o=new t.Deferred,l=n.Utils.wait(n.DataTransfer.FREQUENT_CHANGES_MIN_DELAY);return l.done(i.bind(function(){this.sendRequest(r,a).then(s.convertResponseToControlsState).done(function(e){"pending"==o.state()&&o.resolve(e)}).fail(function(){o.reject(this,arguments)})},this)),o.fail(function(){l.reject()}),n.Utils.showLoadingDialogOn(o,null,!0),this.fullUpdateDeferred=o,o}},{CONTROLS_STRUCTURE_TEMPLATE_URI:__jrsConfigs__.contextPath+"/rest_v2/reports{{reportUri}}/inputControls/{{controlIds}}",INITIAL_CONTROLS_VALUES_TEMPLATE_URL:__jrsConfigs__.contextPath+"/rest_v2/reports{{reportUri}}/inputControls/values",CONTROLS_VALUES_TEMPLATE_URL:__jrsConfigs__.contextPath+"/rest_v2/reports{{reportUri}}/inputControls/{{controlIds}}/values",FREQUENT_CHANGES_MIN_DELAY:400})})}(JSON,jQuery,_,JRS.Controls),define("controls.datatransfer",["jquery","controls.core","backbone","controls.dataconverter"],function(e){return function(){var t;return t||e.JRS.Controls}}(this)),JRS.Controls=function(e,t,i){var n=!1;require(["common/util/browserDetection"],function(e){n=e.isIE()});var a=i.Base.extend({constructor:function(e){this.containerSelector=e&&e.containerSelector||i.ViewModel.DEFAULT_CONTAINER,this.controls={},i.getViewModel=t.bind(function(){return this},this),t.bindAll(this),this.registerEvents()},registerEvents:function(){i.ignore("changed:control",this.onControlChange),i.listen({"changed:control":this.onControlChange})},onControlChange:function(n,a){var r,s,o=a.slaveDependencies&&a.slaveDependencies.length;if(o){s=this._getAllSlaveControlIds(a.id);var l=this._getParentControlIds(s),d=t.union(s,l);r=this.get("selection"),t.isEmpty(d)||t.each(r,function(e,i){-1===t.indexOf(d,i)&&delete r[i]})}else r=this.get("selection");e(document).trigger(i.ViewModel.CHANGE_SELECTION,[r,s,o]),o||e(document).trigger(i.ViewModel.CHANGE_VALUES,[this.state])},_getAllSlaveControlIds:function(e){var i=[],n=this.findControl({id:e});return n&&!t.isEmpty(n.slaveDependencies)&&t.each(n.slaveDependencies,function(e){i.push(e),i.push.apply(i,this._getAllSlaveControlIds(e))},this),t.uniq(i)},_getParentControlIds:function(e){var i=[];return t.each(e,function(e){var t=this.findControl({id:e});i.push.apply(i,t.masterDependencies)},this),t.uniq(i)}},{DEFAULT_CONTAINER:"#inputControlsContainer",CHANGE_VALUES:"viewmodel:values:changed",CHANGE_SELECTION:"viewmodel:selection:changed",CHANGE_ORDER:"viewmodel:order:changed",isSelectionChanged:function(e,i){var n=e?t(e).keys():[],a=i?t(i).keys():[],r=t.union(n,a);if(r.length===n.length){var s=e?t.flatten(t(e).values()):[],o=i?t.flatten(t(i).values()):[];return t.difference(s,o).length>0||t.difference(o,s).length>0}return!0}}),r={getControls:function(){return this.controls},instantiate:function(e){this.controls={},t.each(e,this.createControl,this)},createControl:function(e){var t=function(e){for(var t in i)if(e.toLowerCase()===t.toLowerCase())return i[t]}(e.type);if(!t)throw new Error("Can not find implementation of the control type: "+e.type);return this.controls[e.id]=new t(e),this.controls[e.id]},removeControl:function(e){delete this.controls[e]},reorderControl:function(t,n){if(1!=this.structure.length){for(var a,r=n>t?1:-1,s=n>t?Math.min(t,n):Math.max(t,n),o=n>t?Math.max(t,n):Math.min(t,n),l=s;l!=o;l+=r)a=this.structure[l],this.structure[l]=this.structure[l+r],this.structure[l+r]=a;e(document).trigger(i.ViewModel.CHANGE_ORDER,[this.structure])}},set:function(n,a){if(n){if(t.extend(this,n),void 0!==n.structure){var r=n.structure;this.instantiate(r),this.draw(r)}if(void 0!==n.state){var s=n.state;this.update(s),!a&&e(document).trigger(i.ViewModel.CHANGE_VALUES,[n.state])}}},get:function(e){if(e){if("selection"===e){var i={};return t.each(this.getControls(),function(e){var n=e.get("selection");n instanceof Array?i[e.id]=n:t.isUndefined(n)||(i[e.id]=[n])}),i}return this[e]}},findControl:function(e){var i=t.keys(e)[0],n=t.values(e)[0];return t.find(this.getControls(),function(e){return e[i]===n})},pluck:function(e){return t.pluck(this.getControls(),e)}},s={draw:function(i){var a=this.getContainer();if(a.empty(),n&&(a.attr("js-stdnav","false"),a.attr("js-navtype","none")),t.each(i,function(e){if(e.visible){var t=this.findControl({id:e.id});t.makeResizable&&t.makeResizable(),
a.append(t.getElem())}},this),window.Report&&window.Report.icReorderEnabled){var r=window.Controls.layouts.LAYOUT_TOP_OF_PAGE==Report.reportControlsLayout;/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)||e(a).sortable({delay:200,placeholder:r?"verticalPlaceholder":"horizontalPlaceholder",axis:r?"x":"y",items:"> .leaf",cancel:"input,textarea,button,select,option,.list.inputSet,.jr-mSizer",start:function(e,t){t.item.data("oldIndex",t.item.index())},stop:t.bind(function(e,t){var i=t.item.data("oldIndex"),n=t.item.index();i!=n&&this.reorderControl(i,n)},this)})}},update:function(e){t.each(e,function(e,t){var i=this.findControl({id:t});i.set({values:e.values,error:e.error})},this)},getContainer:function(){return this.container&&1==this.container.length?this.container:(this.container=e(this.containerSelector),this.container)},removeValidationMessages:function(){t.each(this.getControls(),function(e){e.set({error:null})})},areAllControlsValid:function(){return t.isEmpty(t.filter(this.getControls(),function(e){return!e.isValid()}))},setContainer:function(t){this.container=e(t)},reloadContainer:function(){return this.container=e(this.containerSelector),this.container},disable:function(){t.each(this.getControls(),function(e){e.set({disabled:!0})})},enable:function(){t.each(this.getControls(),function(e){e.set({disabled:!1})})}};return t.extend(a.prototype,r,s),t.extend(i,{ViewModel:a})}(jQuery,_,JRS.Controls),define("controls.viewmodel",["jquery","underscore","controls.core","controls.basecontrol","jquery-ui/jquery.ui.sortable"],function(e){return function(){var t;return t||e.JRS.Controls}}(this)),define("components/multiSelect/dataprovider/DataProviderWithLabelHash",["require","underscore","components/singleSelect/dataprovider/CacheableDataProvider"],function(e){"use strict";var t=e("underscore"),i=e("components/singleSelect/dataprovider/CacheableDataProvider"),n=function(){i.apply(this,arguments)};return t.extend(n.prototype,i.prototype),t.extend(n.prototype,{setData:function(e){i.prototype.setData.call(this,e),this.dataLabelsHash={};for(var t=0;t<this.data.length;t++)this.dataLabelsHash[this.data[t].value]=this.data[t].label},getDataLabelHash:function(){return this.dataLabelsHash}}),n}),JRS.Controls=function(e,t,i){function n(e){this.set({selection:e})}function a(e){var t=e.toUpperCase().replace(/([\s]+$|^[\s]+)/g,"");return t.replace(/[\s]*(\+|\-)[\s]*/g,"$1")}function r(e,t){if(!e)return null;for(var i={},n=0;n<e.length;n++){var a=e[n];if(a.selected&&(i[n]=a.value,t))break}return i}var s;require(["common/util/parse/date"],function(e){s=e});var o,l,d,c,u,h,m;return require(["components/singleSelect/view/SingleSelect","components/multiSelect/view/MultiSelect","components/singleSelect/dataprovider/CacheableDataProvider","components/multiSelect/dataprovider/DataProviderWithLabelHash","components/singleSelect/dataprovider/SearcheableDataProvider","components/multiSelect/mixin/resizableMultiSelectTrait","components/dateAndTime/DateAndTimePicker"],function(e,t,i,n,a,r,s){o=e,l=t,d=i,c=n,u=a,h=r,m=s}),t.extend(i,{Bool:i.BaseControl.extend({update:function(e){var t=this.getElem(),i=t.find("input");"true"==e?i.prop("checked",!0):i.removeAttr("checked")},bindCustomEventListeners:function(){this.getElem().on("change","input",t.bind(function(e){var t=null==e.target.getValue()?"false":"true";this.set({selection:t})},this))}}),SingleValueText:i.BaseControl.extend({update:function(e){var t=e==ControlsBase.NULL_SUBSTITUTION_VALUE?ControlsBase.NULL_SUBSTITUTION_LABEL:e,i=this.getElem();i&&(i.find("input").attr("value",t),i.find("input").val(t))},bindCustomEventListeners:function(){this.getElem().on("change","input",t.bind(function(e){var t=e.target.value,i=t==ControlsBase.NULL_SUBSTITUTION_LABEL?ControlsBase.NULL_SUBSTITUTION_VALUE:t;this.set({selection:i})},this))}}),SingleValueNumber:i.BaseControl.extend({update:function(e){this.getElem().find("input").attr("value",e),this.getElem().find("input").val(e)},bindCustomEventListeners:function(){this.getElem().on("change","input",t.bind(function(e){this.set({selection:e.target.value})},this))}}),SingleValueDate:i.BaseControl.extend({initialize:function(e){this.baseRender(e),e.visible&&this.setupCalendar()},get:function(e){var t=i.BaseControl.prototype.get.call(this,e);return s.localizedDateToIsoDate(t)},set:function(e,t){e.values&&(e.values=s.isoDateToLocalizedDate(e.values)),i.BaseControl.prototype.set.call(this,e,t)},setupCalendar:function(){var i=this.getElem().find("input");this.picker=new m({el:i,showOn:"button",dateFormat:JRS.i18n.bundledCalendarFormat,disabled:i[0].disabled,onSelect:t.bind(n,this)}),i.change(t.bind(function(t){t.stopPropagation(),e(t.target).val(a(t.target.value)),n.call(this,e(t.target).val())},this)),i.after("&nbsp;");var r=this.getElem().find("button");r.wrap(ControlsBase.CALENDAR_ICON_SPAN).empty()},update:function(e){var t=this.getElem();t.find("input").attr("value",e),t.find("input").val(e)}}),SingleValueDatetime:i.BaseControl.extend({initialize:function(e){this.baseRender(e),e.visible&&this.setupCalendar()},getInput:function(){var e=this.getElem();return e.find("input")},destroyCalendar:function(){var e=this.getInput();e.off(),this.picker&&this.picker.remove()},setupCalendar:function(){var i=this.getElem(),r=this.getInput();this.destroyCalendar(),this.picker=new m({el:r[0],showOn:"button",dateFormat:JRS.i18n.bundledCalendarFormat,timeFormat:JRS.i18n.bundledCalendarTimeFormat,disabled:r[0].disabled,onSelect:t.bind(n,this)}),r.change(t.bind(function(t){t.stopPropagation(),e(t.target).val(a(t.target.value)),n.call(this,e(t.target).val())},this)),r.after("&nbsp;");var s=i.find("button");s.wrap(ControlsBase.CALENDAR_ICON_SPAN).empty()},get:function(e){var t=i.BaseControl.prototype.get.call(this,e);return s.localizedTimestampToIsoTimestamp(t)},set:function(e,t){e.values&&(e.values=s.isoTimestampToLocalizedTimestamp(e.values)),e.values||e.selection||this.setupCalendar(),i.BaseControl.prototype.set.call(this,e,t)},update:function(e){var t=this.getElem();t.find("input").attr("value",e),t.find("input").val(e)}}),SingleValueTime:i.BaseControl.extend({initialize:function(e){this.baseRender(e),e.visible&&this.setupCalendar()},getInput:function(){var e=this.getElem();return e.find("input")},destroyCalendar:function(){var e=this.getInput();e.off(),this.picker&&this.picker.remove()},setupCalendar:function(){var i=this.getElem(),r=this.getInput();this.destroyCalendar(),this.picker=new m({el:r[0],showOn:"button",timeFormat:JRS.i18n.bundledCalendarTimeFormat,disabled:r[0].disabled,onClose:t.bind(n,this)}),r.change(t.bind(function(t){t.stopPropagation(),e(t.target).val(a(t.target.value)),n.call(this,e(t.target).val())},this)),r.after("&nbsp;");var s=i.find("button");s.wrap(ControlsBase.CALENDAR_ICON_SPAN).empty()},get:function(e){var t=i.BaseControl.prototype.get.call(this,e);return s.localizedTimeToIsoTime(t)},set:function(e,t){e.values&&(e.values=s.isoTimeToLocalizedTime(e.values)),e.values||e.selection||this.setupCalendar(),i.BaseControl.prototype.set.call(this,e,t)},update:function(e){var t=this.getElem();t.find("input").attr("value",e),t.find("input").val(e)}}),SingleSelect:i.BaseControl.extend({baseRender:function(n){this.singleSelect||(this.dataProvider=new d,this.singleSelect=new o({getData:this.dataProvider.getData}).setDisabled(n.readOnly)),n&&t.extend(this,n);var a=i.TemplateEngine.createTemplate(this.type);if(a){this.singleSelect.undelegateEvents();var r=e(a(this));this.singleSelect.render().renderData(),r.find(".ssPlaceholder").append(this.singleSelect.el),this.setElem(r),this.singleSelect.delegateEvents()}},update:function(e){this.dataProvider.setData(e);var t=this;this.singleSelect.fetch(function(){t.singleSelect.setValue(r(e,!0),{silent:!0})})},bindCustomEventListeners:function(){this.singleSelect.off("selection:change").on("selection:change",function(e){this.set({selection:e})},this)}}),MultiSelect:i.BaseControl.extend({baseRender:function(n){var a=this;this.multiSelect||(this.dataProvider=new c,this.multiSelect=new l({getData:new u({getData:this.dataProvider.getData}).getData,selectedListOptions:{formatLabel:function(e){return a.dataProvider.getDataLabelHash()[e]}},resizable:!0}),this.multiSelect.setDisabled(n.readOnly),this._resize=t.debounce(t.bind(this.multiSelect.resize,this.multiSelect),500)),n&&t.extend(this,n);var r=i.TemplateEngine.createTemplate(this.type);if(r){this.multiSelect.undelegateEvents();var s=e(r(this));this.multiSelect.render().renderData(),s.find(".msPlaceholder").append(this.multiSelect.el),this.setElem(s),this.multiSelect.delegateEvents()}},update:function(e){this.dataProvider.setData(e);var t=this;this.multiSelect.fetch(function(){var i=r(e);t.multiSelect.setValue(i,{silent:!0}),t._resize()})},bindCustomEventListeners:function(){this.multiSelect.off("selection:change").on("selection:change",function(e){this.set({selection:e})},this)},get:function(e){var i=this[e];return"selection"==e&&t.isEmpty(i)?[ControlsBase.NOTHING_SUBSTITUTION_VALUE]:i},makeResizable:function(){var e=this.multiSelect.$el.find(".jr-mSizer");e.length&&e.detach().insertAfter(this.getElem().find(".resizeOverlay"))}}),SingleSelectRadio:i.BaseControl.extend({update:function(n){var a=((new Date).getTime(),this.getElem().find("ul")[0]),r=t.map(n,function(e){var i=t.clone(e);return i.readOnly=this.readOnly,i.name=this.getOptionName(),i.uuid=t.uniqueId(this.id),i},this),s=this.getTemplateSection("data");i.Utils.setInnerHtml(a,s,{data:r}),a.innerHTML+="&nbsp;",e(a).find("li").length<5&&this.getElem()[0].clientHeight<125?(this.getElem().find(".jr-mSizer").addClass("hidden"),this.getElem().find(".inputSet").removeClass("sizable").attr("style",!1)):this.resizable&&(this.getElem().find(".jr-mSizer").removeClass("hidden"),this.getElem().find(".inputSet").addClass("sizable"))},getOptionName:function(){return this.id+"_option"},bindCustomEventListeners:function(){this.getElem().on("change","input",t.bind(function(e){var t=e.target.value,i=this;setTimeout(function(){i.set({selection:t})})},this))},makeResizable:function(){this.resizable=!0;var e=this.getElem().find("ul"),t=this.getElem().find(".jr-mSizer").removeClass("hidden");t.addClass("ui-resizable-s"),e.resizable({handles:{s:t}})}}),MultiSelectCheckbox:i.BaseControl.extend({update:function(n){var a=t.map(n,function(e){var i=t.clone(e);return i.readOnly=this.readOnly,i.uuid=t.uniqueId(this.id),i},this),r=this.getElem().find("ul")[0],s=this.getTemplateSection("data");i.Utils.setInnerHtml(r,s,{data:a}),e(r).find("li").length<5&&this.getElem()[0].clientHeight<125?(this.getElem().find(".jr-mSizer").addClass("hidden"),this.getElem().find(".inputSet").removeClass("sizable").attr("style",!1)):this.resizable&&(this.getElem().find(".jr-mSizer").removeClass("hidden"),this.getElem().find(".inputSet").addClass("sizable"))},getSelection:function(){var i=this.getElem().find(":checkbox").filter(":checked");return t.map(i,function(t){return e(t).val()})},bindCustomEventListeners:function(){this.getElem().on("change","input",t.bind(function(e){var t=this.getSelection(),i=this;setTimeout(function(){i.set({selection:t})})},this)),this.getElem().on("click","a",t.bind(function(i){var n=this.getElem().find("input"),a=e(i.target)[0].name;"multiSelectAll"===a||"multiSelectNone"===a?t.each(n,function(e){e.checked="multiSelectAll"===a}):"multiSelectInverse"===a&&t.each(n,function(e){e.checked=!e.checked}),this.getElem().find("input").change()},this))},get:function(e){var i=this[e];return"selection"==e&&t.isEmpty(i)?[ControlsBase.NOTHING_SUBSTITUTION_VALUE]:i},makeResizable:function(){this.resizable=!0;var e=this.getElem().find("ul"),t=this.getElem().find(".jr-mSizer").removeClass("hidden");t.addClass("ui-resizable-s"),e.resizable({handles:{s:t}})}})})}(jQuery,_,JRS.Controls),define("controls.components",["jquery","underscore","controls.basecontrol","components/singleSelect/view/SingleSelect","components/multiSelect/view/MultiSelect","components/singleSelect/dataprovider/CacheableDataProvider","common/util/parse/date"],function(e){return function(){var t;return t||e.JRS.Controls}}(this)),jQuery.url=function(e){function t(e){for(var t="",i=0,n=0,a=0;i<e.length;)n=e.charCodeAt(i),128>n?(t+=String.fromCharCode(n),i++):n>191&&224>n?(a=e.charCodeAt(i+1),t+=String.fromCharCode((31&n)<<6|63&a),i+=2):(a=e.charCodeAt(i+1),c3=e.charCodeAt(i+2),t+=String.fromCharCode((15&n)<<12|(63&a)<<6|63&c3),i+=3);return t}function i(t,i){var n={},a={"true":!0,"false":!1,"null":null};return e.each(t.replace(/\+/g," ").split("&"),function(t,r){var o,l=r.split("="),d=s(l[0]),c=n,u=0,h=d.split("]["),m=h.length-1;if(/\[/.test(h[0])&&/\]$/.test(h[m])?(h[m]=h[m].replace(/\]$/,""),h=h.shift().split("[").concat(h),m=h.length-1):m=0,2===l.length)if(o=s(l[1]),i&&(o=o&&!isNaN(o)?+o:"undefined"===o?void 0:void 0!==a[o]?a[o]:o),m)for(;m>=u;u++)d=""===h[u]?c.length:h[u],c=c[d]=m>u?c[d]||(h[u+1]&&isNaN(h[u+1])?{}:[]):o;else e.isArray(n[d])?n[d].push(o):void 0!==n[d]?n[d]=[n[d],o]:n[d]=o;else d&&(n[d]=i?void 0:"")}),n}function n(e){e=e||window.location;for(var t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],a=t.exec(e),r={},s=n.length;s--;)r[n[s]]=a[s]||"";return r.query&&(r.params=i(r.query,!1)),r}function a(t){if(t.source)return encodeURI(t.source);var i=[];return t.protocol&&("file"==t.protocol?i.push("file:///"):"mailto"==t.protocol?i.push("mailto:"):i.push(t.protocol+"://")),t.authority?i.push(t.authority):(t.userInfo?i.push(t.userInfo+"@"):t.user&&(i.push(t.user),t.password&&i.push(":"+t.password),i.push("@")),t.host&&(i.push(t.host),t.port&&i.push(":"+t.port))),t.path?i.push(t.path):(t.directory&&i.push(t.directory),t.file&&i.push(t.file)),t.query?i.push("?"+t.query):t.params&&i.push("?"+e.param(t.params)),t.anchor&&i.push("#"+t.anchor),i.join("")}function r(e){return encodeURIComponent(e)}function s(e){return t(unescape(e.replace(/\+/g," ")))}return{encode:r,decode:s,parse:n,build:a}}(jQuery),define("jquery.urldecoder",["jquery"],function(e){return function(){var t;return t||e.jQuery}}(this)),function(e,t,i){function n(t){var i=e.url.parse(location.href).params;return i&&i[t]}return t.extend(i,{Controller:i.Base.extend({constructor:function(n){this.viewModel=n&&n.viewModel?n.viewModel:new i.ViewModel,this.dataTransfer=n&&n.dataTransfer?n.dataTransfer:new i.DataTransfer({dataConverter:new i.DataConverter}),this.initialize(n),i.listen({"viewmodel:selection:changed":t.bind(function(e,t,i,n){t&&n&&this.updateControlsValues(t,i)},this),"reportoptions:selection:changed":t.bind(function(e,t){var i=t&&t.reportOption,n=t&&t.selectedData;this.reset(i&&i.uri,n)},this)}),i.getController=t.bind(function(){return this},this),t.bindAll(this),e(document).trigger("controls:initialized",[this.getViewModel()])},initialize:function(e){this.dataTransfer.setReportUri(this.detectReportUri(e))},fetchControlsStructure:function(e,i){var n=this.dataTransfer,a=this.viewModel,r=i&&!t.isEmpty(e)?t.keys(e):[];return n.fetchControlsStructure(r,e).done(function(e){e&&a.set({structure:e.structure,state:e.state})})},detectReportUri:function(e){if(this.reportUri=e&&e.reportUri||n("reportUnitURI"),!this.reportUri)throw Error("Can't initialize without reportUri");return this.reportOptionUri=e&&e.reportOptionUri||n("reportOptionsURI"),this.getReportUri()},getReportUri:function(){return this.reportOptionUri||this.reportUri},getDataTransfer:function(){return this.dataTransfer},getViewModel:function(){return this.viewModel},updateControlsValues:function(e,i){var n=this.getDataTransfer(),a=this.getViewModel(),r=i||t.map(a.getControls(),function(e){return e.id});return n.fetchControlsUpdatedValues(r,e).done(a.set)},reset:function(e,t){return this.getDataTransfer().fetchInitialControlValues(e||this.getReportUri(),t).done(this.getViewModel().set)},update:function(e){return e||(e=this.getViewModel().get("selection")),this.updateControlsValues(e)},validate:function(){var e=this.getDataTransfer(),i=this.getViewModel(),n=t.map(i.getControls(),function(e){return e.id}),a=i.get("selection");return e.fetchControlsUpdatedValues(n,a).then(function(e){var n=t(e.state).reduce(function(e,t,i){return e[i]={error:t.error},e},{});i.set({state:n})}).then(function(){return i.areAllControlsValid()})}})})}(jQuery,_,JRS.Controls),define("controls.controller",["jquery","underscore","controls.core","controls.datatransfer","controls.viewmodel","controls.components","report.view.base","jquery.urldecoder"],function(e){return function(){var t;return t||e.JRS.Controls}}(this));var adhocControls={};adhocControls={CONTROLS_LOCATION:"filtersMainTableICCell",filterSaveAsCheckbox:null,controlsController:null,hideDialog:null,lastSelection:{controlsData:null,saveAsDefault:null},initialize:function(e){if("true"===hasVisibleInputControls&&$(ControlsBase.INPUT_CONTROLS_DIALOG)){this.controlsController=new JRS.Controls.Controller({reportUri:Report.reportUnitURI});var t="#"+ControlsBase.INPUT_CONTROLS_FORM+" .sub.header";if(jQuery("#"+ControlsBase.INPUT_CONTROLS_DIALOG).length>0&&(t="#"+ControlsBase.INPUT_CONTROLS_DIALOG+" .sub.header"),this.viewModel=this.controlsController.getViewModel(),this.viewModel.reloadContainer(),this.controlsController.fetchControlsStructure(e.adhocParameters,!0).always(function(){var e=adhocControls.viewModel;e.areAllControlsValid()&&"true"!==reportForceControlsOnStart?adhocControls.forceFiltersFromControls():adhocControls.launchDialog()}),this.filterSaveAsCheckbox=jQuery("#filterssaveasdefault"),0===this.filterSaveAsCheckbox.length)throw Error("Can't find filter save as default");adhocControls.setSaveAsDefaultCheckbox(e.isSaveParametersAsDefault);var i={"button#ok":this.applyFilters.curry(!0),"button#cancel":this.cancel,"button#reset":this.reset,"button#apply":this.applyFilters.curry(!1)};this._dialog=new ControlDialog(i)}},launchDialog:function(){"true"===hasVisibleInputControls&&(adhocControls._dialog.show(),enableSelection(adhocControls._dialog._dom),adhocControls.setFocusOnFirstInputControl())},applyFilters:function(e){adhocControls.hideDialog=e,adhocControls.isSelectionChanged()?adhocControls.controlsController.validate().then(function(t){t&&(adhocControls.forceFiltersFromControls(),e&&adhocControls.closeDialog())}):adhocControls.viewModel.areAllControlsValid()&&e&&adhocControls.closeDialog()},reset:function(){adhocControls.controlsController.reset(),adhocControls.setSaveAsDefaultCheckbox(!0)},cancel:function(){adhocControls.closeDialog(),adhocControls.isSelectionChanged()&&adhocControls.restoreDialogLastSelection()},forceFiltersFromControls:function(){var e,t=adhocControls.getControlsSelection(),i=adhocControls.isSaveAsDefaultCheckbox();i&&(e={filterssaveasdefault:"on"}),adhocControls.forceFilterAction(ControlsBase.buildSelectedDataUri(t,e)),adhocControls.saveDialogLastSelection(t,i)},closeDialog:function(){adhocControls._dialog.hide()},leaveAdhoc:function(){document.location=buildActionUrl({_flowId:"homeFlow"})},refreshAdhocDesigner:function(){var e=function(e){localContext.standardOpCallback(e),adhocDesigner.filtersController.setFilters(e,{reset:!0})};designerBase.sendRequest("co_loadState",[],e)},requestFilterAction:function(e,t,i,n){var a={_flowId:"adhocAjaxFilterDialogFlow",clientKey:clientKey,decorate:"no"};a[t]="true";var r=buildActionUrl(a),s=Object.extend({postData:n,callback:e,mode:AjaxRequester.prototype.EVAL_JSON,errorHandler:baseErrorHandler},i);ajaxTargettedUpdate(r,s)},setFilters:function(e){adhocControls.requestFilterAction(e,"setFilters")},forceFilterAction:function(e){adhocControls.requestFilterAction(function(e){"success"===e&&(adhocControls.refreshAdhocDesigner(),adhocControls.hideDialog&&adhocControls.closeDialog())},"setFilters",null,e)},setFocusOnFirstInputControl:function(){if("undefined"!=typeof firstInputControlName&&firstInputControlName){var e=$(firstInputControlName);e&&e.focus()}},isSelectionChanged:function(){return JRS.Controls.ViewModel.isSelectionChanged(adhocControls.getControlsLastSelection(),adhocControls.getControlsSelection())||adhocControls.getSaveAsDefaultCheckboxLastValue()!=adhocControls.isSaveAsDefaultCheckbox()},setSaveAsDefaultCheckbox:function(e){e?adhocControls.filterSaveAsCheckbox.prop("checked",!0):adhocControls.filterSaveAsCheckbox.removeAttr("checked")},isSaveAsDefaultCheckbox:function(){return adhocControls.filterSaveAsCheckbox.is(":checked")},getControlsSelection:function(){return adhocControls.viewModel.get("selection")},restoreDialogLastSelection:function(){adhocControls.controlsController.update(adhocControls.lastSelection.controlsData),adhocControls.setSaveAsDefaultCheckbox(adhocControls.lastSelection.saveAsDefault)},saveDialogLastSelection:function(e,t){adhocControls.lastSelection.controlsData=e,adhocControls.lastSelection.saveAsDefault=t},getControlsLastSelection:function(){return adhocControls.lastSelection.controlsData},getSaveAsDefaultCheckboxLastValue:function(){return adhocControls.lastSelection.saveAsDefault}},define("controls.adhoc",["controls.controller","report.view.base"],function(e){return function(){var t;return t||e.adhocControls}}(this));var crossTabMultiSelect={};crossTabMultiSelect.ROW_GROUP="rowGroup",crossTabMultiSelect.COL_GROUP="colGroupHeaderRow",crossTabMultiSelect.ROW_GROUP_LEVEL="rowGroupLevel_",crossTabMultiSelect.COl_GROUP_LEVEL="colGroupLevel_",crossTabMultiSelect.selectedCells=[],crossTabMultiSelect.selectXtabGroupMember=function(e,t){e=$(e);var i=null,n=null,a=null,r=null,s=new RegExp("\\d+"),o="SPAN"==e.tagName&&e.parentNode||e;o||(i=null);var l=$(o).identify(),d=s.exec(l)[0];if(l.startsWith(crossTabMultiSelect.ROW_GROUP)?(i=crossTabMultiSelect.ROW_GROUP_LEVEL+d,r=crossTabMultiSelect.ROW_GROUP,n="row"):l.startsWith(crossTabMultiSelect.COL_GROUP)&&(i=crossTabMultiSelect.COl_GROUP_LEVEL+d,r=crossTabMultiSelect.COL_GROUP,n="column"),i){var c=null,u=null,h=e.readAttribute("data-path"),m=AdHocCrosstab.getTopBottomFilter(),p=m&&m.path===h?m.type:"none";if(a={id:e.identify(),path:h,value:e.readAttribute("data-fieldValue"),isSummary:e.readAttribute("data-isSummaryHeader"),isSliceable:"true"===e.readAttribute("data-sliceable"),axis:n,isInner:e.hasClassName("inner"),sorting:e.readAttribute("data-sorting"),level:e.readAttribute("data-levelname"),name:e.readAttribute("data-levelname"),topBottomFilter:p},u=isShiftHeld(t),selectionCategory.area==i&&u){s=new RegExp(/\d+$/);var f=selObjects[selObjects.length-1];if(f){var g=parseInt(s.exec(f.id)),_=parseInt(s.exec(e.id)),v=Math.abs(_-g),b=_>g;if(crossTabMultiSelect.isObjectAlreadySelected(a))adhocDesigner.removeSelectedObject(a);else for(var y=0;v>=y;y++){var T=b?g+y:g-y,A=$(r+"_"+d+"_"+T);if(A){var M={id:A.identify(),path:A.readAttribute("data-path"),value:A.readAttribute("data-fieldValue"),isSummary:A.readAttribute("data-isSummaryHeader"),isSliceable:"true"===A.readAttribute("data-sliceable"),axis:n,isInner:A.hasClassName("inner"),sorting:A.readAttribute("data-sorting"),level:A.readAttribute("data-levelname"),name:A.readAttribute("data-levelname"),topBottomFilter:p};designerBase.addToSelected(M),crossTabMultiSelect.activateSelectedXtabCells()}}selectionCategory.area=i}}else"false"===$(e).getAttribute("data-isSummaryHeader")?(c=isMetaHeld(t),a={id:e.identify(),path:e.readAttribute("data-path"),value:e.readAttribute("data-fieldValue"),isSummary:e.readAttribute("data-isSummaryHeader"),isSliceable:"true"===e.readAttribute("data-sliceable"),axis:n,isInner:e.hasClassName("inner"),sorting:e.readAttribute("data-sorting"),level:e.readAttribute("data-levelname"),name:e.readAttribute("data-levelname"),topBottomFilter:p},crossTabMultiSelect.isObjectAlreadySelected(a)&&c?crossTabMultiSelect.removeSelectedObject(a):((!c||designerBase.shouldClearSelections(t,i))&&(crossTabMultiSelect.deselectAllGroupMembers(t),designerBase.unSelectAll()),designerBase.addToSelected(a),crossTabMultiSelect.activateSelectedXtabCells(),selectionCategory.area=i)):isRightClick(t)&&(crossTabMultiSelect.isObjectAlreadySelected(a)||(crossTabMultiSelect.deselectAllGroupMembers(),designerBase.unSelectAll(),designerBase.addToSelected(a)));actionModel.setSelected(selObjects)}},crossTabMultiSelect.selectXtabGroupLabel=function(e){designerBase.unSelectAll(),selectionCategory.area="column"===e.axis?designerBase.COLUMN_GROUP_MENU_LEVEL:designerBase.ROW_GROUP_MENU_LEVEL,actionModel.setSelected([e]),designerBase.addToSelected(e)},crossTabMultiSelect.isObjectAlreadySelected=function(e){return designerBase.isObjectInSelection(e,"id")},crossTabMultiSelect.removeSelectedObject=function(e){crossTabMultiSelect.deactivateXtabCell(e);for(var t=null,i=0;i<selObjects.length;i++)if(selObjects[i].id==e.id){t=i;break}selObjects=selObjects.without(selObjects[t])},crossTabMultiSelect.activateSelectedXtabCells=function(){selObjects.each(function(e){crossTabMultiSelect.activateXtabCell(e)})},crossTabMultiSelect.activateXtabCell=function(e){if(e&&e.id){var t=e.id;(t.startsWith("colGroupHeaderRow")||t.startsWith("rowGroup"))&&$(t)&&($(t).addClassName("selected"),crossTabMultiSelect.selectedCells.push(e))}},crossTabMultiSelect.deactivateXtabCell=function(e){if(e&&e.id){var t=e.id;(t.startsWith("colGroupHeaderRow")||t.startsWith("rowGroup"))&&$(t)&&($(t).removeClassName("selected"),crossTabMultiSelect.selectedCells.without(e))}},crossTabMultiSelect.deactivateSelectedXtabCells=function(){selObjects.each(function(e){crossTabMultiSelect.deactivateXtabCell(e)})},crossTabMultiSelect.deselectAllGroupMembers=function(){crossTabMultiSelect.selectedCells.each(function(e){crossTabMultiSelect.deactivateXtabCell(e)}),crossTabMultiSelect.selectedCells.clear()},define("adhoc/crosstab.multiselect",function(e){return function(){var t;return t||e.crossTabMultiSelect}}(this)),define("adhoc/designer",["require","jrs.configs","underscore","prototype","jquery","designer.base","components.toolbar","touchcontroller","core.layout","utils.common","adhoc/intelligentChart/adhocIntelligentChart","adhoc/crosstab.tests","adhoc/chart.observers","adhoc/table.init","actionModel.modelGenerator","adhoc/designer.calculatedFields","adhoc/designer.sort","adhoc/designer.reentrant","adhoc/layout.manager","adhoc/filter/FiltersController","adhoc/filter/OlapFiltersController","adhoc/filter/FilterService","dragdrop.extra.v0.5","org.rootObjectModifier","controls.adhoc","adhoc/crosstab.multiselect","common/util/classUtil"],function(e){"use strict";e("jrs.configs");var t=e("underscore");e("prototype"),e("jquery"),e("designer.base"),e("components.toolbar"),e("touchcontroller"),e("core.layout"),e("utils.common"),e("adhoc/intelligentChart/adhocIntelligentChart"),e("adhoc/crosstab.tests"),e("adhoc/chart.observers"),e("adhoc/table.init"),e("actionModel.modelGenerator"),e("adhoc/designer.calculatedFields"),e("adhoc/designer.sort"),e("adhoc/designer.reentrant"),e("adhoc/layout.manager"),e("adhoc/filter/FiltersController"),e("adhoc/filter/OlapFiltersController"),e("adhoc/filter/FilterService"),e("dragdrop.extra.v0.5"),e("org.rootObjectModifier"),e("controls.adhoc"),e("adhoc/crosstab.multiselect");var i=e("common/util/classUtil");JRS.vars.current_flow="adhoc";var n,a;window.localContext=window,window.theBody=document.body,window.requestLogEnabled=!1,window.TIMEOUT_INTERVAL=1e3*serverTimeoutInterval,window.ADHOC_SESSION_TIMEOUT_MESSAGE=adHocSessionExpireCode,window.ADHOC_EXIT_MESSAGE=adHocExitConfirmation;var r={ui:{header_title:null,display_manager:null,canvas:null,dataMode:null},_leafSelectedFired:!1,dimensionsTree:null,measuresTree:null,_availableTreeLastOpened:null,_AVAILABLE_TREE_DEPTH:10,_cookieName:"lastNodeUri",_cookieTime:3,FOLDER_TYPE:"ItemGroupType",multiSelect:!1,MEASURES:"Measures",DIMENSIONS_TREE_DOM_ID:"dimensionsTree",DIMENSIONS_TREE_PROVIDER_ID:"dimensionsTreeDataProvider",MEASURES_TREE_DOM_ID:"measuresTree",MEASURES_TREE_PROVIDER_ID:"measuresTreeDataProvider",TREE_CONTEXT_MENU_PATTERN:["ul#dimensionsTree li.leaf .button","ul#dimensionsTree li.node .button","ul#measuresTree li.leaf .button","ul#measuresTree li.node .button"],DIMENSION_TREE_DIMENSION_CONTEXT:"dimensionsTree_dimension",DIMENSION_TREE_LEVEL_CONTEXT:"dimensionsTree_level",MEASURE_TREE_GROUP_CONTEXT:"measuresTree_group",MEASURE_TREE_CONTEXT:"measuresTree",TREE_NODE_AND_LEAF_PATTERN:["ul#visibleFieldsTree li.leaf","ul#visibleFieldsTree li.node","ul#dimensionsTree li.leaf","ul#dimensionsTree li.node","ul#measuresTree li.node"],CANVAS_ID:"canvasTable",CANVAS_PARENT_ID:"mainTableContainer",CANVAS_PANEL_ID:"canvas",OLAP_MEASURES_TREE:"measuresTree",DISPLAY_MANAGER_ID:"displayManagerPanel",overlayParent:null,overlayDraggedColumn:null,initialDragXposition:null,NaN:"NaN",removeDroppables:null,addDroppables:null,DEFAULT_SUMMARY_NUM_FUNC:"Sum",DEFAULT_SUMMARY_NONNUM_FUNC:"DistinctCount",COLUMN_OVERLAY_PATTERN:"div.overlay.col",GROUP_OVERLAY_PATTERN:"div.overlay.group",SUMMARY_OVERLAY_PATTERN:"div.overlay.summary",GROUP_LABEL_SPAN_PATTERN:"span.labelOverlay.label",COLUMN_SIZER_PATTERN:"div.columnSizer",ROW_OVERLAY_PATTERN:"div.rowOverlay",ROW_GROUP_OVERLAY_PATTERN:"div.rowGroupOverlay",COLUMN_GROUP_OVERLAY_PATTERN:"div.columnGroupOverlay",MEASURE_OVERLAY_PATTERN:"div.measureOverlay",XTAB_GROUP_HEADER_PATTERN:"th.label.group",XTAB_GROUP_OVERLAY_PATTERN:"div.overlay.xtab.gr",XTAB_GROUP_HEADER_OVERLAY_PATTERN:"div.overlay.xtab.header",XTAB_MEASURE_OVERLAY_PATTERN:"div.overlay.xtab.m",XTAB_MEASURE_HEADER_OVERLAY_PATTERN:"div.overlay.xtab.measure",ROW_GROUP_MEMBER_PATTERN:"tbody#detailRows tr td.label.member",COLUMN_GROUP_MEMBER_PATTERN:"thead#headerAxis th.label.member",LEGEND_OVERLAY_PATTERN:"div.legend.overlay",AVAILABLE_FIELDS_PATTERN:["ul#visibleFieldsTree","ul#dimensionsTree","ul#measuresTree"],CANVAS_PATTERN:"table#canvasTable",MENU_PATTERN:"div#menu",CANVAS_PARENT_PATTERN:"div#mainTableContainer",EXPORT_FORM_PATTERN:"#exportActionForm",FILTER_OPERATOR_MENU_PATTERN:"#filter-container .button.operator",FILTER_GENERAL_MENU_PATTERN:"#filter-container #filterPanelMutton",FILTER_ITEM_MENU_PATTERN:"#filter-container .button.mutton",SAVE_WITHOUT_FILTERS_APPLY_CONFIRMATION_DIALOG:{DIALOG_ID:"saveWithoutFiltersApplyConfirmationDialog",OK_BUTTON_ID:"saveWithoutFiltersApplyConfirmationDialogOK",CANCEL_BUTTON_ID:"saveWithoutFiltersApplyConfirmationDialogCancel"},DELETE_CALCULATED_FIELD_CONFIRMATION_DIALOG:{DIALOG_ID:"deleteCalculatedFieldConfirmationDialog",OK_BUTTON_ID:"deleteCalculatedFieldConfirmationDialogOK",CANCEL_BUTTON_ID:"deleteCalculatedFieldConfirmationDialogCancel"},INTEGER_JAVA_TYPES:["java.lang.Byte","java.lang.Integer","java.lang.Short","java.lang.Long","java.math.BigInteger"],DECIMAL_JAVA_TYPES:["java.lang.Float","java.lang.Double","java.math.BigDecimal","java.lang.Number"],DATE_JAVA_TYPES:["java.sql.Timestamp","java.sql.Time","java.sql.Date","java.util.Date"],BOOLEAN_JAVA_TYPES:["java.lang.Boolean"],DATE_TYPE_DISPLAY:"date",INTEGER_TYPE_DISPLAY:"int",DECIMAL_TYPE_DISPLAY:"dec",BOOLEAN_TYPE_DISPLAY:"bool",NOT_A_NUMBER_TYPE_DISPLAY:"NaN",toolbarActionMap:{presentation:"adhocDesigner.goToPresentationView",explorer:"adhocDesigner.goToDesignView",execute:"adhocDesigner.saveAndRun",undo:"adhocDesigner.undo",redo:"adhocDesigner.redo",undoAll:"adhocDesigner.undoAll",pivot:"adhocDesigner.pivot",sort:"adhocDesigner.sort",controls:"adhocDesigner.launchDialogMenu",styles:"adhocDesigner.showAdhocThemePane",query:"adhocDesigner.showViewQueryDialog"},dialogESCFunctions:{save:"saveAs",saveDataViewAndReport:"saveDataViewAndReport",sort:"sortDialog",reentrant:"selectFields",editLabel:"editLabel"},contextMap:{table:AdHocTable,crosstab:AdHocCrosstab,olap_crosstab:AdHocCrosstab,chart:AdHocChart,ichart:AdhocIntelligentChart,olap_ichart:AdhocIntelligentChart},isIntegerType:function(e){return r.INTEGER_JAVA_TYPES.indexOf(e)>=0},isDecimalType:function(e){return r.DECIMAL_JAVA_TYPES.indexOf(e)>=0},isDateType:function(e){return r.DATE_JAVA_TYPES.indexOf(e)>=0},isBooleanType:function(e){
return r.BOOLEAN_JAVA_TYPES.indexOf(e)>=0},getSuperType:function(e){return r.isIntegerType(e)?r.INTEGER_TYPE_DISPLAY:r.isDecimalType(e)?r.DECIMAL_TYPE_DISPLAY:r.isDateType(e)?r.DATE_TYPE_DISPLAY:r.NOT_A_NUMBER_TYPE_DISPLAY},getSelectedColumnOrGroup:function(){return selObjects[0]},generalDesignerCallback:function(){localContext.initAll(),r.updateTrees()},launchDialogMenu:function(){adhocControls.launchDialog()},showViewQueryDialog:function(){r.viewQueryDialog.show()},sort:function(){adhocSort.launchDialog()},selectFields:function(){adhocReentrance.launchDialog()},run:function(e){if(webHelpModule.setCurrentContext(e.indexOf("olap")>=0?"analysis":"ad_hoc"),this.ui.dataMode=jQuery("#dataSizeSelector"),this.ui.canvas=isSupportsTouch()?jQuery("#mainTableContainer > .scrollWrapper"):jQuery("#mainTableContainer"),this.ui.header_title=jQuery("#canvas > div.content > div.header > div.title"),this.observePointerEvents(),this.observeKeyEvents(),this.observeCustomEvents(),this.observeTableContainerEvents(),this.initDroppables(),this.initComponents(e),this.loadState(),window.isEmbeddedDesigner?(toolbarButtonModule.initialize(t.extend(this.toolbarActionMap,{presentation:"doNothing","export":"doNothing",save:"adhocDesigner.handleBack",closeDesigner:"adhocDesigner.handleCancel"}),$("adhocToolbar")),r.observeCloseDesignerEvent(),r.observeCrossDocumentMessages()):toolbarButtonModule.initialize(this.toolbarActionMap,$("adhocToolbar")),isSupportsTouch()){var i=this.ui.canvas.get(0);this._touchController=new TouchController(i,i.parentNode,{useParent:!0,absolute:!0,scrollbars:!0})}this.initTitle(),this.initFiltersPanel(),this.initPanelsState(),this.initDialogs(),"undefined"!=typeof window.orientation&&0===window.orientation&&this.hideOnePanel(),$("errorPageContent")?r.initEnableBrowserSelection($("designer")):r.initPreventBrowserSelection($("designer"))},initLocalContext:function(e){localContext=this.contextMap[e],localContext.setMode(e),localContext.init&&localContext.init(e),r.resetState(),localContext.reset()},initComponents:function(e){this.isCrosstabMode=e.indexOf("ichart")>=0||e.indexOf("crosstab")>=0,this.ui.canvas.empty(),jQuery("#level-container").hide(),jQuery("#dataModeSelector").val(e),this.initLocalContext(e),e.indexOf("ichart")<0&&r.registerTemplate(localContext,e+"Template"),this.initLayoutManager(e),e.indexOf("chart")>=0||e.indexOf("olap")>=0?this.ui.dataMode.hide():this.ui.dataMode.show(),jQuery("#columns").children().eq(0).html(layoutManagerLabels.column[e]),jQuery("#rows").children().eq(0).html(layoutManagerLabels.row[e])},render:function(){var e=localContext.state;toolbarButtonModule.setActionModel(e.actionmodel),localContext.getMode()!=designerBase.ICHART&&localContext.getMode()!=designerBase.OLAP_ICHART&&r.ui.canvas.empty(),r.updateCanvasClasses(r.isCrosstabMode);var t=localContext.render();isDesignView&&(r.enableCanUndoRedo(),r.enableRunAndSave(localContext.canSaveReport())),t&&(editor=null,designerBase.initAdhocSpecificDesignerBaseVar(),designerBase.setState(),designerBase.updateSessionWarning(),designerBase.updateFlowKey(),localContext.initAll&&localContext.initAll()),isDesignView&&r.isDisplayManagerVisible()&&jQuery("#"+r.DISPLAY_MANAGER_ID).removeClass(layoutModule.HIDDEN_CLASS),r.updateModeLabelSelection(e.viewType),r.updateDataMode(e.dataSize),r.ui.display_manager.render(e.columns?{column:e.columns,group:e.groups}:e.chartItems?{measures:e.chartItems,group:e.group}:{column:e.crosstabState.columnGroups,row:e.crosstabState.rowGroups}),jQuery("#designer").trigger("layout_update"),r.resetScroll(),isDesignView&&r.enableRunAndSave(localContext.canSaveReport()),r.enableSort("table"==e.viewType),r.viewQueryDialog.updateContent(e.query),jQuery("#designer").trigger("rendering:done")},resetState:function(){localContext.state=new r.State({})},updateState:function(e){localContext.state.update(e)},updateModeLabelSelection:function(e){jQuery("#dataModeSelector").val(e)},updateDataMode:function(e){jQuery("#dataSizeSelector").val(e)},setNothingToDisplayVisibility:function(e){if(e){if(jQuery("#titleCaption").css("min-width","400px"),jQuery("#nothingToDisplay").removeClass(layoutModule.HIDDEN_CLASS),centerElement($("nothingToDisplay"),{horz:!0,vert:!0}),isIPad()){var t=$("nothingToDisplay"),i=parseInt(t.getStyle("width")),n=(i+getBufferWidth(t,!0),jQuery("#displayManager"));n?n.width():t.up(1).getWidth();t.style.marginLeft=i/2+"px",t.style.left="0%",t.style.position="relative",t.style.minWidth="300px"}}else jQuery("#titleCaption").css("min-width",""),jQuery("#nothingToDisplay").addClass(layoutModule.HIDDEN_CLASS)},updateCanvasClasses:function(e){jQuery("#"+r.CANVAS_PANEL_ID)[(e?"add":"remove")+"Class"]("showingSubHeader OLAP")},showSaveConfirmationDialog:function(e){var t=jQuery("#"+r.SAVE_WITHOUT_FILTERS_APPLY_CONFIRMATION_DIALOG.DIALOG_ID);dialogs.popupConfirm.show(t[0],!1,{okButtonSelector:"#"+r.SAVE_WITHOUT_FILTERS_APPLY_CONFIRMATION_DIALOG.OK_BUTTON_ID,cancelButtonSelector:"#"+r.SAVE_WITHOUT_FILTERS_APPLY_CONFIRMATION_DIALOG.CANCEL_BUTTON_ID}).done(e)},resetScroll:function(){r._touchController&&(r._touchController.reset(),r._touchController.addPadding("canvasTable",{right:200}))},resetFilterPanelState:function(){layoutModule.panelStateWasManuallyChanged("filters",clientKey)?layoutModule["true"===layoutModule.getPanelMinimizedState("filters")?"minimize":"maximize"]($("filters"),!0):r.filtersController.collection.length>0||jQuery("#level-container .sliderTick").length>0?layoutModule.maximize($("filters"),!0):layoutModule.minimize($("filters"),!0)},canShowFilterOption:function(e){for(var t=!0,i=0;i<selObjects.length;i++)if(!localContext.canAddFilter(selObjects[i],e)){t=!1;break}return t},getMode:function(){return localContext.getMode()},isOlapMode:function(){return localContext.getMode().indexOf("olap")>-1}};return r.State=function(e){this.update(e),i.mixin(this,localContext.State)},r.State.prototype.update=function(e){t.extend(this,e)},window.adhocDesigner=r,window.adhocSessionButton=n,window.adhocSessionDialog=a,r}),define("adhoc/designer.label.actions",["require","adhoc/designer"],function(e){var t=e("adhoc/designer");return t.editDataHeader=function(e,i){var n=null,a=null,r=null,s=null,o=null,l=null,d=null,c=$("editLabel"),u=100,h=function(){t.initPreventBrowserSelection($("designer"))};if(this.initEnableBrowserSelection($("designer")),"title"===i)t.prevTitle=jQuery("#titleCaption").html(),editor=new InPlaceEditor(e),editor.oldTitle=editor.value,editor.makeEditable({onMouseup:t.returnToNormalReportTitle,onTab:t.returnToNormalReportTitle,onEnter:t.returnToNormalReportTitle,onEsc:t.returnToNormalReportTitle}),jQuery("#mainTableContainer").scrollLeft(0);else if(c){if(o=c.down("button#cancelEditBtn"),s=c.down("button#editLabelBtn"),"legend"===i){var m=designerBase.getSelectedObject();m&&(l=m.index,n=m.userName,a=c.down("input#editLabelInput"),a&&(a.value=n,r=function(){d=a.value,localContext.updateLegendLabel(d,l)}))}else if("column"===i){var p=t.getSelectedColumnOrGroup();if(p){var f=p.header.getElementsByTagName("span")[0],g=f?f.innerHTML.trim():getInnerText(p.header);n=xssUtil.unescape(g),u=$(p.header).getWidth(),l=p.index,a=c.down("input#editLabelInput"),a&&(a.value=n,r=function(){d=a.value,localContext.updateColumnHeaderRequest(d,l,u)})}}else if("tableGroup"===i){var _=t.getSelectedColumnOrGroup();if(_){var v=_.index;n=_.label,a=c.down("input#editLabelInput"),a&&(a.value=n,r=function(){d=a.value,localContext.updateGroupLabel(d,v)})}}if(a){$(o).observe("click",function(e){$(s).stopObserving("click"),h(),dialogs.popup.hide(c),Event.stop(e)}),$(s).observe("click",function(e){r(),h(),$(s).stopObserving("click"),dialogs.popup.hide(c),Event.stop(e)}),$(a).observe("key:enter",function(e){r(),h(),$(s).stopObserving("click"),$(a).stopObserving("key:enter"),dialogs.popup.hide(c),Event.stop(e)}),$(a).observe("keypress",function(e){e=e?e:window.event,"legend"===i&&(62==e.keyCode||60==e.keyCode||38==e.keyCode||61==e.keyCode||62==e.charCode||60==e.charCode||38==e.charCode||61==e.charCode)&&Event.stop(e)}),dialogs.popup.show(c);var b=500,y=function(){a.focus(),a.select()};isIE8()?setTimeout(y,b):y()}}},t.addColumnLabel=function(){if(1==selObjects.length){var e=designerBase.getSelectedObject(),i=e.header;i.hasClassName("deletedHeader")&&t.editDataHeader(i,"column")}},t.deleteColumnLabel=function(){if(1==selObjects.length){var e=designerBase.getSelectedObject(),t=e.header;t.hasClassName("deletedHeader")||(t.addClassName("deletedHeader"),t.innerHTML=t.readAttribute("data-fieldName")),localContext.removeColumnHeaderRequest()}},t.selectAndEditLabel=function(e){var i=null,n=$("legendOverlay_"+e);n&&(i={id:n.identify(),legendName:n.readAttribute("data-legendName"),index:n.readAttribute("data-index"),defaultName:n.readAttribute("data-defaultName"),userName:n.readAttribute("data-userName")},designerBase.unSelectAll(),localContext.deselectAllSelectedOverlays(),designerBase.addToSelected(i),buttonManager.select(n),t.editLegendLabel())},t.editLegendLabel=function(){if(1==selObjects.length){var e=designerBase.getSelectedObject(),i=$(e.id);i&&t.editDataHeader(i,"legend")}},t.editColumnLabel=function(){if(1==selObjects.length){var e=designerBase.getSelectedObject(),i=e.header;t.editDataHeader(i,"column")}},t.adhocTitleEdit=function(e){var t=e.element();!isNotNullORUndefined(editor)&&matchMeOrUp(t,"#titleCaption")&&(this.editDataHeader($("titleCaption"),"title"),Event.stop(e))},t.returnToNormalReportTitle=function(e){if(editor)if(e=e?e:window.event,e.keyCode==Event.KEY_ESC)editor.revertEdit(),editor=null,t.initPreventBrowserSelection($("designer"));else{editor.makeNonEditable();var i=xssUtil.unescape(editor.elem.innerHTML);editor.oldTitle!=i?(t.updateReportTitle(i),t.initPreventBrowserSelection($("designer"))):"table"==localContext.getMode()&&jQuery("#titleCaption").html(t.prevTitle),editor=null}},t.addGroupLabel=function(){localContext.editGroupLabel()},t.deleteGroupLabel=function(){localContext.removeGroupLabel()},t.editGroupLabel=function(){localContext.editGroupLabel()},t}),define("adhoc/designer.field.actions",["require","bundle!adhoc_messages","adhoc/designer"],function(e){var t=e("bundle!adhoc_messages"),i=e("adhoc/designer");return i.addFieldToCanvas=function(){localContext.getMode()===designerBase.TABLE?AdHocTable.addFieldAsColumn():localContext.getMode()===designerBase.CROSSTAB?localContext.addFieldAsLastMeasure():localContext.getMode()===designerBase.CHART&&localContext.addFieldAsMeasure()},i.checkIfFieldIsNumeric=function(e){var t=i.findFieldByName(e);return null!=t&&"Numeric"==t.type},i.checkIfAllSelectedAreNumeric=function(){for(var e=null,t=null,n=0;n<selObjects.length;n++)if(t=selObjects[n],t&&(selectionCategory.area===designerBase.AVAILABLE_FIELDS_AREA?e=t.param.id:selectionCategory.area===designerBase.COLUMN_LEVEL&&(e=t.header.getAttribute("data-fieldName")),!i.checkIfFieldIsNumeric(e)))return!1;return!0},i.collectFields=function(e,t,i){for(var n=[],a=0;a<e.length;a++){var r=e[a];r.isParent()&&t?n=n.concat(this.collectFields(r.childs,t,i)):i?i(r.param.id)&&n.push(r.param.id):n.push(r.param.id)}return n},i.getAllFields=function(){return isNotNullORUndefined(localContext.state.allColumns)?localContext.state.allColumns:[]},i.findFieldByName=function(e){var t=null;return localContext.state.allColumns&&localContext.state.allColumns.each(function(i){if(i.name&&i.name==e)throw t=i,$break}),t},i.getNameForSelected=function(e){return selectionCategory.area===designerBase.AVAILABLE_FIELDS_AREA?e?e.param.id:"":e.chartMeasureId?e.chartMeasureId:selectionCategory.area===designerBase.COLUMN_LEVEL?e.header.getAttribute("data-fieldName"):selectionCategory.area===designerBase.GROUP_LEVEL?e.fieldName:selectionCategory.area===designerBase.ROW_GROUP_MENU_LEVEL||selectionCategory.area===designerBase.COLUMN_GROUP_MENU_LEVEL?e.name:selectionCategory.area===designerBase.SUMMARY_LEVEL?e.model.name:selectionCategory.area===designerBase.LEGEND_MENU_LEVEL?e.legendName:void 0},i.getFieldName=function(){var e=designerBase.getSelectedObject();return e?this.getNameForSelected(e):""},i.getFieldIndexByName=function(e){if(isNotNullORUndefined(localContext.state.allColumns))for(var t=localContext.state.allColumns.length,i=0;t>i;i++){var n=localContext.state.allColumns[i];if(n.name==e)return i}return-1},i.moveToDimensions=function(){if(selObjects.first()){var e=selObjects.clone();i.moveToMeasuresOrAttributes(e);var t=e.collect(function(e){return e.param.id}).join(",");i.changeFieldAttributeOrMeasure(t,"attribute")}},i.moveToMeasures=function(){if(selObjects.first()){var e=selObjects.clone();i.moveToMeasuresOrAttributes(e);var t=e.collect(function(e){return e.param.id}).join(",");i.changeFieldAttributeOrMeasure(t,"measures")}},i.selectFromAvailableFields=function(e,t){e||this.addSelectedObject(e,t,!1,!0);var i=this.isMultiSelect(e,designerBase.AVAILABLE_FIELDS_AREA);selectionCategory.area=designerBase.AVAILABLE_FIELDS_AREA;var n=this.isAlreadySelected(t);this.addSelectedObject(e,t,i,n),actionModel.setSelected(_.map(dynamicTree.trees[t.getTreeId()].selectedNodes,function(e){return e.param.extra}))},i.updateFieldsInUse=function(e){[].push.apply(localContext.state.fieldsInUse,e)},i.removeFromFieldsInUse=function(e){localContext.state.fieldsInUse&&(localContext.state.fieldsInUse=_.difference(localContext.state.fieldsInUse,e))},i.isInUse=function(e){var t=_.find(localContext.state.fieldsInUse,function(t){return t===e});return t||i.hasDependencyOnIt(e)},i.isInError=function(e){var t=_.find(localContext.state.unresolvedMetadataReferences,function(t){return t===e});return t},i.createCalculatedField=function(){adhocCalculatedFields.createField("DIMENSION")},i.createCalculatedMeasure=function(){adhocCalculatedFields.createField("MEASURE")},i.editCalculatedField=function(){adhocCalculatedFields.updateField()},i.deleteCalculatedField=function(){var e=designerBase.getSelectedObject(),n=jQuery("#"+i.DELETE_CALCULATED_FIELD_CONFIRMATION_DIALOG.DIALOG_ID);dialogs.popupConfirm.show(n[0],!1,{message:t.ADH_436_CALCULATED_FIELD_REMOVE_CONFIRM+' "'+e.name.unescapeHTML()+'".',okButtonSelector:"#"+i.DELETE_CALCULATED_FIELD_CONFIRMATION_DIALOG.OK_BUTTON_ID,cancelButtonSelector:"#"+i.DELETE_CALCULATED_FIELD_CONFIRMATION_DIALOG.CANCEL_BUTTON_ID}).done(adhocCalculatedFields.deleteField.bind(adhocCalculatedFields))},i.isPercentOfParentCalcSelected=function(e){return i.isAggregateSelected(e)},i.isAggregateSelected=function(e){if(e||(e=designerBase.getSelectedObject()),e){var t=i.getNameForSelected(e),n=i.findFieldByName(t);return n&&n.aggregateField}return!1},i.isPercentOfParentCalc=function(e){var t=i.findFieldByName(e);return t&&t.aggregateField},i.hasDependencyOnIt=function(e){var t=i.findFieldByName(e);return t&&t.isUsed},i.updateAllFieldLabels=function(){if(isDesignView){var e=i,t=[e.dimensionsTree,e.measuresTree];_.each(t,function(t){_.each(e.getAllLeaves(null,t),function(t){var n=e.findFieldByName(t.param.id);n&&n.isCustomField&&(i.updateTreeFieldLabel(t,n.defaultDisplayName),t.param.cssClass=e.isInUse(t.param.id)?"calculatedField dependency":"calculatedField",t.refreshStyle())}),t.renderTree()})}},i.updateTreeFieldLabel=function(e,t){e.name=t.replace(/\\'/g,"'"),e.param.label=t.replace(/\\'/g,"'")},i}),define("adhoc/designer.tree.actions",["require","underscore","adhoc/designer"],function(e){var t=e("underscore"),i=e("adhoc/designer");return i.moveToMeasuresOrAttributes=function(e){if(e){var n=Object.isArray(e)?e:[e];e=n.first();var a=e.getTreeId(),r=i[a].getRootNode(),s=0===a.indexOf("dimension")?i.measuresTree:i.dimensionsTree;t.each(n,function(e){i.mergeToDestTree(i.copyParentStructure(e,s),s.getRootNode());for(var t=e;t!=r&&0===t.childs.length;){var n=t.parent;n.removeChild(t),t=n}}),s.resortTree(),s.renderTree(),s.openAndSelectNode(e.param.uri)}},i.addNodeToTree=function(e,t){var i=t.processNode(e);i.isloaded=!0,i.editable=!1,t.rootNode.addChild(i),i.refreshStyle()},i.removeNodeFromTree=function(e){if(!e.parent)throw"The parent node is undefined";var t=e.parent,i=e.param.extra.isMeasure;t.removeChild(e),0===t.childs.length&&!i&&t.parent&&t.parent.removeChild(t)},i.copyParentStructure=function(e,t){if(e&&t){for(var n=dynamicTree.trees[e.getTreeId()],a=t===i.measuresTree,r=localContext.metaNodeBuilder?localContext.metaNodeBuilder:i.metaNodeBuilder,s=t.processNode(r(e,a)),o=e.parent,l=null;o&&o!=n.getRootNode();)l=t.processNode(r(o,a)),l.addChild(s),s=l,o=o.parent;return s}},i.mergeToDestTree=function(e,t){if(t){var n=dynamicTree.trees[t.getTreeId()],a=n.findNodeChildByMetaName(t,e.param.id);null!=a?e.hasChilds()&&e.childs.each(function(e){i.mergeToDestTree(e,a)}):(i.markNodeAsLoaded(e),t.addChild(e))}},i.metaNodeBuilder=function(e,t){var n={id:e.param.id,label:e.name,type:e.param.type,uri:e.param.uri,order:e.orderNumber};if(e.param.extra){var a=Object.extend({},e.param.extra);n.extra=Object.extend(a,{id:e.param.id,isMeasure:t,dimensionId:t?i.MEASURES:e.param.id})}return n},i.markNodeAsLoaded=function(e){e.isloaded=!0,e.isParent()&&e.childs.each(function(e){i.markNodeAsLoaded(e)})},i.getAllLeaves=function(e,t){var i=arguments[2]||[];if(!e){if(!t)return i;if(e=t.getRootNode(),!e)return i}if(!e.hasChilds())return i.push(e),i;for(var n=0;n<e.childs.length;n++)this.getAllLeaves(e.childs[n],null,i);return i},i.getFirstLeaf=function(e){if(!e)return null;var t=e;if(!e.childs||0===e.childs.length)return t;for(var i=0;i<e.childs.length;i++)if(t=this.getFirstLeaf(e.childs[i]))return t},i.getNodeByEvent=function(e){return this.measuresTree.getTreeNodeByEvent(e)||this.dimensionsTree.getTreeNodeByEvent(e)},i}),define("adhoc/designer.report.actions",["require","adhoc/designer","jrs.configs"],function(e){var t=e("adhoc/designer"),i=e("jrs.configs");return t.goToTopicView=function(e){var t="flow.html?_flowId=adhocFlow&_mode="+e+"&launchType="+localContext.state.launchType+"&alreadyEditing=true";i.initAdditionalUIComponents||(t+="&decorate=no"),window.isEmbeddedDesigner&&(t+="&"+jQuery.param({embeddedDesigner:!0,embeddedName:window.embeddedName,saveAsUri:window.embeddedSaveAsUri,saveAsOverwrite:window.embeddedSaveAsOverwrite})),document.location.href=t},t.cancelAdHoc=function(){return exists(localContext.isDashboard)&&localContext.isDashboard?void gotoDefaultLocation():void(usingAdhocLauncher&&""!==usingAdhocLauncher?history.back():this.redirectToTopicPage())},t.cancelTopic=function(e){e?history.back():designerBase.redirectToHomePage()},t.enableCanUndoRedo=function(){exists(toolbarButtonModule)&&(toolbarButtonModule.setButtonState($("undo"),localContext.state.canUndo),toolbarButtonModule.setButtonState($("redo"),localContext.state.canRedo),toolbarButtonModule.setButtonState($("undoAll"),localContext.state.canUndo))},t.enableRunAndSave=function(e){exists(toolbarButtonModule)&&(toolbarButtonModule.setButtonState($("save"),e),toolbarButtonModule.setButtonState($("presentation"),e),toolbarButtonModule.setButtonState($("export"),e)),canRunAndSave=e},t.canSaveAdhocReport=function(){return localContext.canSaveReport()},t.toggleDisplayManager=function(){t.isDisplayManagerVisible()?(jQuery("#"+t.DISPLAY_MANAGER_ID).addClass(layoutModule.HIDDEN_CLASS),t.setDisplayManagerVisible(!1)):(jQuery("#"+t.DISPLAY_MANAGER_ID).removeClass(layoutModule.HIDDEN_CLASS),t.setDisplayManagerVisible(!0)),jQuery("#designer").trigger("layout_update"),t.setShowDisplayManager(t.isDisplayManagerVisible())},t.isDisplayManagerVisible=function(){return localContext.state.showDisplayManager},t.setDisplayManagerVisible=function(e){localContext.state.showDisplayManager=e},t.isCrosstabCellsMerged=function(){return localContext.state.crosstab.mergeCrosstabCells},t.exportReport=function(e){var t="reportGenerator.html?action=displayTempReportUnit&clientKey="+encodeURIComponent(clientKey)+"&exportFormat="+encodeURIComponent(e||"");jQuery.ajax(t,{type:"GET",dataType:"json",success:function(e,t,i){"OK"===e.status?window.open(e.data,"_blank"):dialogs.errorPopup.show(e.data.msg)},error:function(e,t,i){dialogs.errorPopup.show("Unknown Error")}})},t.enableXtabPivot=function(e){exists(toolbarButtonModule)&&toolbarButtonModule.setButtonState($("pivot"),e)},t.enableSort=function(e){exists(toolbarButtonModule)&&toolbarButtonModule.setButtonState($("sort"),e)},t.toggleUseDomainLabels=function(){var e=!localContext.state.useDomainLabels,i=function(e){localContext.standardOpCallback(e),t.isUseDomainLabels()&&dialogs.systemConfirm.show(t.getMessage("adhoc.designer.warn.use.domain.labels"),5e3),t.updateTrees(),t.filtersController.setFilters(e,{reset:!0})};designerBase.sendRequest("co_toggleUseDomainLabels",["name=useDomainLabels","value="+e],i,null)},t.isUseDomainLabels=function(){return localContext.state.useDomainLabels},t}),define("adhoc/designer.ajax",["require","adhoc/designer"],function(e){var t=e("adhoc/designer");return t.ajaxActionPrefix={table:"co",crosstab:"cr",olap_crosstab:"cr",chart:"ch",ichart:"ich",olap_ichart:"ich"},t.getControllerPrefix=function(){return t.ajaxActionPrefix[localContext.getMode()]},t.loadState=function(e){designerBase.sendRequest(t.getControllerPrefix()+"_loadState",[],function(e){localContext.setMode(e.viewType),adhocControls.initialize(e),t.updateStateAndRender(e),t.initFieldsPanel(!0),isDesignView&&(t.dimensionsTree.showTree(t._AVAILABLE_TREE_DEPTH),t.measuresTree.showTree(t._AVAILABLE_TREE_DEPTH)),t.filtersController.setFilters(e,{reset:!0})})},t.updateTrees=function(){isDesignView&&designerBase.sendRequest(t.getControllerPrefix()+"_updateAvailableTree",[],function(){t.dimensionsTree.showTree(t._AVAILABLE_TREE_DEPTH),t.measuresTree.showTree(t._AVAILABLE_TREE_DEPTH)})},t.undo=function(){localContext.state.modeOnUndo&&!localContext.state.modeOnUndo.blank()&&localContext.state.modeOnUndo!=localContext.getMode()?(localContext.hide&&localContext.hide(),t.switchMode(localContext.state.modeOnUndo,"undo")):designerBase.sendRequest("co_undo",[],t.undoAndRedoCallback)},t.undoAll=function(){localContext.state.undoModeNames.length>0&&localContext.state.undoModeNames[0]!==localContext.getMode()?(localContext.hide&&localContext.hide(),t.switchMode(localContext.state.undoModeNames[0],"undoAll")):designerBase.sendRequest("co_undoAll",[],t.undoAndRedoCallback)},t.redo=function(){localContext.state.modeOnRedo&&!localContext.state.modeOnRedo.blank()&&localContext.state.modeOnRedo!=localContext.getMode()?(localContext.hide&&localContext.hide(),t.switchMode(localContext.state.modeOnRedo,"redo")):designerBase.sendRequest("co_redo",[],t.undoAndRedoCallback)},t.switchMode=function(e,i){var n=["_mode="+e];i&&n.push("undoOrRedo="+i);var a=function(e){var n=e.viewType;i&&t.selectDisplayModeTab(n),t.initComponents(n),t.undoAndRedoCallback(e)};localContext.cleanupOnSwitch&&localContext.cleanupOnSwitch(),designerBase.sendRequest(t.getControllerPrefix()+"_switchMode",n,a)},t.selectDisplayModeTab=function(e){jQuery("#displayMode > li").each(function(){jQuery(this).attr("id").startsWith(e)?jQuery(this).addClass("selected"):jQuery(this).removeClass("selected")})},t.updateReportTitle=function(e){var i=t.getControllerPrefix();e.blank()?designerBase.sendRequest(i+"_setTitle",["l=_null"]):designerBase.sendRequest(i+"_setTitle",["l="+encodeText(e)])},t.toggleTitleBar=function(){designerBase.sendRequest(t.getControllerPrefix()+"_toggleTitleBar",[])},t.setShowDisplayManager=function(e){var t=function(e){};designerBase.sendRequest("co_toggleDisplayManager",new Array("name=showDisplayManager","value="+e),t,null)},t.mergeCrosstabCells=function(e){var t=function(e){localContext.standardOpCallback(e)};designerBase.sendRequest("cr_mergeCrosstabCells",["merge="+e],t,null)},t.toggleAdhocDataSetSize=function(e){var i=!1,n="datasize="+e;if(e.startsWith("full")&&localContext.state.isShowingFullData!==!0?i=!0:e.startsWith("sample")&&localContext.state.isShowingSampleData!==!0?i=!0:e.startsWith("nodata")&&localContext.state.isShowingNoData!==!0&&(i=!0),i){var a=function(e){t.updateStateAndRender(e),this.checkMaxRowsLimit()}.bind(t);designerBase.sendRequest("co_toggleAdhocDataSetSize",[n],a)}},t.tryToKeepServerAlive=function(){var e=function(e){localContext.standardOpCallback(e)};designerBase.sendRequest("co_tryToKeepServerAlive",[],e,null)},t.setProperty=function(e,t,i){designerBase.sendRequest("co_setProperty",["name="+e,"value="+t],i)},t.changeFieldAttributeOrMeasure=function(e,t){designerBase.sendRequest("co_changeFieldAttributeOrMeasure",["name="+encodeText(e),"type="+t])},t.setFilter=function(e){designerBase.sendRequest("co_setFilter",["testFilter="+e])},t.setSorting=function(e,i){localContext.state.sortFields=e;var n=Object.toJSON(e),a=encodeURIComponent(n),r=function(e){t.updateStateAndRender(e),i()};designerBase.sendRequest("ta_resort",["so="+a],r)},t.pivot=function(){localContext.pivot?localContext.pivot():designerBase.sendRequest(t.getControllerPrefix()+"_pivot",[])},t.undoAndRedoCallback=function(e){t.updateTrees(),t.updateStateAndRender(e),t.filtersController.setFilters(e,{reset:!0})},t.updateStateAndRender=function(e){t.updateState(e),t.render()},t}),define("adhoc/designer.helpers",["require","adhoc/designer","adhoc/designer/aggregateFieldLabelFactory","underscore"],function(e){var t=e("adhoc/designer"),i=e("adhoc/designer/aggregateFieldLabelFactory"),n=e("underscore");return t.setDragStartState=function(e,i,n,a){var r=[Event.pointerX(a),Event.pointerY(a)],s=n.element,o=n.element=new Element("LI").update(s.innerHTML);o.classNames().set(s.classNames()),o.writeAttribute("fieldname",t.getFieldName()),o.setStyle({"z-index":s.getStyle("z-index")}),o.hide(),s.parentNode.appendChild(o),Element.clonePosition(o,s),Position.absolutize(o),s.remove(),dynamicTree.Tree.prototype.setDragStartState.apply(e,Array.prototype.slice.call(arguments,1)),n.draw(r),o.show()},t.deSelectAllPressedNavMuttons=function(){var e=$$("UL#navigationOptions li");e&&e.each(function(e){buttonManager.out($(e),function(e){return $(e).down(layoutModule.LIST_ITEM_WRAP_PATTERN)})})},t.hideAllDialogsAndMenus=function(){actionModel.hideMenu();var e=Object.values(this.dialogESCFunctions);e.each(function(e){var t=$(e);t&&dialogs.popup.hide(t)}.bind(this))},t.initPreventBrowserSelection=function(e){disableSelectionWithoutCursorStyle($(e))},t.initEnableBrowserSelection=function(e){enableSelection($(e))},t.isNoDataToDisplay=function(){return localContext.getMode()===designerBase.TABLE?jQuery("#nothingToDisplay").is(":visible"):void 0},t.checkMaxRowsLimit=function(){if(localContext.state.hitMaxRows&&!this.isNoDataToDisplay()){var e=rowLimitMessage.replace("{0}",localContext.state.maxDataRowsCount);dialogs.systemConfirm.show(e,5e3)}},t.isOnlyFieldsSelected=function(){var e=function(e){return e.hasChilds()};return null==this.getSelectedTreeNodes().detect(e)},t.showButtonMenuMouseOut=function(e){actionModel.hideMenu(),Event.stopObserving($(e),"mouseleave",t.showButtonMenuMouseOut)},t.isSelectedFieldCustom=function(){if(1==selObjects.length){var e=designerBase.getSelectedObject();if(e.model)return e.model.isCustomField;var i=t.findFieldByName(t.getNameForSelected(e));return i&&i.isCustomField}},t.isSelectFieldsAllowed=function(){return isDomainType},t.isDeleteAllowed=function(){if(1!=selObjects.length)return!1;var e=designerBase.getSelectedObject()?designerBase.getSelectedObject().param.id:null,i=t.findFieldByName(e);return null!=i&&i.isCustomField&&!i.isUsed&&!t.isInUse(e)},t.isUsedInRowsOrColumns=function(e){return n.find(localContext.state.fieldsInUse,function(t){return t===e})},t.canMoveToDimensions=function(){var e=selObjects.find(function(e){var i=t.findFieldByName(t.getNameForSelected(e));return i&&i.isCustomField&&i.aggregateField}),i=selObjects.find(function(e){return e.param.id===designerBase.SPACER_NAME||!(e.param.extra&&e.param.extra.isMeasure)||e.param.extra&&t.isUsedInRowsOrColumns(e.param.extra.id)});return!i&&!e},t.canMoveToMeasures=function(){var e=selObjects.find(function(e){return e.param?e.param.id===designerBase.SPACER_NAME||e.param.extra&&e.param.extra.isMeasure||e.param.extra&&t.isUsedInRowsOrColumns(e.param.extra.id):!1});return!e},t.getMessage=function(e,i){var n=t.messages[e];return n?new Template(n).evaluate(i?i:{}):""},t.registerTemplate=function(e,t){if(!e||!t)throw"Some of required params to register template are missing";return e[t]||(e[t]=n.template(jQuery("#"+t).html(),null,{evaluate:/\{\{([\s\S]+?)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,escape:/\{\{-([\s\S]+?)\}\}/g})),e[t]},t.createTemplate=function(e){if(!e)throw"Some of required params to register template are missing";var t=n.templateSettings;n.templateSettings={evaluate:/\{\{([\s\S]+?)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,escape:/\{\{-([\s\S]+?)\}\}/g};var i=n.template(jQuery("#"+e).html());return n.templateSettings=t,i},t.hideOnePanel=function(){if(0===window.orientation){var e,t=document.getElementById("filters"),i=document.getElementById("fields"),n=jQuery("#filter-container").find("div.panel.pane.filter").filter(":visible").length,a=t.className.indexOf("minimized")>=0;a||(e=n?i:t,layoutModule.minimize(e))}},t.defaultFieldJSONBuilder=function(e){return{dimensionId:e.param.extra.dimensionId,name:e.param.extra.id}},t.getListOfSelectedFields=function(e){var i=t.getSelectedTreeNodes();if(this.isOlapMode())return e=Object.isFunction(e)?e:t.defaultFieldJSONBuilder,i.collect(function(t){if(t.isParent()){var i=t.childs.detect(function(e){return localContext.canAddFilter(e)});return i.collect(e)}return localContext.canAddFilter(t)?e(t):null}).compact().flatten();for(var a=[],r=0;r<i.length;r++){var s=i[r];if(s.isParent()){for(var o=s.childs,l=0;l<o.length;l++){var d=o[l].param.id;localContext.canAddFilter(o[l])&&a.push(d)}if(0===a.length)continue}else{if(!localContext.canAddFilter(s))continue;a.push(s.param.id)}}return n.map(a,function(e){return{name:e}})},t.generateAvailableSummaryCalculationsMenu=function(e,t,a){var r=n.chain(localContext.state.fieldAvailableSummaries[e]).filter(function(e){return"None"!==e}).sortBy().value();r.unshift("None"),t.children=n.map(r,function(e){return actionModel.createMenuElement("optionAction",n.extend({text:i.localizeAggregation(e),actionArgs:[e],isSelectedTestArgs:[e]},a))})},t.getMissingFieldsCanvasMessage=function(e){var i=n.reduce(e.allColumns,function(t,i){return n.contains(e.unresolvedMetadataReferences,i.name)?(t=t?t+", ":"",t+(i.defaultDisplayName||i.name)):t},""),a=t.getMessage("adhoc.inuse.designer.canvas.error.message");return a=a.replace("{0}",i)},t}),define("adhoc/designer.init",["require","adhoc/designer","adhoc/layout.manager","underscore","underscore.string","dialog.definitions"],function(e){function t(e,t){var i=parseInt(layoutModule.getPanelWidth(e),10);i||layoutModule.storePanelWidth(e,t)}var i=e("adhoc/designer"),n=e("adhoc/layout.manager"),a=e("underscore");e("underscore.string"),e("dialog.definitions");return i.layoutManagerProperties={table:function(){return{axes:[{name:"column",elementId:"olap_columns"},{name:"group",elementId:"olap_rows"}],common:{mode:"table",id:i.DISPLAY_MANAGER_ID}}},crosstab:function(e){return{axes:[{name:"column",elementId:"olap_columns"},{name:"row",elementId:"olap_rows",isDependent:!!e}],common:{mode:"crosstab",id:i.DISPLAY_MANAGER_ID,measuresGroupId:"Measures",isOlapMode:!!e}}},olap_crosstab:function(){return i.layoutManagerProperties.crosstab(!0)},ichart:function(e){return{axes:[{name:"column",elementId:"olap_columns"},{name:"row",elementId:"olap_rows",isDependent:!!e}],common:{mode:"crosstab",id:i.DISPLAY_MANAGER_ID,measuresGroupId:"Measures",isOlapMode:!!e}}},olap_ichart:function(){return i.layoutManagerProperties.crosstab(!0)},chart:function(){return{axes:[{name:"measures",elementId:"olap_columns"},{name:"group",elementId:"olap_rows"}],common:{mode:"chart",id:i.DISPLAY_MANAGER_ID}}}},i.initTitle=function(){var e=window.isEmbeddedDesigner?embeddedName:saveLabel;a.isBlank(e)||i.ui.header_title.text(e)},i.initLayoutManager=function(e){var t=i.layoutManagerProperties[e]();i.ui.display_manager=new n(t),i.observeDisplayManagerEvents()},i.initDialogs=function(){isDesignView&&adhocReentrance.initialize(),adhocSort.initialize(),
i.initViewQueryDialog(),i.initSaveConfirmationDialog(),i.initDeleteCalculatedFieldConfirmationDialog(),i.addConfirmDialog=new jaspersoft.components.ConfirmDialog({messages:[i.messages.ADH_1216_DIMENSION_HIERARCHY_ADD_WARNING_1,i.messages.ADH_1216_DIMENSION_HIERARCHY_ADD_WARNING_2]})},i.initSaveConfirmationDialog=function(){var e=jQuery("#standardConfirm").clone();e.attr("id",i.SAVE_WITHOUT_FILTERS_APPLY_CONFIRMATION_DIALOG.DIALOG_ID),e.find(".body").text(i.messages.ADH_1236_SAVE_WITHOUT_FILTERS_APPLY_CONFIRMATION),e.find(".button.action.up").attr("id",i.SAVE_WITHOUT_FILTERS_APPLY_CONFIRMATION_DIALOG.CANCEL_BUTTON_ID),e.find(".button.action.primary.up").attr("id",i.SAVE_WITHOUT_FILTERS_APPLY_CONFIRMATION_DIALOG.OK_BUTTON_ID),e.find(".button.action.primary.up .wrap").text(i.messages.ADH_1237_IGNORE),e.appendTo(jQuery("#frame .content:eq(0)"))},i.initDeleteCalculatedFieldConfirmationDialog=function(){var e=jQuery("#standardConfirm").clone();e.attr("id",i.DELETE_CALCULATED_FIELD_CONFIRMATION_DIALOG.DIALOG_ID),e.find(".body").text(i.messages.ADH_436_CALCULATED_FIELD_REMOVE_CONFIRM),e.find(".button.action.up").attr("id",i.DELETE_CALCULATED_FIELD_CONFIRMATION_DIALOG.CANCEL_BUTTON_ID),e.find(".button.action.primary.up").attr("id",i.DELETE_CALCULATED_FIELD_CONFIRMATION_DIALOG.OK_BUTTON_ID),e.appendTo(jQuery("#frame .content:eq(0)"))},i.initViewQueryDialog=function(){i.viewQueryDialog=new JRS.ViewQueryDialog({id:"#queryViewer",content:"",selectionContainer:$("designer")})},i.initFieldsPanel=function(t){if(isDesignView){var n=i;t&&(Event.observe($("topicMutton"),"mouseover",function(e){actionModel.showDynamicMenu("topicMenu",e,null,null,localContext.state.actionmodel),$("menu").clonePosition($("topicMutton"),{setWidth:!1,setHeight:!1,offsetTop:5}),Event.stop(e),Event.observe($("menu"),"mouseleave",function(){this.showButtonMenuMouseOut($("menu"))}.bind(this))}.bind(i)),i.isOlapMode()||(Event.observe($("availableFieldsMutton"),"mouseover",function(e){actionModel.showDynamicMenu("availableFieldsMenu",e,null,null,localContext.state.actionmodel),$("menu").clonePosition($("availableFieldsMutton"),{setWidth:!1,setHeight:!1,offsetTop:5}),Event.stop(e),Event.observe($("menu"),"mouseleave",function(){this.showButtonMenuMouseOut($("menu"))}.bind(this))}.bind(i)),Event.observe($("availableMeasuresMutton"),"mouseover",function(e){actionModel.showDynamicMenu("availableMeasuresMenu",e,null,null,localContext.state.actionmodel),$("menu").clonePosition($("availableMeasuresMutton"),{setWidth:!1,setHeight:!1,offsetTop:5}),Event.stop(e),Event.observe($("menu"),"mouseleave",function(){this.showButtonMenuMouseOut($("menu"))}.bind(this))}.bind(i))));var a,r={dimensions:{name:"dimensionsTree",className:"dimension",domId:n.DIMENSIONS_TREE_DOM_ID,providerId:n.DIMENSIONS_TREE_PROVIDER_ID},measures:{name:"measuresTree",className:"measure",domId:n.MEASURES_TREE_DOM_ID,providerId:n.MEASURES_TREE_PROVIDER_ID}};for(a in r){var s=$(r[a].domId);if(s){var o=s.childElements();o.each(function(e){e.remove()})}n[r[a].name]=n.getAvailableFieldsTree(r[a].domId,r[a].providerId);var l=window.localStorage?localStorage.getItem(n._cookieName):void 0;n._availableTreeLastOpened=l&&l.length>0?l:"/",n[r[a].name].DEFAULT_TREE_CLASS_NAME="responsive fields",n[r[a].name].multiSelectEnabled=!i.isOlapMode(),n[r[a].name].dragClasses=r[a].className,n[r[a].name].setDragStartState=function(e){return function(t,n,a){i.setDragStartState(e,t,n,a),selectionCategory.area=designerBase.AVAILABLE_FIELDS_AREA,localContext.canAddFilter&&localContext.canAddFilter(t)&&n.element.addClassName("supportsFilter")}}(n[r[a].name]),isIPad()&&(s=document.getElementById(r[a].domId),new TouchController(s,s.parentNode,{scrollbars:!0})),function(t){e(["./DynamicTreeSearch"],function(e){var a=new e({tree:n[t],depth:i._AVAILABLE_TREE_DEPTH,keyword:""});jQuery(".j-"+t+"-search").append(a.el),n[t+"Search"]=a})}(r[a].name)}n.observeTreeEvents(n.dimensionsTree,n.measuresTree),n.observeTreeEvents(n.measuresTree,n.dimensionsTree)}},i.FILTERS_PANEL_DEFAULT_WIDTH=300,i.FILTERS_PANEL_MIN_WIDTH=250,i.initPanelsState=function(){layoutModule.panelStateWasManuallyChanged("filters",clientKey)||"false"===layoutModule.getPanelMinimizedState("filters")&&jQuery("#filters").hasClass("minimized")&&layoutModule.storePanelMinimizedState("filters",!0),t("filters",i.FILTERS_PANEL_MIN_WIDTH);var e=i.CANVAS_PANEL_ID;$("fields")?layoutModule.resizeOnClient("fields",e,"filters"):layoutModule.resizeOnClient("filters",e),layoutModule.panelStateWasManuallyChanged("filters",clientKey)||"true"===layoutModule.getPanelMinimizedState("filters")&&parseInt(layoutModule.getPanelWidth("filters"),10)<i.FILTERS_PANEL_MIN_WIDTH&&layoutModule.storePanelWidth("filters",i.FILTERS_PANEL_DEFAULT_WIDTH)},i.initFiltersPanel=function(){var e=$("filters"),t=i.isOlapMode()?OlapFiltersController:FiltersController,n=new FilterService({clientKey:clientKey,mode:i.getMode});enableSelection(e),i.filtersController=new t({el:e,service:n,clientKey:clientKey,onApply:function(e){localContext.standardOpCallback(e)},onStateUpdate:function(e){localContext.state.update?localContext.state.update(e):localContext.update(e),isDesignView&&i.enableCanUndoRedo(),!i.isOlapMode()&&i.updateFieldsInUse(a.pluck(e.existingFilters,"name"))},onFilterRemove:function(e){i.removeFromFieldsInUse(a.pluck(e,"name"))},resetFilterPanelState:i.resetFilterPanelState}),document.observe("dragger:sizer",function(e){var t=e.memo.element;t==i.filtersController.sizerEl&&i.filtersController.onPanelResize()})},i.initDroppables=function(){var e={filters:{accept:["draggable","wrap"],hoverclass:"dropTarget",onDrop:function(e){var t=[];if(i.canShowFilterOption(t)){var n=i.getListOfSelectedFields();i.filtersController.addFilter(n)}else dialogs.systemConfirm.show(t.join(" "),5e3)}},mainTableContainer:{accept:["measure","dimension"],hoverclass:"dropTarget",onDrop:function(){switch(localContext.getMode()){case"table":AdHocTable.addFieldAsColumn(!0);break;case"chart":AdHocChart.addFieldAsMeasure(!0)}if(localContext.getMode().indexOf("ichart")>=0){var e=[],t=i.getSelectedTreeNodes();jQuery.each(t,function(t,i){e.push(i.param)});var n=jQuery("#olap_columns").children().length;AIC.lmHandlersMap.addItems(e,n,"column")}}},canvasTableFrame:{accept:["draggable","wrap"],hoverclass:"dropTarget",onDrop:function(){"table"==localContext.getMode()&&AdHocTable.addFieldAsColumn(!0)}}};for(var t in e)Droppables.remove(t),document.getElementById(t)&&Droppables.add(t,e[t])},i.getAvailableFieldsTree=function(e,t){function n(e){dynamicTree.TreeNode.call(this,e),this.Types={Folder:new dynamicTree.TreeNode.Type("ItemGroupType")},this.nodeHeaderTemplateDomId="list_responsive_collapsible_folders_adhocAvailableTrees:folders"}return n.prototype=deepClone(dynamicTree.TreeNode.prototype),n.addMethod("refreshStyle",function(e){if(e=e||this._getElement()){var t=i.findFieldByName(this.param.id);if(t&&t.isCustomField){this.name=this.param.label=t.defaultDisplayName.replace(/\\'/g,"'").escapeHTML();var n=["calculatedField"];if(i.isInUse(this.param.id)&&n.push("dependency"),i.isInError(this.param.id)){n.push("inError");var a=e.getElementsByClassName("icon error");1==a.length&&(a=a[0]),a.classList.remove("hidden")}else{var a=e.getElementsByClassName("icon error");1==a.length&&(a=a[0]),a.classList.add("hidden")}this.param.cssClass=n.join(" ")}dynamicTree.TreeNode.prototype.refreshStyle.call(this,e)}}),new dynamicTree.TreeSupport(e,{providerId:t,rootUri:"/",showRoot:!1,resetStatesOnShow:!1,nodeClass:n,templateDomId:"list_responsive_collapsible_folders_adhocAvailableTrees",dragPattern:isIPad()?void 0:".draggable",treeErrorHandlerFn:doNothing,selectOnMousedown:!isIPad(),regionID:e?e:designerBase.AVAILABLE_FIELDS_AREA})},i}),define("adhoc/designer.observers",["require","adhoc/designer","underscore","common/util/xssUtil"],function(e){var t=e("adhoc/designer"),i=e("underscore"),n=e("common/util/xssUtil");return t.observePointerEvents=function(){document.observe(layoutModule.ELEMENT_CONTEXTMENU,t.contextMenuHandler),jQuery("#dataSizeSelector").change(function(){t.toggleAdhocDataSetSize(jQuery(this).val())}).val(),jQuery("#dataModeSelector").change(function(){var e=localContext.getMode(),i=jQuery(this).val();if(e!==i){if(!(e!==designerBase.CROSSTAB&&e!=designerBase.OLAP_CROSSTAB&&e!==designerBase.TABLE||i!==designerBase.ICHART&&i!==designerBase.OLAP_ICHART)){var n=e===designerBase.CROSSTAB||e==designerBase.OLAP_CROSSTAB?AdHocCrosstab.state:AdHocTable.state;if(!t.switchModeEventCheck(n))return t.updateModeLabelSelection(e),void dialogs.systemConfirm.show(t.getMessage("ADH_1214_ICHARTS_NO_SWITCHMODE_DELETED_SUMMARIES"),5e3)}localContext.hide&&localContext.hide(),t.switchMode(i,null)}}),Event.observe(document.body,isSupportsTouch()?"touchend":"click",function(e){var i=e.element();matchAny(i,["li.node","li.leaf","ul#"+t.MEASURES_TREE_DOM_ID,"ul#"+t.DIMENSIONS_TREE_DOM_ID],!0)||(this.unSelectAvailableTreeNodes(),isSupportsTouch()&&(localContext.clickid==i.identify()&&e.timeStamp-localContext.clicktime<700&&(e.isEmulatedRightClick=!0,document.fire(layoutModule.ELEMENT_CONTEXTMENU,{targetEvent:e,node:i})),localContext.clicktime=e.timeStamp,localContext.clickid=i.identify()));var n=matchAny(i,[this.CANVAS_PATTERN,layoutModule.MENU_LIST_PATTERN,this.COLUMN_OVERLAY_PATTERN,this.SUMMARY_OVERLAY_PATTERN,this.ROW_GROUP_OVERLAY_PATTERN,this.COLUMN_GROUP_OVERLAY_PATTERN,this.ROW_GROUP_OVERLAY_PATTERN,this.COLUMN_GROUP_OVERLAY_PATTERN,this.XTAB_MEASURE_HEADER_OVERLAY_PATTERN,this.XTAB_MEASURE_OVERLAY_PATTERN,this.XTAB_GROUP_HEADER_PATTERN,this.ROW_GROUP_MEMBER_PATTERN,this.COLUMN_GROUP_MEMBER_PATTERN,this.XTAB_GROUP_HEADER_OVERLAY_PATTERN,this.GROUP_OVERLAY_PATTERN,this.MENU_PATTERN,this.FILTER_OPERATOR_MENU_PATTERN,this.FILTER_ITEM_MENU_PATTERN,this.FILTER_GENERAL_MENU_PATTERN],!0);n||(localContext.getMode()===designerBase.CROSSTAB&&crossTabMultiSelect&&crossTabMultiSelect.deselectAllGroupMembers(),(localContext.getMode()===designerBase.TABLE||localContext.getMode()===designerBase.CROSSTAB||localContext.getMode()===designerBase.CHART)&&localContext.deselectAllSelectedOverlays()),!isRightClick(e)&&!e.isEmulatedRightClick&&!n&&actionModel.hideMenu()}.bind(t))},t.switchModeEventCheck=function(e){if(e.columnGroups&&e.columnGroups.length>0)for(var t=0;t<e.columnGroups.length;t++)if("NULL Dimension"!==e.columnGroups[t].dimensionName&&e.columnGroups[t].isShowingSummary===!1)return!1;if(e.rowGroups&&e.rowGroups.length>0)for(var t=0;t<e.rowGroups.length;t++)if("NULL Dimension"!==e.rowGroups[t].dimensionName&&e.rowGroups[t].isShowingSummary===!1)return!1;return!0},t.observeKeyEvents=function(){document.stopObserving("key:save").observe("key:save",function(e){actionModel.hideMenu(),localContext.canSaveReport()&&designerBase.handleSave(),Event.stop(e.memo.targetEvent)}.bind(this)),document.stopObserving("key:undo").observe("key:undo",function(e){actionModel.hideMenu(),localContext.state.canUndo&&!buttonManager.isDisabled($("undo"))&&this.undo(),Event.stop(e.memo.targetEvent)}.bind(this)),document.stopObserving("key:redo").observe("key:redo",function(e){actionModel.hideMenu(),localContext.state.canRedo&&!buttonManager.isDisabled($("redo"))&&this.redo(),Event.stop(e.memo.targetEvent)}.bind(this)),document.stopObserving("key:escape").observe("key:escape",function(){actionModel.hideMenu();var e=Object.values(this.dialogESCFunctions);e.each(function(e){var t=$(e);t&&dialogs.popup.hide(t)}.bind(this)),localContext.getMode()==designerBase.CHART&&localContext.currentlyDragging&&(Event.stopObserving(document.body,"mousemove"),localContext.resizeChart(),localContext.currentlyDragging=!1)}.bind(this))},t.observeCustomEvents=function(){jQuery("body").on({layout_update:function(e,t){var i=jQuery("#adhocCanvasContainer"),n=i.prev(),a=parseInt(i.css("margin-top"))||0,r=n.height()-100,s=r-a;i.css("top",s+"px"),t&&t.elem&&"filters"==t.elem.id&&localContext.getMode().indexOf("ichart")>=0&&("panel-maximize"==t.type?AIC.ui.controls.dataLevelSelector.dock():AIC.ui.controls.dataLevelSelector.undock()),localContext.getMode().indexOf("ichart")>=0&&AIC.chart&&AIC.redraw()},report_name_update:function(e,i){t.ui.header_title.html(n.escape(i))}}),jQuery("body").on({"actionmodel-mouseout":function(){jQuery("#tableOptions").removeClass("over").css("z-index",9)}}),jQuery(window).resize(function(){var e=jQuery("#adhocCanvasContainer");if(e.length){var t=e.prev(),i=parseInt(e.css("margin-top"))||0,n=t.height()-100,a=n-i;e.css("top",a+"px")}})},t.observeTableContainerEvents=function(){$("mainTableContainer").observe(isSupportsTouch()?"touchstart":"mousedown",function(e){localContext.mouseDownHandler(e)}),$("mainTableContainer").observe(isSupportsTouch()?"touchend":"mouseup",function(e){localContext.mouseUpHandler(e),t.adhocTitleEdit.call(this,e)}.bind(this)),$("mainTableContainer").observe("mouseover",function(e){localContext.mouseOverHandler(e)}),$("mainTableContainer").observe("mouseout",function(e){localContext.mouseOutHandler(e)}),$("mainTableContainer").observe("click",function(e){localContext.mouseClickHandler(e)}),Event.observe($("mainTableContainer"),isSupportsTouch()?"touchmove":"scroll",function(){localContext.getMode()===designerBase.TABLE&&localContext.tableScrolled(),actionModel.hideMenu()})},t.observeTreeEvents=function(e,i){e.observe("leaf:dblclick",function(t){if(this.isCrosstabMode){var i=localContext.getMode()==designerBase.ICHART||localContext.getMode()==designerBase.OLAP_ICHART?AdhocIntelligentChart:AdHocCrosstab;"dimension"==e.dragClasses?i.canAddLevelAsRowGroup()?i.appendDimensionToRowAxisWithLevel():i.canAddLevelAsColumnGroup()&&i.appendDimensionToColumnAxisWithLevel():i.canAddLevelAsColumnGroup()?i.appendMeasureToColumn():i.canAddLevelAsRowGroup()&&i.appendMeasureToRow()}else{var n=t.memo.targetEvent;this.addFieldToCanvas(n)}}.bind(this)),e.observe("leaf:selected",function(e){var t=e.memo.node,n=e.memo.targetEvent;i._deselectAllNodes(),this.selectFromAvailableFields(n,t)}.bind(this)),e.observe("node:selected",function(e){var t=e.memo.node,n=e.memo.targetEvent;i._deselectAllNodes(),this.selectFromAvailableFields(n,t)}.bind(this)),e.observe("leaf:unselected",function(e){var t=e.memo.node;this.isCrosstabMode&&this.removeSelectedObject(t),this.selectFromAvailableFields(e.memo.targetEvent,t)}.bind(this)),e.observe("node:unselected",function(e){var t=e.memo.node;this.isCrosstabMode&&this.removeSelectedObject(t),this.selectFromAvailableFields(e.memo.targetEvent,t)}.bind(this)),e.observe("items:unselected",function(){designerBase.unSelectAll()}.bind(this)),e.observe("node:dblclick",function(e){this._availableTreeLastOpened=e.memo.node.param.uri,window.localStorage&&localStorage.setItem(this._cookieName,this._availableTreeLastOpened)}.bind(this)),e.observe("node:click",function(e){this._availableTreeLastOpened=e.memo.node.param.uri,window.localStorage&&localStorage.setItem(this._cookieName,this._availableTreeLastOpened)}.bind(this)),e.observe("tree:loaded",function(){e.openAndSelectNode(this._availableTreeLastOpened)}.bind(this)),e.observe("node:mouseup",function(e){localContext.treeMenuHandler(e)}),e.observe("leaf:mouseup",function(e){localContext.treeMenuHandler(e)}),e.observe("key:contextMenu",function(e){var i=e.memo.node,n=getBoxOffsets(i,!0);t.showDynamicMenu(e,designerBase.FIELD_MENU_LEVEL,{menuLeft:n[0]+100,menuTop:n[1]+20}),Event.stop(e)})},t.observeDisplayManagerEvents=function(){var e=jQuery("#"+t.DISPLAY_MANAGER_ID);e.unbind("lm:addItem"),e.unbind("lm:addItems"),e.unbind("lm:removeItem"),e.unbind("lm:moveItem"),e.unbind("lm:measureReorder"),e.unbind("lm:switchItem"),e.unbind("lm:contextMenu"),e.bind("lm:addItem",function(e,t){t=i.extend({index:-1,levelIndex:-1},t),localContext.lmHandlersMap[t.axis].addItem(t.dimensionId,t.index,t.level,t.levelIndex,t.isMeasure,t.uri,t.hierarchyName)}),e.bind("lm:removeItem",function(e,t){localContext.lmHandlersMap[t.axis].removeItem(t.item,t.index)}),e.bind("lm:addItems",function(e,t){localContext.lmHandlersMap.addItems(t.levels,t.index,t.axis)}),e.bind("lm:moveItem",function(e,t){localContext.lmHandlersMap[t.axis].moveItem(t.item,t.from,t.to)}),e.bind("lm:switchItem",function(e,t){localContext.lmHandlersMap[t.axis].switchItem(t.item,t.from,t.to)}),e.bind("lm:measureReorder",function(e,t){localContext.lmHandlersMap.measureReorder(t.measure,t.to)}),e.bind("lm:contextMenu",function(e,t){localContext.lmHandlersMap[t.extra.axis].contextMenu(e,t)})},t.observeCrossDocumentMessages=function(){window.addEventListener?(removeEventListener("message",t.crossDocumentListener),addEventListener("message",t.crossDocumentListener,!1)):(detachEvent("onmessage",t.crossDocumentListener),attachEvent("onmessage",t.crossDocumentListener))},t.observeCloseDesignerEvent=function(){jQuery("#closeDesigenr").on("mouseup",t.handleCancel)},window.addEventListener&&window.addEventListener("orientationchange",function(e){t.hideOnePanel()}),t}),define("adhoc/designer.selection",["require","adhoc/designer"],function(e){var t=e("adhoc/designer");return t.addSelectedObject=function(e,t,i,n){i?n?this.removeSelectedObject(t):designerBase.addToSelected(t):(designerBase.unSelectAll(),designerBase.addToSelected(t))},t.selectSingleObject=function(e){designerBase.unSelectAll(),designerBase.addToSelected(e)},t.deselectSelectedObject=function(e){this.removeSelectedObject(e)},t.removeSelectedObject=function(e){designerBase.unSelectGiven(e)},t.unSelectAvailableTreeNodes=function(e){this.measuresTree&&this.measuresTree._deselectAllNodes(),this.dimensionsTree&&this.dimensionsTree._deselectAllNodes()},t.getNameForSelectedTreeNode=function(){var e=designerBase.getSelectedObject();return e?e.param.id:""},t.getSelectedTreeNodes=function(){return t.dimensionsTree.selectedNodes.length>0?t.dimensionsTree.selectedNodes:t.measuresTree.selectedNodes},t.isSelectedNode=function(e){if(!e||!e.getTreeId)return null;var t=dynamicTree.trees[e.getTreeId()];return t.isNodeSelected(e)},t.isSelectedTreeNodeAFolder=function(){var e=designerBase.getSelectedObject();return e?e.hasChilds():!0},t.isAlreadySelected=function(e){return designerBase.isInSelection(e)},t.isMultiSelect=function(e,t){var i=isMetaHeld(e),n=isShiftHeld(e),a=selectionCategory.area==t;return selectionCategory.area==designerBase.AVAILABLE_FIELDS_AREA?a&&(i||n):a&&i},t.hasSpacerInSelection=function(){for(var e=0;e<selObjects.length;e++)if(t.getNameForSelected(selObjects[e])===designerBase.SPACER_NAME)return!0;return!1},t.isSpacerSelected=function(e){return e=e||selObjects[0],t.getNameForSelected(e)===designerBase.SPACER_NAME},t.isConstantSelected=function(e){return e?t.getNameForSelected(e).startsWith(constantFieldsLevel+"."):t.getNameForSelected(e).startsWith(constantFieldsLevel+".")},t.isMeasureSelected=function(e){return e&&e.menuLevel?e.menuLevel.startsWith(this.OLAP_MEASURES_TREE):!1},t.isUsedAsGroup=function(e){var t=localContext.state.groups;if(null!=t)for(var i=0;i<t.length;i++)if(t[i].name==e)return!0;return!1},t.hasGroupInSelection=function(){for(var e=0;e<selObjects.length;e++)if(t.isUsedAsGroup(t.getNameForSelected(selObjects[e])))return!0;return!1},t}),define("common/enum/httpStatusCodes",{100:"continue",101:"switchingProtocols",200:"ok",201:"created",202:"accepted",203:"nonAuthoritativeInformation",204:"noContent",205:"resetContent",206:"partialContent",300:"multipleChoices",301:"movedPermanently",302:"found",303:"seeOther",304:"notModified",305:"useProxy",307:"temporaryRedirect",400:"badRequest",401:"unauthorized",402:"paymentRequired",403:"forbidden",404:"notFound",405:"methodNotAllowed",406:"notAcceptable",407:"proxyAuthenticationRequired",408:"requestTimeout",409:"conflict",410:"gone",411:"lengthRequired",412:"preconditionFailed",413:"requestEntityTooLarge",414:"requestUriTooLong",415:"unsupportedMediaType",416:"requestedRangeNotSatisfiable",417:"expectationFailed",500:"internalServerError",501:"notImplemented",502:"badGateway",503:"serviceUnavailable",504:"gatewayTimeout",505:"httpVersionNotSupported"}),define("common/enum/errorCodes",["require"],function(e){"use strict";return{UNEXPECTED_ERROR:"unexpected.error",INVALID_RESOURCE_TYPE:"invalid.resource.type"}}),define("common/model/BaseModel",["require","underscore","backbone","common/enum/httpStatusCodes","common/enum/errorCodes"],function(e){"use strict";var t=e("underscore"),i=e("backbone"),n=e("common/enum/httpStatusCodes"),a=e("common/enum/errorCodes"),r=i.Model.extend({initialize:function(){this.on("error",r.unifyServerErrors)},serialize:function(){return t.clone(this.attributes)}},{unifyServerErrors:function(e,t){var i=n[t.status],a=r.createServerError(t);e.trigger("error:"+i,e,a,t),e.trigger("error:all",e,a,t)},createServerError:function(e){var t;try{t=JSON.parse(e.responseText)}catch(i){t={message:"Can't parse server response",errorCode:a.UNEXPECTED_ERROR,parameters:[]}}return t}});return r}),define("bi/repository/model/RepositoryResourceModel",["require","underscore","common/model/BaseModel","backbone.validation","bundle!js-sdk/RepositoryResourceBundle","common/util/i18nMessage","common/enum/httpStatusCodes","request"],function(e){"use strict";function t(e,t,i,n,a){return o({type:t,dataType:"json",url:e.contextPath+"/rest_v2/resources"+i+"?overwrite="+n+"&createFolders="+a,headers:{Accept:"application/json","Content-Location":e.get("uri")}}).done(function(t){e.set("uri",t.uri)})}var i=e("underscore"),n=e("common/model/BaseModel"),a=e("backbone.validation"),r=e("bundle!js-sdk/RepositoryResourceBundle"),s=e("common/util/i18nMessage").extend({bundle:r}),o=(e("common/enum/httpStatusCodes"),e("request")),l={LABEL_MAX_LENGTH:100,NAME_MAX_LENGTH:100,DESCRIPTION_MAX_LENGTH:250,NAME_NOT_SUPPORTED_SYMBOLS:"~!#\\$%^|\\s`@&*()\\-+={}\\[\\]:;\"'\\<\\>,?/\\|\\\\"},d=/application\/repository\.([^\+]+)\+json/,c=n.extend({idAttribute:"uri",type:void 0,urlRoot:function(){return(this.contextPath||"")+"/rest_v2/resources"},defaults:{name:void 0,parentFolderUri:void 0,uri:void 0,label:void 0,description:void 0,permissionMask:void 0,creationDate:void 0,updateDate:void 0,version:void 0},validation:{name:function(e,t,i){return e&&e.length>l.NAME_MAX_LENGTH?new s("error.field.max.length","name",l.NAME_MAX_LENGTH):e&&new RegExp("["+l.NAME_NOT_SUPPORTED_SYMBOLS+"]","g").test(e)?new s("error.field.bad.symbols","name",l.NAME_NOT_SUPPORTED_SYMBOLS):void 0},label:function(e,t,n){return i.isEmpty(e)?new s("error.field.required","label"):e.length>l.LABEL_MAX_LENGTH?new s("error.field.max.length","label",l.LABEL_MAX_LENGTH):void 0},description:function(e,t,i){return e&&e.length>l.NAME_MAX_LENGTH?new s("error.field.max.length","description",l.DESCRIPTION_MAX_LENGTH):void 0},parentFolderUri:[{required:!0,msg:new s("error.field.required","parentFolderUri")}]},url:function(){return this.isNew()?this.urlRoot()+encodeURI(this.get("parentFolderUri")):this.urlRoot()+encodeURI(this.id)},constructor:function(e,t){t||(t={}),i.defaults(t,{parse:!0}),n.call(this,e,t)},initialize:function(e,t){this.contextPath=t.contextPath,t.type&&(this.type=t.type),this.on("change:parentFolderUri change:name",this._updateUri),this.on("change:uri",this._updateNameAndParentFolderUri),n.prototype.initialize.apply(this,arguments)},clone:function(){return new this.constructor(this.attributes,{contextPath:this.contextPath})},parse:function(e){return"undefined"!=typeof e.uri?(e.name=c.getNameFromUri(e.uri),e.parentFolderUri=c.getParentFolderFromUri(e.uri)):e.parentFolderUri&&e.name&&(e.uri=c.constructUri(e.parentFolderUri,e.name)),e},toJSON:function(){var e=this.serialize();return delete e.name,delete e.parentFolderUri,e},_updateUri:function(){var e=this.get("name"),t=this.get("parentFolderUri"),i=c.constructUri(t,e);i&&this.set("uri",i)},_updateNameAndParentFolderUri:function(){var e=this.get("uri"),t=c.getNameFromUri(e),i=c.getParentFolderFromUri(e);this.set({name:t,parentFolderUri:i})},fetch:function(e){return i.defaults(e||(e={}),{headers:{Accept:"application/json"}}),e.url=this.url()+"?expanded="+(e.expanded===!0),delete e.expanded,n.prototype.fetch.call(this,e)},sync:function(e,t,i){if("read"===e){var a=i.success,r=this;i.success=function(e,t,i){var n=i.getResponseHeader("Content-Type"),s=d.exec(n);if(!s||!s[1])throw new Error("Unsupported response content type: "+n);r.type=s[1],a&&a(e,t,i)}}return n.prototype.sync.call(this,e,t,i)},save:function(e,t,a){var r;if(i.isUndefined(e)||i.isNull(e)||i.isObject(e)?(r=e||{},a=t):(r={})[e]=t,!this.type)throw new Error("Resource type is unspecified. It's not possible to save a resource without it's type specified");return i.defaults(a||(a={}),{headers:{Accept:"application/json","Content-Type":"application/repository."+this.type+"+json; charset=UTF-8"}}),a.url=this.url()+"?createFolders="+(a.createFolders===!0),a.url+="&overwrite="+(a.overwrite===!0),a.url+="&expanded="+(a.expanded===!0),a.url+="&dry-run="+(a.dryRun===!0),delete a.createFolders,delete a.overwrite,delete a.expanded,delete a.expanded,delete a.dryRun,n.prototype.save.call(this,r,a)},isWritable:function(){var e=this.get("permissionMask"),t=!1;return i.isUndefined(e)||(t=1===e||4&e),t},copyTo:function(e,i,n){return t(this,"POST",e,!!i,arguments.length<3||n)},moveTo:function(e,i,n){return t(this,"PUT",e,!!i,arguments.length<3||n)}},{settings:l,getNameFromUri:function(e){if(e){var t=e.split("/");return t[t.length-1]}},getParentFolderFromUri:function(e){if(e){var t=e.split("/");return 2===t.length&&""!==t[1]?"/":t.slice(0,t.length-1).join("/")}},constructUri:function(e,t){return t&&e?-1!==e.indexOf("/",e.length-1)?e+t:e+"/"+t:void 0},generateResourceName:function(e){var t="";return e&&(t=e.replace(new RegExp("["+c.settings.NAME_NOT_SUPPORTED_SYMBOLS+"]","g"),"_")),t}});return i.extend(c.prototype,a.mixin),c}),define("common/util/identityUtil",["require","underscore"],function(e){"use strict";var t=e("underscore");return{generateUniqueName:function(e){return e+(new Date).getTime()+"_"+String.fromCharCode.apply(null,t.times(4,t.partial(t.random,97,122)))}}}),define("bi/repository/enum/repositoryResourceTypes",{RESOURCE_LOOKUP:"resourceLookup",DASHBOARD:"dashboard",LEGACY_DASHBOARD:"legacyDashboard",REPORT_UNIT:"reportUnit",TOPIC:"topic",ADHOC_DATA_VIEW:"adhocDataView",FILE:"file",FOLDER:"folder",SECURE_FILE:"secureFile",DATA_TYPE:"dataType",JDBC_DATA_SOURCE:"jdbcDataSource",AWS_DATA_SOURCE:"awsDataSource",AZURE_SQL_DATA_SOURCE:"azureSqlDataSource",JNDI_DATA_SOURCE:"jndiJdbcDataSource",VIRTUAL_DATA_SOURCE:"virtualDataSource",CUSTOM_DATA_SOURCE:"customDataSource",BEAN_DATA_SOURCE:"beanDataSource",XMLA_CONNECTION:"xmlaConnection",LIST_OF_VALUES:"listOfValues",REPORT_OPTIONS:"reportOptions",QUERY:"query",OLAP_UNIT:"olapUnit",DOMAIN_TOPIC:"domainTopic",SEMANTIC_LAYER_DATA_SOURCE:"semanticLayerDataSource",SECURE_MONDRIAN_CONNECTION:"secureMondrianConnection",MONDRIAN_XMLA_DEFINITION:"mondrianXmlaDefinition",MONDRIAN_CONNECTION:"mondrianConnection",INPUT_CONTROL:"inputControl",ORGANIZATION:"organization",OLAP_CUBE:"olapCube"}),define("adhoc/designer.obsolete",["require","adhoc/designer","jquery","underscore","bi/repository/model/RepositoryResourceModel","common/util/identityUtil","bi/repository/enum/repositoryResourceTypes"],function(e){var t=e("adhoc/designer"),i=e("jquery"),n=e("underscore"),a=e("bi/repository/model/RepositoryResourceModel"),r=e("common/util/identityUtil"),s=e("bi/repository/enum/repositoryResourceTypes");return t.handleBack=function(){var e=t.buildSaveRequestData();t.filtersController.hasNotAppliedFilters()?t.showSaveConfirmationDialog(function(){i(document).trigger("adhocDesigner:save",t.buildResourceMetadata(e))}):i(document).trigger("adhocDesigner:save",t.buildResourceMetadata(e))},t.handleCancel=function(){i(document).trigger("adhocDesigner:cancel")},t.buildSaveRequestData=function(){var e=!!saveUri,t=e?saveFolder:"/temp",i=e?saveLabel:r.generateUniqueName("tmpAdv_"),n=e?saveDesc:"Dashboard visualization.",s=e;return window.embeddedSaveAsUri&&(t=a.getParentFolderFromUri(embeddedSaveAsUri),i=a.getNameFromUri(embeddedSaveAsUri)),window.embeddedSaveAsOverwrite&&(s=embeddedSaveAsOverwrite),window.embeddedSaveAsUri&&(t=a.getParentFolderFromUri(embeddedSaveAsUri),i=a.getNameFromUri(embeddedSaveAsUri)),window.embeddedSaveAsOverwrite&&(s=embeddedSaveAsOverwrite),{aruLabel:i,aruFolder:t,aruDesc:n,allOverwrite:s}},t.buildResourceMetadata=function(e){var t=!!saveUri,i={uri:[e.aruFolder,e.aruLabel].join("/"),resourceType:s.ADHOC_DATA_VIEW,type:localContext.mode,label:e.aruLabel,version:1};return t||(i.dataSourceUri=reportUnitURI),i},t.saveEmbedded=function(){var e=t.buildSaveRequestData();designerBase.sendRequest(designerBase.getControllerPrefix()+"_save",e,function(a){var r=n.clone(e);r.viewType=a.viewType,i(document).trigger("adhocDesigner:saved",t.buildResourceMetadata(r))})},t.crossDocumentListener=function(e){"adhocDesigner:save"==e.data&&t.saveEmbedded()},t.saveAndRun=function(){windowPopUp=window.open("","jr"),buttonManager.disable(i("execute"));var e=function(e){t.updateStateAndRender(e),windowPopUp.location="flow.html?_flowId=viewAdhocReportFlow&clientKey="+clientKey+"&reportUnit="+localContext.state.tempAruName+"&noReturn=true"};designerBase.sendRequest("co_saveTemp",[],e)},t.applyAdhocTheme=function(e,t){var n=null,a=e.element(),r=null;if(t){var s=t.childElements();n=matchAny(a,["li.button"],!0),n&&(r=n.identify(),s.each(function(e){buttonManager.unSelect(e)}),buttonManager.select(n)),r!==selectedThemeId&&(selectedThemeId=r,i(this.CANVAS_PARENT_ID)&&selectedThemeId&&(i(this.CANVAS_PARENT_ID).writeAttribute("class",r),this.toggleAdhocTheme()))}},t.orientationSelected=function(e){t.setPageOrientation(e),designerBase.unSelectAll()},t.getOrientation=function(){return localContext.state.pageOrientation},t.orientationEquals=function(e){return t.getOrientation()==e},t.getPaperSize=function(){return localContext.state.paperSize},t.paperSizeEquals=function(e){return t.getPaperSize()==e},t.paperSizeSelected=function(e,i){t.setPaperSize(e),designerBase.unSelectAll(i)},t.goToDesignView=function(){var e=document.location.href.parseQuery();delete e._flowId,delete e.viewReport,delete e.fromDesigner,primaryNavModule.setNewLocation("designer",Object.toQueryString(e))},t.goToPresentationView=function(){var e=document.location.href.parseQuery();delete e._flowId,e.viewReport=!0,e.fromDesigner=!0,primaryNavModule.setNewLocation("designer",Object.toQueryString(e))},t.getAllAvailableFolders=function(e){var t=[];if(!e){if(!this.availableTree)return t;e=this.availableTree.rootNode,t.push(e)}if(e.param.type===this.FOLDER_TYPE)for(var i=0;i<e.childs.length;i++){var n=e.childs[i];n.param.type===this.FOLDER_TYPE&&(t.push(n),t=t.concat(this.getAllAvailableFolders(n)))}return t},t.togglePagePropsRoller=function(){selectionObject.pagePropsRollDown=!selectionObject.pagePropsRollDown},t.setFieldValuesOnColumnSelection=function(){},t.setFieldValuesOnGroupSelection=function(){},t.selectReport=function(){designerBase.unSelectAll(),this.activateReportSelectionObject()},t.activateReportSelectionObject=function(){this.selectSingleObject(titleBar),selectionCategory.area=designerBase.TITLE_SELECT_AREA},t.isSingleFieldSelected=function(){return 1==designerBase.getSelectedObject().length},t.isInColumns=function(e){for(var t=0;t<localContext.state.columns.length;t++)if(e==localContext.state.columns[t])return!0;return!1},t.setPageOrientation=function(e){designerBase.sendRequest("co_setPageOrientation",["o="+e])},t.setPaperSize=function(e){designerBase.sendRequest("co_setPaperSize",["s="+e])},t}),define("adhoc/designer.contextmenu",["require","adhoc/designer","adhoc/designer.label.actions","adhoc/designer.field.actions","adhoc/designer.tree.actions","adhoc/designer.report.actions","adhoc/designer.ajax","adhoc/designer.helpers","adhoc/designer.init","adhoc/designer.observers","adhoc/designer.selection","adhoc/designer.obsolete"],function(e){var t=e("adhoc/designer");e("adhoc/designer.label.actions"),e("adhoc/designer.field.actions"),e("adhoc/designer.tree.actions"),e("adhoc/designer.report.actions"),e("adhoc/designer.ajax"),e("adhoc/designer.helpers"),
e("adhoc/designer.init"),e("adhoc/designer.observers"),e("adhoc/designer.selection"),e("adhoc/designer.obsolete");return t.showDynamicMenu=function(e,t,i,n){var a=selObjects.length;if(a>0){var r=selObjects[a-1];r&&r.menuLevel&&(r.menuLevel=t)}actionModel.showDynamicMenu(t,e,null,i,localContext.state.actionmodel,n)},t.contextMenuHandler=function(e){var t=(e.memo.node,e.memo.targetEvent);localContext.contextMenuHandler&&localContext.contextMenuHandler(t)},t}),define("adhoc/adhocMain",["require","!domReady","jrs.configs","report.view.base","underscore","jquery","controls.base","domain.chooser.fields","components.customTooltip","components.dependent.dialog","components.pickers","core.key.events","builder","dragdrop","tools.drag","dialog.definitions","./DynamicTreeSearch","adhoc/designer.contextmenu","adhoc/table.init","adhoc/chart.observers"],function(e){"use strict";var t=e("!domReady"),i=e("jrs.configs"),n=e("report.view.base"),a=e("underscore"),r=e("jquery"),s=e("controls.base");e("domain.chooser.fields"),e("components.customTooltip"),e("components.dependent.dialog"),e("components.pickers"),e("core.key.events"),e("builder"),e("dragdrop"),e("tools.drag"),e("dialog.definitions"),e("./DynamicTreeSearch");var o=e("adhoc/designer.contextmenu"),l=e("adhoc/table.init"),d=e("adhoc/chart.observers");t(function(){a.extend(s,i.inputControlsConstants),a.extend(o,i.adhocDesigner),a.extend(o,i.adhoc.adhocDesigner),o.messages=o.messages||{},a.extend(o.messages,i.adhoc.adhocDesignerMessages),a.extend(d,i.adhoc.AdHocChart),a.extend(l,i.adhoc.AdHocTable),n.reportUnitURI=i.Report.reportUnitURI,o.run(i.adhoc.adhocDesignerViewModelViewType),r("body").addClass("jr")})});