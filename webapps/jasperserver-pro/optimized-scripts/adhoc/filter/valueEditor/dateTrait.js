define(["require","jquery","jrs.configs","underscore","calendar2/calendar2"],function(e){"use strict";var r=e("jquery"),i=e("jrs.configs"),t=e("underscore"),n=e("calendar2/calendar2"),s=/([\s]+$|^[\s]+)/g,a=/[\s]*(\+|\-)[\s]*/g;return{init:function(e){this._calendars=[],this.pickerType=e.pickerType},render:function(){return this._destroyCalendars(),this.$el.html(this.template(this.i18nModel(this.serializeModel()))),this._setupCalendar(this.$(this.inputSelector),this.pickerType),this.trigger("rendered",this),this},valueConverter:function(e){var r=(e||"").toUpperCase().replace(s,"");return r=r.replace(a,"$1"),this._basicValueConverter(r)},removeView:function(){this._destroyCalendars(),this._calendars=null},_setupCalendar:function(e,t){var s=this;e.each(function(){var e=r(this);s._calendars.push(n.instance({inputField:e,calendarType:t,jqueryPickerOptions:i.calendar.timepicker}))})},_destroyCalendars:function(){t.invoke(this._calendars,"destroy"),this._calendars=[]}}});