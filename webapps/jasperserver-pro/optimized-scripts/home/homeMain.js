define("text!home/template/nothingToDisplayTemplate.htm",[],function(){return'{{= markupPrefix}}<div class="message-nothing-display" aria-label="{{-message}}">{{-message}}</div>{{= markupSuffix}}\n'}),define("home/view/ListView",["require","backbone","underscore","text!home/template/nothingToDisplayTemplate.htm","bundle!HomeBundle"],function(e){"use strict";var t=e("backbone"),o=e("underscore"),n=e("text!home/template/nothingToDisplayTemplate.htm"),i=e("bundle!HomeBundle");return t.View.extend({initialize:function(e){if(this.subviews=[],this.initOptions=e,e){var t=i["default.nothing.display"];this._msgNothingToDisplay=e.msgNothingToDisplay?e.msgNothingToDisplay:t,e.fetchCollection&&this.collection.fetch({reset:!0}),this._nothingPrefix="nothingPrefix"in e?e.nothingPrefix:"",this._nothingSuffix="nothingSuffix"in e?e.nothingSuffix:""}this.collection.on("reset",this.render,this)},render:function(){var e;return void 0===this.initOptions.tabindex?this.$el.attr("tabindex",0):this.$el.attr("tabindex",this.initOptions.tabindex),void 0===this.initOptions.itemPlural?this.$el.attr("js-itemplural","items"):this.$el.attr("js-itemplural",this.initOptions.itemPlural),this.collection.length>0?(this.$el.html(""),this.collection.forEach(o.bind(function(e){var t=new this.initOptions.listElementView({model:e});this.subviews.push(t),this.$el.append(t.render().$el)},this))):(e=o.template(n,{message:this._msgNothingToDisplay,markupPrefix:this._nothingPrefix,markupSuffix:this._nothingSuffix}),this.$el.append(e)),this}})}),define("home/util/cookie",[],function(){"use strict";var e={};return e.get=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},e.set=function(e,t,o){if(o=o||{},o.expires&&o.expires.toUTCString)o.expires=o.expires.toUTCString();else{var n=new Date;n.setDate(n.getDate()+30),o.expires=n}t=encodeURIComponent(t);var i=e+"="+t;for(var r in o){i+="; "+r;var l=o[r];l!==!0&&(i+="="+l)}document.cookie=i},e.remove=function(t){e.set(t,null,{expires:new Date(1970,0,1)})},e}),define("text!home/template/expandableBlockTemplate.htm",[],function(){return'<div class="resourceBlock">\n    <div class="resourceBlock-header">\n        <button class="buttonIconToggle {{- isExpanded ? \'isOpen\' : \'isClosed\' }}"></button>\n        <div class="resourceBlock-title">{{- title }}</div>\n    </div>\n    <!--Content Here-->\n</div>\n'}),define("home/view/ExpandableBlockView",["require","home/view/ListView","home/util/cookie","underscore","text!home/template/expandableBlockTemplate.htm","home/view/ListView","bundle!accessibility_messages"],function(e){"use strict";var t=e("home/view/ListView"),o=e("home/util/cookie"),n=e("underscore"),i=e("text!home/template/expandableBlockTemplate.htm"),r=(e("home/view/ListView"),e("bundle!accessibility_messages")),l={COLLAPSED:"0",EXPANDED:"1"};return t.extend({template:i,events:{"click .resourceBlock-header":"toggleList"},listStateCookieName:function(){return this.stateKey+"State"},toggleList:function(){var e=this.$(".buttonIconToggle"),t=this.$block;t.is(":visible")?(e.removeClass("isOpen"),e.addClass("isClosed"),t.hide(),o.set(this.listStateCookieName(),l.COLLAPSED)):(e.removeClass("isClosed"),e.addClass("isOpen"),t.show(),o.set(this.listStateCookieName(),l.EXPANDED)),this.renderAria()},initialize:function(e){this.$block=e.$block,this.title=e.title,this.expandedAtStart=e.expandedAtStart,this.stateKey=e.stateKey},dataToRender:function(){var e,t=!0,i=!n.isUndefined(this.expandedAtStart)&&this.expandedAtStart;return i||(e=o.get(this.listStateCookieName()),t=e!==l.COLLAPSED),{isExpanded:t,title:this.title}},render:function(){var e=this.dataToRender();return this.setElement(n.template(this.template,e)),this.$block&&(this.$el.append(this.$block),e.isExpanded?this.$block.show():this.$block.hide()),this.renderAria(),this},renderAria:function(){var e=this.$(".buttonIconToggle"),t=this.dataToRender(),o=this.title+" "+r["expander.aria.label.suffix"]+", ";return o+=t.isExpanded?r["expander.aria.state.expanded"]:r["expander.aria.state.collapsed"],e.attr("aria-busy","true"),e.attr("aria-label",o),e.attr("role","alert"),e.attr("aria-live","assertive"),e.attr("aria-busy","false"),e.removeAttr("aria-busy"),this}})}),define("text!home/template/popularLinkTemplate.htm",[],function(){return'<li>\n    <span class="resourceBlock-list-icon link"></span>\n    <a href="{{- url }}" target="_blank" tabindex="-1">{{- title }}</a>\n</li>\n'}),define("home/view/PopularLinkView",["require","backbone","underscore","text!home/template/popularLinkTemplate.htm"],function(e){"use strict";var t=e("backbone"),o=e("underscore"),n=e("text!home/template/popularLinkTemplate.htm");return t.View.extend({template:n,render:function(){var e=this.model.toJSON();return this.setElement(o.template(this.template,e)),this}})}),define("text!home/template/workflowTemplate.htm",[],function(){return'<li class="workflow">\n    <div class="workflow-container">\n        <div class="workflow-icon-{{- name.toLowerCase() }}"></div>\n        <h2 class="workflow-title">{{- label }}</h2>\n        <p class="workflow-description">{{- description }}\n            {{ if (tutorialControl) { }}\n                <a href="{{- tutorialControl.entity.url }}" target="_blank" >\n                    {{- tutorialControl.label }}\n                </a>\n            {{ } }}\n        </p>\n    </div>\n    <div class="workflow-buttonContainer">\n\n        {{ if (leftControl) { }}\n            <button aria-label="{{- leftControl.label }} {{- label }}" class="button left" role="link">\n                {{- leftControl.label }}\n            </button>\n        {{ } }}\n\n        {{ if (rightControl) { }}\n            <button aria-label="{{- rightControl.label }} {{- label }}" class="button right" role="link">\n                {{- rightControl.label }}\n            </button>\n        {{ } }}\n\n    </div>\n</li>\n'}),define("home/util/browser",[],function(){"use strict";return{openInTab:function(e){var t=window.open();t.opener=null,t.document.location=e},open:function(e){location.href=e}}}),define("home/connectivity/relations",{root:"root",resource:"resource",resources:"resources",folder:"folder",workflow:"workflow",workflows:"workflows",edit:"edit",run:"run",open:"open",create:"create",serverSetting:"serverSettings",admin:"admin",contentReference:"contentReference",contentReferences:"contentReferences"}),define("home/view/WorkflowView",["require","backbone","underscore","jquery","create.report","text!home/template/workflowTemplate.htm","home/util/browser","home/connectivity/relations"],function(e){"use strict";var t=e("backbone"),o=e("underscore"),n=e("jquery"),i=e("create.report"),r=e("text!home/template/workflowTemplate.htm"),l=e("home/util/browser"),a=e("home/connectivity/relations");return t.View.extend({template:r,events:{"click .button.left":"clickOnLeftButton","click .button.right":"clickOnRightButton"},clickOnLeftButton:function(){var e=this.model.get("name"),t=this.dataToRender().leftControl;"report"==e&&t.action==a.create?i.selectADV():l.open(t.href)},clickOnRightButton:function(){var e=this.dataToRender().rightControl;l.open(e.href)},dataToRender:function(){var e={tutorialControl:null,leftControl:null,rightControl:null},t=this.model.toJSON(),n=this.model.getControls(),i=n[a.contentReference],r=n[a.create]||n[a.workflows]||n[a.admin]||n[a.folder],l=n[a.resources];return i&&(e.tutorialControl=i),r&&(e.leftControl=r),l&&(e.rightControl=l),o.extend(e,t)},render:function(){var e=n(o.template(this.template,this.dataToRender()));return this.setElement(e),this}})}),define("text!home/template/resourceTooltipTemplate.htm",[],function(){return'<div id="{{- uid }}" class="panel info tooltip hidden">\n    <div class="content">\n        <div class="header ">\n            <div class="title">\n            </div>\n        </div>\n        <div class="body  ">\n            <p class="message label">{{- i18n["resource.tooltip.name"] }}</p>\n            <p class="message"></p>\n            <p class="message label">{{- i18n["resource.tooltip.description"]}}</p>\n            <p class="message"></p>\n        </div>\n    </div>\n</div>\n'}),define("text!home/template/recentItemTemplate.htm",[],function(){return'<tr>\n    <td class="fileName {{- !isAnyActionAvaliable ? \'disableCursor\' : \'\' }}">\n        <a href="#" tabindex="-1">{{- label }}</a>\n    </td>\n    <td class="fileType">{{- typeLabel }}</td>\n</tr>\n'}),define("home/view/ResourceView",["require","backbone","underscore","jquery","home/util/browser","text!home/template/resourceTooltipTemplate.htm","components.tooltip","text!home/template/recentItemTemplate.htm","bundle!HomeBundle"],function(e){"use strict";var t=e("backbone"),o=e("underscore"),n=e("jquery"),i=e("home/util/browser"),r=e("text!home/template/resourceTooltipTemplate.htm"),l=e("components.tooltip"),a=e("text!home/template/recentItemTemplate.htm"),s=e("bundle!HomeBundle"),c=o.uniqueId("tooltip");return n("body").append(n(o.template(r,{uid:c,i18n:s}))),t.View.extend({template:a,events:{"click a":"clickOnResource"},render:function(){return this.setElement(o.template(this.template,this.dataToRender())),new l(this.el,{text:[this.model.get("label"),this.model.get("description")],templateId:c}),this},dataToRender:function(){var e=this.model.toJSON(),t=o.keys(e._links);return e.isAnyActionAvaliable=t.length>0,e.typeLabel=s[this.model.get("resourceType")],e},clickOnResource:function(){var e,t=this.model.toJSON(),n=t._links,r=o.keys(n);return o.contains(r,"run")?e=n.run.href:o.contains(r,"edit")?e=n.edit.href:o.contains(r,"open")&&(e=n.open.href),e&&i.open(e),!1}})}),define("text!home/template/homeTemplate.htm",[],function(){return'<div class="homeSidebar">\n    <h2 class="homeSidebar-title" >{{- welcomeMessage }}</h2>\n    <!--Popular Links-->\n    <div style="height:24px;"></div>\n    <!--Recently Viewed Items-->\n</div>\n\n<div class="homeMain">\n    <!--Workflows-->\n</div>\n'}),define("home/view/HomeView",["require","backbone","jquery","underscore","home/view/ExpandableBlockView","home/view/PopularLinkView","home/view/ListView","home/view/WorkflowView","home/view/ResourceView","text!home/template/homeTemplate.htm","bundle!HomeBundle"],function(e){"use strict";var t=e("backbone"),o=e("jquery"),n=e("underscore"),i=e("home/view/ExpandableBlockView"),r=e("home/view/PopularLinkView"),l=e("home/view/ListView"),a=e("home/view/WorkflowView"),s=e("home/view/ResourceView"),c=l.extend({tagName:"ul",className:"resourceBlock-list",itemPlural:"items",tabindex:"0"}),d=l.extend({tagName:"table",className:"resourceBlock-table",itemPlural:"items",tabindex:"0"}),u=e("text!home/template/homeTemplate.htm"),m=e("bundle!HomeBundle");return t.View.extend({initialize:function(){var e=new c({collection:this.model.getContentReferences(),itemPlural:m["popular.resources"],listElementView:r}),t=new d({collection:this.model.getResources(),itemPlural:m["recently.viewed.items"],listElementView:s,msgNothingToDisplay:m["recently.viewed.nothing.display"],nothingPrefix:'<tr colspan="2"><td>',nothingSuffix:"</td></tr>"});this.popularLinksBlock=new i({title:m["popular.resources"],stateKey:"homePagePopularLinksExpandableList",$block:e.$el}),this.recentItemsBlock=new i({title:m["recently.viewed.items"],stateKey:"homePageRecentlyViewedResourcesExpandableList",$block:t.$el}),this.workflowsView=new l({collection:this.model.getWorkflows(),listElementView:a,className:"workflowsBlock",template:"",tagName:"ul"}),this.model.on("change",this.render,this)},render:function(){return this.$el.append(o(n.template(u,this.model.toJSON()))),this.$(".homeMain").append(this.workflowsView.$el),this.$(".homeSidebar-title").after(this.recentItemsBlock.render().$el),this.$(".homeSidebar").append(this.popularLinksBlock.render().$el),this}})}),define("home/connectivity/trait/BackboneSyncTrait",["require","underscore"],function(e){"use strict";var t=e("underscore"),o={create:"save",update:"update","delete":"remove",read:"fetch"};return{dataProvider:null,defaultParams:null,initialize:function(e){e&&e.defaultParams&&(this.defaultParams=e.defaultParams)},sync:function(e,n,i){var r=i.success,l=i.error;delete i.success,delete i.error;var a=o[e];if(this.defaultParams&&"read"==e){var s={};i&&i.params&&(s=i.params),s=t.extend(s,this.defaultParams),i.params=s}return this.dataProvider[a](i).then(r,l)}}}),define("home/model/BaseModel",["require","backbone","home/connectivity/trait/BackboneSyncTrait"],function(e){"use strict";var t=e("backbone"),o=e("home/connectivity/trait/BackboneSyncTrait");return t.Model.extend(o)}),define("home/enum/mediaTypes",{APPLICATION_JSON:"application/json",APPLICATION_HAL_JSON:"application/hal+json",TEXT_HTML:"text/html"}),define("home/model/HalBaseModel",["require","home/model/BaseModel","home/enum/mediaTypes","underscore"],function(e){"use strict";function t(e,t){return i.find(e,function(e){return e.type==t})}var o=e("home/model/BaseModel"),n=e("home/enum/mediaTypes"),i=e("underscore");return o.extend({initialize:function(){o.prototype.initialize.apply(this,arguments)},linkToControl:function(e){return{label:e.title,action:e.relation,href:e.href}},embeddedToControl:function(e,t){return{label:t.title,action:e,entity:t}},linksToControls:function(e){var o=this.get("_links"),r=this,l=n.TEXT_HTML;return e&&e.type&&(l=e.type),i.chain(o).map(function(e,o){var n,a;return i.isArray(e)||(e=[e]),a=t(e,l),a&&(n=[o,r.linkToControl(a)]),n}).compact().object().value()},embeddedToControls:function(){var e=this.get("_embedded"),t=this;return i.chain(e).map(function(e,o){var n;return e&&(n=[o,t.embeddedToControl(o,e)]),n}).compact().object().value()},getControls:function(e){return i.extend(this.linksToControls(e),this.embeddedToControls())},toJSON:function(){var e=o.prototype.toJSON.apply(this,arguments);return e.controls=this.getControls(),e}})}),define("home/connectivity/providers",{root:{id:"root",uri:"rest_v2/hypermedia/root"},resources:{id:"resources",uri:"rest_v2/hypermedia/resources",extraRequestOptions:{cache:!1}},workflows:{id:"workflows",uri:"rest_v2/hypermedia/workflows",rel:"workflow"},contentReferences:{id:"contentReferences",uri:"rest_v2/hypermedia/contentReferences"}}),define("home/connectivity/provider/DataProvider",[],function(){"use strict";var e=function(e,t,o){this.id=e,this.url=t,this.extraRequestOptions=o};return e.prototype.fetch=function(e){throw new Error("Method not implemented")},e.prototype.save=function(e){throw new Error("Method not implemented")},e.prototype.update=function(e){throw new Error("Method not implemented")},e.prototype.remove=function(e){throw new Error("Method not implemented")},e}),define("home/util/standardTypeExtensions",[],function(){Object.create||(Object.create=function(){function e(){}return function(t){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}())}),define("home/util/Class",["require","home/util/standardTypeExtensions","underscore"],function(e){"use strict";e("home/util/standardTypeExtensions");var t=e("underscore");return function(e){var o=function(){e.apply(this,arguments)};return o.prototype=Object.create(e.prototype),o.prototype.constructor=o,{extend:function(e){return t.extend(o.prototype,e),o}}}}),define("home/connectivity/provider/BaseDataProvider",["require","home/connectivity/provider/DataProvider","home/util/Class","jrs.configs","jquery","underscore","requestSettings"],function(e){"use strict";var t=e("home/connectivity/provider/DataProvider"),o=e("home/util/Class"),n=e("jrs.configs"),i=e("jquery"),r=e("underscore"),l=e("requestSettings");return o(t).extend({getUrl:function(){return n.contextPath+"/"+this.url},prepareRequestOptions:function(e){var t={type:"GET",traditional:!0,dataType:"json",url:this.getUrl()};return this.extraRequestOptions&&(t=r.extend(t,this.extraRequestOptions)),e&&e.params&&(t.data=e.params),r.extend(l,t)},fetch:function(e){var t=new i.Deferred,o=this.prepareRequestOptions(e);return i.ajax(r.extend(o,e)).done(function(e){t.resolve(e)}).fail(function(e){t.reject(e)}),t}})}),define("home/connectivity/provider/DefaultHalCollectionDataProvider",["require","home/connectivity/provider/BaseDataProvider","jquery","home/util/Class","underscore"],function(e){"use strict";var t=e("home/connectivity/provider/BaseDataProvider"),o=e("jquery"),n=e("home/util/Class"),i=e("underscore");return n(t).extend({getUrl:function(){return this.url},fetch:function(e){var t=new o.Deferred,n=this.prepareRequestOptions(e),r=this.rel;return o.ajax(i.extend(n,e)).done(function(e){var o=[];e._embedded&&e._embedded[r]&&(o=e._embedded[r]),t.resolve(i.isArray(o)?o:[o])}).fail(function(e){t.reject(e)}),t}})}),define("home/connectivity/dataProviderFactory",["require","underscore","home/connectivity/providers","home/connectivity/relations","home/connectivity/provider/DefaultHalCollectionDataProvider","home/connectivity/provider/BaseDataProvider"],function(e){"use strict";var t=e("underscore"),o=e("home/connectivity/providers"),n=e("home/connectivity/relations"),i=e("home/connectivity/provider/DefaultHalCollectionDataProvider"),r={},l={};return r[n.root]=e("home/connectivity/provider/BaseDataProvider"),r[n.resources]=i,r[n.workflows]=i,r[n.contentReferences]=i,function(e){var n,i,a,s=e;if(t.isObject(e)&&(s=e.id,n=e.url,i=e.rel,a=o[s].extraRequestOptions,n&&s&&i)){var c=new r[s](s,n,a);return c.rel=i,c}var d=l[s];if(!d){if(!r[s])throw new Error("There is no DataProvider that corresponds to '"+s+"' ID.");var u=r[s],m=o[s];d=new u(m.id,m.uri,m.extraRequestOptions),d.rel=m.rel,l[s]=d}return d}}),define("home/collection/BaseCollection",["require","backbone","home/connectivity/trait/BackboneSyncTrait"],function(e){"use strict";var t=e("backbone"),o=e("home/connectivity/trait/BackboneSyncTrait");return t.Collection.extend(o)}),define("home/collection/HalBaseCollection",["require","home/collection/BaseCollection","home/model/HalBaseModel"],function(e){var t=e("home/collection/BaseCollection"),o=e("home/model/HalBaseModel");return t.extend({model:o,initialize:function(e){t.prototype.initialize.apply(this,arguments),e&&e.modelRel&&(this.modelRel=e.modelRel)},reset:function(){var e=arguments[0],o=arguments;if(e&&e._embedded){if(!this.modelRel)throw new Error("Relation to model not defined");e=e._embedded[this.modelRel],o=[e]}t.prototype.reset.apply(this,o)}})}),define("home/collection/WorkflowCollection",["require","home/model/HalBaseModel","home/connectivity/relations","home/connectivity/dataProviderFactory","home/collection/HalBaseCollection"],function(e){"use strict";var t=e("home/model/HalBaseModel"),o=e("home/connectivity/relations"),n=e("home/connectivity/dataProviderFactory"),i=e("home/collection/HalBaseCollection");return i.extend({modelRel:o.workflow,model:t,dataProvider:n(o.workflows)})}),define("home/model/RootModel",["require","underscore","home/model/HalBaseModel","home/connectivity/relations","home/connectivity/dataProviderFactory","home/collection/BaseCollection","home/collection/HalBaseCollection","home/collection/WorkflowCollection","home/enum/mediaTypes"],function(e){"use strict";var t=e("underscore"),o=e("home/model/HalBaseModel"),n=e("home/connectivity/relations"),i=e("home/connectivity/dataProviderFactory"),r=(e("home/collection/BaseCollection"),e("home/collection/HalBaseCollection")),l=e("home/collection/WorkflowCollection"),a=e("home/enum/mediaTypes");return o.extend({dataProvider:i(n.root),relations:{workflows:l,resources:r.extend({modelRel:n.resource}),contentReferences:r.extend({modelRel:n.contentReference})},initialize:function(){this._initializeRelations(),this._refreshRelationsOnChangeEvent()},getContentReferences:function(){return this.contentReferences},getResources:function(){return this.resources},getWorkflows:function(){return this.workflows},_refreshRelationsOnChangeEvent:function(){this.on("change",t.bind(function(){var e=this.getControls({type:a.APPLICATION_HAL_JSON});t.each(this.relations,t.bind(function(t,o){var n,r=e[o];if(r)if(r.entity)this[o].reset(r.entity);else if(r.href){var l=this[o].modelRel;n=i({id:o,url:r.href,rel:l}),this[o].dataProvider=n,this[o].fetch({reset:!0})}},this))},this))},_initializeRelations:function(){t.each(this.relations,t.bind(function(e,t){this[t]=new e},this))}})}),define("home/homeMain",["require","commons.main","jquery","domReady","home/view/HomeView","home/model/RootModel"],function(e){"use strict";e("commons.main");var t=e("jquery"),o=e("domReady"),n=e("home/view/HomeView"),i=e("home/model/RootModel"),r=new i,l=new n({model:r});r.fetch(),o(function(){t("#display div.body").append(l.$el)})});