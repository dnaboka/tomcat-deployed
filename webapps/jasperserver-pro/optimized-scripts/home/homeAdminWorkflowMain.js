define("home/connectivity/trait/BackboneSyncTrait",["require","underscore"],function(e){"use strict";var t=e("underscore"),o={create:"save",update:"update","delete":"remove",read:"fetch"};return{dataProvider:null,defaultParams:null,initialize:function(e){e&&e.defaultParams&&(this.defaultParams=e.defaultParams)},sync:function(e,n,r){var i=r.success,a=r.error;delete r.success,delete r.error;var l=o[e];if(this.defaultParams&&"read"==e){var s={};r&&r.params&&(s=r.params),s=t.extend(s,this.defaultParams),r.params=s}return this.dataProvider[l](r).then(i,a)}}}),define("home/model/BaseModel",["require","backbone","home/connectivity/trait/BackboneSyncTrait"],function(e){"use strict";var t=e("backbone"),o=e("home/connectivity/trait/BackboneSyncTrait");return t.Model.extend(o)}),define("home/enum/mediaTypes",{APPLICATION_JSON:"application/json",APPLICATION_HAL_JSON:"application/hal+json",TEXT_HTML:"text/html"}),define("home/model/HalBaseModel",["require","home/model/BaseModel","home/enum/mediaTypes","underscore"],function(e){"use strict";function t(e,t){return r.find(e,function(e){return e.type==t})}var o=e("home/model/BaseModel"),n=e("home/enum/mediaTypes"),r=e("underscore");return o.extend({initialize:function(){o.prototype.initialize.apply(this,arguments)},linkToControl:function(e){return{label:e.title,action:e.relation,href:e.href}},embeddedToControl:function(e,t){return{label:t.title,action:e,entity:t}},linksToControls:function(e){var o=this.get("_links"),i=this,a=n.TEXT_HTML;return e&&e.type&&(a=e.type),r.chain(o).map(function(e,o){var n,l;return r.isArray(e)||(e=[e]),l=t(e,a),l&&(n=[o,i.linkToControl(l)]),n}).compact().object().value()},embeddedToControls:function(){var e=this.get("_embedded"),t=this;return r.chain(e).map(function(e,o){var n;return e&&(n=[o,t.embeddedToControl(o,e)]),n}).compact().object().value()},getControls:function(e){return r.extend(this.linksToControls(e),this.embeddedToControls())},toJSON:function(){var e=o.prototype.toJSON.apply(this,arguments);return e.controls=this.getControls(),e}})}),define("home/connectivity/relations",{root:"root",resource:"resource",resources:"resources",folder:"folder",workflow:"workflow",workflows:"workflows",edit:"edit",run:"run",open:"open",create:"create",serverSetting:"serverSettings",admin:"admin",contentReference:"contentReference",contentReferences:"contentReferences"}),define("home/connectivity/providers",{root:{id:"root",uri:"rest_v2/hypermedia/root"},resources:{id:"resources",uri:"rest_v2/hypermedia/resources",extraRequestOptions:{cache:!1}},workflows:{id:"workflows",uri:"rest_v2/hypermedia/workflows",rel:"workflow"},contentReferences:{id:"contentReferences",uri:"rest_v2/hypermedia/contentReferences"}}),define("home/connectivity/provider/DataProvider",[],function(){"use strict";var e=function(e,t,o){this.id=e,this.url=t,this.extraRequestOptions=o};return e.prototype.fetch=function(e){throw new Error("Method not implemented")},e.prototype.save=function(e){throw new Error("Method not implemented")},e.prototype.update=function(e){throw new Error("Method not implemented")},e.prototype.remove=function(e){throw new Error("Method not implemented")},e}),define("home/util/standardTypeExtensions",[],function(){Object.create||(Object.create=function(){function e(){}return function(t){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}())}),define("home/util/Class",["require","home/util/standardTypeExtensions","underscore"],function(e){"use strict";e("home/util/standardTypeExtensions");var t=e("underscore");return function(e){var o=function(){e.apply(this,arguments)};return o.prototype=Object.create(e.prototype),o.prototype.constructor=o,{extend:function(e){return t.extend(o.prototype,e),o}}}}),define("home/connectivity/provider/BaseDataProvider",["require","home/connectivity/provider/DataProvider","home/util/Class","jrs.configs","jquery","underscore","requestSettings"],function(e){"use strict";var t=e("home/connectivity/provider/DataProvider"),o=e("home/util/Class"),n=e("jrs.configs"),r=e("jquery"),i=e("underscore"),a=e("requestSettings");return o(t).extend({getUrl:function(){return n.contextPath+"/"+this.url},prepareRequestOptions:function(e){var t={type:"GET",traditional:!0,dataType:"json",url:this.getUrl()};return this.extraRequestOptions&&(t=i.extend(t,this.extraRequestOptions)),e&&e.params&&(t.data=e.params),i.extend(a,t)},fetch:function(e){var t=new r.Deferred,o=this.prepareRequestOptions(e);return r.ajax(i.extend(o,e)).done(function(e){t.resolve(e)}).fail(function(e){t.reject(e)}),t}})}),define("home/connectivity/provider/DefaultHalCollectionDataProvider",["require","home/connectivity/provider/BaseDataProvider","jquery","home/util/Class","underscore"],function(e){"use strict";var t=e("home/connectivity/provider/BaseDataProvider"),o=e("jquery"),n=e("home/util/Class"),r=e("underscore");return n(t).extend({getUrl:function(){return this.url},fetch:function(e){var t=new o.Deferred,n=this.prepareRequestOptions(e),i=this.rel;return o.ajax(r.extend(n,e)).done(function(e){var o=[];e._embedded&&e._embedded[i]&&(o=e._embedded[i]),t.resolve(r.isArray(o)?o:[o])}).fail(function(e){t.reject(e)}),t}})}),define("home/connectivity/dataProviderFactory",["require","underscore","home/connectivity/providers","home/connectivity/relations","home/connectivity/provider/DefaultHalCollectionDataProvider","home/connectivity/provider/BaseDataProvider"],function(e){"use strict";var t=e("underscore"),o=e("home/connectivity/providers"),n=e("home/connectivity/relations"),r=e("home/connectivity/provider/DefaultHalCollectionDataProvider"),i={},a={};return i[n.root]=e("home/connectivity/provider/BaseDataProvider"),i[n.resources]=r,i[n.workflows]=r,i[n.contentReferences]=r,function(e){var n,r,l,s=e;if(t.isObject(e)&&(s=e.id,n=e.url,r=e.rel,l=o[s].extraRequestOptions,n&&s&&r)){var c=new i[s](s,n,l);return c.rel=r,c}var u=a[s];if(!u){if(!i[s])throw new Error("There is no DataProvider that corresponds to '"+s+"' ID.");var d=i[s],m=o[s];u=new d(m.id,m.uri,m.extraRequestOptions),u.rel=m.rel,a[s]=u}return u}}),define("home/collection/BaseCollection",["require","backbone","home/connectivity/trait/BackboneSyncTrait"],function(e){"use strict";var t=e("backbone"),o=e("home/connectivity/trait/BackboneSyncTrait");return t.Collection.extend(o)}),define("home/collection/HalBaseCollection",["require","home/collection/BaseCollection","home/model/HalBaseModel"],function(e){var t=e("home/collection/BaseCollection"),o=e("home/model/HalBaseModel");return t.extend({model:o,initialize:function(e){t.prototype.initialize.apply(this,arguments),e&&e.modelRel&&(this.modelRel=e.modelRel)},reset:function(){var e=arguments[0],o=arguments;if(e&&e._embedded){if(!this.modelRel)throw new Error("Relation to model not defined");e=e._embedded[this.modelRel],o=[e]}t.prototype.reset.apply(this,o)}})}),define("home/collection/WorkflowCollection",["require","home/model/HalBaseModel","home/connectivity/relations","home/connectivity/dataProviderFactory","home/collection/HalBaseCollection"],function(e){"use strict";var t=e("home/model/HalBaseModel"),o=e("home/connectivity/relations"),n=e("home/connectivity/dataProviderFactory"),r=e("home/collection/HalBaseCollection");return r.extend({modelRel:o.workflow,model:t,dataProvider:n(o.workflows)})}),define("text!home/template/nothingToDisplayTemplate.htm",[],function(){return'{{= markupPrefix}}<div class="message-nothing-display" aria-label="{{-message}}">{{-message}}</div>{{= markupSuffix}}\n'}),define("home/view/ListView",["require","backbone","underscore","text!home/template/nothingToDisplayTemplate.htm","bundle!HomeBundle"],function(e){"use strict";var t=e("backbone"),o=e("underscore"),n=e("text!home/template/nothingToDisplayTemplate.htm"),r=e("bundle!HomeBundle");return t.View.extend({initialize:function(e){if(this.subviews=[],this.initOptions=e,e){var t=r["default.nothing.display"];this._msgNothingToDisplay=e.msgNothingToDisplay?e.msgNothingToDisplay:t,e.fetchCollection&&this.collection.fetch({reset:!0}),this._nothingPrefix="nothingPrefix"in e?e.nothingPrefix:"",this._nothingSuffix="nothingSuffix"in e?e.nothingSuffix:""}this.collection.on("reset",this.render,this)},render:function(){var e;return void 0===this.initOptions.tabindex?this.$el.attr("tabindex",0):this.$el.attr("tabindex",this.initOptions.tabindex),void 0===this.initOptions.itemPlural?this.$el.attr("js-itemplural","items"):this.$el.attr("js-itemplural",this.initOptions.itemPlural),this.collection.length>0?(this.$el.html(""),this.collection.forEach(o.bind(function(e){var t=new this.initOptions.listElementView({model:e});this.subviews.push(t),this.$el.append(t.render().$el)},this))):(e=o.template(n,{message:this._msgNothingToDisplay,markupPrefix:this._nothingPrefix,markupSuffix:this._nothingSuffix}),this.$el.append(e)),this}})}),define("text!home/template/workflowTemplate.htm",[],function(){return'<li class="workflow">\n    <div class="workflow-container">\n        <div class="workflow-icon-{{- name.toLowerCase() }}"></div>\n        <h2 class="workflow-title">{{- label }}</h2>\n        <p class="workflow-description">{{- description }}\n            {{ if (tutorialControl) { }}\n                <a href="{{- tutorialControl.entity.url }}" target="_blank" >\n                    {{- tutorialControl.label }}\n                </a>\n            {{ } }}\n        </p>\n    </div>\n    <div class="workflow-buttonContainer">\n\n        {{ if (leftControl) { }}\n            <button aria-label="{{- leftControl.label }} {{- label }}" class="button left" role="link">\n                {{- leftControl.label }}\n            </button>\n        {{ } }}\n\n        {{ if (rightControl) { }}\n            <button aria-label="{{- rightControl.label }} {{- label }}" class="button right" role="link">\n                {{- rightControl.label }}\n            </button>\n        {{ } }}\n\n    </div>\n</li>\n'}),define("home/util/browser",[],function(){"use strict";return{openInTab:function(e){var t=window.open();t.opener=null,t.document.location=e},open:function(e){location.href=e}}}),define("home/view/WorkflowView",["require","backbone","underscore","jquery","create.report","text!home/template/workflowTemplate.htm","home/util/browser","home/connectivity/relations"],function(e){"use strict";var t=e("backbone"),o=e("underscore"),n=e("jquery"),r=e("create.report"),i=e("text!home/template/workflowTemplate.htm"),a=e("home/util/browser"),l=e("home/connectivity/relations");return t.View.extend({template:i,events:{"click .button.left":"clickOnLeftButton","click .button.right":"clickOnRightButton"},clickOnLeftButton:function(){var e=this.model.get("name"),t=this.dataToRender().leftControl;"report"==e&&t.action==l.create?r.selectADV():a.open(t.href)},clickOnRightButton:function(){var e=this.dataToRender().rightControl;a.open(e.href)},dataToRender:function(){var e={tutorialControl:null,leftControl:null,rightControl:null},t=this.model.toJSON(),n=this.model.getControls(),r=n[l.contentReference],i=n[l.create]||n[l.workflows]||n[l.admin]||n[l.folder],a=n[l.resources];return r&&(e.tutorialControl=r),i&&(e.leftControl=i),a&&(e.rightControl=a),o.extend(e,t)},render:function(){var e=n(o.template(this.template,this.dataToRender()));return this.setElement(e),this}})}),define("text!home/template/adminWorkflowTemplate.htm",[],function(){return'<div class="homeAdmin">\n    <!--Workflows-->\n</div>\n'}),define("home/homeAdminWorkflowMain",["require","commons.main","domReady!","jquery","home/collection/WorkflowCollection","home/view/ListView","home/view/WorkflowView","text!home/template/adminWorkflowTemplate.htm"],function(e){"use strict";e("commons.main"),e("domReady!");var t=e("jquery"),o=e("home/collection/WorkflowCollection"),n=e("home/view/ListView"),r=e("home/view/WorkflowView"),i=e("text!home/template/adminWorkflowTemplate.htm"),a=new n({collection:new o({defaultParams:{parentName:"admin"}}),listElementView:r,className:"workflowsBlock",template:"",fetchCollection:!0,tagName:"ul"});t("#display div.body").append(i).find(".homeAdmin").append(a.$el)});