"undefined"==typeof Administer&&(Administer={}),Administer=_.extend({_messages:{},urlContext:null,getMessage:function(e,t){var n=this._messages[e];return n?new Template(n).evaluate(t?t:{}):""},menuActions:{"p#navAnalysisOptions":function(){return Administer.urlContext+"/flow.html?_flowId=mondrianPropertiesFlow"},"p#navAnalysisOptionsCE":function(){return Administer.urlContext+"/olap/properties.html"},"p#navDesignerOptions":function(){return Administer.urlContext+"/flow.html?_flowId=designerOptionsFlow"},"p#navDesignerCache":function(){return Administer.urlContext+"/flow.html?_flowId=designerCacheFlow"},"p#navAwsSettings":function(){return Administer.urlContext+"/flow.html?_flowId=awsSettingsFlow"},"p#navLogSettings":function(){return Administer.urlContext+"/log_settings.html"},"p#logCollectors":function(){return Administer.urlContext+"/logCollectors.html"},"p#navImport":function(){return Administer.urlContext+"/adminImport.html"},"p#navExport":function(){return Administer.urlContext+"/adminExport.html"},"p#navCustomAttributes":function(){return Administer.urlContext+"/customAttributes.html"},"p#navResetSettings":function(){return Administer.urlContext+"/resetSettings.html"}},_sendRequest:function(e,t,n){ajaxTargettedUpdate(e,{postData:t,callback:n,mode:AjaxRequester.prototype.EVAL_JSON,errorHandler:this._errorHandler})},_errorHandler:function(e){return e.getResponseHeader("LoginRequested")?(window.location="flow.html?_flowId=designerCacheFlow",!0):baseErrorHandler(e)}},Administer),define("administer.base",["prototype","underscore","core.ajax"],function(e){return function(){var t;return t||e.Administer}}(this));var DataSetList={DS_CONTAINER:"dsContainer",BUTTON_CLOSE:"#detail #close",BUTTON_CLEAR_ALL_CACHE:"clearAllCache",Q_ITEM_PFX:"qItem_",SORTING_FORM:"changeSortType",SORTING_SELECT_ITEMS:"#sortMode .tab",initialize:function(){if(layoutModule.resizeOnClient("serverSettingsMenu","settings"),webHelpModule.setCurrentContext("admin"),!$(this.DS_CONTAINER)){var e=$("nothingToDisplay");e.removeClassName(layoutModule.HIDDEN_CLASS),centerElement(e,{horz:!0,vert:!0}),jQuery(document.body).addClass(layoutModule.NOTHING_TO_DISPLAY_CLASS)}$("display").observe("click",function(e){var t=e.element(),n=matchAny(t,[layoutModule.BUTTON_PATTERN],!0);if(n){for(var i in Administer.menuActions)if(n.match(i)&&!n.up("li").hasClassName("selected"))return void(document.location=Administer.menuActions[i]());if(n.match("button#"+DataSetList.BUTTON_CLEAR_ALL_CACHE)&&(e.stop(),DataSetList._clearAll()),n.match("div.five > button"))return void DataSetList._clearQuery(n)}return t.match("a")&&matchAny(t,["div.two"],!0)?void DataSetList._getDetails(t):void 0}),document.body.appendChild($("detail")),$$(DataSetList.BUTTON_CLOSE)[0].observe("click",function(e){e.stop(),dialogs.popup.hide($("detail"))});var t=$(DataSetList.SORTING_FORM),n=t.sort.value;$$(DataSetList.SORTING_SELECT_ITEMS).each(function(e){n&&$(e)[n===e.id?"addClassName":"removeClassName"]("selected"),$(e).observe("click",function(e){return function(){t.sort.setAttribute("value",e),t.submit()}}(e.id))})},_getDetails:function(e){var t="flow.html?_flowExecutionKey="+Administer.flowExecutionKey+"&_eventId=isServerAvailable";Administer._sendRequest(t,null,function(t){if(t.data&&"Yes"==t.data.strip()){var n="id="+e.readAttribute("name"),i="flow.html?_flowExecutionKey="+Administer.flowExecutionKey+"&_eventId=getDetails";Administer._sendRequest(i,n,DataSetList._getDetailsCallback)}})},_clearQuery:function(e){var t="id="+e.name,n="flow.html?_flowExecutionKey="+Administer.flowExecutionKey+"&_eventId=clearQuery";Administer._sendRequest(n,t,DataSetList._clearCallback)},_clearAll:function(){var e="flow.html?_flowExecutionKey="+Administer.flowExecutionKey+"&_eventId=clearAll";Administer._sendRequest(e,null,DataSetList._clearCallback)},_getDetailsCallback:function(e){var t=$("detail");$("detAge").update(e.age),$("detQuery").update(e.query.replace(new RegExp("\n","g"),"<br/>")),$("detDataSourceURI").update(e.datasourceURI),$("detParameters").update(e.params),$("detTime").update(e.idle),$("detRows").update(e.rows),$("detQueryTime").update(e.queryTime),$("detFetchTime").update(e.fetchTime),dialogs.popup.show(t)},_clearCallback:function(e){if($("detail").hide(),e.empty){var t=$("nothingToDisplay");t.removeClassName(layoutModule.HIDDEN_CLASS),centerElement(t,{horz:!0,vert:!0}),jQuery(document.body).addClass(layoutModule.NOTHING_TO_DISPLAY_CLASS),DataSetList._disableClearAll()}else e.id&&$(DataSetList.Q_ITEM_PFX+e.id).remove();dialogs.systemConfirm.show(Administer.getMessage(e.result))},_disableClearAll:function(e){buttonManager.disable($(DataSetList.BUTTON_CLEAR_ALL_CACHE))}};"undefined"==typeof require&&document.observe("dom:loaded",DataSetList.initialize.bind(DataSetList)),define("administer.cache",["administer.base","core.layout","components.webHelp","utils.common","jquery","components.dialogs","core.events.bis"],function(e){return function(){var t;return t||e.DataSetList}}(this)),define("administerPro/administerAdhocCacheMain",["require","!domReady","administer.base","administer.cache","jrs.configs"],function(e){"use strict";var t=e("!domReady"),n=e("administer.base"),i=e("administer.cache"),a=e("jrs.configs");t(function(){n.urlContext=a.urlContext,i.initialize()})});