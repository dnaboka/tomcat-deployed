define(["require","underscore","jquery","./BaseJiveComponentView","fusioncharts"],function(e){"use strict";var t=e("underscore"),n=e("jquery"),i=e("./BaseJiveComponentView"),s=e("fusioncharts"),o=function(e){this.config=e,this.parent=null,this.loader=null,this.fusionInstance=null,this._init()};return o.prototype={_init:function(){var e,t=this,n=this.config.instanceData;document.getElementById(n.id)||("function"==typeof window.printRequest&&window.printRequest(),e={id:n.id,type:n.type,width:n.width,height:n.height,renderAt:n.renderAt,dataFormat:n.dataFormat,dataSource:n.dataSource},s.items[e.id]&&s.items[e.id].dispose(),this.fusionInstance=new s(e),this.fusionInstance.addEventListener("BeforeRender",function(e,t){"javascript"===t.renderer&&e.sender.setChartAttribute("exportEnabled","0")}),this.fusionInstance.addEventListener("JR_Hyperlink_Interception",function(e,n){var i;t.config.linksOptions.events&&(i=t.config.linksOptions.events.click),i&&i.call(this,e,n)}),this.fusionInstance.setTransparent(n.transparent),this.fusionInstance.render())},remove:function(){this.fusionInstance&&this.fusionInstance.dispose()}},i.extend({render:function(e){var i=new n.Deferred,s=this.model.collection?this.model.collection.linkOptions:null,r=t.extend(this.model.toJSON(),{chart:t.clone(this.stateModel.get("chart"))});return s&&(r.linkOptions=s),this.fusionElement=new o(r),i.resolve(),i},remove:function(){this.fusionElement&&this.fusionElement.remove(),i.prototype.remove.apply(this,arguments)}})});