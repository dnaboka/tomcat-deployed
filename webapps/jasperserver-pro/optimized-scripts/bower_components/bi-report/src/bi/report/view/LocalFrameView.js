define(["require","underscore","backbone","jquery"],function(e){"use strict";var t=e("underscore"),n=e("backbone"),o=e("jquery");return n.View.extend({initialize:function(e){this.setElement(o("<iframe></iframe>",{scrolling:"no"}).css({border:"none",width:"100%"})),this.frameLoaded=new o.Deferred,this.$el.on("load",t.bind(this.onLoad,this,e))},onLoad:function(e){this.el.contentWindow||this.el.contentDocument?(this.frameDoc=(this.el.contentWindow||this.el.contentDocument).document,this.$frameBody=o(this.frameDoc.getElementsByTagName("body")[0]),this.$frameBody.css({position:"relative",margin:0}).html(e),this.frameLoaded.resolve()):setTimeout(function(){t.bind(this.onLoad,this)},1e3)},remove:function(){this.$el.off("load"),n.View.prototype.remove.apply(this,arguments)}})});