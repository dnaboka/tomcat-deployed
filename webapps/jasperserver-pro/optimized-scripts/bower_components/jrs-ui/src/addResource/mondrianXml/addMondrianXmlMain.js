var resourceMondrianXmla={LABEL_ID:"label",RESOURCE_ID_ID:"resourceID",DESCRIPTION_ID:"description",CATALOG_ID:"catalog",SAVE_BUTTON_ID:"save",_canGenerateId:!0,initialize:function(e){this._form=$(document.body).select("form")[0],this._label=$(this.LABEL_ID),this._resourceId=$(this.RESOURCE_ID_ID),this._description=$(this.DESCRIPTION_ID),this._catalog=$(this.CATALOG_ID),this._saveButton=$(this.SAVE_BUTTON_ID),this._isEditMode=e.isEditMode,this._label.validator=resource.labelValidator.bind(this),this._resourceId.validator=resource.resourceIdValidator.bind(this),this._description.validator=resource.descriptionValidator.bind(this),this._catalog.validator=this._catalogValidator.bind(this),new picker.FileSelector({treeId:"resourceTreeRepoLocation",providerId:"mondrianTreeDataProvider",uriTextboxId:"mondrianConnectionReference",browseButtonId:"browser_button",title:resource.messages["resource.Add.Files.Title"],selectLeavesOnly:!0}),this._initEvents()},_initEvents:function(){this._saveButton.observe("click",function(e){this._isDataValid()||e.stop()}.bindAsEventListener(this)),this._form.observe("keyup",function(e){var i=e.element(),t=[this._label,this._resourceId,this._description,this._catalog];t.include(i)&&(ValidationModule.validate(resource.getValidationEntries([i])),i==this._resourceId&&this._resourceId.getValue()!=resource.generateResourceId(this._label.getValue())&&(this._canGenerateId=!1),i==this._label&&!this._isEditMode&&this._canGenerateId&&(this._resourceId.setValue(resource.generateResourceId(this._label.getValue())),ValidationModule.validate(resource.getValidationEntries([this._resourceId]))))}.bindAsEventListener(this))},_isDataValid:function(){var e=[this._label,this._resourceId,this._description,this._catalog];return ValidationModule.validate(resource.getValidationEntries(e))},_catalogValidator:function(e){var i=!0,t="";return e.blank()&&(t=resource.messages.catalogIsEmpty,i=!1),{isValid:i,errorMessage:t}}};"undefined"==typeof require&&document.observe("dom:loaded",function(){resourceMondrianXmla.initialize(localContext.initOptions)}),define("resource.add.mondrianxmla",["resource.base","components.pickers","prototype","utils.common"],function(e){return function(){var i;return i||e.resourceMondrianXmla}}(this)),define("addResource/mondrianXml/addMondrianXmlMain",["require","!domReady","resource.add.mondrianxmla","underscore","jrs.configs","resource.base","utils.common"],function(e){"use strict";var i=e("!domReady"),t=e("resource.add.mondrianxmla"),r=e("underscore"),o=e("jrs.configs"),s=e("resource.base");e("utils.common"),i(function(){var e=o.addMondrianXML.localContext.initOptions;r.extend(window.localContext,o.addMondrianXML.localContext),r.extend(s.messages,o.addMondrianXML.resource.messages),t.initialize(e),isIPad()&&s.initSwipeScroll()})});