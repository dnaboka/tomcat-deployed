define(["require","underscore","../model/HyperlinkParameterModel","backbone"],function(i){"use strict";var e=i("underscore"),t=i("../model/HyperlinkParameterModel"),n=i("backbone"),a=n.Collection.extend({model:t,validationMessages:{DUPLICATE_MODEL_ADD:"DUPLICATE_MODEL_ADD",DUPLICATE_MODEL_EDIT:"DUPLICATE_MODEL_EDIT"},add:function(i,e){return this._validateSingleModelAddition(i,e)?n.Collection.prototype.add.apply(this,arguments):void 0},_validateSingleModelAddition:function(i,t){var n=!0;if(!e.isArray(i)){var a=this.find(function(e){return e===i}),r=this.filter(function(e){return e.id===i.id});a||!(r.length>0)||t&&t.silent?!(a&&r.length>1)||t&&t.silent||(n=!1,this.trigger("validation:invalid",this,i,{message:this.validationMessages.DUPLICATE_MODEL_EDIT})):(n=!1,this.trigger("validation:invalid",this,i,{message:this.validationMessages.DUPLICATE_MODEL_ADD})),!n||t&&t.silent||this.trigger("validation:valid",this,i)}return n}});return a});