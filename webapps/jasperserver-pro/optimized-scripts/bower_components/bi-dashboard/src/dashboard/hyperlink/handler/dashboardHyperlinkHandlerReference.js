define(["require","exports","module","underscore","jquery","bi/report/jive/enum/hyperlinkTargets","bi/report/jive/enum/hyperlinkTypes"],function(e,r,t){"use strict";var n=e("underscore"),a=e("jquery"),i=e("bi/report/jive/enum/hyperlinkTargets"),o=e("bi/report/jive/enum/hyperlinkTypes"),p=n.template("{{=url}}{{=parameters}}{{=anchor}}");return{events:{click:function(e,r,t){var s,u=r.href.match(/^([^\?\#]+)(\?[^\#]+)?(\#.*)?$/),l="",m=u[3]||"";u[2]&&(l+=u[2]),r.parameters&&(l+=(l?"&":"?")+a.param(r.parameters,!0)),s=p({url:u[1],parameters:l,anchor:m}),r.target!==i.SELF?window.open(s,n.contains(n.values(i),r.target)?"_"+r.target.toLowerCase():r.target):t&&t.drilldown&&t.drilldown(n.extend({},r,{type:o.REFERENCE,href:s}))}}}});