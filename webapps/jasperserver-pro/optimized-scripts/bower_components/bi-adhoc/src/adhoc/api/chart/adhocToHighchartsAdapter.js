!function(e,a){"use strict";"function"==typeof define&&define.amd?define(["underscore","jquery","json3","bundle!all","adhoc/api/chart/adhocToHighchartsAdapter/Highcharts","adhoc/api/chart/adhocToHighchartsAdapter/highchartsDataMapper","adhoc/api/chart/adhocToHighchartsAdapter/adhocDataProcessor"],e):a.AdhocHighchartsAdapter=e(a._,a.jQuery,a.JSON,{},a.Highcharts,a.highchartsDataMapper,a.AdhocDataProcessor)}(function(e,a,t,r,o,s,n){"use strict";var h={generateOptions:function(e,a,h){a=t.parse(t.stringify(a)),e=t.parse(t.stringify(e)),n.load(e),n.messages=h.messages;var l=[r["months.label.january"]||"January",r["months.label.february"]||"February",r["months.label.march"]||"March",r["months.label.april"]||"April",r["months.label.may"]||"May",r["months.label.june"]||"June",r["months.label.july"]||"July",r["months.label.august"]||"August",r["months.label.september"]||"September",r["months.label.october"]||"October",r["months.label.november"]||"November",r["months.label.december"]||"December"],d=[r["week.days.label.sunday"]||"Sunday",r["week.days.label.monday"]||"Monday",r["week.days.label.tuesday"]||"Tuesday",r["week.days.label.wednesday"]||"Wednesday",r["week.days.label.thursday"]||"Thursday",r["week.days.label.friday"]||"Friday",r["week.days.label.saturday"]||"Saturday"];o.setOptions({lang:{contextButtonTitle:r["highcharts.contextButtonTitle"]||"Chart context menu",decimalPoint:".",downloadJPEG:r["highcharts.downloadJPEG"]||"Download JPEG image",downloadPDF:r["highcharts.downloadPDF"]||"Download PDF document",downloadPNG:r["highcharts.downloadPNG"]||"Download PNG image",downloadSVG:r["highcharts.downloadSVG"]||"Download SVG vector image",drillUpButton:r["highcharts.drillUpButton"]||"Back",drillUpText:(r["highcharts.drillUpText"]||"Back to")+" {series.name}",invalidDate:r["highcharts.invalidDate"]||"",loading:(r["highcharts.loading"]||"Loading")+"...",months:l,noData:r["highcharts.noData"]||"No data to display",printChart:r["highcharts.printChart"]||"Print chart",resetZoom:r["highcharts.resetZoom"]||"Reset zoom",resetZoomTitle:r["highcharts.resetZoomTitle"]||"Reset zoom level 1:1",shortMonths:a.shortMonths,thousandsSep:",",weekdays:d}});var i=n.levelsToLevelNumbers(a.rowsSelectedLevels,0),c=n.levelsToLevelNumbers(a.columnsSelectedLevels,1);h.chartState=a,h.metadata=e.metadata;var p=s.getHighchartsOptions(a.chartType,i,c,h);return a.advancedProperties.length&&this._applyAdvancedProperties(p,a.advancedProperties),p},_applyAdvancedProperties:function(a,t){return e.each(t,function(e){this._setAdvancedProperty(a,e)},this),a.chart&&"waterfall"===a.chart.type&&a.plotOptions&&a.plotOptions.series&&delete a.plotOptions.series.stacking,a},_setAdvancedProperty:function(t,r){var o=r.name.split("."),s={},n=o.length-1,h=s;e.each(o,function(e,a){a==n?s[e]=this._parseAdvancedPropertyValue(r.value):(s[e]={},s=s[e])},this),t[o[0]]&&t[o[0]].length?e(t[o[0]]).each(function(e){a.extend(!0,e,h[o[0]])}):a.extend(!0,t,h)},_parseAdvancedPropertyValue:function(e){var a;try{a=t.parse(e)}catch(r){a=e}return a}};return h},this);