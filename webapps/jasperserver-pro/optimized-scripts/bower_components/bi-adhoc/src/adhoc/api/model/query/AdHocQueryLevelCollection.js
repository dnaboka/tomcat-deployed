define(["require","exports","module","underscore","backbone","./AdHocQueryLevelModel"],function(e,t,i){"use strict";var n=e("underscore"),s=e("backbone"),o=e("./AdHocQueryLevelModel");return s.Collection.extend({model:o,initialize:function(e,t){this.adHocModel=t.adHocModel,this._master=t.master},multiAxisMap:function(e){for(var t=!1,i=[].concat(this.models),s=this._master?this._master.models.concat(this.models):this.models,o=i.length-1;o>=0;o--)if(i[o])if(i[o].isMeasure())t?i[o]=null:t=!0;else for(var r=s.length-(i.length-o)-1;i[o]&&r>-1;r--)i[o].get("field")!==s[r].get("field")&&i[o].get("dimension")!==s[r].get("dimension")||i[o].get("functionName")!==s[r].get("functionName")||i[o].isDateTime()||(i[o]=null);return n.map(n.compact(i),e)},hasMeasures:function(){return!!this.find(function(e){return e.isMeasure()})},allHasSummaries:function(){return!this.find(function(e){return!e.get("includeAll")})},toQueryMultiaxisAxisItems:function(){return this.multiAxisMap(function(e){return e.toQueryMultiaxisAxisItem()})}})});