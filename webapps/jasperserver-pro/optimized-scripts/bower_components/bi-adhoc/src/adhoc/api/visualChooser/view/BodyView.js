define(["require","exports","module","jquery","underscore","backbone","../visualizationTypesManager","text!../template/bodyTemplate.htm","bundle!AdHocBundle"],function(e,t,s){"use strict";var i=e("jquery"),a=e("underscore"),n=e("backbone"),l=e("../visualizationTypesManager"),r=e("text!../template/bodyTemplate.htm"),c=e("bundle!AdHocBundle");return n.View.extend({tagName:"ul",className:"jr-mVisualchooser-menu jr",template:a.template(r),events:{"click li.jr-mVisualchooser-menu-item":"_onClickItem"},initialize:function(e){this.i18n=c,this.on("change:groupSelected",a.bind(this._onTabChange,this))},render:function(){return this.$el.html(this.template({types:l.getAllTypes()})),this.$typeElements=this.$("li.jr-mVisualchooser-menu-item"),this},setSelectedType:function(e){this.$typeElements.filter(".jr-isSelected").removeClass("jr-isSelected"),this.$typeElements.filter("[data-chart-type="+e+"]").addClass("jr-isSelected")},setDisabledTypes:function(e){this.$typeElements.each(function(){var t=i(this);a.contains(e,t.data("chartType"))?t.addClass("jr-isDisabled"):t.removeClass("jr-isDisabled")})},_onClickItem:function(e){var t=this.$(e.currentTarget);t.hasClass("jr-isDisabled")||this.trigger("change:visualizationType",t.data("chartType"))},_onTabChange:function(e){if("all"===e)this.$typeElements.removeClass("jr-isHidden");else{var t=a.pluck(l.getAllTypesInGroup(e),"name");this.$typeElements.each(function(){var e=i(this);a.contains(t,e.data("chartType"))?e.removeClass("jr-isHidden"):e.addClass("jr-isHidden")})}}})});