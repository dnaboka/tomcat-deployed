define(["require","underscore","../components/RootComponentModel","../components/ChartComponentModel","../components/TableComponentModel","../components/CrosstabComponentModel","../components/FiltersComponentModel","../components/FilterComponentModel","../components/AxisComponentModel","../components/MeasuresComponentModel","../components/LevelComponentModel","../components/MeasureComponentModel","../components/ColumnComponentModel","../components/GroupComponentModel","../components/traits/LevelComponentTrait","../components/traits/ColumnsAndRowsComponentTrait","../components/ComponentsCollection"],function(o){var n=(o("underscore"),o("../components/RootComponentModel")),e=o("../components/ChartComponentModel"),t=o("../components/TableComponentModel"),m=o("../components/CrosstabComponentModel"),p=o("../components/FiltersComponentModel"),s=o("../components/FilterComponentModel"),l=o("../components/AxisComponentModel"),r=o("../components/MeasuresComponentModel"),c=o("../components/LevelComponentModel"),C=o("../components/MeasureComponentModel"),d=o("../components/ColumnComponentModel"),a=o("../components/GroupComponentModel"),M=o("../components/traits/LevelComponentTrait"),i=o("../components/traits/ColumnsAndRowsComponentTrait"),u=o("../components/ComponentsCollection"),x={root:n.extend(i),chart:e.extend(i),table:t,crosstab:m.extend(i),filters:p,filter:s,axis:l,measures:r,level:c.extend(M),measure:C.extend(M),column:d.extend(M),group:a.extend(M)};return function(o){var n={create:function(e,t){var m=x[e.componentType],p=new m(e,t);return p.components=new u(e.components,{model:function(o,e){return n.create(o,e)}}),p.adHocModel=o,p}};return n}});