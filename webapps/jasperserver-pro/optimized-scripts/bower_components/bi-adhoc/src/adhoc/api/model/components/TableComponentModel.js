define(["require","underscore","jquery","./BaseComponentModel"],function(e){"use strict";var t=e("underscore"),n=(e("jquery"),e("./BaseComponentModel"));return n.extend({defaults:{fixedGrandTotal:!1,fixedGroupTotal:!1,fixedHeader:!1,showDetails:!0,showTotals:!1},initialize:function(e,n){t.bindAll(this,"ensureArtificialColumn"),this.on("change:showDetails",this.ensureArtificialColumn),this.on("change:showTotals",this.ensureArtificialColumn)},getColumns:function(){return this.components.filter(function(e){return"column"===e.componentType})},getGroups:function(){return this.components.filter(function(e){return"group"===e.componentType})},ensureArtificialColumn:function(){this.components&&(this._artificialColumn||(this._artificialColumn=this.adHocModel.componentsFactory.create({componentType:"column"})),this.get("showDetails")&&this.get("showTotals")?this.components.models[0].get("reference")!==this._artificialColumn.get("reference")&&this.components.unshift(this._artificialColumn):this.components.models[0].get("reference")===this._artificialColumn.get("reference")&&this.components.shift())}})});