define(["require","exports","module","underscore","logger","common/model/BaseModel","../model/InputControlStateModel"],function(t,e,i){"use strict";var a=t("underscore"),s=t("logger").register(i),o=t("common/model/BaseModel"),n=t("../model/InputControlStateModel");return o.extend({defaults:{id:void 0,label:void 0,mandatory:!1,readOnly:!1,type:void 0,uri:void 0,visible:!1,masterDependencies:void 0,slaveDependencies:void 0,validationRules:void 0,state:void 0},initialize:function(){o.prototype.initialize.apply(this,arguments),this.state=new n(this.get("state")||{}),this.state.dataType=this.get("dataType"),this.state.validationRules=this.get("validationRules"),this.state.mandatory=this.get("mandatory"),this.on("change:state",a.bind(function(){this.state.clear({silent:!0}).set(this.get("state")||{})},this)),this.on("all",s.debug,s)},changeState:function(t){this.state.changeState(t),this.collection.trigger("changeState",this)},getData:function(){return this.state.getData()}})});